<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Python多进程全局设置NUMEXPR_MAX_THREADS</title>
    <url>/2021/06/23/NUMEXPR-MAX-THREADS/</url>
    <content><![CDATA[<p>升级Anaconda版本之后多进程的并行计算程序遇到一条新警告</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Note: NumExpr detected 20 cores but &quot;NUMEXPR_MAX_THREADS&quot; not set, so enforcing safe limit of 8.</span><br></pre></td></tr></table></figure>
<p>因为程序里面没有直接使用这个库，不知道是导入哪个库的依赖库，所以直接在主程序全局设置<code>NUMEXPR_MAX_THREADS</code>来控制多进程的程序在不同核心数CPU上面的线程数量</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import os</span><br><span class="line">os.environ[&#x27;NUMEXPR_MAX_THREADS&#x27;] = r&#x27;1&#x27;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Black-Scholes Model</title>
    <url>/2021/05/20/Black-Scholes-Model/</url>
    <content><![CDATA[<p>期权定价模型这个名称在我开始接触的时候带来了很大的疑惑，但在实际应用中BS-Model只是一种非线性的转换函数。期权的价格具有高杠杆、非线性和时间相关的特点，定价模型（场内期权）主要的应用范畴是将这些夸张的价格变化通过非线性扭曲的方式转换为一种变化相对缓慢的报价。</p>
<p>Black Scholes(Black73)
模型认为对冲期权的成本就是期权的合理价格，Merton进一步论证一个期权的到期收益可以通过持有一定数量的该期权标的资产和资金来复制。虽然持有的数量需要根据市场变化不断调整，但是中途没有现金流净流入和流出。因此期权今天的价格必须等于复制组合今天的价值，否则就会出现套利机会。</p>
<span id="more"></span>
<p>Black73模型的最常见的推导方式，即假设时间<span
class="math inline">\(t\)</span>组合<span
class="math inline">\(\Pi\)</span>由一张价格<span
class="math inline">\(V\)</span>的看涨期权多头和<span
class="math inline">\(\partial V/\partial S\)</span>的股票空头组成 <span
class="math display">\[
\Pi = V - S\times \frac{\partial V}{\partial S}
\]</span> 在一小段时间后 <span class="math inline">\(\mathrm{d}
t\)</span>之后，期权的损益为（根据伊藤引理）：</p>
<p><span class="math display">\[
\mathrm{d} V = (\frac{\partial V}{\partial t} + \mu S
\frac{\partial  V}{\partial  S}+ \frac{1}{2}\sigma^2 S^2\frac{\partial^2
V}{\partial  S^2})\mathrm{d}t + \sigma S
\frac{\partial  V}{\partial  S}\mathrm{d}W_t
\]</span> 对维纳过程进行符号含义改写 <span class="math display">\[
\mathrm{d} V = \frac{\partial  V}{\partial  t}\mathrm{d}t
+  \frac{\partial  V}{\partial  S} \mathrm{d}S+
\frac{1}{2}\sigma^2S^2\frac{\partial^2 V}{\partial  S^2}\mathrm{d}t
\]</span> 股票的损益为 <span class="math display">\[
\frac{\partial  V}{\partial  S} \mathrm{d}S
\]</span> 构建组合<span
class="math inline">\(\Pi\)</span>产生现金流的利息为 <span
class="math display">\[
r\Pi \mathrm{d}t = r (V - S\times \frac{\partial  V}{\partial  S})
\mathrm{d}t
\]</span> 根据无套利理论假设等式成立 <span class="math display">\[
\mathrm {d}\Pi = r\Pi \mathrm{d}t \\
\mathrm{d} V  + \frac{\partial  V}{\partial  S} \mathrm{d}S = r (V -
S\times \frac{\partial  V}{\partial  S}) \mathrm{d}t
\]</span> 合并同类项之后得到Black Scholes方程 <span
class="math display">\[
\frac{\partial  V}{\partial  t} +rS\frac{\partial  V}{\partial  S} +
\frac{1}{2}\sigma^2S^2\frac{\partial^2{V}}{\partial{S^2}} = rV
\]</span> 方程的闭式解即为经典的Black73模型 <span
class="math display">\[\begin{equation}
\begin{aligned}
c &amp;= SN(d_1) - Xe^{-rT}N(d_2)\\
p &amp;= Xe^{-rT}N(-d_2) - SN(-d_2)\\
d_1 &amp;= \frac{\ln(S/X) + (r+\sigma^2/2)T}{\sigma\sqrt{T}}\\
d_2 &amp;= d_1 - \sigma\sqrt{T}
\end{aligned}
\end{equation}\]</span></p>
<p>有了这种转换方式期权的价格就可以使用函数表示为<span
class="math inline">\(V = f(S, X, T, r,
\sigma)\)</span>。由于对场内期权的BS模型参数<span
class="math inline">\(S, X, T,
r\)</span>很容易观察到，则可以通过逆向使用BS函数结合市场报价计算一个刚好符合市场价格的波动率参数<span
class="math inline">\(\sigma_i\)</span>，这样期权的报价就从价格转换为波动率报价来。通过市场价格逆用模型得到的波动率被称为隐含波动率(Implied
Volatility)。</p>
<p>BS-Model计算的时候使用了泰勒展开进行近似，理论上计算所得数值为近似值，不过实践中相比于其它因素的影响这些近似偏差无足轻重。事实上，“理论定价”与实际应用是完全脱节的，实际交易中，期权的价格由市场决定，BS模型告诉了我们价格对应的波动率是多少，简而言之，BS
Model只是用来计算implied volatility的报价工具。</p>
]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>Math</tag>
        <tag>Pricing-Model</tag>
      </tags>
  </entry>
  <entry>
    <title>腾落线</title>
    <url>/2021/12/23/adline/</url>
    <content><![CDATA[<p>The advance–decline line is a plot of the cumulative sum of the daily
difference between the number of issues advancing, i.e., above the
previous day's closing price, and the number of issues declining in a
particular stock market index. Thus it moves up when the index contains
more advancing than declining issues, and moves down when there are more
declining than advancing issues. The formula for ADL is: <span
class="math display">\[
{\rm \displaystyle ADline=today&#39;s\ advancing\ stocks-today&#39;s\
declining\ stocks+yesterday&#39;s\ AD\ line\ value}
\]</span></p>
<p>The Advance/Decline Line formula could be applied to volume of the
advancing and declining stocks. <span class="math display">\[
{\rm \displaystyle AD\ volume\ line=Advanced\ Volume-Declined\
Volume+yesterday&#39;s\ AD\ volume\ line}
\]</span> The ADL is one of the oldest indicators based on the
Advance-Decline Data and it was the most popular of all internal
indicators.</p>
<p>如下图，沪深300指数日线计算的腾落线，指标显示在2020-07单日暴涨之后，指数的普涨行情就结束了，进入选股的行情了，“权重股保持指数的虚假点位”。
<img src="adline.png" width="100%" height="100%" title="adline" alt="adline"/></p>
<p>JoinQuant Notebook</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 设置cell宽度</span></span><br><span class="line"><span class="keyword">from</span> IPython.core.display <span class="keyword">import</span> display, HTML</span><br><span class="line">display(HTML(<span class="string">&quot;&lt;style&gt;.container &#123; width:100% !important; &#125;&lt;/style&gt;&quot;</span>))</span><br><span class="line"><span class="keyword">from</span> warnings <span class="keyword">import</span> filterwarnings</span><br><span class="line">filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> maximum, minimum</span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> DataFrame</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot</span><br><span class="line"><span class="keyword">from</span> matplotlib.pylab <span class="keyword">import</span> date2num</span><br><span class="line"><span class="keyword">import</span> matplotlib.ticker <span class="keyword">as</span> ticker</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.rcParams[<span class="string">&quot;font.sans-serif&quot;</span>]=[<span class="string">&quot;SimHei&quot;</span>] <span class="comment">#设置字体</span></span><br><span class="line">plt.rcParams[<span class="string">&quot;axes.unicode_minus&quot;</span>]=<span class="literal">False</span> <span class="comment">#该语句解决图像中的“-”负号的乱码问题</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_adline</span>(<span class="params">index_symbol = <span class="string">&quot;000300.XSHG&quot;</span>, start_date=<span class="string">&quot;2021-01-01&quot;</span>, end_date=<span class="string">&quot;2021-12-22&quot;</span></span>):</span></span><br><span class="line">    cal_dates = get_price(index_symbol, start_date=start_date, end_date=end_date).dropna().index.tolist()</span><br><span class="line">    cal_dates = [i.strftime(<span class="string">&quot;%Y-%m-%d&quot;</span>) <span class="keyword">for</span> i <span class="keyword">in</span> cal_dates]</span><br><span class="line">    cal_dates.sort()</span><br><span class="line"></span><br><span class="line">    ad_df = []</span><br><span class="line">    <span class="keyword">for</span> date <span class="keyword">in</span> tqdm(cal_dates):</span><br><span class="line">        universe = get_index_stocks(index_symbol, date=date)</span><br><span class="line"></span><br><span class="line">        data = get_price(security=universe, end_date=date, count=<span class="number">2</span>, fields=<span class="string">&quot;close&quot;</span>, panel=<span class="literal">False</span>)</span><br><span class="line">        data = data.sort_values(<span class="string">&quot;time&quot;</span>)</span><br><span class="line">        size = <span class="built_in">int</span>(data.shape[<span class="number">0</span>]/<span class="number">2</span>)</span><br><span class="line">        pre_data = data.iloc[:size]</span><br><span class="line">        data = data.iloc[size:]</span><br><span class="line"></span><br><span class="line">        data = data.set_index(<span class="string">&quot;code&quot;</span>)[<span class="string">&quot;close&quot;</span>]</span><br><span class="line">        pre_data = pre_data.set_index(<span class="string">&quot;code&quot;</span>)[<span class="string">&quot;close&quot;</span>]</span><br><span class="line">        diff = data - pre_data</span><br><span class="line">        a = sign(maximum(diff, <span class="number">0</span>)).<span class="built_in">sum</span>()</span><br><span class="line">        d = sign(minimum(diff, <span class="number">0</span>)).<span class="built_in">sum</span>()</span><br><span class="line">        ad_df.append([date, a, d, a+d])</span><br><span class="line"></span><br><span class="line">    ad_df = DataFrame(ad_df)</span><br><span class="line">    ad_df.columns = [<span class="string">&quot;date&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;diff&quot;</span>]</span><br><span class="line">    ad_df[<span class="string">&quot;ad_line&quot;</span>] = ad_df[<span class="string">&quot;diff&quot;</span>].cumsum()</span><br><span class="line"></span><br><span class="line">    ad_df = ad_df.set_index(<span class="string">&quot;date&quot;</span>)</span><br><span class="line">    index_price = get_price(index_symbol, start_date=cal_dates[<span class="number">0</span>], end_date=cal_dates[-<span class="number">1</span>])[<span class="string">&quot;close&quot;</span>]</span><br><span class="line">    index_price.index = index_price.index.strftime(<span class="string">&quot;%Y-%m-%d&quot;</span>)</span><br><span class="line">    ad_df[<span class="string">&quot;index&quot;</span>] = index_price</span><br><span class="line"></span><br><span class="line">    fig = pyplot.figure(figsize=(<span class="number">30</span>, <span class="number">6</span>))</span><br><span class="line">    ax = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">    ad_df[<span class="string">&quot;index&quot;</span>].reset_index(drop=<span class="literal">True</span>).plot(ax=ax)</span><br><span class="line">    ax = ax.twinx()</span><br><span class="line">    ad_df[<span class="string">&quot;ad_line&quot;</span>].reset_index(drop=<span class="literal">True</span>).plot(ax=ax, color=<span class="string">&quot;r&quot;</span>, linestyle=<span class="string">&quot;-&quot;</span>)</span><br><span class="line"></span><br><span class="line">    ax.xaxis.set_major_locator(ticker.MultipleLocator(<span class="number">120</span>))</span><br><span class="line">    date_tickers = ad_df.index.tolist()</span><br><span class="line">    ax.xaxis.set_major_formatter(ticker.FuncFormatter(<span class="keyword">lambda</span> x, y: <span class="string">&quot;&quot;</span> <span class="keyword">if</span> (x&lt;<span class="number">0</span> <span class="keyword">or</span> x&gt;<span class="built_in">len</span>(date_tickers)-<span class="number">1</span>) <span class="keyword">else</span> date_tickers[<span class="built_in">int</span>(x)]))</span><br><span class="line">    pyplot.xlim(<span class="number">0</span>, ad_df.shape[<span class="number">0</span>])</span><br><span class="line">    pyplot.title(<span class="string">&quot;Index Symbol: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(index_symbol))</span><br><span class="line">    pyplot.grid()    </span><br><span class="line">    <span class="keyword">return</span> ad_df</span><br><span class="line">  </span><br><span class="line">data = plot_adline(<span class="string">&quot;000300.XSHG&quot;</span>, <span class="string">&quot;2013-01-01&quot;</span>, <span class="string">&quot;2021-12-23&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://mp.weixin.qq.com/s/4OKkyiG0f0Nhqc4k26Snzg">Babe In
Arms - 温室花朵 - 否决基建投资意味着什么？</a></li>
<li><a
href="https://www.investopedia.com/terms/a/advancedeclineline.asp">Advance/Decline
Line - A/D Definition and Uses</a></li>
</ul>
]]></content>
      <categories>
        <category>TA</category>
      </categories>
      <tags>
        <tag>ADLine</tag>
      </tags>
  </entry>
  <entry>
    <title>American Closed Form Solution</title>
    <url>/2021/05/28/am_option/</url>
    <content><![CDATA[<p>美式期权在到期前任何一个交易日均可行权这增加了其定价复杂度，二叉树模型虽然是经典的数值解方案，但在实际工业应用中不实用。如下图，二叉树的收敛速度很慢。</p>
<p><img src="fig0.png" width="100%" height="100%" title="二叉树步长收敛测试" alt="二叉树步长收敛测试"/></p>
<p>美式期权不存在公认的经典闭式解，Barone-Adesi 和 Whaley (1987)、Ju 和
Zhong (1999) 以及 Bjerksund 和 Stensland (1993) (2002)
开发了相当准确的近似闭式解，如下图。</p>
<p><img src="fig1.png" width="100%" height="100%" title="不同算法效果对比图" alt="不同算法效果对比图"/></p>
<hr />
<ul>
<li><a
href="https://sites.google.com/view/vinegarhill-financelabs/analytical-american-options#h.p__Ksvi6_Mw3Ah">American
Option Pricing</a></li>
<li><a
href="https://github.com/dybeta2021/dyblog/tree/main/American%20Closed%20Form%20Solution">代码实现</a></li>
</ul>
]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>Math</tag>
        <tag>Pricing-Model</tag>
      </tags>
  </entry>
  <entry>
    <title>自相关性</title>
    <url>/2022/08/29/autocorrelation/</url>
    <content><![CDATA[<p>在分析时间序列时，通常需要计算一个序列的自相关系数。自相关(<a
href="http://en.wikipedia.org/wiki/Autocorrelation">Autocorrelation</a>)又叫做序列相关，通常采用自相关系数来发现序列的重复规律，周期等信息。</p>
<p>我们有序列<span
class="math inline">\(X:x_1,x_2,x_3,...,x_n\)</span>，设<span
class="math inline">\(X_{s,t}\)</span>为<span
class="math inline">\(s\)</span>时刻开始，<span
class="math inline">\(t\)</span>时刻结束的序列：<span
class="math inline">\(x_s,x_{s+1}...,x_{t-1},x_t\)</span>。<span
class="math inline">\(\mu_{s,t}\)</span>为序列<span
class="math inline">\(X_{s,t}\)</span>的均值，<span
class="math inline">\(\sigma_{s,t}\)</span>为序列<span
class="math inline">\(X_{s,t}\)</span>的标准差。那么一阶自相关系数为：</p>
<p><span class="math display">\[R(1) =
\frac{E(X_{2,n}-\mu_{2,n})(X_{1,n-1}-\mu_{1,n-1})}{\sigma_{2,n}\sigma_{1,n-1}}\]</span></p>
<p>同理<span class="math inline">\(k\)</span>阶自相关系数为：</p>
<div>
<p><span class="math display">\[R(k) =
\frac{E(X_{k+1,n}-\mu_{k+1,n})(X_{1,n-k}-\mu_{1,n-k})}{\sigma_{k+1,n}\sigma_{1,n-k}}\]</span></p>
</div>
<p>python的numpy库里没有直接计算序列自相关系数的函数，但有计算两个不同序列的相关系数函数：
<a
href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.correlate.html">correlate</a>。给定两个序列<span
class="math inline">\(X,Y\)</span>，correlation(X,Y) = <span
class="math inline">\(\sum XY\)</span>。可以利用correlate函数计算<span
class="math inline">\(X\)</span>的自相关性：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">autocorrelation</span>(<span class="params">x,lags</span>):</span><span class="comment">#计算lags阶以内的自相关系数，返回lags个值，分别计算序列均值，标准差</span></span><br><span class="line">	n = <span class="built_in">len</span>(x)</span><br><span class="line">	x = numpy.array(x)</span><br><span class="line">	result = [numpy.correlate(x[i:]-x[i:].mean(),x[:n-i]-x[:n-i].mean())[<span class="number">0</span>]\</span><br><span class="line">		/(x[i:].std()*x[:n-i].std()*(n-i)) \</span><br><span class="line">		<span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,lags+<span class="number">1</span>)]</span><br><span class="line">	<span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<p>通常在实际中，很多时间序列的均值和标准受时间变化的影响较小，可以看作是恒定的，此时：</p>
<div>
<p><span class="math display">\[R(k) =
\frac{E(X_{k+1,n}-\mu)(X_{1,n-k}-\mu)}{\sigma^2}\]</span></p>
</div>
<p>同样可以利用correlate函数实现：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">autocorrelation</span>(<span class="params">x,lags</span>):</span><span class="comment">#计算lags阶以内的自相关系数，返回lags个值，将序列均值、标准差视为不变</span></span><br><span class="line">	n = <span class="built_in">len</span>(x)</span><br><span class="line">	x = numpy.array(x)</span><br><span class="line">	variance = x.var()</span><br><span class="line">	x = x-x.mean()</span><br><span class="line">	result = numpy.correlate(x, x, mode = <span class="string">&#x27;full&#x27;</span>)[-n+<span class="number">1</span>:-n+lags+<span class="number">1</span>]/\</span><br><span class="line">		(variance*(numpy.arange(n-<span class="number">1</span>,n-<span class="number">1</span>-lags,-<span class="number">1</span>)))</span><br><span class="line">	<span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<ul>
<li>http://stackoverflow.com/questions/643699/how-can-i-use-numpy-correlate-to-do-autocorrelation</li>
</ul>
]]></content>
      <categories>
        <category>Math</category>
      </categories>
      <tags>
        <tag>MultiFactor</tag>
        <tag>LinearRegression</tag>
      </tags>
  </entry>
  <entry>
    <title>Homebrew</title>
    <url>/2022/09/23/brew/</url>
    <content><![CDATA[<ul>
<li><p><a
href="https://zhuanlan.zhihu.com/p/111014448">Homebrew国内如何自动安装（国内地址）</a></p></li>
<li><p><a href="https://zhuanlan.zhihu.com/p/115450863">Failed to
connect to raw.githubusercontent.com:443</a></p></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global --add safe.directory /usr/local/Homebrew/Library/Taps/homebrew/homebrew-cask</span><br><span class="line">git config --global --add safe.directory /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core</span><br><span class="line">git config --global --add safe.directory /usr/local/Homebrew/Library/Taps/homebrew/homebrew-services</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Homebrew</category>
      </categories>
      <tags>
        <tag>Homebrew</tag>
      </tags>
  </entry>
  <entry>
    <title>Cache 和 Buffer 都是缓存，主要区别是什么？</title>
    <url>/2021/06/09/cache/</url>
    <content><![CDATA[<p>Cache 是把最常用的工具放在手边，Buffer
是你家的垃圾桶，你平时的垃圾先扔在垃圾桶里，等垃圾桶满了再扔垃圾。</p>
<p>Cache
的存在原因是对资源调用的空间局部性，你现在在看一本数学书，那么极有可能你一会儿还要再去图书馆的数学书架上找同类型的书，所以你在图书馆找了一个离数学区很近的位置坐下，你微信和一些人聊天，聊的最多的那个往往在微信消息列表靠顶部的位置，因为聊的最多，很有可能你一会还要和她聊，你上午访问知乎，很有可能最近几天你都要访问，所以浏览器就把知乎网站的静态资源先缓存下来，下次访问无需再次下载，这是
Cache。</p>
<p>Buffer
的存在原因是生产者和消费者对资源的生产/效率速率不一致。比如你看视频，视频控件会先预加载几秒的视频资源到缓冲区，看视频的你是资源消费者，你消费视频的速率就是视频资源按照其时间速率正常播放，但是你下载视频的速率可能时快时慢。如果刚开始先预加载几秒资源缓冲区，就算有一两秒网络拥塞了，视频还能顺畅播放，如果网速给力，则会有更多的资源被下载进来，这时资源会越积越多，这时可能缓冲区满了，就暂时停止加载，等你的资源消费的缓冲区空出一部分了，再继续开始加载，这样虽然视频的下载速度是波动的，但是你看的视频是稳定等速率播放的。当你有资源要写入硬盘时，硬盘的最小写入大小往往是一个
block，一般是
4KB，但是你准备写入数据的时候，有可能是一大堆字符，所以这时，你要把数据写到内存里，就要先准备好
4KB 的数据，然后写 4KB，再准备 4KB 数据，而不是每次准备好了一个 byte
的数据，就要写到磁盘里，这时，你是生产者，磁盘是消费者，磁盘是每次 4KB
的速率消费数据，而你生产数据是字节流方式生产，这时就需要一个缓冲区，暂时存放那些还没攒够
4KB 的数据。网络连接过程中，内核中保持的 TCP
连接，因为网速和对面生产者的原因，可能会有大量数据写入 TCP
的缓冲区，一方面因为数据可能seq对不上，需要等待，另一方面是因为对应该
socket 的应用程序并不一定能及时地把这些数据取走（消费）。</p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++ Cache</tag>
      </tags>
  </entry>
  <entry>
    <title>ClickHouse同步数据</title>
    <url>/2022/09/23/clickhouse-copy/</url>
    <content><![CDATA[<p>记一次 ClickHouse 数据迁移, https://zhuanlan.zhihu.com/p/220172155
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Project  : tset </span></span><br><span class="line"><span class="comment"># @File     : task.py </span></span><br><span class="line"><span class="comment"># @Author   : Gavin</span></span><br><span class="line"><span class="comment"># @Time     : 2022/9/23 8:15</span></span><br><span class="line"><span class="comment"># @Desc     : clickhouse数据同步脚本</span></span><br><span class="line"><span class="comment"># @Url      : https://zhuanlan.zhihu.com/p/220172155</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> functools</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> clickhouse_driver <span class="keyword">import</span> Client</span><br><span class="line"><span class="keyword">from</span> logger <span class="keyword">import</span> init_logger</span><br><span class="line"></span><br><span class="line"><span class="comment"># todo:修改ip地址</span></span><br><span class="line">source_conn = Client(host=<span class="string">&#x27;&#x27;</span>, port=<span class="string">&#x27;9000&#x27;</span>, user=<span class="string">&#x27;default&#x27;</span>, password=<span class="string">&#x27;default&#x27;</span>)</span><br><span class="line">target_conn = Client(host=<span class="string">&#x27;&#x27;</span>, port=<span class="string">&#x27;9000&#x27;</span>, user=<span class="string">&#x27;default&#x27;</span>, password=<span class="string">&#x27;default&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">format_partition_expr</span>(<span class="params">p</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(p, <span class="built_in">int</span>):</span><br><span class="line">        <span class="keyword">return</span> p</span><br><span class="line">    <span class="keyword">return</span> <span class="string">f&quot;&#x27;<span class="subst">&#123;p&#125;</span>&#x27;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">execute_queries</span>(<span class="params">conn, queries</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(queries, <span class="built_in">str</span>):</span><br><span class="line">        queries = queries.split(<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> q <span class="keyword">in</span> queries:</span><br><span class="line">        conn.execute(q.strip())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Table</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, database, name, ddl, partition_key, is_view</span>):</span></span><br><span class="line">        self.database = database</span><br><span class="line">        self.name = name</span><br><span class="line">        self.ddl = ddl.replace(<span class="string">&#x27;CREATE TABLE&#x27;</span>, <span class="string">&#x27;CREATE TABLE IF NOT EXISTS&#x27;</span>)</span><br><span class="line">        self.partition_key = partition_key</span><br><span class="line">        self.is_view = is_view</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">exists</span>(<span class="params">self, conn</span>):</span></span><br><span class="line">        q = <span class="string">f&quot;SELECT name FROM system.tables WHERE database = &#x27;<span class="subst">&#123;self.database&#125;</span>&#x27; AND name = &#x27;<span class="subst">&#123;self.name&#125;</span>&#x27;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(conn.execute(q)) &gt; <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_partitions</span>(<span class="params">self, conn</span>):</span></span><br><span class="line">        partitions = []</span><br><span class="line">        q = <span class="string">f&#x27;SELECT <span class="subst">&#123;self.partition_key&#125;</span>, count() FROM <span class="subst">&#123;self.identity&#125;</span> GROUP BY <span class="subst">&#123;self.partition_key&#125;</span> ORDER BY <span class="subst">&#123;self.partition_key&#125;</span>&#x27;</span></span><br><span class="line">        partitions = collections.OrderedDict(conn.execute(q))</span><br><span class="line">        <span class="keyword">return</span> partitions</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_total_count</span>(<span class="params">self, conn</span>):</span></span><br><span class="line">        q = <span class="string">f&#x27;SELECT COUNT() FROM <span class="subst">&#123;self.identity&#125;</span>&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> conn.execute(q)[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">check_consistency</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.exists(target_conn):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span>, <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">        source_ttl_count = self.get_total_count(source_conn)</span><br><span class="line">        target_ttl_count = self.get_total_count(target_conn)</span><br><span class="line">        <span class="keyword">if</span> source_ttl_count == target_ttl_count:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span>, <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.partition_key:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span>, <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">        source_partitions = self.get_partitions(source_conn)</span><br><span class="line">        target_partitions = self.get_partitions(target_conn)</span><br><span class="line">        bug_partitions = []</span><br><span class="line">        <span class="keyword">for</span> p, c <span class="keyword">in</span> source_partitions.items():</span><br><span class="line">            <span class="keyword">if</span> p <span class="keyword">not</span> <span class="keyword">in</span> target_partitions <span class="keyword">or</span> c != target_partitions[p]:</span><br><span class="line">                bug_partitions.append(p)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span>, bug_partitions</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create</span>(<span class="params">self, replace=<span class="literal">False</span></span>):</span></span><br><span class="line">        <span class="built_in">print</span>(self.database)</span><br><span class="line">        target_conn.execute(<span class="string">f&#x27;CREATE DATABASE IF NOT EXISTS <span class="subst">&#123;self.database&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> self.is_view:</span><br><span class="line">            replace = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> replace:</span><br><span class="line">            target_conn.execute(<span class="string">f&#x27;DROP TABLE IF EXISTS <span class="subst">&#123;self.identity&#125;</span>&#x27;</span>)</span><br><span class="line">        target_conn.execute(self.ddl)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">copy_data_from_remote</span>(<span class="params">self, by_partition=<span class="literal">True</span></span>):</span></span><br><span class="line">        self.create()</span><br><span class="line">        <span class="keyword">if</span> self.is_view:</span><br><span class="line">            logging.info(<span class="string">&#x27;ignore view %s&#x27;</span>, self.identity)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        is_identical, bug_partitions = self.check_consistency()</span><br><span class="line">        <span class="keyword">if</span> is_identical:</span><br><span class="line">            logging.info(<span class="string">&#x27;table %s has the same number of rows, skip&#x27;</span>, self.identity)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.partition_key <span class="keyword">and</span> by_partition:</span><br><span class="line">            <span class="keyword">for</span> p <span class="keyword">in</span> bug_partitions:</span><br><span class="line">                logging.info(<span class="string">&#x27;copy partition %s=%s&#x27;</span>, self.partition_key, p)</span><br><span class="line">                self._copy_partition_from_remote(p)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self._copy_table_from_remote()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_copy_table_from_remote</span>(<span class="params">self</span>):</span></span><br><span class="line">        queries = <span class="string">f&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        DROP TABLE <span class="subst">&#123;self.identity&#125;</span>;</span></span><br><span class="line"><span class="string">        <span class="subst">&#123;self.ddl&#125;</span>;</span></span><br><span class="line"><span class="string">        INSERT INTO <span class="subst">&#123;self.identity&#125;</span></span></span><br><span class="line"><span class="string">        SELECT * FROM remote(&#x27;<span class="subst">&#123;source_conn.connection.host&#125;</span>&#x27;, <span class="subst">&#123;self.identity&#125;</span>, &#x27;<span class="subst">&#123;source_conn.connection.user&#125;</span>&#x27;, &#x27;<span class="subst">&#123;source_conn.connection.password&#125;</span>&#x27;)</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        execute_queries(target_conn, queries)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_copy_partition_from_remote</span>(<span class="params">self, partition</span>):</span></span><br><span class="line">        partition = format_partition_expr(partition)</span><br><span class="line">        queries = <span class="string">f&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        ALTER TABLE <span class="subst">&#123;self.identity&#125;</span> DROP PARTITION <span class="subst">&#123;partition&#125;</span>;</span></span><br><span class="line"><span class="string">        INSERT INTO <span class="subst">&#123;self.identity&#125;</span></span></span><br><span class="line"><span class="string">        SELECT * FROM remote(&#x27;<span class="subst">&#123;source_conn.host&#125;</span>&#x27;, <span class="subst">&#123;self.identity&#125;</span>, &#x27;<span class="subst">&#123;source_conn.user&#125;</span>&#x27;, &#x27;<span class="subst">&#123;source_conn.password&#125;</span>&#x27;)</span></span><br><span class="line"><span class="string">        WHERE <span class="subst">&#123;self.partition_key&#125;</span> = <span class="subst">&#123;partition&#125;</span></span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        execute_queries(target_conn, queries)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">identity</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;<span class="subst">&#123;self.database&#125;</span>.<span class="subst">&#123;self.name&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.identity</span><br><span class="line"></span><br><span class="line">    __repr__ = __str__</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_all_tables</span>() -&gt; [Table]:</span></span><br><span class="line">    <span class="comment"># 查询出所有用户的数据库和表，包括视图。视图依赖其他表，所以放到最后。</span></span><br><span class="line">    q = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    SELECT database, name, create_table_query, partition_key, engine = &#x27;View&#x27; AS is_view</span></span><br><span class="line"><span class="string">    FROM system.tables</span></span><br><span class="line"><span class="string">    WHERE database NOT IN (&#x27;system&#x27;)</span></span><br><span class="line"><span class="string">    ORDER BY if(engine = &#x27;View&#x27;, 999, 0), database, name</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    rows = source_conn.execute(q)</span><br><span class="line">    tables = [Table(*values) <span class="keyword">for</span> values <span class="keyword">in</span> rows]</span><br><span class="line">    <span class="keyword">return</span> tables</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">copy_remote_tables</span>(<span class="params">tables</span>):</span></span><br><span class="line">    <span class="keyword">for</span> idx, t <span class="keyword">in</span> <span class="built_in">enumerate</span>(tables):</span><br><span class="line">        start_time = datetime.datetime.now()</span><br><span class="line">        logging.info(<span class="string">&#x27;&gt;&gt;&gt;&gt; start to migrate table %s, progress %s/%s&#x27;</span>, t.identity, idx + <span class="number">1</span>, <span class="built_in">len</span>(tables))</span><br><span class="line">        t.copy_data_from_remote()</span><br><span class="line">        logging.info(<span class="string">&#x27;&lt;&lt;&lt;&lt; migrated table %s in %s&#x27;</span>, t.identity, datetime.datetime.now() - start_time)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">with_retry</span>(<span class="params">max_attempts=<span class="number">5</span>, backoff=<span class="number">120</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decorator</span>(<span class="params">f</span>):</span></span><br><span class="line"><span class="meta">        @functools.wraps(<span class="params">f</span>)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">            attempts = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                attempts += <span class="number">1</span></span><br><span class="line">                logging.info(<span class="string">&#x27;start attempt #%s&#x27;</span>, attempts)</span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    f(*args, **kwargs)</span><br><span class="line">                <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                    <span class="keyword">if</span> attempts &gt;= max_attempts:</span><br><span class="line">                        <span class="keyword">raise</span> e</span><br><span class="line">                    logging.exception(<span class="string">&#x27;caught exception&#x27;</span>)</span><br><span class="line">                    time.sleep(backoff)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> decorator</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@with_retry(<span class="params">max_attempts=<span class="number">10</span>, backoff=<span class="number">60</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">copy_tick_data</span>():</span></span><br><span class="line">    tables = get_all_tables()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 商品期权tick数据，不同步buffer缓存内存数据表</span></span><br><span class="line">    ctp_tick_commodity_option_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> tables <span class="keyword">if</span> <span class="string">&quot;ctp_tick_commodity_option_&quot;</span> <span class="keyword">in</span> i.name]</span><br><span class="line">    ctp_tick_commodity_option_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> ctp_tick_commodity_option_list <span class="keyword">if</span></span><br><span class="line">                                      <span class="string">&quot;buffer_ctp_tick_commodity_option_&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> i.name]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 商品期货tick数据，不同步buffer缓存内存数据表</span></span><br><span class="line">    ctp_tick_commodity_future_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> tables <span class="keyword">if</span> <span class="string">&quot;ctp_tick_commodity_future_&quot;</span> <span class="keyword">in</span> i.name]</span><br><span class="line">    ctp_tick_commodity_future_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> ctp_tick_commodity_future_list <span class="keyword">if</span></span><br><span class="line">                                      <span class="string">&quot;buffer_ctp_tick_commodity_future_&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> i.name]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ctp_tick_etf_option_这些数据是最早在mongodb收录的tick数据</span></span><br><span class="line">    ctp_tick_etf_option_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> tables <span class="keyword">if</span> <span class="string">&quot;ctp_tick_etf_option_&quot;</span> <span class="keyword">in</span> i.name]</span><br><span class="line">    ctp_tick_etf_option_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> ctp_tick_etf_option_list <span class="keyword">if</span></span><br><span class="line">                                <span class="string">&quot;buffer&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> i.name]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ctp_tick_stock_etf_option 上交所 深交所 股票ETF期权tick数据</span></span><br><span class="line">    ctp_tick_stock_etf_option_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> tables <span class="keyword">if</span> <span class="string">&quot;ctp_tick_stock_etf_option_&quot;</span> <span class="keyword">in</span> i.name]</span><br><span class="line">    ctp_tick_stock_etf_option_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> ctp_tick_stock_etf_option_list <span class="keyword">if</span></span><br><span class="line">                                      <span class="string">&quot;buffer&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> i.name]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 中金所tick数据， 中金所股指期货数据单独的收录，不与上期所等商品交易所商品品种合并</span></span><br><span class="line">    ctp_tick_cffex_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> tables <span class="keyword">if</span> <span class="string">&quot;ctp_tick_cffex_day_&quot;</span> <span class="keyword">in</span> i.name]</span><br><span class="line">    ctp_tick_cffex_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> ctp_tick_cffex_list <span class="keyword">if</span> <span class="string">&quot;buffer&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> i.name]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 上交所、深交所股票期权level1数据</span></span><br><span class="line">    ctp_stock_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> tables <span class="keyword">if</span> <span class="string">&quot;tick_stock_&quot;</span> <span class="keyword">in</span> i.name]</span><br><span class="line">    ctp_stock_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> ctp_stock_list <span class="keyword">if</span> <span class="string">&quot;buffer&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> i.name]</span><br><span class="line"></span><br><span class="line">    tick_list = ctp_tick_commodity_option_list + ctp_tick_commodity_future_list + ctp_tick_etf_option_list + ctp_tick_stock_etf_option_list + ctp_tick_cffex_list + ctp_stock_list</span><br><span class="line">    tick_list = <span class="built_in">list</span>(<span class="built_in">set</span>(tick_list))</span><br><span class="line">    tick_list.sort()</span><br><span class="line">    <span class="keyword">del</span> tables</span><br><span class="line"></span><br><span class="line">    logging.info(<span class="string">&#x27;got %d tables: %s&#x27;</span>, <span class="built_in">len</span>(tick_list), tick_list)</span><br><span class="line"></span><br><span class="line">    copy_remote_tables(tick_list)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    init_logger(<span class="string">&quot;clickhouse_copy.log&quot;</span>)</span><br><span class="line">    logging.info(<span class="string">&quot;run copy task&quot;</span>)</span><br><span class="line">    copy_tick_data()</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>database</category>
      </categories>
      <tags>
        <tag>database</tag>
        <tag>clickhouse</tag>
      </tags>
  </entry>
  <entry>
    <title>ClickHouse使用备忘录</title>
    <url>/2021/12/15/clickhouse/</url>
    <content><![CDATA[<h1 id="sql">SQL</h1>
<h2 id="创建表">创建表</h2>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> min_data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> min_data.min_commodity</span><br><span class="line">(</span><br><span class="line">    Symbol            String,</span><br><span class="line">    TradingDate       <span class="type">Date</span>,</span><br><span class="line">    TradingTime       DateTime64(<span class="number">6</span>),</span><br><span class="line">    LastPrice         Float64,</span><br><span class="line">    TradeVolume       Int64,</span><br><span class="line">    TotalVolume       Int64,</span><br><span class="line">    LastVolume        Int64,</span><br><span class="line">    PreTotalPosition  Int64,</span><br><span class="line">    TotalPosition     Int64,</span><br><span class="line">    PrePositionChange Int64,</span><br><span class="line">    TotalAmount       Int64,</span><br><span class="line">    PriceUpLimit      Float64,</span><br><span class="line">    PriceDownLimit    Float64,</span><br><span class="line">    PreClosePrice     Float64,</span><br><span class="line">    OpenPrice         Float64,</span><br><span class="line">    ClosePrice        Float64,</span><br><span class="line">    SettlePrice       Float64,</span><br><span class="line">    SellPrice01       Float64,</span><br><span class="line">    BuyPrice01        Float64,</span><br><span class="line">    SellVolume01      Int64,</span><br><span class="line">    BuyVolume01       Int64,</span><br><span class="line">    MidPrice          Float64,</span><br><span class="line">    local_time        DateTime64(<span class="number">6</span>),</span><br><span class="line">    cross_time        DateTime</span><br><span class="line"></span><br><span class="line">) ENGINE <span class="operator">=</span> MergeTree <span class="keyword">ORDER</span> <span class="keyword">BY</span> (Symbol, cross_time);</span><br></pre></td></tr></table></figure>
<h2 id="数据去重">数据去重</h2>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 获取库下表名称列表</span></span><br><span class="line"><span class="keyword">SELECT</span> name</span><br><span class="line"><span class="keyword">FROM</span> system.tables</span><br><span class="line"><span class="keyword">WHERE</span> database <span class="operator">=</span> <span class="string">&#x27;tick_option&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 获取表内重复项</span></span><br><span class="line"><span class="keyword">SELECT</span> local_time, TradingTime, Symbol, <span class="built_in">count</span>() <span class="keyword">AS</span> count</span><br><span class="line"><span class="keyword">FROM</span> tick_future.tick_commodity_202101</span><br><span class="line"><span class="keyword">WHERE</span> Symbol <span class="operator">=</span> <span class="string">&#x27;A2101&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> local_time, TradingTime, Symbol</span><br><span class="line"><span class="keyword">HAVING</span> count <span class="operator">&gt;</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> (local_time, TradingTime, Symbol);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 提取重复数据</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> tick_future.tick_commodity_202101</span><br><span class="line"><span class="keyword">WHERE</span> Symbol <span class="operator">=</span> <span class="string">&#x27;A2101&#x27;</span></span><br><span class="line">  <span class="keyword">AND</span> TradingTime <span class="operator">=</span> <span class="string">&#x27;2021-01-07 23:00:00.020&#x27;</span></span><br><span class="line">  <span class="keyword">AND</span> local_time <span class="operator">=</span> <span class="string">&#x27;2021-01-07 23:00:00.020&#x27;</span>;</span><br><span class="line">  </span><br><span class="line"> <span class="comment">-- 删除重复数据，全部删除</span></span><br><span class="line"><span class="keyword">ALTER</span></span><br><span class="line"><span class="keyword">TABLE</span></span><br><span class="line">tick_future.tick_commodity_202101</span><br><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">WHERE</span> Symbol <span class="operator">=</span> <span class="string">&#x27;A2101&#x27;</span></span><br><span class="line">  <span class="keyword">AND</span> TradingTime <span class="operator">=</span> <span class="string">&#x27;2021-01-07 23:00:00.020&#x27;</span></span><br><span class="line">  <span class="keyword">AND</span> local_time <span class="operator">=</span> <span class="string">&#x27;2021-01-07 23:00:00.020&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h2 id="表大小">表大小</h2>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> database,</span><br><span class="line">       <span class="keyword">table</span>,</span><br><span class="line">       formatReadableSize(size)                    <span class="keyword">as</span> size,</span><br><span class="line">       formatReadableSize(bytes_on_disk)           <span class="keyword">as</span> bytes_on_disk,</span><br><span class="line">       formatReadableSize(data_uncompressed_bytes) <span class="keyword">as</span> data_uncompressed_bytes,</span><br><span class="line">       formatReadableSize(data_compressed_bytes)   <span class="keyword">as</span> data_compressed_bytes,</span><br><span class="line">       compress_rate,</span><br><span class="line">       <span class="keyword">rows</span>,</span><br><span class="line">       days,</span><br><span class="line">       formatReadableSize(avgDaySize)              <span class="keyword">as</span> avgDaySize</span><br><span class="line"><span class="keyword">from</span> (</span><br><span class="line">      <span class="keyword">select</span> database,</span><br><span class="line">             <span class="keyword">table</span>,</span><br><span class="line">             <span class="built_in">sum</span>(bytes)                                              <span class="keyword">as</span> size,</span><br><span class="line">             <span class="built_in">sum</span>(<span class="keyword">rows</span>)                                               <span class="keyword">as</span> <span class="keyword">rows</span>,</span><br><span class="line">             <span class="built_in">min</span>(min_date)                                           <span class="keyword">as</span> min_date,</span><br><span class="line">             <span class="built_in">max</span>(max_date)                                           <span class="keyword">as</span> max_date,</span><br><span class="line">             <span class="built_in">sum</span>(bytes_on_disk)                                      <span class="keyword">as</span> bytes_on_disk,</span><br><span class="line">             <span class="built_in">sum</span>(data_uncompressed_bytes)                            <span class="keyword">as</span> data_uncompressed_bytes,</span><br><span class="line">             <span class="built_in">sum</span>(data_compressed_bytes)                              <span class="keyword">as</span> data_compressed_bytes,</span><br><span class="line">             (data_compressed_bytes <span class="operator">/</span> data_uncompressed_bytes) <span class="operator">*</span> <span class="number">100</span> <span class="keyword">as</span> compress_rate,</span><br><span class="line">             max_date <span class="operator">-</span> min_date                                     <span class="keyword">as</span> days,</span><br><span class="line">             size <span class="operator">/</span> (max_date <span class="operator">-</span> min_date)                            <span class="keyword">as</span> avgDaySize</span><br><span class="line">      <span class="keyword">from</span> system.parts</span><br><span class="line">      <span class="keyword">where</span> active</span><br><span class="line">        <span class="keyword">and</span> database <span class="operator">=</span> <span class="string">&#x27;min_data&#x27;</span></span><br><span class="line">        <span class="keyword">and</span> <span class="keyword">table</span> <span class="operator">=</span> <span class="string">&#x27;min_commodity_future&#x27;</span></span><br><span class="line">      <span class="keyword">group</span> <span class="keyword">by</span> database,</span><br><span class="line">               <span class="keyword">table</span></span><br><span class="line">         );</span><br></pre></td></tr></table></figure>
<hr />
<ul>
<li><a
href="https://stackoverflow.com/questions/56706629/clickhouse-does-not-return-column-headers">Clickhouse
does not return column headers</a></li>
</ul>
]]></content>
      <categories>
        <category>Database</category>
      </categories>
      <tags>
        <tag>clickhouse</tag>
      </tags>
  </entry>
  <entry>
    <title>使用Pybind11调用OpenMP并行化加速函数计算</title>
    <url>/2021/06/09/cmake-pybind-openmp/</url>
    <content><![CDATA[<h2 id="visual-studio-2019-下配置-openmp">Visual Studio 2019 下配置
OpenMP</h2>
<p>Visual Studio 2019 已经内置支持 OpenMP</p>
<p>对如下的计算函数进行并行化加速的时候</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;pymatrix.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;omp.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; <span class="title">calc_iv_array</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">bool</span>&gt; &amp;is_call,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;premium,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;S,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;X,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;T,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;b,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;r,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">double</span> &amp;iv_lower_limit,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">double</span> &amp;iv_upper_limit,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">double</span> &amp;ttm_clip,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">double</span> &amp;vega_clip,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">int</span> &amp;num_steps,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">double</span> &amp;precision,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">bool</span> &amp;use_newton</span></span></span><br><span class="line"><span class="params"><span class="function">)</span> </span>&#123;</span><br><span class="line">    py::buffer_info buf_is_call = is_call.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_premium = premium.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_spot = S.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_strike = X.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_time = T.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_carry_cost = b.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_risk_free = r.<span class="built_in">request</span>();</span><br><span class="line"></span><br><span class="line">    std::vector&lt;<span class="keyword">ssize_t</span>&gt; shape = &#123;buf_spot.size, <span class="number">3</span>&#125;;</span><br><span class="line">    <span class="keyword">auto</span> result = py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt;(buf_spot.size * <span class="number">3</span>);</span><br><span class="line">    result.<span class="built_in">resize</span>(&#123;shape[<span class="number">0</span>], shape[<span class="number">1</span>]&#125;);</span><br><span class="line">    py::buffer_info buffer_result = result.<span class="built_in">request</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">bool</span> *ptr_is_call = <span class="keyword">static_cast</span>&lt;<span class="keyword">bool</span> *&gt;(buf_is_call.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_premium = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_premium.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_spot = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_spot.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_strike = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_strike.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_time = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_time.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_carry_cost = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_carry_cost.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_risk_free = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_risk_free.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_result = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buffer_result.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">pragma</span> omp parallel for</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> idx = <span class="number">0</span>; idx &lt; buf_spot.shape[<span class="number">0</span>]; idx++) &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">double</span> sigma = flow::model::bjerk02::<span class="built_in">calc_iv</span>(ptr_is_call[idx],</span><br><span class="line">                                                     ptr_premium[idx],</span><br><span class="line">                                                     ptr_spot[idx],</span><br><span class="line">                                                     ptr_strike[idx],</span><br><span class="line">                                                     ptr_time[idx],</span><br><span class="line">                                                     ptr_carry_cost[idx],</span><br><span class="line">                                                     ptr_risk_free[idx],</span><br><span class="line">                                                     iv_lower_limit,</span><br><span class="line">                                                     iv_upper_limit,</span><br><span class="line">                                                     ttm_clip,</span><br><span class="line">                                                     vega_clip,</span><br><span class="line">                                                     num_steps,</span><br><span class="line">                                                     precision,</span><br><span class="line">                                                     use_newton);</span><br><span class="line">        ptr_result[idx * shape[<span class="number">1</span>] + <span class="number">0</span>] = sigma;</span><br><span class="line">        ptr_result[idx * shape[<span class="number">1</span>] + <span class="number">1</span>] = flow::model::bjerk02::<span class="built_in">calc_delta</span>(ptr_is_call[idx],</span><br><span class="line">                                                                          ptr_spot[idx],</span><br><span class="line">                                                                          ptr_strike[idx],</span><br><span class="line">                                                                          ptr_time[idx],</span><br><span class="line">                                                                          ptr_carry_cost[idx],</span><br><span class="line">                                                                          ptr_risk_free[idx],</span><br><span class="line">                                                                          sigma);</span><br><span class="line"></span><br><span class="line">        ptr_result[idx * shape[<span class="number">1</span>] + <span class="number">2</span>] = flow::model::bjerk02::<span class="built_in">calc_vega</span>(ptr_is_call[idx],</span><br><span class="line">                                                                         ptr_spot[idx],</span><br><span class="line">                                                                         ptr_strike[idx],</span><br><span class="line">                                                                         ptr_time[idx],</span><br><span class="line">                                                                         ptr_carry_cost[idx],</span><br><span class="line">                                                                         ptr_risk_free[idx],</span><br><span class="line">                                                                         sigma);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pybind11/pybind11.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pybind11/numpy.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bjerk2002.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;calculate.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;pymatrix.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> py = pybind11;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">PYBIND11_MODULE</span>(pybjerk, m) &#123;</span><br><span class="line">    m.<span class="built_in">def</span>(<span class="string">&quot;calc_iv_array&quot;</span>, &amp;calc_iv_array, <span class="string">&quot;get bsm iv delta and vega&quot;</span>, py::<span class="built_in">arg</span>(<span class="string">&quot;is_call&quot;</span>),</span><br><span class="line">          py::<span class="built_in">arg</span>(<span class="string">&quot;premium&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;S&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;X&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;T&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;b&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;r&quot;</span>),</span><br><span class="line">          py::<span class="built_in">arg</span>(<span class="string">&quot;iv_lower_limit&quot;</span>) = <span class="number">1e-8</span>, py::<span class="built_in">arg</span>(<span class="string">&quot;iv_upper_limit&quot;</span>) = <span class="number">10</span>, py::<span class="built_in">arg</span>(<span class="string">&quot;ttm_clip&quot;</span>) = <span class="number">1e-6</span>,</span><br><span class="line">          py::<span class="built_in">arg</span>(<span class="string">&quot;vega_clip&quot;</span>) = <span class="number">1e-6</span>, py::<span class="built_in">arg</span>(<span class="string">&quot;num_steps&quot;</span>) = <span class="number">128</span>, py::<span class="built_in">arg</span>(<span class="string">&quot;precision&quot;</span>) = <span class="number">1e-8</span>,</span><br><span class="line">          py::<span class="built_in">arg</span>(<span class="string">&quot;use_newton&quot;</span>) = <span class="literal">false</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>只需要在配置设置即可，不需要额外的安装openmp库</p>
<figure>
<img src="cmake-pybind-openmp/image-20210609085353624.png"
alt="image-20210609085353624" />
<figcaption aria-hidden="true">image-20210609085353624</figcaption>
</figure>
<h2 id="在macos系统clion下配置-openmp">在MacOS系统Clion下配置
OpenMP</h2>
<p>目前clang已经支持openmp，但是apple clang没有自带omp库需要自己下载</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew install libomp</span><br></pre></td></tr></table></figure>
<p>安装libomp之后使用cmake配置一下即可</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.16)</span><br><span class="line">project(pybjerk)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Set default build to release</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------------------------------</span></span><br><span class="line">if (NOT CMAKE_BUILD_TYPE)</span><br><span class="line">    set(CMAKE_BUILD_TYPE <span class="string">&quot;Release&quot;</span> CACHE STRING <span class="string">&quot;Choose Release or Debug&quot;</span> FORCE)</span><br><span class="line"><span class="keyword">endif</span> ()</span><br><span class="line"></span><br><span class="line">set(CMAKE_CXX_STANDARD 20)</span><br><span class="line"></span><br><span class="line">find_package(OpenMP REQUIRED)</span><br><span class="line"><span class="comment">#if (OPENMP_FOUND)</span></span><br><span class="line"><span class="comment">#    set (CMAKE_C_FLAGS &quot;$&#123;CMAKE_C_FLAGS&#125; $&#123;OpenMP_C_FLAGS&#125;&quot;)</span></span><br><span class="line"><span class="comment">#    set (CMAKE_CXX_FLAGS &quot;$&#123;CMAKE_CXX_FLAGS&#125; $&#123;OpenMP_CXX_FLAGS&#125;&quot;)</span></span><br><span class="line"><span class="comment">#    set (CMAKE_EXE_LINKER_FLAGS &quot;$&#123;CMAKE_EXE_LINKER_FLAGS&#125; $&#123;OpenMP_EXE_LINKER_FLAGS&#125;&quot;)</span></span><br><span class="line"><span class="comment">#endif()</span></span><br><span class="line"></span><br><span class="line">include_directories(deps/pybind11/<span class="keyword">include</span>)</span><br><span class="line">add_subdirectory(deps/pybind11)</span><br><span class="line">aux_source_directory(. SOURCE)</span><br><span class="line"></span><br><span class="line">pybind11_add_module($&#123;PROJECT_NAME&#125; SHARED $&#123;SOURCE&#125;)</span><br><span class="line">target_link_libraries($&#123;PROJECT_NAME&#125; PUBLIC OpenMP::OpenMP_CXX)</span><br></pre></td></tr></table></figure>
<h2 id="openmp加速效果对比">OpenMP加速效果对比</h2>
<p>开启多线程并行化之后，计算函数在多核CPU运行速度提升明显</p>
<p>Windows下加速效果对比 Processor: Intel(R) Core(TM) i9-10900 CPU @
2.80GHz (20 CPUs), ~2.8GHz
<img src="image-20210609090326379.png" width="100%" height="100%" title="test" alt="test"/></p>
<p>MacOS下加速效果对比 Processor: 2.6 GHz 6-Core Intel Core i7
<img src="image-20210609090326379.png" width="100%" height="100%" title="test" alt="test"/></p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Pybind11</tag>
        <tag>OpenMP</tag>
      </tags>
  </entry>
  <entry>
    <title>浮点数精度判定</title>
    <url>/2021/06/15/cpp_float/</url>
    <content><![CDATA[<p>在测试Bjerksund and Stensland American Option
Approximation模型的时候发现如下这段计算二维高斯分布的函数数值溢出了。开始发现是输入的数值过于极端导致的，但是后面仔细研究发现，C++内浮点数的影响要比预期的大。</p>
<span id="more"></span>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> flow::model::norm_dist::cdf;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Sign function</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">sign</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a &lt; <span class="number">0.</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1.0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (a &gt; <span class="number">0.</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Support function</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">f</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;x, <span class="keyword">const</span> <span class="keyword">double</span> &amp;y, <span class="keyword">const</span> <span class="keyword">double</span> &amp;aprime, <span class="keyword">const</span> <span class="keyword">double</span> &amp;bprime, <span class="keyword">const</span> <span class="keyword">double</span> &amp;rho)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> r = aprime * (<span class="number">2.0</span> * x - aprime) + bprime * (<span class="number">2.0</span> * y - bprime) + <span class="number">2.0</span> * rho * (x - aprime) * (y - bprime);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">exp</span>(r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">bi_cdf</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;a, <span class="keyword">const</span> <span class="keyword">double</span> &amp;b, <span class="keyword">const</span> <span class="keyword">double</span> &amp;rho)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> pi = <span class="number">3.14159265359</span>;</span><br><span class="line">    <span class="keyword">if</span> ((a &lt;= <span class="number">0.0</span>) &amp;&amp; (b &lt;= <span class="number">0.0</span>) &amp;&amp; (rho &lt;= <span class="number">0.0</span>)) &#123;</span><br><span class="line">        <span class="keyword">double</span> aprime = a / <span class="built_in">sqrt</span>(<span class="number">2.0</span> * (<span class="number">1.0</span> - rho * rho));</span><br><span class="line">        <span class="keyword">double</span> bprime = b / <span class="built_in">sqrt</span>(<span class="number">2.0</span> * (<span class="number">1.0</span> - rho * rho));</span><br><span class="line">        <span class="keyword">double</span> A[] = &#123;<span class="number">0.3253030</span>, <span class="number">0.4211071</span>, <span class="number">0.1334425</span>, <span class="number">0.006374323</span>&#125;;</span><br><span class="line">        <span class="keyword">double</span> B[] = &#123;<span class="number">0.1337764</span>, <span class="number">0.6243247</span>, <span class="number">1.3425378</span>, <span class="number">2.2626645</span>&#125;;</span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">                sum = sum + A[i] * A[j] * <span class="built_in">f</span>(B[i], B[j], aprime, bprime, rho);</span><br><span class="line">        sum = sum * (<span class="built_in">sqrt</span>(<span class="number">1.0</span> - rho * rho) / pi);</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a * b * rho &lt;= <span class="number">0.0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((a &lt;= <span class="number">0.0</span>) &amp;&amp; (b &gt;= <span class="number">0.0</span>) &amp;&amp; (rho &gt;= <span class="number">0.0</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">cdf</span>(a) - <span class="built_in">bi_cdf</span>(a, <span class="number">-1.0</span> * b, <span class="number">-1.0</span> * rho);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((a &gt;= <span class="number">0.0</span>) &amp;&amp; (b &lt;= <span class="number">0.0</span>) &amp;&amp; (rho &gt;= <span class="number">0.0</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">cdf</span>(b) - <span class="built_in">bi_cdf</span>(<span class="number">-1.0</span> * a, b, <span class="number">-1.0</span> * rho);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((a &gt;= <span class="number">0.0</span>) &amp;&amp; (b &gt;= <span class="number">0.0</span>) &amp;&amp; (rho &lt;= <span class="number">0.0</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">cdf</span>(a) + <span class="built_in">cdf</span>(b) - <span class="number">1.0</span> + <span class="built_in">bi_cdf</span>(<span class="number">-1.0</span> * a, <span class="number">-1.0</span> * b, rho);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a * b * rho &gt;= <span class="number">0.0</span>) &#123;</span><br><span class="line">        <span class="keyword">double</span> denum = <span class="built_in">sqrt</span>(a * a - <span class="number">2.0</span> * rho * a * b + b * b);</span><br><span class="line">        <span class="keyword">double</span> rho1 = ((rho * a - b) * <span class="built_in">sign</span>(a)) / denum;</span><br><span class="line">        <span class="keyword">double</span> rho2 = ((rho * b - a) * <span class="built_in">sign</span>(b)) / denum;</span><br><span class="line">        <span class="keyword">double</span> delta = (<span class="number">1.0</span> - <span class="built_in">sign</span>(a) * <span class="built_in">sign</span>(b)) / <span class="number">4.0</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">bi_cdf</span>(a, <span class="number">0.0</span>, rho1) + <span class="built_in">bi_cdf</span>(b, <span class="number">0.0</span>, rho2) - delta;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> std::<span class="built_in">out_of_range</span>(<span class="string">&quot;This part of the code should never be reached.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">throw</span> std::<span class="built_in">out_of_range</span>(<span class="string">&quot;This part of the code should never be reached.&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为了进一步增强模型实现代码“皮实耐操”的属性，添加了浮点数比较功能；</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// equal</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">eq</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;a, <span class="keyword">const</span> <span class="keyword">double</span> &amp;b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">fabs</span>(a - b) &lt; <span class="number">1e-6</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// not equal</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">neq</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;a, <span class="keyword">const</span> <span class="keyword">double</span> &amp;b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> !<span class="built_in">eq</span>(a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// great than</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">gt</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;a, <span class="keyword">const</span> <span class="keyword">double</span> &amp;b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> a &gt; b &amp;&amp; <span class="built_in">neq</span>(a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// great equal than</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">geq</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;a, <span class="keyword">const</span> <span class="keyword">double</span> &amp;b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">gt</span>(a, b) || <span class="built_in">eq</span>(a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// less than</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">lt</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;a, <span class="keyword">const</span> <span class="keyword">double</span> &amp;b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> a &lt; b &amp;&amp; <span class="built_in">neq</span>(a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//less equal than</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">leq</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;a, <span class="keyword">const</span> <span class="keyword">double</span> &amp;b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">lt</span>(a, b) || <span class="built_in">eq</span>(a, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码修改为</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> flow::model::utils::geq;</span><br><span class="line"><span class="keyword">using</span> flow::model::utils::leq;</span><br><span class="line"><span class="keyword">using</span> flow::model::utils::lt;</span><br><span class="line"><span class="keyword">using</span> flow::model::utils::gt;</span><br><span class="line"><span class="keyword">using</span> flow::model::norm_dist::cdf;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Sign function</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">sign</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">lt</span>(a , <span class="number">0.</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1.0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">gt</span>(a , <span class="number">0.</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Support function</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">f</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;x, <span class="keyword">const</span> <span class="keyword">double</span> &amp;y, <span class="keyword">const</span> <span class="keyword">double</span> &amp;a_prime, <span class="keyword">const</span> <span class="keyword">double</span> &amp;b_prime, <span class="keyword">const</span> <span class="keyword">double</span> &amp;rho)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> r = a_prime * (<span class="number">2.0</span> * x - a_prime) + b_prime * (<span class="number">2.0</span> * y - b_prime) + <span class="number">2.0</span> * rho * (x - a_prime) * (y - b_prime);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">exp</span>(r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">bi_cdf</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> &amp;a, <span class="keyword">const</span> <span class="keyword">double</span> &amp;b, <span class="keyword">const</span> <span class="keyword">double</span> &amp;rho)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> pi = <span class="number">3.14159265359</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">leq</span>(a, <span class="number">0.0</span>) &amp;&amp; <span class="built_in">leq</span>(b , <span class="number">0.0</span>) &amp;&amp; <span class="built_in">leq</span>(rho , <span class="number">0.0</span>)) &#123;</span><br><span class="line">        <span class="keyword">double</span> a_prime = a / <span class="built_in">sqrt</span>(<span class="number">2.0</span> * (<span class="number">1.0</span> - rho * rho));</span><br><span class="line">        <span class="keyword">double</span> b_prime = b / <span class="built_in">sqrt</span>(<span class="number">2.0</span> * (<span class="number">1.0</span> - rho * rho));</span><br><span class="line">        <span class="keyword">double</span> A[] = &#123;<span class="number">0.3253030</span>, <span class="number">0.4211071</span>, <span class="number">0.1334425</span>, <span class="number">0.006374323</span>&#125;;</span><br><span class="line">        <span class="keyword">double</span> B[] = &#123;<span class="number">0.1337764</span>, <span class="number">0.6243247</span>, <span class="number">1.3425378</span>, <span class="number">2.2626645</span>&#125;;</span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">                sum = sum + A[i] * A[j] * <span class="built_in">f</span>(B[i], B[j], a_prime, b_prime, rho);</span><br><span class="line">        sum = sum * (<span class="built_in">sqrt</span>(<span class="number">1.0</span> - rho * rho) / pi);</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">leq</span>(a * b * rho , <span class="number">0.0</span>)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">leq</span>(a , <span class="number">0.0</span>) &amp;&amp; <span class="built_in">geq</span>(b , <span class="number">0.0</span>) &amp;&amp; <span class="built_in">geq</span>(rho , <span class="number">0.0</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">cdf</span>(a) - <span class="built_in">bi_cdf</span>(a, <span class="number">-1.0</span> * b, <span class="number">-1.0</span> * rho);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">geq</span>(a , <span class="number">0.0</span>) &amp;&amp; <span class="built_in">leq</span>(b , <span class="number">0.0</span>) &amp;&amp; <span class="built_in">geq</span>(rho , <span class="number">0.0</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">cdf</span>(b) - <span class="built_in">bi_cdf</span>(<span class="number">-1.0</span> * a, b, <span class="number">-1.0</span> * rho);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">geq</span>(a , <span class="number">0.0</span>) &amp;&amp; <span class="built_in">geq</span>(b , <span class="number">0.0</span>) &amp;&amp; <span class="built_in">leq</span>(rho , <span class="number">0.0</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">cdf</span>(a) + <span class="built_in">cdf</span>(b) - <span class="number">1.0</span> + <span class="built_in">bi_cdf</span>(<span class="number">-1.0</span> * a, <span class="number">-1.0</span> * b, rho);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">geq</span>(a * b * rho , <span class="number">0.0</span>)) &#123;</span><br><span class="line">        <span class="keyword">double</span> de_num = <span class="built_in">sqrt</span>(a * a - <span class="number">2.0</span> * rho * a * b + b * b);</span><br><span class="line">        <span class="keyword">double</span> rho1 = ((rho * a - b) * <span class="built_in">sign</span>(a)) / de_num;</span><br><span class="line">        <span class="keyword">double</span> rho2 = ((rho * b - a) * <span class="built_in">sign</span>(b)) / de_num;</span><br><span class="line">        <span class="keyword">double</span> delta = (<span class="number">1.0</span> - <span class="built_in">sign</span>(a) * <span class="built_in">sign</span>(b)) / <span class="number">4.0</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">bi_cdf</span>(a, <span class="number">0.0</span>, rho1) + <span class="built_in">bi_cdf</span>(b, <span class="number">0.0</span>, rho2) - delta;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> std::<span class="built_in">out_of_range</span>(<span class="string">&quot;This part of the code should never be reached.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">throw</span> std::<span class="built_in">out_of_range</span>(<span class="string">&quot;This part of the code should never be reached.&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>再进行极限测试发现数值溢出的情况消失。</p>
<hr />
<ul>
<li><a
href="https://blog.csdn.net/WhereIsHeroFrom/article/details/110609492">C++
浮点数精度判定</a></li>
<li><a
href="https://www.elitetrader.com/et/threads/cdf-of-the-normal-distribution-in-net-or-c-math-libraries.210879/">CDF
of the normal distribution in .net or c++ math libraries?</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++ Float</tag>
      </tags>
  </entry>
  <entry>
    <title>C++通过引用传递数组给函数</title>
    <url>/2021/06/19/cpp_function_point/</url>
    <content><![CDATA[<p>C++向函数中传递数组作为参数，有如下几种方式，其中传递指针的方式结果是一样的，每种方式都会告诉编译器将要接收一个整型指针。</p>
<p>方式 1形式参数是一个指针</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function</span><span class="params">(<span class="keyword">int</span> *param)</span></span>&#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>方式 2形式参数是一个已定义大小的数组</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function</span><span class="params">(<span class="keyword">int</span> param[<span class="number">10</span>])</span></span>&#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>方式 3形式参数是一个未定义大小的数组</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function</span><span class="params">(<span class="keyword">int</span> param[])</span></span>&#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>以上三种方式C++
传数组给一个函数，数组类型自动转换为指针类型，因而传的实际是地址。数组有二个特性，影响作用在数组上的函数：一是不能复制数组，二是使用数组名时，
数组名会自动指向其第一个元素的指针。因为不能复制，所以无法编写使用数组类型的形参，数组会自动转化为指针。</p>
<p>在向函数输入参数的时候， 值传递(pass by value)和指针传递(pass by
pointer)，需要给形参分配存储单元、当传递是对象时，要调用拷贝构造函数。而且指针最后析构时，要处理内存释放问题。而使用
引用传递(pass by reference)，则调用函数在内存中不会产生形参。</p>
<p>在C++中，数组可以按引用传递。引用就是某一变量（目标）的一个别名，对引用的操作与对变量直接操作完全一样。引用的声明方法：<code>类型标识符 &amp;引用名=目标变量名</code>，
数组形参声明为数组的引用，编译器会传递数组的引用本身</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function</span><span class="params">(<span class="keyword">int</span> &amp;param[size])</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; param[i] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>使用模板扩展</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T,<span class="keyword">int</span> N&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function</span><span class="params">(T &amp;params[N])</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; params[i] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr />
<p>c++中常用的vector容器作为参数时，有三种传参方式，分别如下（为说明问题，用二维vector）：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">function1</span>(std::vector&lt;std::vector&lt;<span class="keyword">int</span>&gt; &gt; vec); <span class="comment">//传值</span></span><br><span class="line"><span class="built_in">function2</span>(std::vector&lt;std::vector&lt;<span class="keyword">int</span>&gt; &gt;&amp; vec); <span class="comment">//传引用</span></span><br><span class="line"><span class="built_in">function3</span>(std::vector&lt;std::vector&lt;<span class="keyword">int</span>&gt; &gt;* vec); <span class="comment">//传指针</span></span><br></pre></td></tr></table></figure>
<p>三种方式对应的调用形式分别为：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">function1</span>(vec); <span class="comment">//传入值</span></span><br><span class="line"><span class="built_in">function2</span>(vec); <span class="comment">//传入引用</span></span><br><span class="line"><span class="built_in">function3</span>(&amp;vec); <span class="comment">//传入地址</span></span><br></pre></td></tr></table></figure>
<p>三种方式的效果分别为</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">会发生拷贝构造</span><br><span class="line">不会发生拷贝构造</span><br><span class="line">不会发生拷贝构造</span><br></pre></td></tr></table></figure>
<hr />
<ul>
<li><a
href="https://www.runoob.com/cplusplus/cpp-passing-arrays-to-functions.html">C++
传递数组给函数</a></li>
<li><a
href="https://www.cnblogs.com/flowingwind/p/8446360.html">c++数组的引用</a></li>
<li><a
href="https://www.cnblogs.com/xiaoxi666/p/6843211.html">vector作为参数的三种传参方式</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++ Pointer</tag>
      </tags>
  </entry>
  <entry>
    <title>C++使用列表初始化避免缩窄转换错误</title>
    <url>/2021/06/16/cpp_list/</url>
    <content><![CDATA[<p>使用取值范围较大的变量来初始化取值范围较小的变量时，将面临出现缩窄转换错误的风险，因为编译器必须将大得多的值存储到容量没那么大的变量中，下面是一个这样的示例：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> largeNum = <span class="number">5000000</span>;</span><br><span class="line"><span class="keyword">short</span> smallNum = largeNum; <span class="comment">// compiles OK, yet narrowing error</span></span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>缩窄转换并非只能在整型之间进行，但如果使用double 值来初始化float
变量、使用int 值来初始化float 或double 变量，或者使用float 值来初始化int
变量，可能导致缩窄转换错误。有些编译器可能发出警告，但这种警告并不会导致程序无法通过编译。在这种情况下，程序可能在运行阶段出现bug，但这种bug
并非每次运行时都会出现。</p>
<p>为避免这种问题，C++11
引入了列表初始化来禁止缩窄。要使用这种功能，可将用于初始化的变量或值放在大括号（{}）内。列表初始化的语法如下：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> largeNum = <span class="number">5000000</span>;</span><br><span class="line"><span class="keyword">short</span> anotherNum&#123; largeNum &#125;; <span class="comment">// error! Amend types</span></span><br><span class="line"><span class="keyword">int</span> anotherNum&#123; largeNum &#125;; <span class="comment">// OK!</span></span><br><span class="line"><span class="keyword">float</span> someFloat&#123; largeNum &#125;; <span class="comment">// error! An int may be narrowed</span></span><br><span class="line"><span class="keyword">float</span> someFloat&#123; <span class="number">5000000</span> &#125;; <span class="comment">// OK! 5000000 can be accomodated</span></span><br></pre></td></tr></table></figure>
<p>这种功能的作用虽然不明显，但可避免在执行阶段对数据进行缩窄转换导致的bug：这种bug
是不合理的初始化导致的，难以发现。</p>
<hr />
<ul>
<li><a
href="https://book.douban.com/subject/27144565/">21天学通C++(第8版)
3.3.1</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++ Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Ops备忘录</title>
    <url>/2021/12/17/debug/</url>
    <content><![CDATA[<h2 id="ubuntu物理机">Ubuntu物理机</h2>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/415661679">禁止ubuntu
20.04自动休眠</a></li>
</ul>
<h2 id="macos网络问题">MacOS网络问题</h2>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/115450863">Failed to connect
to raw.githubusercontent.com:443</a></li>
</ul>
]]></content>
      <categories>
        <category>Ops</category>
      </categories>
      <tags>
        <tag>ops</tag>
      </tags>
  </entry>
  <entry>
    <title>Delta Hedging</title>
    <url>/2021/11/06/delta-hedging/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="6f12c84cb1518b4da4de6247c297d76b90611dc3eb54dc7c6106b2cd6cbf1dd9">d7e284ce31b69fc89742012cc772daee1ea01ea697f6a9c74ba7d8fe524e5ea9b2d74c4abdc8526c5a583ca2d842960aa519ffe681ebd0018cfc23b2d121415c4bd7236889f15fe99d6ead781a8010eb4ef44180d1e6a63649dde4dcd4f7f03fea7a81b2d5018b78262ce821ff4a6d681b8fa0ffdad49eafc4f82dac903b6695053c61928668d44082b6b515dbd988e57ea6fa6ae591d8b24706f5cb6e8a97c7595053462296af2d10c248ded2daa02bd42fdc77e3d523824ea55c9fa377e685ea725830d8ecab9996bd345ae5e02d5aa6fb5ee9c8c5fe856e5be20dd0bb5594ae3b6e74ad3a46b56902925d9d0fbf9924ebdf53d2d0e07c6894a1b5b43a75d2b5b47a5abfeeff520c591adec24f0b72ec7770e3eecf6b1a6566ce292893035b4189ae430d35a591de77af96212f53974e71a2a9b5ddcf1105697b2edbdcc18d15af8a798415fd1453c00c9b41d1250f905d9248f0871e835f06f2eb95a9e2c9988ec161ebb9c3b92cab1eaed93215fa382728f38b460d7034d62ebd8180e4bd100ed622a76eb77116db909a02f7a0a402204b977b8238bf9720cd5ae73f5932b5f9e6bb4f49d593311a14ab6dbb1e6422359206e2339b91c5f2cefdc8eb0664947cdc84179d01121e28a331408078714f7f5eaaf8f1cba03bf2e502f35e092b1241685c371b9028d3c2df60000cd66bb1d88a134b728a947b2632d3f5631ab06eb1f169acbb0c029698182a1b18cfef41c2f809eeab89a9b10a00798b55e908b2e4e33a2b24e1ed196794b9ceb8c9cdf1f7818c32fbc4ab8ff7599bd122959c00ec482e9e1787a00001b85ab25bc9aa7a44f198bdaec44a7c02c5fcb7f8db3ac1aa3272a0461e4d1a0abf3427d1963d655f1305d2597c286628b03043364cb4e77c653d717ddb3b5f4b2406d0d42411fb85495c67db8bde68a62e9b20617097834c9026381745434d5126977fcdecdf721dd5c3459604dc4a6e0d1cfb2bcc1e3af7effe315303341d184c13a6b720f79be83bdfc3a8de69f30a85694b5334c3c06fe74eed7f833887644bb9fa601419b485926233ef01b056df9d8d941494d46f060a8259e0ed8c1f4ce9c5a6ef4577fa5da86bb1fa30f89a0e80db88920cb18e66b368c403612d5ef3cfb3ceeab2283be41df56a60f9a39b2aadcc01ffdfaee2da5bcb0dc4308af1de82fd06be0ce0ea213f169c3b4163d923e35af97a89e7f6f4156dca5daddd6692f08b8062a58ead7048fdf6ddbe516f48a8c3bfc60f4a1ae679ebb3d9aa279a442c93b016c57646f38438f0e12643b30a0d89548128521cb26e8ac395c8dbca34fd0e0a90d95323f49e1f00c8f5ee615f65a0b4571bbdf2ba9267974567eaf24e3ca8bdb356ff954ca571bb5e915fcf1537d2b19b21d752ca51a0520026ddbbcc6626c92b0202199ee67a20ef4aa5ed4bd766617556a80b94feab05ddf5cb81871f087b992b07d6e0686be5364c541f69c2bfa27db36c00afc21186ac84d981330715425ef8dbe52cb685a4237a2881f9846447c42b4811392f140dd4557bc00e9980914d7a182d3791d4b7100bf631e61b1d38c31dae44e05a7fcd138473369350be5e0e147e3f36a7280078b6e214b0fb9bc007162fd711677c6899d78658c43641eec594f4eaa111a466225ace5bad59effc67ff0e3a663640aa3fcab3165bbbcbc081ed46ec2b1ef970c702bfe8b9690140627a6b547a901321e3078dbb31af58f4ab21c222873e4a661ce6389ad82dfafa4ae1e6b0693bb4ed0658bbe66096032caec312ff4081629744e04abf2bf622ce2bd4791bab6910f87c834b2318dba9d184f783bf480b1528549c0c357d347169c3353c08f58ec036d1fbe5ba6fa4f89070cea6378d6abc60e9dafd7e3cb622542bda22</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>delta-hedging</tag>
      </tags>
  </entry>
  <entry>
    <title>Delta and Shadow Delta</title>
    <url>/2021/07/24/delta/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="d0f2ff3fd8ae596556c57e3d3215fd992a99730bccf74cb4696b4385941fc52c">d7e284ce31b69fc89742012cc772daee27fead59381532416ddf2dd6a14833ab62c5f794fe0cc9e7959cbf4269524356b403613dd1947e9bbcffd72c6a19eef0565329dbd55a2e38b16e4c911a5ece9f7cc22bf8404171615dee9c63b4e958b62e2777393e3c27768d0f6f8d23262e7634b4e992b041ff04d326f8afa8eb26453f1d469437871aa1a25793f5ad75fe4f7a3de802f092a36bd86e5ad73c16b07f80b969169df95522f67bead56c3c93cd47210b658ad8a2148e741bed22d1ac3da57b81d387ce668cef13b870430613b2306a7538f7138b224200be6dd2b6808b47cadcc29fd75dafee298c5446073c767d949170d935ad250b172f332321a76593caa9998e6de6c513af7b7f7e8e93e0100ceee4d9cba2fe1ec2ae81b46764a18f8d96bd6d8dcddbd0cdc8be1c905c519f4f93d0b252642d36368e0b7291a0d55d9ec2de35734c43a35f6589c52406b5bd12bbb0d8f24aa23cd030dc750b9a1a3ff5a1f6620ca2dfaec5888037e240b732e44c9a9994d281d052f28676552ee1219c7a8940caba4023d053a36df7e08e17b0713aea5e2d3049fe445e58e3ac22d7f872cce6e90acde7077ff07c048aac34e714147df1a6bab74ec31e78451d600ecbdec9ab3b10cab02982ed05e312c5e0a50dc6338d2346ad86dbbd5d6aa90ef8a009d5290b095fdfb76a54daa0fc068543e4090ebdef5da348eb9f5bd415f40f67b7f0f835f33c7939b5e09e61eb67f062b48d6886fb9ced7519db10574d42abcc1f7430447a5d861c487146532a3e438671422aab48d4df92905798aec29b7c4e52ae053f468fc9d3103b78a4eb720e2147485302003c1be8274566d5fd77154993664764b9f77550eca8b02d2cfb0fdb0b955d83903eb695eac4bfe339e320ffea58d896ba1e604ca90142f38819625bc82c4307f7ae05b2f52313a8177010671b0383743ab8b3cb60743ad2c4e2cf0ffcb261a3523f5feb377c99da98528df10bcbe817e3a8e8c013ea4f48edaeaf92fea9a3075a63bee076968bba29cbbd348c77fc742edea1b16673c2089ba576a72deace13be5da21c8b8ca12d487df987f32cdf68df50bb958b989a75f028512233237226a9d3a1aa755a015a098a5e5f3bc5265b05d780ed5e286cb2fe83cb76ea8749e76604cfda7355284df5d2e7562788de33a675fe56cbbc88790ed36dc6469aacc5d524d4fbdb7f2c2139a9b4430fb68c7949b35e364560dd3562820d9ff223dda83bc52657a6f7d0e87edb93def36c4e5c46b1f14881012aac3ed436cf1c7b2945eade2b95d24d29da765719868ae10a202b1059ed331065ddaff325208fec8215981992f742c048d7bedbc0ebe00fbce0d8f7083c3f8dcb6d41e7db1a35573c830ade95f02f3255aca581be3e4cbccaba67564178ff6eabcd09b472d2796c3f4121c472d92e10d4b9aa67b2cfd01971f161b634c9659eee796e6d1b768d7c2d8b8652134c21a1a6e99c0b31aeb9999e0f1be774c70a3c48386bbbd1c8ed111a5f482b890f545953a3659d3fca946ef3b60d74fc110e39534d8df696d7b702cad9cffc7773d858ff9c63760b04921c659aed3e6ca7a949edfc961bed749a3913c8d17b28e40929f3137440d21a0a4cbc3e96cd715260e92f8803b9e44684a153ab8097db9be687018ba6157a2bbf5427f4159e0a68b2c4790977a9b9eecb56c76bc5a7527d05dc40855f23f76bb423d5f77885749988d45e7b7db516c86355e6d1c7c43c2b5e26a491497a5c1955ae168bcd3d43c6ea470aa6116f36be32764751fa974c336c79ef5f7d89b966e949e22dd39b810d9fa56d93a01f94203c8efb57f98d2762958301307b010ee08a6f12401cd0a523597b7d9e8b032f3aa3c949e7814e1b5f122d9304ec53cc0149bec5ff9be85af120e6ff9e59779ba057bcf5583daa9225db8d60ed1f7e491fdaecc2b19b2dcabbbdf3528e98c89ddccd6be5bf70694dd2f0ee2b90432e0cf6af77330ae4c31948c6592242d2718ab0a40b0578e48df62903b2c1b1b74786d4379f977c82ca5320e7f5545ae2a49b5a8353af2e57a4493c023e1f9c30d7ee92801f89596ee84f6345f224d83081d0661816686a3842254188f59bc1dce9ade315861553883c9d9717dc3e7171723de02ae125a89bfb9d3900b7cc347287236d2f0e3ed30237a1f4e7ee9ff0fde7005bac595633c2b8411287f8802a64a17608c8bdca4bc97c13900bb3010d3f244e9da7ab83315733262810222e36ab4f19ad1fd2a3e1e2490cda89edac438f8ddee26f4c6c4b9f0413721094995c740b8acf4c167ccff26885b8e3d52c56c12e85495def37e6623e169afc462cfdcfe0fb141210b469288d84c1ccef03a195db640b35fc2e6684dadc295144224ebf65c7234985cfb76d4713aee93d3870e834fa2db5f9cccc38e4e68810dbb4113974dbcbf8a19aa2c3c041d9cac3315a93aaa36a2440454d54693d113030aeb6ba26450155271aa898ceb5e96d0023dd55e98bade434d9cf5389a0e88ca2e230dc7c82e66897b98af50c68b94dea9c56e865e31cca4f567f41096954af974b93d4f4d64d16554dac95016eeeee03386d25d01f441d128ae8b5439db902c5022d324174f5880efc64087c09867bfd88ed7a17f34e2b0fdd444cc8be40f707b9fe9cc6793342b9d8c7bc6bdf4350a460e48d70bc900e85bf6385c7cf7fb67855f8c217c0504366bf0effdbec3d863b912184380f28a7360d1444a2629f87ddbd20f02c98e5e50b4ebf8ab7b67a03bf69734611962149278586bf386eed2aaab16b2a8e8ea301ae21567ff7e745e0711e0e64d969f906f4d4a9f3a7c1b5536f0d17200191c121bd67b39de8f8895744323795b93e5a7a10b3cbe618cca12dee5857333a8b6002565b9eecea5b9233732be877a858820e1cf8011cd35a5d4914d74c661ebbdc54aa25f3d562612f40cfe19fe79d2b3a91f46827cbf260befbf17c2b2bf13b20184cbbbc7843987ed42a09cfd3026801a78523e7a5154777f9059b0c8a191e2d112fd0e18670c50f811c4ca351681740ff823fa40d6f9b08645c3fb836c74c9c212d5e4c9f2ae8aa39ca7fe4e671d0d84ed8143e214cc70ac39eac3e69a54809c0ec994baed506d898c23ac146209cf7ca30366cc9c3dcad5c9ea57e0ac44d5b70888d7d1298d4237084fe002c25f6428899b2634367418e256e54f1bcb25c9bae075707c2bc2c038757e22b17ea33f674bb8dab659dda76f52b1a94c5335ef02b6433e3c160a7150ff25d27dcd0bb540e6937eb7b1b9fabcb35b6f716eeff2b0fffcaf7b8e7be55579ff3f64338c5bf338d3a5b63567e87d9caba934dcf202c28b32e26fbbbae0252e2cf98b1a0ba2c82fddcbe19c8a50b08757d75c82d31c1d0ce1cdfa883a62ee163f88d41adb54d73262a08c14bda5387ce29338a8ec93a66e1432088c1a9edd5b9dae62504b1305e983e81acf4d694ff5a3a2c9e3ca3e8846ec6b3e026772c5dcf66a6ad1d30b4ac79415129c7ec77c6956cd9e30aed685d8b7239219db4de3e6c25c7846b607e71c3ba3678288127b181bd3a9b7e4c03f0834a2ea056939df42d963c2d23b7e9b9d5d598287b29aea75dabb57c1a241eb124aafd885a83688c65f7b7551720558233164ae84d3f4fc08c170cee71b86a86e3e93c2433575a5bfa9c758bc268630865f1b6b29a8f6311e0b3a00de3b281261ddca29735eab38716f9bd84d00f971bc3117d88f00714ad2d4088b29d93984886523e4a5a0cc76a4743b6c71ea1b53422f946cbd8a34ac43719e7f7c80a5128056f89bd231b8c5c4d3c3959eb1eee535579963206b4640e669e8e75c1d8e43a94d0ddb9095cc0e0a2ea0f22223ca553dadf633bbe381078219666b5b601d4ac457fcfd842bdd69ca7aaf6ad7207efa3d8a119d8259d71efd52205dce9142d9043a3074af9a8d3e5fa28e93906125b33f1c9b95244181c45f491a101e8ffe14cb77e47f19d4e7851474edd67415348e9f3c68c4a45658bd30461599bba9889bc880dfece66cbbc9aec05516e0be844d45937a6ce7f83c1233a7b101123e4f76a6c10f7be3c2cd29ce87abb61331fb1973710b1e82daa7c70ce6e1689a5eac4205d211a9d7d269cbf499ceba9697e532362c283240899568c9a2d4dbd400a876b843a74d5beed30a4a99d454a1e26fcee09aa43a35e587f31371d6375703902f223ab87a1a37d29fa6013f1f6815b102453a77838a3a13ce57f0c621c606c4cc7a6590337ef4bc641fc02af072de719a0595933c99bdbac72d247701c888b993ab41e22344e3bd0922c8a473b407f88f1b05c550354b14d533b8f7df6ecb8f069e9bb254ad1a9f6e22473fdaed5b27a762d3c6d7cedadae24f8b66f572b9ea2abca0a07a9714b552bb6981a6506e026c2ade3024c7e288c19cadb5898208f3cf7d166c03ad3c1fbe078b6eea0bc6345ad1613f5e2afc8dd50d75146c7e34f487598dd6f62f5ed67367a4d74588d8e18bba801b354b91c33a3f06ba2ebcee4fe3e4b33f14493a7837891f110c89cba2da29e63681e1f4b9d70dd0341647c36c886a5c495801314ef987ba03ee1f11c436b820e7313f8fd49478845cddd853da88ad4f5ea1262f30ae3bdf290497221c9f85e1f12f5ff027d82b2fc4de6d82a22b894994b9d3d20eb996b4030ba25dd6bf8cfcb33dfa6d415a3818e3785d35633cd981532e70c7578f6030c856c4a6fead599c240dd2d78c3f220936ebc333f28e4431640eb3f5701643aa98cfd1923d633bc9ee4e50c66876b639dbccbf0c62244e0a818220d789dffe54489dd05de486b504c954e8c9f0acd355cb804d4f02d9b2ddc37a2de3a9dd21149674c88e32372640037bc3b4060f6cb78277064611ef781ee9857d2bf0ba424aefbb2817c4d5594f24f6d2c73d41d7deefc5e762b5dbc568e066e50d4068687b9ba382064712c40d56653aa226842c87a2d85008b0b5e700ed1867b030e8efbd9c5fbc07ea83d8e2f0a4219de2b69624dbf339948c8b9c51afb7d1bea132437b276283700947ca15ccb946190a7a1d4f71a8fe498fbfe2821b95af10ded8d4d8197e4444a1761cc44f20114ccb62b7e926a1124df432e25fc16d91e2c019673a2c699b72f6919438d5f7e7deeca8974bf62f744b56ea9d386363127ccbc332130c5e351d65e8cde454063416f9ad6c2e6ad7060f6d365c3517dea2384a12437a1ae74ba041cc970ee4a5bd47340c2d539ad52acec25988396fd5af40da5ad19ca2b34e84c01c7bde7540cb651918f9aa3d1a21c936d3078c7e0b9211c6eb1a9c3dfa2a29770c960b564ae5fd12c2fb17a1af9a9702f4ac31612219ef366b2dadc5de8b2a3a3034de7cd7da935cef0bddcaa7fbd40932d5cd6789f02abf3f1ddf05003704d09a1cbe0821afcd719dea8e5b770eef15b7b01b3cf26895dc4eb6802d798099622c2cd78be736e507935acb3b323e8bb162c54cc2ff9acc0004f347b97cae839819db93ba1586962be8abf23efc9d05826742a123242afb29c87eba6ac75ccbd1a8f1d1fd993a649c7160970bb1d063390f056a579de9426acb32cce1639e7b2a45f193b8cd2fab9bf3e9f012f099048ee8df8b4df716eaaa4acb855517f53d068fd8857fc44ab11faa466b8f0ae8d47ad06ebfadc9003ce8b492cf6a673138892ee27478c539dc403993c74fc0d00c76307c0111989f038591b7a691d4a4f0de1433b847c8a28bc0c90af63572bca862fe6379101de83961ed4272089806c1657aa2982555b6c29900ba090405038e6a1736d9680a6f3cb1aaac27ff2d4093f3a2bfac2b7e5397b4a1812e97d2121464d1dc1b1bc00f617b0cde2c763ed64098da7ff991e9d3d12dda6de8b114786c14cb948f4f1c1425aaab2f2af5a1668793b43b3892c56034cb736b626853b516c4cecb3336179c0257073de310400e5d00d38809eb20c0a95ef1fbdbc1544a256e56df80498f75642b4c69a03612e25a21712dc0749514a8575716ca9a03880443b2d19a478e29dc280ecbd73c4ed1c7fe7024e309eb1c6e3aad72bbf7debb671439433442d8b8247bea8ac04a82b1a316ed19b8520f3227b89977f01045673ed18782ff1fecae881da0947855905cf130e7c35c47ed02aba6b977605fdca0dbf0973bc40afb21c3ee2db6d073a41a943079f2e7d1ec601391abc410bc36ebcddf69d29b7588c18de2fd99dbd6c1fec96ef8220f7c10339ff4fa304c4b6a622b6ba6f8b599adcd47a18113300a7a5f3d05daea8e7cf923c20580d48917711f4e780e62fd67445ec7a4d02009ea424e99965c08ab4a579c009fbd3f61221b8b1ec6e3320ec899811806a0da24895469903a5563b98f4d45ac3ebda8b275591f37627ecff45023000e9a5975ddc1a5b9469d09a3430bc5fb34ba02de36035f369861705b25eda700dcb92a6a9cf6898ff32b77f0613ef0fda0648429b80cf89c986db460d09de6740e26b56bbfee699cda6e35ccdce71620d7d6f1463ef14a6bbbd51d657b462b193c2cd62fc03edc76c9095cc78efe03dfbb0a87d73f54600143dd21eb128bb2da10e94bbe7c2df44112e35b904bb852abcce35730396842195b9f6f60d39de066bba141691b55cbb032e6ca80429f41c338f3456aa4065ead3e105bad5014075fc5b30d2e0c423da8cba3949a290af422a4e1015d87f452959ffcd9980b31b805775be73bd8e9954207d182f64c3ebf12281fe760c4e0ddb62df8e8541332086e7ba6f03b1056f00644de89688bef3c3bf848057bb96bb3402d1689706e47bc57f0662aed85bdaf9bdac8774759a8035721c8c04380d67435ce4ec51a918e88871a3fa9a0b51ba96d8fd8a08f89fbbd9e6c2df64eb2f45f0f9e66c6155d0d45d22fe7ff6a60b22d24ca0f4f92aa94f69f427520a87ede748a71f7dfc44f69bb7f94bd0260ae1aee7cdf62461b70afe5847e232146f5aa5dda6c10461b66cc42eb4126e6264c3c3354ed478c2bd8610ce8b6e9d439506a01ded885f79ad9540b003a3cc14e90d379c0306044222177b9869577c217b4d17dea9cfd19172b704736f2be12d7127a45d2203699438cbacc06c1d5805ee9768c3d6d36400e722d800a419265b81084af0973f32cbf0b1a22bec4cfb6186cf68b9dcec3b477f318d8d428ea7e38175ba630cfc582b332d44acd44c92b096c22780e93d4b21829e30028bcfdd2aac40aaba58989229cdeafa5c19bb0f7717d4b4dffd6e6d775311d789b8b9074af1c502d2d440c311cf873157d7bf6d6de8125eb6ebdb86934adb281ec130c92186933d46d8d54429fa1f3979eee82ac3b68f39e3d6fcb60b601978cbc9ba4dc250b08ea4963eb2cb33f0005500380b0e87cc6cc8b00c545c102c235d5e701928f669d1f5da1bded1d0789f259904f74201585dfb131968b868058df06f8a3401e8a5da1112295efd60b5ce1133a66b589062c5038f800f669f5f317781aa47bb207c4a2c52fb972b30aa250094d2c0a582c84be245d2cd951d9b76653270681a2b44a961fe26d210a8182d8fd0beadc780e105a5ef659dc596cd02762e6531998e8d938f1d9f87df62042a46b6eb3bd189333ce5c353848bc556d93d2c7d74270ac90feba7d7a07ac469019bf7ccdab430551f28d4781bcf70e99378b5555577bce7368c9b89303fde5c67c32c753e43afd78ff7e4397af2285649779e533e8ca9e128394334b99737373fbcce957c006c11ca9b8bbdd0104d8795a73413242932bb1817a03696f0ace1520c8aa729fb4c096c9f0ed133818e63fe13c482997390c34a3a3d8628a387c55e2ea8d1164154dac51365480e851a195dea6b6c495860c4196b9c6b5d9ed4d61fade70f99c50f0c967e3f1be58bf6bd1288b18a032995bcea78ca0ad037c465f5e53ec28e9800080c98f27184a39929d0927969f7a93b8967521a110238ed5f6c3c825824553b8ac37cd4c570a8f8e364c9ccda850162b0f12014c2cba1c08030e37437e97180e7d38d593c37e0824d1a8e424702c1edd597c9be346242d4186b2c11afbd22880a116e1a70b9a565f693a1c7fecbbbbcfe7eeb9ac83632e22787f7253f783a3fd4cb171c66e5546ad456cb04e1d8a223554bc3820a63bf927306bd01830dcaeb57361a167306375d0a92c4e9d4090c04076fa50c023fa1d18321a28fbb7bd920fb6e9929d07828a3e049dfe06c982c42a5b6f29d7df541a981fd979cfa1ab098ae64df92b1d6d94958f68aea599719e48a23f0ac322a08b5d91c7078b6de07a48403ff5d7e5fdcb7c12857da90b00efb52ad8bbb1b2f4cc3b7d77eca073f058f5da37dee37b34d0682469e174b4ee1bec3ed310f7eb523e503fdf3f849add255084de081ed264cea8a803f80083537f8ff0f292c1f35ebb8017d6cb14dca01c548d260e4dd1fec203877749714a5e804d0e3687b748a646eaac89dadd5391984f29763b1a6ca991cdccd20b1a19adf7fab8b06014039259a6d91dd0ee701c4e95eb9e5b6380a0e7d57e3ef8e75fdb97893b2db42ecf9f9bc5cc0d8fb841600cc5d9683a23d9742cd5f009d7ffd0bc593d12b1661002a3385f6cad32874f828b652b5e472d27becfe59173b255d6875cc9f3e5e6b61ebe00233d7bfe942b22ba26404258a3a0d7d4d166da3ca856027cd3884eb45da7a9708ba69f474860d9d05dd0e6dbf3ea034b02f73c33015eddda37d5198521fd2736c7f50d77206b85bd9c90f69103f18f97ba45f14e9120b2136456086b4a8921b6fb2ad83a3eebfa98b6605b20f5c501839668ac59b66349d6f9e293c7d3e57b443ef04630406cf4bd3a59fd5fdd28ba58e6ca5baf02c111e31765c0df368736d4f6125b2f9c2eab3222916cfea62a45eb0e858d4e52e632205debadcd888de146a96184f7736c5b0e692ab8eeb3b2ae003b9b471caae6e4380e388c09b04a10b8800d993c7172df5a0dd3350f4b35352d2cd8f214d222e10fe775a52c1152fe3dbe02e7a0728622ef6c428a84087e8656eb58d5fc34b15595c0aca88283d77215422411a1ed905a59c5c9e73568a9b4b338b5c22c1f30658c428f6c30016ce39cb691de3d2a11e0641c4d7b58c5264d99007ef10ac7049aba97b9d5fe56cfa400c392eca07ffb90a0931b7efc88d21b89997c76050a7b0f5fd5473bd0c9adc943c818211cd16a8f45cc52a052a9a4bb65615848f6e4f71dd338b857631e376827f739f091c645624a85f0629ba7f050c67980893d708af79ce7f05605aa5f0a5df557c66b8e945049f8f795de6d680579dbd44a3cf5ac6ee574a773306063de3afaf037f245b29bc7fced2094713947776d015971861a0f568612b371067a33550147365f0f1694acaff3b62ef11e5a282422b7a8d5a825ce3f4f8f68e77815c9ace01259f6ec6cdbc2abe84df4f04e86c58d025ccc55e486431ab6bc3358e95ef5964533bd33061bbd0b831136fdde57d9f9aec5bc76963abf007434c8a960ae5ae78dd0bec30d431606d68ed720478af0c0d708a7db8807a3036352e7646e701c293803dec2730c8f2606d829015bf46fd1538191c9364dda6f51872317a1e49b804d0366a6ab180a671028b6b19c8d1be0c793043533a38d945b4e38de625005315887c753dd9ed1f2491c209a1b5d25931f4ef1b7947907db0e8ddb1ba2381d61a1217685b1cdd55a34eaf8102ebe33167e93b506b92c96d625a98d86fb38b69e3d2d7a85f53451a69f3acd6e119d59f67d883f456b30e9ac880d7b57ef8050e1f1da4238a81b0b387c977e37f95481b09a78ca1cbb146f0a072b880a497c1223e4350c65a837212b146e36c78b50e493bb9f2b2fe13ab30712da6a516cb4c8d0b758a9104e915a3db860888b0f7e60a120212dc5651ca9f53d2bc3c5c9b4cd588d0242c9ab0385fa16081ab9715c5ad54716c2957fc4ef5d0294dce68c143747093de175c73bda20ac83a25dfc9e0268b0d6a98856fcbafa8a5655d1fc68d8a1daf6545ad0a25edccd63e89ebd916a401031c984f0006266e8bf3c16c00c17ce08f254fa49ec1162d4f42e4aac1eefdf53c20edc1c7452b761bce2b6e469ab633eb0234d3c110af2ea799a23dbc669a4a6477c1b7f8f9571bcda1392b75532a4bdeea39429cac34239a6a475fa076bc356c836365c3b8877f982a99cc9b72ba5df63ece703c99f59312f4fe5fa24ad8a6435dc7f89ed9dfeb01ba8e962e80858fb1917c2fa64fd94a95cf45ee65b3db07f641eb0e7a63c20d053b7ef0b4f6c8a165348a0592c9d8c14191fb218e75b165ec8128d210861fdfa53e833261b8b58eccea37fee7038deee60735ba869e95495e993540709a3de3a70dde99b26fe5971d26dead590f548190156faee64f2f4e59c3025f896b77087af07165184d5e94fbbf8350fa694ee80f92993b28fb73a2ee7add4e4f919147751e62f8e54a791d94de837bcdbf899bce19b0e87cb59ae1ac40831a17ee336b271292bc4b7738ff8270c46cb78f7e2b59aa6331949aa131f546406cb180f2ed9be776920ef2e7409aa78d8360debf3cf32972e42f24bc00a40708f3510f4afe394f5f998a514e0723337258ee9eeab73470c380f89bcc40de39c93c88ec59408caf6f04f7e6e17908a28146f3b569730218c449173dc0ae3c33e1e5adea900adb8caac64745fee795d1048d2f6c9cbdb73d1a638f1cd46f695fa761f5635762cbaa8a0d72f7ecd9a0e470cf1d96d107adc6f1106b9618e20678ba7713d9987ed258770560392e2980a68598d22918963cfdd803409c1c78fee6ab984db8705bc44c1071baea8dac5d3800791302b70b627665480a5150dfe1883f2aa500c511a45e3b24f47320583b423450eb573d01f60f9e7d2c6bc029738f391f3e772d47a954ec51b574de2671ee086df0fdd2ff01e47efdc8cd56cc2a5ea59a1a180c407dcf22ceddf0fb71a5d7c3d6d26384cb64c3dfdf0f173598414b8068266a6fbb98172d3f2075dbfcfd08d56073503dc42f52cfe6c3dc90b90a427d47fb0301a9cc32b16e15ab78b04c895490542ea684339a97e77f06cb7b497b659fc13c78c756f9bc7673403624e8105714f5837a0b32a30fdfa4cb65218c98589523b2d55a5b8f103b3826299f9a766c227b16a926ccf7b0cbfc7fe10bb9cacdab1c50790973241cfb4b5046efb2835531c194aa24d1332efd317f37150b4ac59f64f65946a5fb07ff52963facdac4370ae0f56d79c2cf672e7ce0188dc094e8cf7ffe16cfdcb969dc16c7c6177d2d910947a619d3b9503982796da98c5ff68454cd20d008cb88d31677bc9334a3af16f065b1bb75558d61deda489867ae2acf869065cc2264393830888649b30e77a6742205e6c76e5ec70bc6c8bd51f1db034ba37c39126a2bb9f448678c01857a119b87d1792689f97fbacd1c7d995659438f2fae5971f0a9313976e37694b3c550a2a1319dd75e74c47779b3b8930180e0be0aeba248e36ace0847bf13b9c3370074a5e7b559574807f43d11a7fd5a1547610c7edd76818ab3e26ef768d00786501cb45c7c89df18aa6b954ad4c0d94736108b85e3450a0341012fc40003b6353684209c3c645574bd75b62ab58726fe0c247da105d8f12ac17154d9c8582e771702c47afcbff456c839a16b931470c4f37be756788143de51fe61fb40b3ab00e50b5b032e612b87dda6cd81f084e7f86dedaa483d589728617e2d113d58a7bdbe70e33b29e9b8cd22d9cc1a718276f28666f3cf64a74f507a05f93fca4c7411e0195d72289a386aa16b2439b2a5fdac3467b3b826838339aa7fff2cf1f8a36b326053305875754434671091ec72bfb808b4e8c6e38e6b13415cec4d134b24052282ed94b28d8f3f4d0385c63a0e1aa1fd60d7431aa40dd8b7d8cf8b4be971ae5365b69eacc440222a5c105ebc882262061e679f55422c3264198def38a119bfc2322588a2f934a011ae8e6c9ce30976b46e007e225854f2737c97e0aa2f2d6a5cba934beb587e472d5b119580797b7f3a8ff673f46992e8cb175cf3b6f380dc88a18f039c8ed164a966776bbdc8a3573ede7806fcb5b4992289b60cc22163a235baf09956f283b899b544ffd00ee6768bd96fc157981a329643870c30bfa10faa75b8dca1b900581e76c46fecd17bb953f07d11d4e55ba714e4321329fbdb35866f9d3b27373554b7af17a377c53dbef6ca9e5f85105c632c2247dd6ff184ac6d2d30e815ce88619eeba5860c92591f1c91ae40241f8ac12030a0bce160d614d9496f9d6aec1d3f5030b4e77f48d9bd2adda8c74df39e5beed3edfaa7a83d8d83ef6761050a1a042babb8fb48cd4a9aff04d70c42239580f0f95f8a2197a0171af7336bfaec9711e559387af6d33d3eec3f7336d9e6eec57f27e5c2d5897a6d4be731d3b31b5f99a4cc09125bba8abe2caa31289d95fa5c66ed3d125cdecca817485b957cf15950184085930606e4afc4850a52a02be237a18586828482f6986bffea1498c7e74d6f1780dc44f27bb8cad43ec8a5c724441c1d3cc8eabf1e280dafee338e2874c9fd3fafdc8e4c513adf8447f59f549d1b42ad7fe9b535362672cf09d89e05751d4bdb3a36dc123b937e30d75614f01983e19dc162cbea8518c270315ad85c320593cd0c02a10dc3d7096beecfa54eceafb50c8b23fbbf73f6dd028a9aa5572d83a6924cf1483bbccef0412a9c66dc2ba5424898c62ae2b4118f56aa089692a90faa23ef5ae16d91c0523cc48616706f804880a1ddb47dac0c82522da6ef7d9abfe2a719f818f24d3f11205bc074b161d94b500b50166314050894313e09d96bc8cb7f17044a9649ce09a3c66c2710dfa8a69507e287bd2a552b9b4a363e5dc79b3e94454d9ec2bb3ec4c90fe334c879310510e4ea4c06778ee7eab2d0d1b32d7181bf7f8eceeacc1e31da499a8a4dcfe62a596577834f8b316cb7d06e6d07fc47289556d66b15442e9b656498b78f858e9d87850d014143591dfc59521ab698be6f0d5db16cbc7652ef507c07d7c86c40786c0db10225d58257ba1a42c052be8694dd77c5b0252a544f28dcb98771e248042b8dd6e71b3ac26c0621d3edf67f1445cb8186e7db8da242f97baa97a22d56f8a0310a68d2a4eb1703500316d3ffff27a252be35924b0e8509c6ea4d537bda9539c5f739cef20d8b1bad91a47f272fb4ee57556d214d9c473c89c6f2c1ee2d75e121bbbb08964bc5aa8fbd5f325aab2cd4594fa2b0aacf1e086d7087adc54bb535adcc5dd913b98a063451dc85bdeb9c117fdfccc4f64290b42c199b401d961f7cacc725687e75b39f0eccc8fdf1c8e87ac5f4eb343afb04bfc880c928754a60ecfb7ab1965f97ec74155d6edbef32cbf460095d55973707ff005529817b8d18e096675d62a66e249116e7868e8360bb7ea57d410b5bb71ee3442195677ca775a9cfe3314bce249d1a0ebf4cfcbea7eb9fc42ec8b0e63e948d8337fed984e00bbc1db9d8793e48183e10d847f46524b544a3d321d8439e842d91ffe31321c7dffcd2bd2da19cf8abd68609d488eae15256b21d255b51beb2a35781157d251ba9c3d1937ed7d685c41ba0efa531e102a77f980bb80a9118afc0fc5cc70ee7c467904e51ffa0fe7810f5ae9fa2711168f897f9cfd0289281a473140f7138a613d909cf8bb7c0d0b680fed1935cff980816d7f7ed59a01ec47e2ba173706886c43462a605b052ec4a4c871cd3ff867a280933ba8ed83f3a1901e4e299d5c61daafc461d427fb7708d1ce00b6222491e3939cd1b348734252afe1af4b4dd6a4806962a8d216e0a9d4d887ac5a899591cde0df15b095c20098346017d79b7c5887d6f5a3b092860e0a9f5c51f04edbc43006119ef993ae67046d46ea4f66d56f1e6982192e1ced407c7a2387ce3f4312c67b842183e2d882aee3a45a1eac04c8df36ad08e323a5081fd5fe44d6a1b0ae06400a68c158df5dd530409507b99e8c5afcc7ad0d86b4576115e6a86ef3620e8a0e39a2619a73d8d9cdfc58e9f4fb1f36920464216d666b432e56f5ac8e6357940e6a4d42a4199e111abf85430062d0a188e635b34f9ea88264179365a46b14717d2b1fd7c5513b4771bd95bd6c799f2fbd62c2ea36f1213c6a0720278f3abfe860a848b431a9ee89a60f03b3f1e977b0d139b2f4b08df3dd7265e6d55e503fa7245d2bbdbca0eae6cc2428c7e4c36dd9b6ced21bb7b5d6822dde47247575783a0289413ee5432205d69824a39a340c60921ca27efb56c33f355d740acda9ea26beab7572d65932a5055705c4b10b7fc0ffdba71eb97f9f0e7865b7336d898d28428c2abd9210cf9c278d9ed9424999dcea7ec5a770bec4c86cf2a24fed63a18d723af7f063f005c885411b5072ee81400f8bc4063113bd6428fb63144481294a8763895b3afcaff5b8961a933e4ce8964ea9acc649a086b4a281b40507eb5af466e882a8a9f366bc27c794aca6cd83634fdd2917e4f58c6bd6b1fb33baca501274353e52dbc800c640ab29d04934a3d01f75160e3dc4d886d5be73aeb306b32c38ae1089a182b586f4728871a5d62e0e3a84a423cb81a1afad7793fb16cff201464af7c57921db41b9400b8755c96a370884434ac09cdbe73245fba3ad3ff9cf859297838a56042872460b5e7c127cee9c263f539de41ef6527ce7c54a7435e05e4da0b8d5a657d3cdb74dfc597a56dd260e4cb207b331feeeb6a4c08a85d11572b6b429ce1b31d8f8eed558c8c4b9bf874aab9b1e8bfc6639ff1735c04e058e854825f4db75db27180900178bcb020bd090cafc8eb4a51ae8e1c7082247083046572d12c8ec9de39a8e436d4764edb59fc7a77ae2ddd733cd91c405f3272504f84a925954df71294d365687b4d6380c0b27ae0f863b2f94fa0113dac1f96403e6ec7bee9be75f3d26bcddfc4d14dd6348374870c48e5e684fbe8fab6e4e5e002b1b1480f6769c28abb4300fbdb2fd688d65b0e6783ba3990a880daf6a533d6d808088aa3de0bf6c2071735430341e17980d3688e898b45435869636ccb0b139f3b55a387455aa6f0c4e287e80cb744a9ab44696b729e3c19f62aef7bc24eb69da4e83289ad14ad0192c0734e4375dc75eeb20c48d3fd28d020360cb16f398a40ee7d1ad7047ec8b725dd3e011324e43be6b3bf8fe75f9428df4463fb75d49cdf59a8339ef070ce3e6392ee3f1c7af94ccff04d53cd394d7b3f08fa1ee0610a5c00366b3ed247689495f97ac4f71645d17f031e082eb9834e0c3c724e7e5038c49d7011f89aef9b4996f5be7d191d67b0fe9ca5c1f28ae5093a0e67cad6c508724a5985900f5148d98d6228898905a54940eb855af5bd6ac7793957264407619e91008dd656a8443448fb0f0ef84eeb96cd3ca0b011d530463e20d0de9a1a4466007935fd01cd3148f37cc5a44ea549f3f34432730baccd1fa9da7ed29b3ad53573cbf79257214191a495954d5ccecfab540fdf94113a94b89ef2140bac5e862b3ee9f2df0264123762d11448d53e8b3a48d0efe56f75587bc399a76d496ad260cb82aae927fc1ed7b240b0bb0cb548210c58c4f80faff78e2fd5f89b56d8a61a046bd39cb977e2039da31313b187d5bd0795c1a07fe56957e47e2e8b18f65e1e20e05dc44b0fd31831a5ba3a70ef09bd9c22da6cd5729bfc62d48513d0585c1ac3f3aa620cd3be9d49fdb23d62ee2fb98968103fefbfda316d0c054f5c612c6f5564de261c7cbb095f3d716a5d1dd9c40ae9f6e70fdd64a1e2cbcf300067f3e68a05a2de2249bd1663d520e5ba069a2c90cc56c4a43e921e83187386df310f6e112794f58a73bf375b708e35126337ba5e2d08b5fe9f799a7cd087e2fc07f03953945db3aed781b4b8676aff3e81bb947f5f2d82e09f3193f738d8bcb36448170678db3d72f20769b811a53692f50a307f5a7bae3ba9b5996e530db8aff7603fb82f72a5dce0124037a25a4bdb70d1cae55576d0d3f26a1543d49bfc72a6123e5f7cb77415f15462543cd310a1897c01c06ba6bafa97078f3c780451802466c02a7e681b5c3d5216c98fb5ad7655be6d4a1ef63920f637bcb4937bb8f8f0e429485e40e88c7ff4dd8d1901c689a39211293d29e7a92937d6aee4417abb5cf6f13ef523c9482a0ebe7d21d5ac4e870c3e23a8832857f2ee17d38453c11da9b1f96467fa3548778f409d2392baac5f33db5aadf9b9a18ed9ca48ca15abc5294338f038c184dd1ea57092ecc5af84d603f48b2e107ab0c4ae24d8109601c190add37f4d7d1b43cb49408c1968a898167db9ea51fd29f3d34ce6e0714b797fa81a0375395caf600958a05285eee76b83f850e109545c5d5bb0d3aa9d0047076ae1cc0cdf19bd2997bcb8ea312ae6c67b77361dbe7a9bdf6dbb9727a8f733ec5db91bc7c85ab630c438acaf1c6d44f3ff86e5ba6ae17bbe7edb130a4bd22cae2a21477240e3125183e6caf0454c6995f441e564c90a8ba6f990ab91470d733d42a3121601048b8ba121f3dd0a9ad28c8082ea2aeee2ac08f820483edfc49b0b6da7d5b7288a6e6df477b923c74be591ad72e5587f9600d063478747c1bd19d3cb0760fb8d340d8b4acabc9aeddf64f5b1d28e90922b46d282d2acb5c45c1d6e36ae4e06cbd9e9684fd0474a3b103ec310f64a5bb9341f9aa0928ceb397a86a93e00442958283ba74d355ca1b7c393fd91076c8bf2ca6d99a8fbd626a2345d07ab02ad8346da3fadcddd61ba9760e6ee4243217b44dfc0cf1e3a8bace9936fa9869dae2c28460f65da850c8207c2844c47e3ac263891a9507e140e436193de15d22cb8e264d87e9e5e5cd88223457b6f97e54bc5b0dba8b4a8a64a3282b7f33be8ff76cd237db10d609b9a117c70254f2e3eaac301b37bd58bac2367d146eb86904606053de56065c338a82d78e1525c392f6e748c2b19d3c109da8a7ee89468cc478f2d297bb87bd62755bd8471ef64d78955faab2995f0c3c61d6b27a8ae2283b53653a440d968d5c8ff760d338e5a765b7d6d2d85835f793b4b5b107126b63e9e28c1ea022bdbf236a6ad3111bae4841783dab391697d25653d13c87b7496b64f1625f564103a8e9c5f5c6cf64acbceaf7d3213ca8674310716fbf003aad0b50a0d215324e9c1e0b9a1ecc14fac691923e1be83ae5d319daed7fb8a312e5ff0bd288bbb219f630b9731ea3a79b2c0a4ed6a570866967a69617de4bb300a7a503c9ff456195919e90cdb0f420bb3ec4f8c3ff2dfe1ef84fdf6235102feb6a70db00f66c34897c04de9f7ff5d5cb825dfdf897677239c318c65fc559984d6a28a0be708139172b5bdf1903efa7d7ba5b2c9d8d4a43b96e6df5178959259bab1d5cf229ddec20eb899af1cb4c09b55d2593ce5274ad964a19b18e88c730de2e9a8ff4345110a324325964b87187c117871fd0380408e3e2fbb5b561839f124bf271ca69f5c31c2e425ef1fe6e03b87d9e729b32a88b6a4626864b23fb431a1904eea92ed3122faf2d0137359323b44616b4af9b06231b5760afa57567633e839b4c359e0f864b51321941006f0c039b41e424069c772fdcff8d7be8d431200c9f732e1948959d1d9e2e097d951aa2911db227fdaecade75c8be78f0d909c79714e872920aded290c09d1bc683d8c4b4d27d7171a5730edd897815eafabf4ac9d5c568c6cc100a5c69d44a100d901e836f65edcf4442b6f2d1897a1f5ce428537d2c72475fc0fb5b0f400af919f9a9bb7348177211919241b8cb2883d8b88abf9c96c465f27744ff08e68be41df8b7be62fcd308337d7e10c568aa168171df42fe4d02a23c1ee5b43f7a2da0b37890b8e908ff773e9255059096bd7cc12d749aa18d4f4c0f76a559a971f8ebaa0fa24d7bdbb3ae3477a4403998367133dd8a6a82f31373dca5e02ce6af07a06f7e95a2331a8050f5c78e6b8b1062cafaa969fdc919e51a15d98e0f5164acfa54dcdf0512ee017b1fd29c39448c060e63a6befe8212036f10b9e222a404342bc6f6d12dd729f4d90123819dd80b8cd8bb7485d9d897a23d769582b07393b30f1482398215296d3b72fd70a1c34acfc782caaa0f2ebfeac2780d49ec48456ecb70b4ec50b773ecad62c2e713171f7a0b96e85cba7c1eb92915456d0a75024e8a15e7231274d9d9cef938268579999746b2e55f4d41714b5e52f498698411814fe907303e37474f980f134f449038caa57bced10905a7dfb5fb9d0761ef8394de428c296d118040f5a3b45459fdf466d3aacdfb7c48629330e130c654511bbcb2d77f120d7abece4250f82845afa7355bc3f99a35fd44c9e59d8e08f547b8cbe0264e46f8e9ee10a9892869a3394f9d3c5e421f0c6fee6c659d8b179c5bcbc8d3941eb6daab2d269b4039f6de4e84182fe1139e69dcab569ceb0e34b0c5cb96c469b8864a8fa420b616b3e88fb0b0629567d3382cbdad864cc4d21714afe6de80f4bbca8ef7f32505a540c0bcb1482e740de49c09b5e381d9c23deaa1815d537b938f43c24d2f9e0903e798543b53bbbe8aae56c8563f0346e0b9381d91721b5130afa8c1e3e58e9eb5d021cb74e97047e2e2b455afb5dce2e9ef7c59b6a495e6d66d1a4666826423bac56d1064c7512164f47d747bbd89520c85b72e1c47e9169a589a3a0fa474ee1615d8735cf356a41ba1843876675962f575956ce0fe5a628659ba4280d5e6631fc23530afe45e689b60e42416c638ad1bc7b9b4045088a9b5b384d5934d8693b2f16d903e8f873884f441aee2fce3c54250500be7140f00dccbcd71e466e5ba81ea98f2345cec20093946a2d278025effd861a0feb5792fd92611be7221c3297b2baae054448b8b9f48cd14fee81727af940c02f703c4682b6535388bfced34a79441c1ceee1735a74ddc6e8012126de1f24712895e59293ee3b5af269a5444fe235234c111187227973c948e8b75cf315995832dfd837dfd9ff45236927f4cf4485a8542ba0ff5a3fff5dc341fd97220e9dfc0844b6d65365cd12580b7834d4155120089bb1200f850a4442f6d52cdcc9b9eacd1d26c9b018899991e28362878343f35436ef8e2a626fd2344fc271b8bb495d2d8a86a9a4f4a859f20d3a94994e1a2c3252fe1379b97f6fc88318d90fef063b157616654d44759cd4dce032c0b095f96457236a46fe0617138ea77301fb0e130e241421eb09c3d87affffb8bbbad1d001873e8e43827fe9901f4be1c02463cf524016c159e4bf2cc4ac46c7e1ab7ac6546174edfb9a7af9a70930d905d38e29fd52a47c3b488678efa59c581c7416aee94bef16e231b246f1c97615d65577c0574a3e71a5553831f423f09ead2d404825dfa4e796e5d36d3e336f0e3df5694240787ba485b03ba8f4bdff18e8e0f6cac9e1a7bdf478ce030a772f7ad9fc155b509681c6ad83f1f9e8c3d4627c37588ad1306a78aba3f15bceded1da3f2125d63b092ab49ea4e38d67aa25f2d7a0af33f6dcec958c27932ba3d7a117ef632d9f5948cb3a670b4a4166fa7810878b0a75619ee47270e50d103a48c44c9cdcc081882361c97815b0c26e5f57879bd733df5cc3c95efbdbb36a4bea6834a663667301062f6166b3cc2b6cef8deac3f3d222e018cd26e303a75e3b1df80abcc96c94dbe76aea38fa656b790f48c88d6d0d140c85c5aafdf1f171e20c1d6be7c339f11c6324f568b1990e57c5222eab8b27c1a22b5b616e130b757a87e83154753a0f41883115d899405a8e2a339bbf1e913163416ea2bc84b66e47f55a05531c1ad401e8e421309233b054e120a0ec6dc88205b58bc89a2cfc77aa943e4a9567c133827009138a6db3c37d037d0bec68d5e275547f420d022afcfc6507db2bb15b73f517fdcd2ac830fa439aca3467139102d261412841341cea88c21f84a65f37d6825f81162a0deb28f5932f95708637196d32bde19da5c3be8bd08fb157b997d7141a6f2ae3ab3d0e7d83f9e634bb20842928adedc7aa58f93d24794c783301efdaec3c95f2b57ecaa856d85d2d7e94551751e5a7742458b2dd7c398c062003b189f20070fe4ff1dda2582b37f38cfe8f6b2fc0e4baa84addb700ab18b5fb88a8efb95411c090426b21b0a4574098fb320d3a8463529bb22cbddd500f9b4334b6fe848a2d1e73e71ee984d1e447158304d7bd0f4a234d8d9c5c4070df5ff3bb54c7faea25c351ff7a852ed58e26bcf86c6f1d62de836bd702d0ed1bb9aa8e7eb46da26c6355ffeb13d12ed959b919aa32eea1a6be5eec45f2d4a6bcde7b37f0e438d50381957fb2b951fd6dd03089bf0c906518833e2dca65e07a8dfab12b03b44e76ebd3b705b2d0b259399ec7c2e6a944955ab8bbac906fff2f7ec21b712ae27d1bfa4c2419468751387238a709aee4ace1779aabc23caadb8379dd942cb6a900727e3f36f6ca16ff152808fbb3813ee6fa9394161c13d1fd3eb0d3d740461a71bb08c0e3e1979d6b6d8d3d934b98045fe8260909ac13bae5bdd8dcef051c94eb21bd7feafc5ab5577b9e3e52cb3da4d20cbc47771465766fc291b07e4556d82d9a327484476455f4ad85c593f62f02c31c2782d60b35b9de5ee42bdb95d658f807e608e9399ab8c22c51cd738e448a14363a3610b64c224a1c0a4817b887649453e9a8de8bb250557608a6234bfc0e2bbfcee32cbcd99ed9a29e37e47d2d33fc7bc772d4b745e5890b83222741dcb6ef316874736d85b5b85c6a976fc4be934ba7647f4bfc8bedfd69c3ebc1ee3ad48e5c0af2ad6468ef92e9cfc787e00048154744a9cc6fe3b4930a3a04db62988d30faa7fbcbdb7f40825005b3383bb02cf3277193c32a7fd232575f9322300e9beee2a6da110e912c3f6e360f38a5bd676f3cad4e675a0c5e2e340b6db404dd61aeb3bc582979e15ad1775f30c64d8ca59bba1cd54ce948ef3e073cf60d06cdbe13bedf49a4169f7e6d07ea35d5c10dd79d14cb66be3e7eccc722ad2c5cad1e10d6d545926784fa0c3ebc1126daadef4271f58f46aec8a0e38abfa88deeff5ccb70897d490b4ed0757b80f17ab39a6eb8e0e3e414f48de6091f7e9fed53b562cb26034160e8b887c4d2057a1cc864659635b10d2cb91536619c6b2be4bbae3e2b5307b1745235b84bd647a3638d1b85d07581168f16a7b139a7fdf601fdf3ccd9bb9d9bbd48d547f74e15ac99e1aed8b580e5052af7d78ce2c9d943dea73896014a412925b731723eb2dfe1e21994ccededa5260bfa1dd91c2077d4659c2ca6ec606671f3d84bffc1b3d6dd894a16783e0df54f527833162993d2ce575afbfdc9d7f85831eadf5842dc2b362f458e74e406e8dba3f1abc2a60ba42da893c51cc30f5d1fcfaf8f0f693d86c84294e13f60f59cabacd030b6c98bbd46a19cf1ec019503f357cdf4fc2441a9483aee3f991f3e3a689d6281015ba46206f049cdb0bfb6a67a3cb9fa3fc8576917af9c4beee8d3b41bef2be3cf326ec2989b3fbcf37de1919dc07c99c52793adc358baa62f5aab038ad71b763fbd28f39e799214ce621868888153041582066d4b168ca64b1de3b303ec579b03c9b62d87e831c9566604f28f3cda3390d3ff0ffe9804b5ae084b3726678bb7dc417c418f57e34334d863bbd16af235f61c177d32a334e89baea0d48318518ce82c0b602a8b473a89d3582340b3fbdf06c8811f771189b9ad9bf0125cd1eeadf31d56b540efb93174ccf46d30961027b0d522aa01cccdc762a9483bd3942064b618bcd240b2192c64023e0f584e4516112fda99672f4f4d06aba72e041df6f48a018492ca650d43637713cf7694e3dad831c1205063a2b092632807deda05517ffe492a65ea3798eeca88ab728c5b27e5b83a227868a9eadb4c6e54801f8b0c1920a8c3d08de90dcfb5667e2981421a011040687e754dc1895b8cca63e3cf850f2e4bbbc0e2bb85cefd42085ef8fad88f0c11fddf43325d818d42f06c3da66710562c2e822dcda5565c9351321611a9905f511bcbef8ac906317bbf00985e7d04075c4e12c92b75aa48f6d33a6aeff4c5181cb1814241023da84c87ca85325d0c5913caebe80a66234e0d9f611d89dd75dcda16f47f72e60365082af6b2015387aa687a2f30197f04302ac103897fcbc79e2dec5a7ee4dcf0f54ebd89bd7be938995affb5ceebc6fa15addec1e5e99989bb02571fd3af11b58ad6ffda0cef6faaf0466cb2fcc53df6aa1649d2db470e0d906bbdfbb2544a683d34e014c88b31e16e25daeb7357124c1ed8253632c94fdee3c020d26d50a12f32d42a14e7ef965f2b598cb6930269e8ec6beb8804d4f4a6491cdc397754a6fae5a432d40677b99439d92bf2094adee697b058ddcf0ebec46ea0a75045d1b22a651449f0ca57be08818d5613b619608828adab29cda4ea5ebe7c88bfbed2af821277387e4d5fda0d4983441bf940436b0a0685627328a787901c023164016fac6d64cbd9d0b8243647a624cb6c0793053da7d1ea654b44313910263130797168ff7fbd9e147629586fa0eb47b6f0f4d2cae286ad5a82a3228242297096b95aa267e0bde5a733c209c634f5507b76e0ef8537ecd19cd23209287d36e93dd98a9957c19c0bf65e0afc5a56b8f287ac942cc00da29b9b69d3bb9f057a8a8d9b8ee22630ffc3bd7ce576281105c32adb2c8c227422d84bb524ae49854fb886e023667601b5ca5409958e2d749e5e2e27bebd36deb29a015ef050bd305610b08533ec87e78f6c9e9a0d54171bac602a51d98b661edd91e5bceeacdfb4a77d7fa6ed27dcf09b9867ab2942010ef8b31e12d2dad2b45950bded007184e99bd832cb017b5d416045bc0ec173495c0c018de91aac6f7116ec6809385d6ea051b2acf634d4e2ba4c8599684768d981a4daa14d95afb3313a903892bee8d7f1612aa8a5bf178d8dde669c8fb4285c3854b2541593c6c45f867e5a5c3ae73a3657c403da8f94d1160cbfce551726e4c801a1f0c90aa90b1bccd1b017caa9cc708cf3dc5e6ec5656c2ec56cf657ab1d280bd92e87d5f2518e1cf82a13ebff0bc3baa6dc49a88ae1f6f6f2e7a978326a5be65f3c7a05452b445063084ca27b5f5c478c29183544b01be35b84ed6a558170341db3d2ac754ecfdd5d82c0ae669fa13671225680df21e1bfe101d449fbbb75ed337b5a55fc71b6ec9b8befba48a780ce2ab8803780afa287c4246e75b1913dbd6a80f541d0ca77ab5761026bdeadd056a0d1a7d0c1ebbb50ed091dd522efe8318a88777d8a5efd9e92a50bb5cd1af3bbc83ac621af1c27570bfe74a0654a51d4c9974b7b0d2ed8fbfb79ed8b8c91def4741d0539545ba3c2ec0a7d18aa34dfd69b8f658c3d032c74491735f80ca5c74a995cade149ce5d24e2d486cd054843e94561ffd6894ca729217400f75a3849374841cd75800e347602d87b2ab3dba546c84b5d1a0dc55b2931bf33bec325493ba191bd2728120f00ee30b2d19a79c16cdb057050f3c6f60bcb12995dfa93b8483e971421a5412c9bafa5f7e824380a1a5337877afaa7ad6a29a34d1b399fe75fbb9e933dcc761b0ff3b554295b8b9b8146a5e9f786b3f48f63a0587106ce8c3778c527093299b65b5eac0fdf3d717fc8e97dfeba5223a39811642194a9310d2bf9f0cc9b84f278b16a20076ff6cd3eaeb1c9f997a4b0e9b2664a2706155264a90a198d1868046c7ca1a64bdd47f3a3e3b6563acb7b81dbca2e3c5fee964083effd95479d8c1b168ddb58b7f00f242f2fd93e2d59b75f866ed76532936ce7ab3817d81061a1b97a09eb490d3e28f86b6e63ea7984b29f8af395625f506c0c4072e1ce24a2736d9a5fc769a8bd4c5b2ee8b3f1a80463bbc127ce79327a9f4afcd708a9bbf65407057b26621c1984bfffbf6b2df7b8b4bb140b100f9bdaf266637f18f83cd31b6bb97b68433ce3f359bae59da6ba534deeb0a878b273e3ce786e38968bcd4cd777f771d0a877d880e3492ed29d64ed0b96af7d9d08470f7975a0481f8874c778b12a16d12e17582f50192a09c7c0b9a4668dbb75719bc2f59417d8f70bb9ab98d8810b330521db9ce07fee9725f750a8e315b714056119653ae1ab7ad09e6fa9b59b94f067432afc201b968430e83196c9d4bc8f20dd6833570ee2b3bd9288e9527c1b520ed86d4eec437f7f1dc822829875ad1fe55f6493309b844cfe7371922d03f40badec44dbfaeeeb0e48bc7f3549c1f41251938f77de188830bfa03491fd99e3c9a4bfbd21ed2fe803a5e5f6fb286611c52f9e2e9bf14c6967116adfdb62d249d8a55bb731873f8a06e5b4897662c13c6e11b141c9e4946330ef2c4e8ab97e9562292fcfcf0259e0b099e62a4e80585f552c4e7ac57e57a35ad2613762a9f82ec4487916a0e64885222bcef8d871d63a7fbdeea074323ede8dbd53d9e5c8a116116aa5385641823c86b3fc268aab3baa9b4ee0c65862a36c1a515aaf5877194dd6e46989dd085b71732cdab5cc281add7d538f9e5c80c4abb7c486b964238e2f41040ae087510ef23312daca49939e46cb854663bf2791f1a401b03a9a25d92de0fca9fd849de043b6433584446893e5973d3a2e9798e871d7de360c04b113a62de3200bd1ba883a6a4ab357f38478730754389b12cdba3efe582c56420289d31ec0d5b2455e82e171fc994c327ab993f4539b6a7cf7c5850f21ed4daa35fa625708942baf97e7dd6a91bd07f223be6e85eef19e62b94f274a91e25872a09c3dc19a2069bf79d1b66cde033ff5c0688f83cf96cf8b7c8ad727e4d821bc488376f8a575e31565494a941b40d675fdaa2b4e3201781dc547e668cd3cf64282ae0e1e9a24d693e604e41c6f0ab001c04e6711cbab5e7c3f3cd831c9c9270cec72485e6691a9e1c39674c000d055244509ce0ea8c1212099d41505731bebaaa15212e208d896410c98c01cd44974d46a322b83bc7e4e0802c028bdf625fe971c65a11cd047db1485f56918adbb3ca9d89d5f14af890d1da33a0f58732fdcfdf9c33d1ce84537ace02ba3db7887ce005d0b45544817090d8d01c223aed092cb0f5d644d1b18d8f2607f5c03b17a0905e4a51d4a55df2a5b2c056f88de2190250757dd6bc04f3fd768956a833c28d2d3b90353c96d38a7087e27f13f50a46b2803004ed758cae4ae260980a4c7022d3834b70041020c10bc51c9e44ca7d5e9ad2b2c63579721ba9e27e59e3b8effc443eb74b7a8048ec363012a22be88c7e50eccf1c88c60eab8cf5313cfc717aa2589926aabaf220df80d807781f2c70627472c6cbb05e6e06d63893d0e6d377b013326a05b3e96e74b41e77f490e9ad70f65f230284f81f006c3fa4a1bcccbb270308cc62ca37ed949115ddb878b21f74be47a3fb73c20a62fdc614915555e9302e3d3bbef458722c425043a3e1507813311b31fb41c1146ed8ab2149d49e94efa03a39e998e060c73d61853b54ecb6c8cefb290af80d26806d5ef4ec6057aac3fce0a6a44a561809f180151be85030f338fbe17d4405244e6ab697e94c6d8797600d64a1688cd7000614a94858cb573f875b5184923d1298b6f3670427adc4210ed5e51fa0abd507cf9b97be116e95058b69264f2394d3a58a7aafafda3f246457a0b28b62800a2ab79c24f49fca0f6b12f9245c9e466ded31ab01839bf344158ee596c964e8cf890e90e373523e011597ce7cd2b7f521160d59aae81a7ec3442028983e763d04da94eb4541574e1e415da751b552c5fc118a5ab8bedee18724f0a83e4724ecdd6bf0ba6b097028b50c513e0377a17b73b9d9770f1bf15512ff319469f1b3445992a15197a6feec96e8e2ef259f5b7346a1d665cac433ef5f53919433f140eb29f46c83c885d357222c6dbba5314250fe5cfe24dcddebfa8122d210467fc6d3a5b2519ad3a9a26a5a1bb3f75987d63c4cdb9b22652901384073768608d7477111efa2ea5270bcc1a33b247850f715ba3d5c6f2482cf376e065f763c7cffca2732457f4f4d332a6ff85770a7599e3ced54913d40efaa2b4e3bfea4277ce7a4b5f144159c0dc32115a17a47ee587bdc692bf1aeb4ddc48642c9d0ae8915a3d0d5d3ad7854b56de1bd8c513bd34106f2ad16a0d72e94381b3fb859ae79d1c2bb7160b820048c56722a98ce165990fc0346df3e82928115284744c9ba6a58bb2164891d320740e64be8d39bbda203cef77ce3b503bf69575b981c81d17ce620aa18fd7ff8baca1893e539f9ef4cdd3c400f2686d575b5d5ca78818d20e7f34ce218ae5f2b90a817c9b11b00fa2e7fc12d95de72d240cfc144396ee4ddb3b4603fd543111061ffd306a67df3cf24d3fa89cd1c2faee7f9d07aa34f1fcdef1e7b490e8c58246c0c24f283de09f9f5ec45acbd2267e6f24275cb952eb212ff7da4b6c8f6ee1e2497e84a0d12ca842efd0384d7f0ca28c548767ed46b009f8abddb15e1838bbebf27342a79220863211325958d3dd8748aca8c9d100e7c755d667d919c7bee0df44cb7952a8c80332551fac9728c89992d5750dccaa7c6f832e977b6b633b1d6af62ca0486ee78d8192274179483cccd394ec7447b5535b2b26a581af43ab1675828395e04a873a64fdb982ddec13887f96b7e452cf3c6da54d72eccda954fc5bd64c20bb48be67937fef137b0a8e8cb09690aa5d465e473c373b33b7c2a457b8c89dc9a9f5097beb2a3d306a8a5c89c7ebd13f9fef792844c9e3b9a9119d05c3b2f4a2b9ef02438c44e11a934c7cc4ce1c48abf71e9c8d352d794b923a30877ab9aa6150300bd35345e02f83849df597419b989fd6dd718b31f73a9b1aea0fdbf4dc1642e066345f67241c1bf8341ebb9d1b97ed70369bfe76107ead5ba0da8a943e157451e5129241c2f6dbee43808caf09115762d794de0b7ddde4c12a0d30b59d3cb5b74d78e23a648a5076255afe77f0775c8aae152d6f0944cae5d74a697cd2a62d883d77a2e3ec2bbf95f19612b41c223608fa11cbbc4aca662eae4499b5661caa3b3a98b8f7d068cef96526403348d231f09e691a80d52636ee1803e7a4fb2fe886375b7e09cec904d6abf6f9b5b7bf3054c1888ce657bee85bc5695ccded2adcb1e3b2b3e12c8c465feff340d917a404f392dacbed529dbf587e4eaaf19aeda351fc8ce923abab7aa78ef3d6f09f32ae0417659100cfcf5b368c78bfce0ca87168b486be3f80c3ebb2a5e254912fcba2d28815b074186ce5cfdbd74183a3d4d9bb3683790a00f4ba9b9b08be5df6e2b96b2039b43a92b5773e7be5bdd60e399f2d7c40260ffab75b33742bfa2d4b2baf9abde88e150254f1bc44a70ca39a963f2020f8e08af106068010c8fe4949cdb4f4547053b33aeed6dd29305a1f8ce4f357ba38393215ccfdd4dfc6293f7c8cf087f323a0a0c614ab7b0796554a94fec6d5538d1a797a846044744a9be2affe0c0b9ef04d5c0de28767ed9408ccc9665fd1037d32b93386af2a6a8387d95734d8b30ec187c9a2e51cff5c206e762218d2b782f708cbf747aa39d2c637e78da1a4885dbb4f8e222716f8acd803994d14bf26c9c9c849ee83dc9c581f793ac335d09026ce161a67dd1dfce860fdf54d29d96723230f34b853ad2f808ba4158ec0393c6f03cfbe39833935661ca104bd462a5a6332a79ea3b5c6ffb68feeae1b7afc3350eabe505e32413b842cdaa692a3c8a37e3b7422317042caf24635b9d72e2608170cc5d8f924f0445003f0416bdbeb7b532909495dd7518f415a117e209433063952f171ec1a796a6107da27d92e1124ab706a0aafcab6eb469c0a4954f9d96a79a601669e2958020253539eba859f68c38dfdca3bc8c136ddad90a0085c96aea72969b019f596b9a30b57b01e5e241872c327d5dc19d14acf501ce2b74ca9c31f0996694d2499b870c953e87413cf7d79bb17bdff2b1422ab9b14321363a4ef72ff908aa9dc8b469bf34fd514d6102bfed18ce576a92e8f5806f5a06fd4822ef48e89e363c677eb990142685adb67ba3412f5ed229a89f76877a714d3d06f95a6e8b6ae0219dc0f166e66c14181dac7d5e66057f20b5b317ec1b3ced2f09c6d8da31498daa7376e5269b9f6ab689753d3ff7597e6e5d13c9f729680aa02da8115b93cd44f873bcf49030ee75a4e4be01c29af491f914e2750fe817b8debaca41c5b33ccea7d1be2acce8a7cc70bfc72d9575e13ee63193642ee2a70236be19a1ac0e8ddd49311d6eeca6659d5dbf8849024bf0833c4caf89006706e9d1ce17b7505a04158e1c337eea4704767b58a737bdc1e00f26e71d6ed9b08b029d788bf38e6bdc739cacf2fcee18c51644caaf3e0976258ed3ca09d16afadecf6f7c9d3a380fa54224f21a81925e7ffd7e7cc4a9b587d8d927782bc898777fa4e2a6ac63a41211fbfaad45151cbccdd6db5da08a41b62222c65bfb048eb2b5245e948adf01cdf12bed30335c10f7b0d1e7095c333e3e1b7a49c98ac71e5c6a9a9148e479faf9c1ada532285752d34aa90f20e5e8ec6bd6fd175b62597cc62bf7775c0279277c98a2a749fe55fbe6dc05712410d5cb1192a31a352576d49b9d47d53cdf638b2c93be153fb8babdd4d5e139c0a450695e3a53718e859dd87dd3a9316e7a8ac3512727cbf2e883d0a6843e422009ddd2028e685a666def34857bbd28b909eb214cac6cf39aa4b051bb2dd491775676582e320f69563edac1a104db9e2cd58fce305750002dd3f598c8227dc9760cb22db8b846200bad584c7b6314c5fd8134285977da1a7e774fc7311d3d0ce92c768f2c76f9957ec2e6ee3efa2d641826fc04ab27ea32ca6d2778c6206f5c44c2cdebf4d053aa28f62de9f5280ad67a4a02a175dbf287bd735fd3f21026f24454dc698187f7420287c6b4257863dd01f0f33e07e55b49059028528ac23a55c5104d6b2b6c0e3b9cfc9dcbce13b9d1c6066dda3c7aa634c80100d0915e00c9cd8911ace0564b427835f0fb97e21c3f4d8fc640319b96178db44b77d0b076a6ffafb195d38ca26df94d2aa886a2716479bef7727bddde3e2a3d6db8c5a3f8fa60f04365beda5eef43d3e7c89be654e3a580446b542b059f580bb506f6d6dabec6b25ea1d4d56e461b84c1fee03cb2295c790d997f90501bfa4338c3cef0484f9910aba9e2c5239fcc0ab54fd90ddbd50635bac874cf1015b82df53e1a8f3cc1c549790d53014e0a368cc05dbe4754da73743d4e490230115e55850ad033d1ca77a93bc7453649bcc0d263199f472c48fa74b8749a27971163d9aa4cf86a5f9ce30b037d409a14841219b48629df2d569835a31f09bf7d4daf952c5a7ea0092991253b346c2f9f2ebf1b78c2a4fc1b25e901dace56097b858c461ddb0bd92124cce3c8a738080e1eb1a7b4f05087f0563d9c9ae37289f1899fcc7d02f6e5d71e13c3429fccb2090d3f52cfd1ef1a017a6dab5d81f455910c788362f3b05ab4aa9a1a35097979091851870729726595fb24bc75d11f0595560c2fe45b0515e3ab2eaf3119164e57dd2d0bd1d288398ae11b5339f7134768c352551aac7a9a5e02fac84f9a86dce0f0355724567f8f9f38bdfdcddd8e6c061d9a2c1dda6a8572f71fecb5c461a25234ceee6cb074013a3d7354601882938e7ab934cf2b124389eb340497a68951acddf4807f4889437d77827f18812c2cb0a9acb16e8c9d7e17408caea640070eaad8a869f041cdf386a0cef0d261f68f7f3e008de14731ef03209e1745f85630e81217d52d22e4947a0fe12e338402d2784f0f2ae32fc595c5a3932e55d3edecf8a7909ba91454fc26517e836dfe941ba5a578986c1120113b5c7cfae0610dd573eb9b6cef68931e991cbbc8b79d0e6cd4c826481ab6ccc1bf0ce61f53d401211628ed4284222d4be356f2fb5276af5104a27290f060290fddc8f71ecca81c06db74358fa15913e423d52acd9a1448535c01c9b3fe80dc31cfbbd98ca0bdb87ae46726398881b3750a2dffb34a69e088fa53fbcc2590db945be3fc061cb575ce28e58434491b78597adcc6e00ef2b4ae043c3d0911c93213ddcb4161aa23c0a74d4f0e82ee7c05b6efb163ed85448a1149924741bd9e0e77f7963e2654c66bd229589be16deed7ef2406b3be78e9433cf08f9507c365dc021335dc2326ca6d1aaf56498b2f1fb1a8bb97497cb520575f77732d3306a6771b2400ff3548a981332e4bd70a3f93003a039695324300fc277b789f4ce833692c3f6737c79c750cbb3381e133fa3abeaf64d3dfbb2049d2ba02b2b0b3058ee20aae0ccbb34bfcbce4be1d60595e3cdbacac078f41422459b3dad495a976e4cb66eedf134a9795a56d942ad528028aeffdf7c13b3202ac59a801c9364ebe8df65b1c6212c3cbd5af1685e827c09831e99c3e9d185cbc926daa646cf8be846c84912d654eab4ddf469bbe149309b718757c29d951c0d0f5d82a77621e364b67d1f844206d1905a658f99badd4a2ad44c5c8a0e995077d1e8e5e2e9b36759eb8bb1029c6f193b53bb013f0702ae7caa132a625b430cd6d9bc3c98833bbc08b8f7c7835bcd12916aace5492801b9c8fe77cc2a33aeff6e1f52c77b3395ebd583191b49b9cfe2ab83aa94167e5579ddc1e8a96cd38e6d91203ac5b108884e0c9fdbfc48ab20b9cdd923563a99b507e8c3ea39c602cfd868e42b070788d4a488f74c9d683fa776a8f33eb8f32e0354ae8de935790de92e831151f7dda230e4bd3b8f9df02fc068cddcd212de20e44b643481f3a696a5ee4a66477f31ede8e6f4aac29d50962a618e0017bae651b48ecbc8853a2013af0f1fa77c7c8d3c56f7b51e5e4a2a2e36cc5afc29bd57e8fb2ba342c45160409ad44bea6f379aefee9ac019012b66a96527aff8efdb321dda093d29cf4757ddfd41233a40711f7db2e63a1e3f3479229030bc710abca36150b832857e9fe4286a679fad8994b8f8551f6d0db3a7dbd4a439dbc6366e1661fa04e8d1995f31798aa6f51ee66d3fbfed57181c4b276be49d18b63126ddc84c8a65cfad9389d6c6d0dd888cbbaded0bedabc852ca875b46aa4c280250995925a2625a6f5da0658ae2f676ce56c5316f110e27fc714da6f5782e266c470c84d631620b33b7ebfe877b578f16e5cf7a91d279bb05fb24e07540498e0763cd7910c24fac9173a3b1f02a3b61e133fb77672b19fd7972315ac25e723246899df55c8bb58ac2b70e5b804b08276e402d33920fbe8a4e35c09c14165291ff3f8a0f60e5a5e3ff9306319e32ed0918460cf7fed19b17c0630e71de14c441b5d0fd5c0c5727d90f53ddcc2baef567e1e6a658b42e693ce5630a23179169ce9dad089d0851b34b7317bf261a0a498e825b5e007e35eb91ad86c83e006496a7befbf8368d9ec0a21515b7bcb6cc320216060cee3e6ff8faad12da4d38ba63a6df8d05e11e05ecbe0f0800f3322a19100825fdd70352297b084b9a3022bd0eb47b68ca4e8efd74c2d276e5906f340ecd40b7cb98a91659ddd2c758c3c1038d911092b50110bf63abe0ecad677f5e3a5f4a68c3bbacc3bd5deabcb17d28e063a689a31ae20430b4798be140d67210562b5f4dddbffdd55d76aafb41ecf8a306d22ca66b17dc100a559c6d9df5f670205f94308b27aa244b03479c3e16109f967e0cecf6e74bfd6fe294512467618a24a545a2f17299f9bc8ec3be39b35a2031ce75d8062e50d082f77da31280ddda4fcbefdaaa2e3ec78d4ece4e6ebdacff06c6d5c1d9a52f7b46262f4b8af4bfd29395b84ebf04c0f23a3d4287473509c335fd0f53cb2cc22bf287f928eb6f722b71002c65bd08faadff3ad45deeda5b7e2bd6e2f4666b340dd3238f1d8b2618baf5ae9b11a229548fd26b8f1b08c845591b8ff020ca2811fea4dc8b8b809c1217ec1689f98e1f8f1d6e26b83c4bf60da6a08b456841da8f98b4a617e4f9b73f86d621ef464c074649d5fafebb803f72af2b92a4e0b51efd157fb4392acd37cd2baa6d4a145860abb2bef82fddbe2248cf8885126179951610fdaccdbf391939b65781b9f754f33f30d9b95ba0cec50c1a6734d5207aff65f0e7f4dc52f49c160f4d877d54e4e2090450f8518ba8f01a705e6b9faa77fc0024931ee2b87dce0260a67f9f9adbd6c8ab5698d9d30170fb3ea95ce316a46e9ccb1622a0e8602a8527a19dad99021d8108a76612e4395729f7e4451d06b503d6e223d03c82bbf2cac11845617edf4e8d0be5f96b8a5d36b3c4c53626e181d44e2ef8a3016728b47e613424b062fb9f1c2450873f2cd992355fdb86d4755a725298a60c72fe4ba1bedf4fb4f4d43b0c1036554e1bbccd2120bd0292ba1b0c1990a160d19cc37442f8e7673f803f9cb45fca3d6e306d6bf1bd6f9f5acdb9fabfaf82ffbca714efed437493849731fd70e213e7546b07e7d6ced5899a2b5b928da1701f2dd452ba797ea9b621dd500b7b93a164b82a050ecffc099cd05a65e9837446d5ffef4514f0208b47da742e2ae2272e940206dbf896c594a837f6217fa8c7106afa83f9371a6a40475d2cae3eea0ef898af02f22909f5eb4ef54612a1e864900a231c2878c645736f4c0b42955227fa431cee7657dd29b86b1d9542d0fa973f962545df13edd745ffc429a5471aed9596af2fe63410bbace06bd7cda35e644cd4903fcac03be96a1785b4b9b796e69beb054797372000107b504be458d542ddc2424df630500cade9d8a0b32809f43948bed92a0e48eca1deeab0995a444aadd9357cbba92d68be05e1742dd9a3649646704ea6766621b855a80c13e00091d62254302682e1fa9217385322c685f685b5b54a34273f25ac35d041d43593ed3b27a276068298fa977e3b0be435b0eaad09a9609b4edf725ba9194b1ffd6a342523bff032e9a0acc587da54b410e09a6fff35e5faaa91b54d550e98ded9390f5cd956d3709ce91ae82905b0e5910ce8f6666414f4aa926a680c2022d3d524e9b18a870be1c01d124969558c3715fba29ab38e8068f65c5c48fdfbc1c4d99cfb484fd00e016dd79cd822e0997c7a6a62dd3748ae427b2892b3e776a76fe5b80805e65e212a36c618f6585da40511bd62244f9046fba75f5ccd66b5793db0f4b6f1a5a2c8286beb9e3b042574c4be5e3453ecca2307732fe28e025930dd452abeb015141e5b7d393c8f456606dc6138b01661ab1f8745b013972076b51b8d892053ab56a37807d81f9017186790b5af444d3298cf94e3e0efb278e689bebf0355be172c07156cf7e60a89a72d34b1fcf1d3e0f2d3d2b7264adecdd5f554672147c3d35bb1130aecb89bbe51db448a656abdc4c0f420ef0a5458f08b0fb6be4f1387d55a3e730ed70a3d330253b99a886a24098230191617ee77911d84d754739c1b34e7e54dff7f0637f964883b0d5972639d90bd2b8197d6fd6147c64805903ba39d573aefa94c840f3743459452c2954ecc518070d17dacd73b9d268d4b4b02b2705db254f14ce017e5a84b3d57fabf2911ca29f6a7cc7ad7ddc5ffc1a1c1c016a95ecea33a70320dc6991ab036856e01513b6abe83d79b07184ff2e026b25140f526a183100c6367283d6f0668a87b2d871e447df4a63310dcfdc581e13364a7fe67cbf23f7833ad321d59038329705bef46982343e35404b1c591f43b41c3e70436283dda2e47843f7d5fb43b3d692237ecf25956975091d06eb83d00d30b24e51201be24621a97d022e32f4bd417559eebe7f7a11c0a17fc8237eed49b02918c98237c42e2148416869a6ba58d468676ceaca147714d495008790e2eb9fd27c0629877a8d986d13bc309f126b5c7023c1b49765f773e476897bd22b22a1e09e3beb3412e5909f98abac2eee7b625ff7a0580a8c8a92068b887281f9af898b6cf4cacaa6ca276c4f7b16c2890e65516fcb94fa796c45add28df54a9b3076528ab0878adbdef55ece8ef48e14ad33aaee000da999d7c3c0bfc096a235f34677fb46816af3af4b18edc3ff1334ce35ad3c829d800423ddd032b953176c9c34526d4d73b39b9852c4f04154d890bdfbfa7222765a0a7a4924b84d0d870d475e3df9152fabe83a8715a361b2fc5c8633fa07895bbab4190f93b662b9fb41464870b258abb7b9d328bdaf80a2c285210c89e7824a9793d1b04649189c77a8bdab4915b52006870ec89ebc4eaf6a37afeeffe1167e542d34eca089016c6f18b80f192ba3ddf9900044fb32f6026066ca48e65a26ab18240c3c68a00999a12fbf17ab6c7e458242832d8572b4231fd9cb206b0fdebb1e45e0521436bb067a2ad30cdaf875f5443768e0fbe5dade19eedeb6282fc40830f848a4940b52cb30bc1c19f208ea35fcc2e2bc536c8cd98774774389a02c2e6bd09e3c3253ffb5d801f35cd5d5d211b736f0614f745ffed71fd8cadbe4a5942d29a0923e6ca4fae4036d6a28b1c9939cb73cedfd59fe275d1d3fe3b1af616cef595a768847d92888db3127529f9950fe64295c18fdb6891b2acbcad0f56bdedbb02577c048d9d9031ea93186152af91725b6f86e35c1fd9f9d860ed54ea5818dbfe6d2b8644b56762b3b9ec085f76049d098fbf64419286d33e201d918d496ff48d96996ee4c019f96d93784ee8b6884b4d371efad4d57c2955f3c667ac0c5bc00418cbe23b7a5ac25dbeb319d38993ce181f1453338d79840e77614a7349cb946c2ab004adaed14afedad7d66d80fa3645e48cede64e</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>delta-hedging</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker</title>
    <url>/2021/06/19/docker/</url>
    <content><![CDATA[<h2 id="docker-windows">Docker Windows</h2>
<h3
id="使用wsl修改docker文件存储位置">使用WSL修改docker文件存储位置</h3>
<p>WSL2模式下docker-desktop-data vm磁盘映像通常位于以下位置：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">C:\Users\XXX\AppData\Local\Docker\wsl\data\ext4.vhdx</span><br></pre></td></tr></table></figure>
<p>按照以下说明将其重新定位到其他驱动器/目录，并保留所有现有的Docker数据。
首先，右键单击<code>Docker Desktop</code>图标关闭Docker桌面，然后选择退出Docker桌面，然后，打开命令提示符：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wsl --list -v</span><br></pre></td></tr></table></figure>
<p>确保两个状态都已停止。</p>
<p>1、将<code>docker-desktop-data</code>导出到文件中(备份image及相关文件)，使用如下命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wsl --export docker-desktop-data &quot;D:\\docker-desktop-data.tar&quot;</span><br></pre></td></tr></table></figure>
<p>2、从wsl<code>取消注册</code>docker-desktop-data，请注意
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:\Users\XXX\AppData\Local\Docker\wsl\data\ext4.vhdx</span><br></pre></td></tr></table></figure> 文件将被自动删除。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wsl --unregister docker-desktop-data</span><br></pre></td></tr></table></figure>
<p>3、将导出的<code>docker-desktop-data</code>再导入回wsl，并设置我们想要的路径，即新的镜像及各种docker使用的文件的挂载目录，我这里设置到<code>D:\\docker\\wsl</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wsl --import docker-desktop-data &quot;D:\\docker\\wsl&quot; &quot;D:\\docker-desktop-data.tar&quot; --version 2</span><br></pre></td></tr></table></figure>
<p>4、命令执行完毕，就能再目录下看到文件了，这时启动Docker
Desktop，可以正常工作了</p>
<h3 id="切换docker中国源">切换docker中国源</h3>
<p>在settings-&gt;docker engine修改配置文件添加国内源</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span> : [</span><br><span class="line">    <span class="string">&quot;http://ovfftd6p.mirror.aliyuncs.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;http://registry.docker-cn.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;http://docker.mirrors.ustc.edu.cn&quot;</span>,</span><br><span class="line">    <span class="string">&quot;http://hub-mirror.c.163.com&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;insecure-registries&quot;</span> : [</span><br><span class="line">    <span class="string">&quot;registry.docker-cn.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;docker.mirrors.ustc.edu.cn&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;debug&quot;</span>: false,</span><br><span class="line">  <span class="string">&quot;experimental&quot;</span>: false,</span><br><span class="line">  <span class="string">&quot;features&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;buildkit&quot;</span>: true</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;builder&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;gc&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;enabled&quot;</span>: true,</span><br><span class="line">      <span class="string">&quot;defaultKeepStorage&quot;</span>: <span class="string">&quot;20GB&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="mysql">MySQL</h2>
<p>1、pull MySQL</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker search mysql</span><br><span class="line">docker pull mysql</span><br></pre></td></tr></table></figure>
<p>2、start images</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -p 3306:3306 --name mysql -v D:\docker\mysql\conf:/etc/mysql/conf.d -v D:\docker\mysql\logs:/var/log/mysql -v D:\docker\mysql\data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">命令解释说明：</span><br><span class="line">-p 3306:3306：将主机的3306端口映射到docker容器的3306端口。</span><br><span class="line">--name mysql：运行服务名字</span><br><span class="line">-v D:\docker\mysql\conf:/etc/mysql/conf.d ：将主机/mydocker/mysql录下的conf/my.cnf 挂载到容器的 /etc/mysql/conf.d</span><br><span class="line">-v D:\docker\mysql\logs:/var/log/mysql：将主机/mydocker/mysql目录下的 logs 目录挂载到容器的 /logs。</span><br><span class="line">-v D:\docker\mysql\data:/var/lib/mysql ：将主机/mydocker/mysql目录下的data目录挂载到容器的 /var/lib/mysql</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=123456：初始化 root 用户的密码。</span><br><span class="line">-d mysql :后台程序运行mysql5</span><br><span class="line">--character-set-server=utf8mb4 ：设置字符集</span><br><span class="line">--collation-server=utf8mb4_unicode_ci：设置校对集</span><br></pre></td></tr></table></figure>
<p>在macOS设置为 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -p 3306:3306 --name mysql -v /Users/dy/docker/mysql/conf:/etc/mysql/conf.d -v /Users/dy/docker/mysql/logs:/var/log/mysql -v /Users/dy/docker/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci</span><br></pre></td></tr></table></figure></p>
<p>在Ubuntu设置为 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -p 3306:3306 --name mysql -v /home/docker/mysql/conf:/etc/mysql/conf.d -v /home/docker/mysql/logs:/var/log/mysql -v /home/docker/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci</span><br></pre></td></tr></table></figure></p>
<p>3、查看容器日志</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker logs -f -t --tail 100   b02d3de2254a</span><br></pre></td></tr></table></figure>
<p>4、连接到Navicat Premium</p>
<p><img src="Navicat.png" width="100%" height="100%" title="Navicat" alt="Navicat"/></p>
<h2 id="docker安装postgresql">Docker安装PostgreSQL</h2>
<ul>
<li>https://www.cnblogs.com/d1012181765/p/15513490.html</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker search postgresql</span><br><span class="line">docker pull postgres </span><br><span class="line"></span><br><span class="line">docker run --name wiki_postgresql -e POSTGRES_PASSWORD=postgresql -p 5432:5432 \\</span><br><span class="line">-v D:\docker\pgdata:/var/lib/postgresql/data -d postgres:latest</span><br><span class="line"></span><br><span class="line">// login</span><br><span class="line">postgres / postgresql</span><br></pre></td></tr></table></figure>
<h2 id="mongodb">MongoDB</h2>
<p>拉取镜像</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker search mongo</span><br><span class="line">docker pull mongo</span><br></pre></td></tr></table></figure>
<p>创建数据卷映射目录</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> windows</span></span><br><span class="line">mkdir D:\docker\mongodb\data</span><br><span class="line">mkdir D:\docker\mongodb\conf</span><br><span class="line">mkdir D:\docker\mongodb\backup</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> macos</span></span><br></pre></td></tr></table></figure>
<p>启动容器</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --name=mongodb -v D:\docker\mongodb\data:/data/db -v D:\docker\mongodb\backup:/data/backup -v D:\docker\mongodb\conf:/data/configdb --restart=on-failure:3 -p 27017:27017 -d mongo</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">–name=mongodb ： 容器名称</span><br><span class="line">-v : 映射目录</span><br><span class="line">-p : 映射端口</span><br><span class="line">-d mongo ： 守护式方式启动镜像 mongo</span><br><span class="line">–auth ： 认证, 单机使用建议不认证</span><br></pre></td></tr></table></figure>
<p>认证过程</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">// 进入容器创建用户</span><br><span class="line">docker exec -it mongodb mongo admin</span><br><span class="line">// 创建用户</span><br><span class="line">db.createUser(&#123;user:&#x27;admin&#x27;,pwd:&#x27;123456&#x27;,roles:[&#123;role:&#x27;root&#x27;,db:&#x27;admin&#x27;&#125;],&#125;)</span><br><span class="line">// 认证admin用户</span><br><span class="line">db.auth(&#x27;admin&#x27;,&#x27;123456&#x27;)</span><br></pre></td></tr></table></figure>
<h2 id="clickhouse">ClickHouse</h2>
<p>拉取镜像</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker search clickhouse</span><br><span class="line">docker pull yandex/clickhouse-server</span><br><span class="line">docker pull yandex/clickhouse-client</span><br></pre></td></tr></table></figure>
<p>click-house的docker镜像是不完整的Ubuntu，直接进入容器修改需要自行安装vi，这里采用临时性容器的方法取出配置文件修改</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">// 运行一个临时容器</span><br><span class="line">// windows</span><br><span class="line">docker run --rm -d --name=temp-clickhouse-server yandex/clickhouse-server</span><br><span class="line">docker cp temp-clickhouse-server:/etc/clickhouse-server/config.xml D:\docker\clickhouse\single\conf\config.xml</span><br><span class="line">docker cp temp-clickhouse-server:/etc/clickhouse-server/users.xml  D:\docker\clickhouse\single\conf\users.xml</span><br><span class="line"></span><br><span class="line">// macos</span><br><span class="line">docker run --rm -d --name=temp-clickhouse-server yandex/clickhouse-server</span><br><span class="line">docker cp temp-clickhouse-server:/etc/clickhouse-server/config.xml /Users/dy/docker/clickhouse/single/conf/config.xml</span><br><span class="line">docker cp temp-clickhouse-server:/etc/clickhouse-server/users.xml  /Users/dy/docker/clickhouse/single/conf/users.xml</span><br><span class="line"></span><br><span class="line">// ubuntu</span><br><span class="line">docker run --rm -d --name=temp-clickhouse-server yandex/clickhouse-server</span><br><span class="line">docker cp temp-clickhouse-server:/etc/clickhouse-server/config.xml /root/docker/clickhouse/single/conf/config.xml</span><br><span class="line">docker cp temp-clickhouse-server:/etc/clickhouse-server/users.xml  /root/docker/clickhouse/single/conf/users.xml</span><br><span class="line"></span><br><span class="line">进入临时容器获取sha256sum </span><br><span class="line">docker exec -it temp-clickhouse-server /bin/bash</span><br><span class="line">PASSWORD=$(base64 &lt; /dev/urandom | head -c8); echo &quot;default&quot;; echo -n &quot;default&quot; | sha256sum | tr -d &#x27;-&#x27;</span><br><span class="line">PASSWORD=$(base64 &lt; /dev/urandom | head -c8); echo &quot;root&quot;; echo -n &quot;root&quot; | sha256sum | tr -d &#x27;-&#x27;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>ClickHouse Server</code>服务本身依赖三个端口，这三个端口的默认值是<code>9000</code>（<code>TCP</code>协议）、<code>8123</code>（<code>HTTP</code>协议）和<code>9009</code>（集群数据复制），映射到宿主机的时候尽可能一一对应，所以需要确保宿主机的这三个端口没有被占用，可以使用<code>Docker</code>的参数<code>-p</code>指定容器和宿主机的端口映射。</li>
<li><code>ClickHouse Server</code>正常使用需要修改容器系统的文件句柄数量配置<code>ulimit nofile</code>，可以使用<code>Docker</code>参数<code>--ulimit nofile=262144:262144</code>指定文件句柄数。</li>
<li>可以运用一个技巧，使用<code>Docker</code>的<code>--rm</code>参数创建临时容器，先获取到<code>/etc/clickhouse-server</code>目录下配置文件，通过<code>docker cp 容器目录 宿主机目录</code>命令可以拷贝容器的配置文件到宿主机目录下，容器停止之后会被直接删除，这样就能保留宿主机的配置文件模板。</li>
<li>需要设置开放客户端监听的<code>Host</code>，避免后面使用<code>JDBC</code>客户端或者<code>ClickHouse Client</code>的时候无法连接<code>ClickHouse Server</code>。</li>
</ul>
<p>修改配置文件<code>users.xml</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Users and ACL. --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">users</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">default</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">password_sha256_hex</span>&gt;</span>37a8eec1ce19687d132fe29051dca629d164e2c4958ba141d5f4133a33f0688f<span class="tag">&lt;/<span class="name">password_sha256_hex</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">networks</span> <span class="attr">incl</span>=<span class="string">&quot;network&quot;</span> <span class="attr">replace</span>=<span class="string">&quot;replace&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ip</span>&gt;</span>::/0<span class="tag">&lt;/<span class="name">ip</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">networks</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">profile</span>&gt;</span>default<span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">quota</span>&gt;</span>default<span class="tag">&lt;/<span class="name">quota</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">default</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">password_sha256_hex</span>&gt;</span>4813494d137e1631bba301d5acab6e7bb7aa74ce1185d456565ef51d737677b2<span class="tag">&lt;/<span class="name">password_sha256_hex</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">networks</span> <span class="attr">incl</span>=<span class="string">&quot;network&quot;</span> <span class="attr">replace</span>=<span class="string">&quot;replace&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ip</span>&gt;</span>::/0<span class="tag">&lt;/<span class="name">ip</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">networks</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">profile</span>&gt;</span>default<span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">quota</span>&gt;</span>default<span class="tag">&lt;/<span class="name">quota</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">users</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>修改配置文件<code>config.xml</code> 让所有的host都可以访问</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">listen_host</span>&gt;</span>0.0.0.0<span class="tag">&lt;/<span class="name">listen_host</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">// 停止和销毁临时容器</span><br><span class="line">docker stop temp-clickhouse-server</span><br><span class="line">// windows</span><br><span class="line">docker run -d --name=single-clickhouse-server -p 8123:8123 -p 9000:9000 -p 9009:9009 --ulimit nofile=262144:262144 -v D:\docker\clickhouse\single\data:/var/lib/clickhouse:rw -v D:\docker\clickhouse\single\conf:/etc/clickhouse-server:rw -v D:\docker\clickhouse\single\log:/var/log/clickhouse-server:rw yandex/clickhouse-server</span><br><span class="line"></span><br><span class="line">// macos</span><br><span class="line">docker run -d --name=single-clickhouse-server -p 8123:8123 -p 9000:9000 -p 9009:9009 --ulimit nofile=262144:262144 -v /Users/dy/docker/clickhouse/single/data:/var/lib/clickhouse:rw -v /Users/dy/docker/clickhouse/single/conf:/etc/clickhouse-server:rw -v /Users/dy/docker/clickhouse/single/log:/var/log/clickhouse-server:rw yandex/clickhouse-server</span><br><span class="line"></span><br><span class="line">// ubuntu</span><br><span class="line">docker run -d --name=single-clickhouse-server -p 8123:8123 -p 9000:9000 -p 9009:9009 --ulimit nofile=262144:262144 -v /home/dy/docker/clickhouse/single/data:/var/lib/clickhouse:rw -v /home/dy/docker/clickhouse/single/conf:/etc/clickhouse-server:rw -v /home/dy/docker/clickhouse/single/log:/var/log/clickhouse-server:rw yandex/clickhouse-server</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">命名和容器命名：docker run -d --name=single-clickhouse-server </span><br><span class="line">端口映射：-p 8123:8123 -p 9000:9000 -p 9009:9009 </span><br><span class="line">文件句柄数配置：--ulimit nofile=262144:262144 </span><br><span class="line">数据目录映射：-v E:/Docker/images/clickhouse-server/single/data:/var/lib/clickhouse:rw </span><br><span class="line">配置目录映射：-v E:/Docker/images/clickhouse-server/single/conf:/etc/clickhouse-server:rw </span><br><span class="line">日志目录映射：-v E:/Docker/images/clickhouse-server/single/log:/var/log/clickhouse-server:rw </span><br><span class="line">镜像：yandex/clickhouse-server</span><br></pre></td></tr></table></figure>
<p>设置自动启动 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker update --restart always single-clickhouse-server</span><br></pre></td></tr></table></figure></p>
<p>使用原生的命令行客户端<code>ClickHouse Client</code>进行连接测试</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -it --rm --link single-clickhouse-server:clickhouse-server yandex/clickhouse-client -uroot --password root --host clickhouse-server</span><br></pre></td></tr></table></figure>
<h2 id="docker-开发环境">Docker 开发环境</h2>
<p>SSH开发环境 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull ubuntu</span><br><span class="line">docker run --name iubuntu -t -i -d -p 3316:22 ubuntu</span><br><span class="line">docker exec -t -i iubuntu /bin/bash</span><br><span class="line"></span><br><span class="line">apt-get update</span><br><span class="line">apt-get install -y vim</span><br><span class="line">vim /etc/apt/sources.list</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 进入文件编辑模式</span></span><br><span class="line">gg # 进入行首</span><br><span class="line">dG # 文件内容将被全部清空</span><br><span class="line"></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal universe</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates universe</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security universe</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security multiverse</span><br><span class="line"></span><br><span class="line">:wq # 保存退出</span><br><span class="line"></span><br><span class="line">apt-get update</span><br><span class="line">apt-get dist-upgrade</span><br><span class="line">apt-get install -y sudo vim git net-tools rsync sudo iputils-ping</span><br><span class="line">apt-get install -y openssh-client openssh-server</span><br><span class="line"></span><br><span class="line">/etc/init.d/ssh start</span><br><span class="line">ps -e|grep ssh</span><br><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line">PermitRootLogin yes</span><br><span class="line">service ssh restart</span><br><span class="line">passwd root</span><br><span class="line">exit</span><br></pre></td></tr></table></figure></p>
<p><a
href="https://zhuanlan.zhihu.com/p/31078295">Docker容器中添加中文字符的支持</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">locale -a</span><br><span class="line">apt-get update</span><br><span class="line">apt-get install -y locales</span><br><span class="line">apt-get install language-pack-zh-hans</span><br><span class="line">locale-gen zh_CN</span><br><span class="line">locale-gen zh_CN.utf8</span><br><span class="line">locale-gen zh_CN.UTF-8</span><br><span class="line">locale-gen zh_CN.GB18030</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">看看当前启用的本地支持</span></span><br><span class="line">locale -a</span><br><span class="line">export LANG=zh_CN.UTF-8</span><br><span class="line">export LC_ALL=zh_CN.UTF-8</span><br><span class="line">export LANGUAGE=zh_CN.UTF-8</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">现在来看看当前的字符集</span></span><br><span class="line">locale</span><br><span class="line"></span><br><span class="line">sudo update-locale LANG=zh_CN.UTF-8 LC_ALL=zh_CN.UTF-8 LANGUAGE=zh_CN.UTF-8</span><br><span class="line">cat /etc/default/locale</span><br></pre></td></tr></table></figure>
<p>C++开发环境 - <a
href="https://github.com/microsoft/vcpkg/blob/master/README_zh_CN.md#安装-linux-developer-tools">Vcpkg</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get install -y build-essential cmake gdb gdbserver</span><br><span class="line">apt-get install -y build-essential tar curl zip unzip</span><br><span class="line">git clone https://github.com/microsoft/vcpkg</span><br><span class="line">./vcpkg/bootstrap-vcpkg.sh</span><br><span class="line">./vcpkg/vcpkg search nng</span><br><span class="line">./vcpkg/vcpkg install nng</span><br></pre></td></tr></table></figure>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">-DCMAKE_TOOLCHAIN_FILE=[path to vcpkg]/scripts/buildsystems/vcpkg.cmake</span><br><span class="line">-DCMAKE_TOOLCHAIN_FILE=/otslib/vcpkg/scripts/buildsystems/vcpkg.cmake </span><br></pre></td></tr></table></figure>
<p>Python 开发环境</p>
<ul>
<li>https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</span><br><span class="line">bash Miniconda3-latest-Linux-x86_64.sh </span><br><span class="line">bash</span><br><span class="line">conda config --set show_channel_urls yes</span><br><span class="line">vim ~/.condarc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">channels:</span><br><span class="line">  - defaults</span><br><span class="line">show_channel_urls: true</span><br><span class="line">default_channels:</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2</span><br><span class="line">custom_channels:</span><br><span class="line">  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">conda update conda</span><br><span class="line">conda update python</span><br><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">pip install pip -U</span><br></pre></td></tr></table></figure>
<p>web-vscode 安装搭建</p>
<ul>
<li>https://zhuanlan.zhihu.com/p/115450863</li>
<li>https://www.jianshu.com/p/8408e06b7273</li>
</ul>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:789</span><br><span class="line">apt-get install curl</span><br><span class="line">curl -fsSL https://code-server.dev/install.sh | sh</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> PASSWORD=<span class="string">&quot;1234567890&quot;</span></span><br><span class="line">vim  ~/.config/code-server/config.yaml</span><br><span class="line"></span><br><span class="line">bind-addr: 0.0.0.0:3317</span><br><span class="line">auth: password</span><br><span class="line">password: 1234567890</span><br><span class="line">cert: <span class="literal">false</span></span><br><span class="line">code-server --port 3317 --host 0.0.0.0 --auth password</span><br></pre></td></tr></table></figure>
<p>docker 镜像管理 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker commit iubuntu ubuntu-ssh</span><br><span class="line">docker save ubuntu-ssh &gt; ubuntu-ssh.tar</span><br><span class="line">docker load &lt; ubuntu-ssh.tar</span><br><span class="line"></span><br><span class="line">docker run --name ubuntu-web -t -i -d -p 3316:22  -p 3317:3317 -p 8889:8889 ubuntu-ssh /usr/sbin/sshd -D</span><br><span class="line">docker exec -t -i ubuntu-web /bin/bash</span><br><span class="line"></span><br><span class="line">docker commit jupyterhub jupyterhub</span><br><span class="line">docker save jupyterhub &gt; jupyterhub.tar</span><br><span class="line">docker load &lt; jupyterhub.tar</span><br><span class="line"></span><br><span class="line">docker run --name jupyterhub -t -i -d -p 3316:22  -p 3317:3317 -p 8889:8889 jupyterhub /usr/sbin/sshd -D</span><br><span class="line">docker exec -t -i jupyterhub /bin/bash</span><br></pre></td></tr></table></figure></p>
<h2 id="jupyterhub">JupyterHub</h2>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker load &lt; ubuntu-ssh.tar</span><br><span class="line">docker run --name ubuntu-web -t -i -d -p 3316:22  -p 3317:3317 -p 8889:8889 ubuntu-ssh /usr/sbin/sshd -D</span><br><span class="line">docker exec -t -i ubuntu-web /bin/bash</span><br><span class="line"></span><br><span class="line">wget https://npmmirror.com/mirrors/node/v16.13.1/node-v16.13.1-linux-x64.tar.xz</span><br><span class="line">tar -xvf node-v16.13.1-linux-x64.tar.xz</span><br><span class="line">rm -rf node-v16.13.1-linux-x64.tar.xz</span><br><span class="line">ln -s /node-v16.13.1-linux-x64/bin/node /usr/local/bin</span><br><span class="line">ln -s /node-v16.13.1-linux-x64/bin/npm /usr/local/bin</span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br><span class="line">npm install -g npm@8.2.0</span><br><span class="line">npm config set registry https://registry.npm.taobao.org</span><br><span class="line">npm install -g configurable-http-proxy</span><br><span class="line"></span><br><span class="line">conda install jupyterlab</span><br><span class="line">conda install jupyterhub</span><br><span class="line">conda install notebook</span><br><span class="line"></span><br><span class="line">cd /home</span><br><span class="line">mkdir notebook</span><br><span class="line">git clone https://github.com/jupyterhub/nativeauthenticator.git</span><br><span class="line">cd nativeauthenticator</span><br><span class="line">pip install -e .</span><br><span class="line"></span><br><span class="line">mkdir /etc/jupyterhub   </span><br><span class="line">cd /etc/jupyterhub  </span><br><span class="line">jupyterhub --generate-config -f jupyterhub_config.py</span><br><span class="line">vim jupyterhub_config.py</span><br><span class="line">mkdir /opt/notebook  </span><br><span class="line">jupyterhub --ip 0.0.0.0 --port 8889  -f /etc/jupyterhub/jupyterhub_config.py</span><br><span class="line">sudo -u yourname /path/to/conda/bin/jupyterhub-singleuser -h</span><br><span class="line"></span><br><span class="line">docker commit jupyterhub jupyterhub</span><br><span class="line">docker save jupyterhub &gt; jupyterhub.tar</span><br><span class="line">docker load &lt; jupyterhub.tar</span><br><span class="line"></span><br><span class="line">docker run --name jupyterhub -t -i -d -p 3316:22  -p 3317:3317 -p 8889:8889 jupyterhub /usr/sbin/sshd -D</span><br><span class="line">docker exec -t -i jupyterhub /bin/bash</span><br><span class="line">jupyterhub --ip 0.0.0.0 --port 8889  -f /etc/jupyterhub/jupyterhub_config.py</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 增加用户 注册</span></span><br><span class="line">http://192.168.1.89:8889/hub/signup</span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用db2，Ubuntu物理机账户登录，核准注册账户</span></span><br><span class="line">http://192.168.1.89:8889/hub/authorize</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pwd, subprocess</span><br><span class="line"></span><br><span class="line">c.JupyterHub.authenticator_class = <span class="string">&#x27;nativeauthenticator.NativeAuthenticator&#x27;</span></span><br><span class="line">c.Authenticator.admin_users = &#123;<span class="string">&#x27;admin&#x27;</span>, <span class="string">&#x27;guest&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pre_spawn_hook</span>(<span class="params">spawner</span>):</span></span><br><span class="line">    username = spawner.user.name</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        pwd.getpwnam(username)</span><br><span class="line">    <span class="keyword">except</span> KeyError:</span><br><span class="line">        subprocess.check_call([<span class="string">&#x27;useradd&#x27;</span>, <span class="string">&#x27;-ms&#x27;</span>, <span class="string">&#x27;/bin/bash&#x27;</span>, username])</span><br><span class="line"></span><br><span class="line">c.Spawner.pre_spawn_hook = pre_spawn_hook</span><br><span class="line">c.Spawner.default_url = <span class="string">&#x27;/lab&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="gogs服务">Gogs服务</h2>
<p>https://www.cnblogs.com/shanfeng1000/p/14622319.html</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull gogs/gogs</span><br><span class="line">docker run -d -p 10022:22 -p 13000:3000 gogs/gogs</span><br></pre></td></tr></table></figure>
<h2 id="superset">Superset</h2>
<p>https://www.jianshu.com/p/e299cfd0f482</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装</span></span><br><span class="line">docker search superset</span><br><span class="line">docker pull amancevice/superset</span><br><span class="line">mkdir /home/docker/superset/ -p</span><br><span class="line">docker run -d -p 8088:8088 -v /home/docker/superset:/home/superset amancevice/superset</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动</span></span><br><span class="line">docker exec -it keen_nash superset-init</span><br><span class="line">admin Lindao123456</span><br><span class="line"><span class="meta">#</span><span class="bash"> docker update --restart always 容器名</span></span><br><span class="line">docker update --restart always keen_nash</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改中文</span></span><br><span class="line">docker exec -it --user root 01a688894764 /bin/bash</span><br><span class="line">apt-get install vim</span><br><span class="line">cd /usr/local/lib/python3.8/site-packages/superset</span><br><span class="line">vim config.py</span><br><span class="line">BABEL_DEFAULT_LOCALE = &#x27;zh&#x27;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> docker连通设置</span></span><br><span class="line">docker network connect --alias superset db2-net keen_nash</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加防火墙</span></span><br><span class="line">sudo ufw allow 8088</span><br><span class="line">sudo ufw reload</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置数据库</span></span><br><span class="line">http://192.168.1.89:8088/login/</span><br><span class="line">clickhouse://default:default@192.168.1.89:8123/min_data</span><br><span class="line">clickhouse://default:default@single-clickhouse-server:8123/min_data</span><br></pre></td></tr></table></figure>
<h2 id="ubuntu主机">Ubuntu主机</h2>
<p>ubuntu 安装ssh https://segmentfault.com/a/1190000022103074
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install openssh-server</span><br><span class="line">sudo systemctl status ssh</span><br><span class="line">sudo ufw allow ssh</span><br></pre></td></tr></table></figure></p>
<p>ubuntu对外开放端口 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo ufw status # 查看已经开启的端口</span><br><span class="line">sudo ufw allow 3317  # 打开端口</span><br><span class="line">sudo ufw enable # 开启防火墙</span><br><span class="line">sudo ufw reload # 重启防火墙</span><br><span class="line">sudo ufw status # 查看一下端口是否已开放</span><br></pre></td></tr></table></figure></p>
<h2 id="docker-互相访问">Docker 互相访问</h2>
<ul>
<li>https://blog.csdn.net/cjbfzxz/article/details/106652867</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker network create testnet</span><br><span class="line">docker network connect --alias db-clickhouse testnet single-clickhouse-server</span><br><span class="line">docker inspect --format &#x27;&#123;&#123; .NetworkSettings.IPAddress &#125;&#125;&#x27; $(docker ps -q)</span><br></pre></td></tr></table></figure>
<h2 id="docker-ubuntu环境构建">Docker-Ubuntu环境构建</h2>
<h3 id="启动容器设置国内源">启动容器设置国内源</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 启动容器</span></span><br><span class="line">docker pull ubuntu</span><br><span class="line">docker run --name iubuntu -t -i -d -p 4100:22 ubuntu</span><br><span class="line">docker exec -t -i iubuntu /bin/bash</span><br></pre></td></tr></table></figure>
<h3 id="设置清华源">设置清华源</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> install vim</span></span><br><span class="line">apt-get update</span><br><span class="line">apt-get install -y vim</span><br><span class="line">vim /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line">i # 进入文件编辑模式</span><br><span class="line">gg # 进入行首</span><br><span class="line">dG # 文件内容将被全部清空</span><br><span class="line">:wq # 保存退出</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu 清华源</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal universe</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates universe</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security universe</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security multiverse</span><br></pre></td></tr></table></figure>
<h3 id="ssh">SSH</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get dist-upgrade</span><br><span class="line">apt-get install -y sudo vim git net-tools rsync sudo iputils-ping</span><br><span class="line">apt-get install -y openssh-client openssh-server</span><br><span class="line"></span><br><span class="line">/etc/init.d/ssh start</span><br><span class="line">ps -e|grep ssh</span><br><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line">PermitRootLogin yes</span><br><span class="line">service ssh restart</span><br><span class="line">passwd root</span><br></pre></td></tr></table></figure>
<h3 id="vscode-web">vscode-web</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get install curl</span><br><span class="line">curl -fsSL https://code-server.dev/install.sh | sh</span><br><span class="line"></span><br><span class="line">vim  ~/.config/code-server/config.yaml</span><br><span class="line"></span><br><span class="line">bind-addr: 0.0.0.0:4111</span><br><span class="line">auth: password</span><br><span class="line">password: 1234567890</span><br><span class="line">cert: false</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动vscode-web</span></span><br><span class="line">code-server --port 4111 --host 0.0.0.0 --auth password</span><br></pre></td></tr></table></figure>
<h3 id="c开发环境">C++开发环境</h3>
<ul>
<li>https://github.com/microsoft/vcpkg/blob/master/README_zh_CN.md#安装-linux-developer-tools
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get install -y build-essential cmake gdb gdbserver</span><br><span class="line">apt-get install -y build-essential tar curl zip unzip</span><br><span class="line"><span class="meta">#</span><span class="bash"> git <span class="built_in">clone</span> https://github.com/microsoft/vcpkg</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ./vcpkg/bootstrap-vcpkg.sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ./vcpkg/vcpkg search nng</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ./vcpkg/vcpkg install nng</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3
id="libstdc.so.6-version-glibcxx_3.4.22-not-foundconda">Libstdc++.so.6:
version `GLIBCXX_3.4.22’ not found（conda）</h3>
<ul>
<li><a
href="https://blog.csdn.net/fengzhongluoleidehua/article/details/84618540?">Libstdc++.so.6:
version `GLIBCXX_3.4.22’ not found（conda）</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">strings /opt/miniconda3/lib/libstdc++.so.6 | grep GLIBCXX</span><br><span class="line">strings /usr/lib/x86_64-linux-gnu/libstdc++.so.6 | grep GLIBCXX</span><br><span class="line">cd /opt/miniconda3/lib</span><br><span class="line">rm libstdc++.so.6</span><br><span class="line">cp /usr/lib/x86_64-linux-gnu/libstdc++.so.6 ./</span><br></pre></td></tr></table></figure>
<h3 id="nng">nng</h3>
<ul>
<li><a href="https://github.com/nanomsg/nng/pull/884">add -fPIC to
please the linker</a> <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set(CMAKE_POSITION_INDEPENDENT_CODE ON)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="docker-ubunut设置时区">Docker-Ubunut设置时区</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">apt-get install tzdata</span><br><span class="line">tzselect</span><br></pre></td></tr></table></figure>
<ul>
<li><p><a
href="https://segmentfault.com/a/1190000037559219">ubuntu设置时区</a></p></li>
<li><p><a
href="https://blog.csdn.net/zhengchaooo/article/details/79500032">Ubuntu修改时区和更新时间</a></p></li>
<li><p><a
href="https://geekpy.github.io/2018/08/25/python_time2/#%E6%97%B6%E5%8C%BA">史上最详解Python日期和时间处理(二)</a></p></li>
</ul>
<h3 id="python-开发环境">Python 开发环境</h3>
<ul>
<li>https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</span><br><span class="line">bash Miniconda3-latest-Linux-x86_64.sh </span><br><span class="line">bash</span><br><span class="line">conda config --set show_channel_urls yes</span><br><span class="line">vim ~/.condarc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">channels:</span><br><span class="line">  - defaults</span><br><span class="line">show_channel_urls: true</span><br><span class="line">default_channels:</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2</span><br><span class="line">custom_channels:</span><br><span class="line">  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line"></span><br><span class="line">conda update conda</span><br><span class="line">conda update python</span><br><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">pip install pip -U</span><br><span class="line">pip install &quot;pybind11[global]&quot;</span><br></pre></td></tr></table></figure>
<h3 id="配置docker-ubuntu的中文环境">配置Docker-Ubuntu的中文环境</h3>
<ul>
<li><a
href="https://zhuanlan.zhihu.com/p/31078295">Docker容器中添加中文字符的支持</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">locale -a</span><br><span class="line">apt-get update</span><br><span class="line">apt-get install -y locales</span><br><span class="line">apt-get install language-pack-zh-hans</span><br><span class="line">locale-gen zh_CN</span><br><span class="line">locale-gen zh_CN.utf8</span><br><span class="line">locale-gen zh_CN.UTF-8</span><br><span class="line">locale-gen zh_CN.GB18030</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">看看当前启用的本地支持</span></span><br><span class="line">locale -a</span><br><span class="line">export LANG=zh_CN.UTF-8</span><br><span class="line">export LC_ALL=zh_CN.UTF-8</span><br><span class="line">export LANGUAGE=zh_CN.UTF-8</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">现在来看看当前的字符集</span></span><br><span class="line">locale</span><br><span class="line"></span><br><span class="line">sudo update-locale LANG=zh_CN.UTF-8 LC_ALL=zh_CN.UTF-8 LANGUAGE=zh_CN.UTF-8</span><br><span class="line">cat /etc/default/locale</span><br></pre></td></tr></table></figure>
<h3 id="设置ssh远程连接开发">设置ssh远程连接开发</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker commit iubuntu ubuntu-ctp</span><br><span class="line">docker save ubuntu-ctp &gt; ubuntu-ctp.tar</span><br><span class="line"></span><br><span class="line">docker load &lt; ubuntu-ctp.tar</span><br><span class="line">docker run --name ubuntu-ctp -t -i -d -p 4100:22  -p 4111:4111 ubuntu-ctp /usr/sbin/sshd -D</span><br><span class="line">docker exec -t -i ubuntu-ctp /bin/bash</span><br></pre></td></tr></table></figure>
<h3 id="设置docker虚拟网络">设置Docker虚拟网络</h3>
<p>连接虚拟网络<br />
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker network create testnet</span><br><span class="line">docker network connect --alias single-clickhouse-server testnet single-clickhouse-server</span><br><span class="line">docker network connect --alias ubuntu-ctp testnet ubuntu-ctp</span><br></pre></td></tr></table></figure></p>
<hr />
<h2 id="参考目录">参考目录</h2>
<p><a
href="https://blog.csdn.net/u013948858/article/details/111464534">win10上修改docker的镜像文件存储位置（九）-
通过WSL2修改</a><br />
<a href="https://www.jianshu.com/p/405fe33b9032">Docker中国源</a><br />
<a
href="https://blog.csdn.net/J080624/article/details/104297654">Docker下安装MySQL</a><br />
<a
href="https://blog.csdn.net/qq_41070393/article/details/109765759">docker安装mongodb并挂载_Vick
C的博客-CSDN博客_docker mongodb 挂载</a><br />
<a
href="https://www.cnblogs.com/throwable/p/14015092.html">Windows10系统下使用Docker搭建ClickHouse开发环境</a></p>
<p><a
href="https://blog.csdn.net/xiaoxiao133/article/details/82847936">Ubuntu
休眠设置合上笔记本盖子不休眠的方法</a><br />
<a
href="https://bbs.huaweicloud.com/blogs/detail/216485">ubuntu如何对外开放端口</a></p>
<p><a
href="https://zhuanlan.zhihu.com/p/422010999">利用Docker搭载C/C++开发环境</a><br />
<a
href="https://graueneko.com/archives/64/">使用Docker作为C++开发环境：适用于CLion与VSCode的配置</a><br />
<a
href="https://segmentfault.com/a/1190000021318326">使用Docker搭建Linuc
C++编译环境</a><br />
<a
href="https://www.cnblogs.com/mengw/p/11413461.html">docker安装Ubuntu以及ssh连接</a><br />
<a
href="https://blog.csdn.net/qq_45719413/article/details/112728052">Xshell正版免费，再也不用找破解版了</a><br />
<a
href="https://cloud-atlas.readthedocs.io/zh_CN/latest/docker/admin/docker_ssh.html">Docker容器中运行ssh服务</a></p>
<p><a
href="https://www.jianshu.com/p/8648475b26b3">利用Docker和CLion在Mac优雅地开发和调试Linux
C++程序</a><br />
<a
href="https://blog.csdn.net/whatday/article/details/84994416">privileged使用该参数，container内的root拥有真正的root权限</a><br />
<a
href="https://www.cnblogs.com/eden-libinglin/p/13803729.html">Docker入门教程</a><br />
<a href="https://www.jianshu.com/p/405fe33b9032">Docker中国源</a><br />
<a href="https://hub.daocloud.io">DaoCloud</a><br />
<a href="https://www.meiyoubug.com/article/15633.html">docker -
apt-get更换国内源解决Dockerfile构建速度过慢</a><br />
<a
href="https://segmentfault.com/a/1190000021318326">使用Docker搭建Linuc
C++编译环境</a><br />
<a
href="https://www.jianshu.com/p/8648475b26b3">利用Docker和CLion在Mac优雅地开发和调试Linux
C++程序</a><br />
<a
href="https://imhuwq.com/2018/12/02/Clion%20%E4%BD%BF%E7%94%A8%20Docker%20%E4%BD%9C%E4%B8%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/">Clion
如何使用 Docker 作为开发环境</a><br />
<a
href="https://blog.csdn.net/qq_43914736/article/details/90608587">Docker
Ubuntu上安装ssh和连接ssh</a><br />
<a
href="/program/web/Windows10系统下使用Docker搭建ClickHouse开发环境.html"
title=":ignore">Windows10系统下使用Docker搭建ClickHouse开发环境</a></p>
<p><a
href="https://native-authenticator.readthedocs.io/en/latest/quickstart.html#installation">Native
Authenticator</a><br />
<a href="https://www.youtube.com/watch?v=NuzYSNTBvZU">How to set a
multiuser Jupyterlab server with Jupyterhub (in Windows with
Docker)</a><br />
<a
href="https://hatarilabs.com/ih-en/how-to-set-a-multiuser-jupyterlab-server-with-jupyterhub-in-windows-with-docker">How
to set a multiuser Jupyterlab server with Jupyterhub (in Windows with
Docker)</a></p>
<p><a
href="https://xujinzh.github.io/2021/02/20/jupyterhub/#%E5%AE%89%E8%A3%85-Miniconda">利用
jupyterhub 搭建多用户 jupyterlab 开发环境</a></p>
<p><a href="https://huangwenwei.com/blogs/ubuntu-mount-disk">Ubuntu
挂载新硬盘并把home目录迁移到新硬盘</a></p>
]]></content>
      <categories>
        <category>Ops</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>傅里叶变换</title>
    <url>/2022/08/19/fft/</url>
    <content><![CDATA[<ul>
<li><a
href="https://www.cnblogs.com/LXP-Never/p/11558302.html">快速傅里叶变换及python代码实现</a></li>
<li><a
href="https://cloud.tencent.com/developer/article/1891362">使用傅立叶变换清理时间序列数据噪声</a></li>
</ul>
]]></content>
      <categories>
        <category>Math</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title>C++格式化输出库fmt</title>
    <url>/2021/06/17/fmtlib/</url>
    <content><![CDATA[<p>用 C++ 来拼接一个字符串非常糟心，虽然说你可以用 stringstream
来做到，但是无数的 <code>&lt;&lt;</code> 就很麻烦，而 printf
也是一样。（囧，我一般都是直接使用日志打印）</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">printf 函数家族声明如下：</span><br><span class="line"><span class="comment">// https://en.cppreference.com/w/cpp/header/cstdio</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">printf</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fprintf</span><span class="params">(std::FILE* stream, <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sprintf</span><span class="params">( <span class="keyword">char</span>* buffer, <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">snprintf</span><span class="params">( <span class="keyword">char</span>* buffer, std::<span class="keyword">size_t</span> buf_size, <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">vprintf</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span>* format, va_list vlist )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">vfprintf</span><span class="params">( std::FILE* stream, <span class="keyword">const</span> <span class="keyword">char</span>* format, va_list vlist )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">vsprintf</span><span class="params">( <span class="keyword">char</span>* buffer, <span class="keyword">const</span> <span class="keyword">char</span>* format, va_list vlist )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">vsnprintf</span><span class="params">( <span class="keyword">char</span>* buffer, std::<span class="keyword">size_t</span> buf_size, <span class="keyword">const</span> <span class="keyword">char</span>* format, va_list vlist )</span></span>;</span><br></pre></td></tr></table></figure>
<p>C++中printf的一个很好的替代品是fmtlib，其也进入了C++20的标准库<code>(std::format)</code>，可以算是C++字符串格式化的未来。</p>
<p>fmtlib可以直接使用header-only的方法使用，cmake配置如下</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">add_subdirectory(dependencies/fmt EXCLUDE_FROM_ALL)</span><br><span class="line">target_link_libraries(fmt_demo fmt-header-only)</span><br></pre></td></tr></table></figure>
<ul>
<li>其中 <code>EXCLUDE_FROM_ALL</code>表示将这个项目移除出 make
列表。</li>
</ul>
<p>两个有意思的用法</p>
<p>Format a string using positional arguments</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::string s = fmt::format(<span class="string">&quot;I&#x27;d rather be &#123;1&#125; than &#123;0&#125;.&quot;</span>, <span class="string">&quot;right&quot;</span>, <span class="string">&quot;happy&quot;</span>);</span><br><span class="line"><span class="comment">// s == &quot;I&#x27;d rather be happy than right.&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Check a format string at compile time</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">std::string s = fmt::format(<span class="built_in">FMT_STRING</span>(<span class="string">&quot;&#123;:d&#125;&quot;</span>), <span class="string">&quot;I am not a number&quot;</span>);</span><br></pre></td></tr></table></figure>
<hr />
<ul>
<li><a
href="https://zhuanlan.zhihu.com/p/370005360">fmtlog：比NanoLog更快的fmtlib风格C++日志库</a></li>
<li><a
href="https://forcemz.net/cxx/2019/04/29/StringFormattingTalk/">字符串格式化漫谈</a></li>
<li><a href="https://github.com/fmtlib/fmt">fmt is an open-source
formatting library providing a fast and safe alternative to C stdio and
C++ iostreams.</a></li>
<li><a
href="https://moevis.github.io/cheatsheet/2018/10/11/fmt-%E6%9B%B4%E6%96%B9%E4%BE%BF%E7%9A%84-c++-format-%E5%BA%93.html">Fmt:更方便的
c++ format 库</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++ Loggin</tag>
      </tags>
  </entry>
  <entry>
    <title>Funny Github</title>
    <url>/2021/12/15/github/</url>
    <content><![CDATA[<h1 id="c-library">C++ Library</h1>
<ul>
<li><a
href="https://blog.csdn.net/u012611878/article/details/52534622">c/c++中define用法详解及代码示例</a></li>
<li><a
href="https://hongyunyan.github.io/2018/11/28/C-%E6%8E%A5%E5%8F%A3%E7%B1%BB/">C++
接口类</a></li>
</ul>
<h2 id="library">Library</h2>
<ul>
<li><a href="https://github.com/abseil/abseil-cpp">Abseil - C++ Common
Libraries</a></li>
<li><a href="https://github.com/jingqi/nut">nut 是一个c++工具库</a></li>
</ul>
<h2 id="benchmark">Benchmark</h2>
<ul>
<li><a
href="https://github.com/chronoxor/CppBenchmark">CppBenchmark</a></li>
</ul>
<h2 id="database">Database</h2>
<ul>
<li><a href="http://www.lmdb.tech/doc/">Lightning Memory-Mapped Database
Manager (LMDB)</a></li>
</ul>
<h2 id="日志库">日志库</h2>
<ul>
<li><a href="https://github.com/MengRao/fmtlog">fmtlog is a performant
asynchronous logging library using fmt library format.</a></li>
</ul>
<h2 id="cmake">CMake</h2>
<ul>
<li><a href="http://mrdede.com/?p=3754">Clion的配置文件 CMakeLists.txt
语法介绍与实例</a></li>
</ul>
<h2 id="多线程通信">多线程通信</h2>
<h3 id="disruptor">Disruptor</h3>
<ul>
<li><a
href="https://lmax-exchange.github.io/disruptor/user-guide/index.html">LMAX
Disruptor User Guide</a></li>
<li><a
href="https://github.com/Vallest/Disruptor-CPP">Disruptor-CPP</a></li>
</ul>
<h3 id="mpmcmpsc-queue">MPMC/MPSC Queue</h3>
<ul>
<li><a
href="https://max0x7ba.github.io/atomic_queue/html/benchmarks.html">Scalability
Benchmark</a></li>
<li><a
href="https://github.com/max0x7ba/atomic_queue">atomic_queue</a></li>
<li><a
href="https://github.com/cameron314/readerwriterqueue">ConcurrentQueue</a></li>
<li><a
href="https://blog.51cto.com/u_9291927/2588193">C++性能优化（十三）——无锁队列</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/352723264">迈向多线程——解析无锁队列的原理与实现</a></li>
<li><a href="https://github.com/samanbarghi/MPSCQ">MPSCQ</a></li>
</ul>
<h3 id="spscspmc-queue">SPSC/SPMC Queue</h3>
<ul>
<li><a
href="https://github.com/cameron314/readerwriterqueue">ReaderWriterQueue</a></li>
<li><a href="https://github.com/rigtorp/SPSCQueue">SPSCQueue</a></li>
</ul>
<h3 id="ring-buffer">Ring-Buffer</h3>
<ul>
<li><a href="https://github.com/rmind/ringbuf">MPSC Lock-free ring
buffer</a></li>
<li><a
href="https://github.com/XinLiGH/RingBuffer">模仿kfifo实现的环形缓冲区</a></li>
<li><a
href="https://kmdreko.github.io/posts/20191003/a-simple-lock-free-ring-buffer/">A
Simple Lock-free Ring Buffer</a></li>
<li><a
href="https://zhou-yuxin.github.io/articles/2019/%E6%97%A0%E9%94%81%E7%8E%AF%E5%BD%A2%E9%98%9F%E5%88%97/index.html">无锁环形队列</a></li>
</ul>
<h3 id="hashmap">Hashmap</h3>
<ul>
<li><a
href="https://github.com/efficient/libcuckoo">高性能的线程安全的哈希表</a></li>
<li><a
href="https://github.com/greg7mdp/parallel-hashmap#the-parallel-hashmap">The
Parallel Hashmap</a></li>
<li><a
href="https://github.com/bhhbazinga/LockFreeHashTable">LockFreeHashTable</a></li>
<li><a
href="https://ssteinberg.xyz/2015/09/28/designing-a-lock-free-wait-free-hash-map/">Designing
a Lock-Free, Wait-Free Hash Map</a></li>
</ul>
<h2 id="多进程通信">多进程通信</h2>
<ul>
<li><a
href="https://doc.embedfire.com/linux/imx6/base/zh/latest/system_programing/shm.html">共享内存</a></li>
<li><a
href="https://blog.51cto.com/u_3078781/3290034">共享内存函数（shmget、shmat、shmdt、shmctl）及其范例</a></li>
<li><a
href="https://blog.csdn.net/qq_42270373/article/details/86183290">Linux使用共享内存进行进程间通信</a></li>
<li><a
href="https://spongecaptain.cool/SimpleClearFileIO/3.%20mmap.html">mmap
基础概念</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/308054212">Linux I/O 原理和
Zero-copy 技术全面揭秘</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/80368714">网络编程：进程间通信性能比较</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/82371061">进程间通讯：RingBuffer的性能测试</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/39784531">分享一个Linux
C++消息通信框架TCPSHM</a></li>
</ul>
<h3 id="shm-library">SHM-Library</h3>
<ul>
<li><a
href="https://github.com/mikewei/shm_container">SHM-Container</a></li>
<li><a
href="https://github.com/mutouyun/cpp-ipc">cpp-ipc(libipc)</a></li>
<li><a href="https://github.com/dukelec/cdipc">CDIPC</a></li>
<li><a
href="https://github.com/mhy12345/SharedApplication">SharedApplication</a></li>
<li><a href="https://github.com/MengRao/tcpshm">TCPSHM</a></li>
</ul>
<h3 id="nng">NNG</h3>
<ul>
<li><a
href="https://tisyang.github.io/post/2019-02-22-think-about-nng-library/">关于
nng/nanomsg 库的一点想法</a></li>
<li><a href="https://nanomsg.org/gettingstarted/nng/index.html">Getting
Started with 'nng'</a></li>
<li><a href="https://github.com/tdv/nanorpc">nanorpc - lightweight RPC
in pure C++ 17</a></li>
</ul>
<h3 id="shared-memory">Shared Memory</h3>
<ul>
<li><a href="https://github.com/boldowa/mman-win32">mmain-win32</a></li>
<li><a href="https://github.com/mandreyel/mio">mio</a></li>
<li><a
href="https://www.zybuluo.com/Pigmon/note/1376783">boost::interprocess
共享内存</a></li>
</ul>
<h3 id="shmkv-embedded">ShmKV Embedded</h3>
<ul>
<li><a
href="https://github.com/happyfish100/libshmcache">libshmcache</a></li>
<li><a href="https://github.com/yunnysunny/shmdb">shmdb, A memory
database based on shared memory</a></li>
<li><a href="https://github.com/agile6v/pupa">pupa key-value
library</a></li>
<li><a
href="https://github.com/LiveAsynchronousVisualizedArchitecture/simdb">SimDB</a></li>
<li><a href="https://github.com/vladglv/OS-kv-store">OS-kv-store,
sem_wait</a></li>
<li><a
href="https://gist.github.com/jserv/9db8ca1fe174a99eaccbfaebbf47b2bb">kv,
sem_wait</a></li>
</ul>
<h3 id="shmkv">ShmKV</h3>
<ul>
<li><a href="https://github.com/timrc-git/mdbm">MDBM a very fast
memory-mapped key/value store.</a></li>
<li><a href="https://github.com/chxdeng/mabain">Mabain: a key-value
store library</a></li>
<li><a href="https://github.com/pmem/pmemkv">pmemkv</a></li>
<li><a href="https://github.com/pramalhe/RedoDB">RedoDB, a wait-free KV
store for Persistent Memory</a></li>
</ul>
<h3 id="shared-memory-hash-table">Shared Memory Hash Table</h3>
<ul>
<li><a
href="https://vhanda.in/blog/2012/07/Shared-Memory-Hash-Table/">Shared
Memory Hash Table</a></li>
<li><a
href="https://bingbig.github.io/gossip/shared-memory-hashtable.html#%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E5%93%88%E5%B8%8C%E8%A1%A8-2">共享内存哈希表</a></li>
<li><a href="https://github.com/djpetti/tachyon">tachyon, linux
only</a></li>
<li><a href="https://github.com/felix021/libshmht">libshmht, pthread
lock</a></li>
<li><a href="https://github.com/null0333/lightning">Lightning, pthread
lock</a></li>
<li><a href="https://github.com/simonhf/sharedhashfile">SharedHashFile:
Share Hash Tables With Stable Key Hints Stored In Memory Mapped Files
Between Arbitrary Processes, o reduce contention there is no single
global hash table lock by design. Instead keys are sharded across 256
locks to reduce lock contention.</a></li>
</ul>
<h3 id="shmdb">ShmDB</h3>
<ul>
<li><a
href="https://www.jianshu.com/p/475f74572570">共享内存数据库--设计及实现</a></li>
<li><a href="https://github.com/1314cc/shmDataBase">Memory
DataBase</a></li>
</ul>
<h3 id="shm-pubsub">Shm PubSub</h3>
<ul>
<li><a
href="https://stevenpzchan.github.io/c++/lockless-pub-sub-via-shared-memory/">共享内存一写多读无锁实现</a></li>
</ul>
<h3 id="shm-disruptorringbuffer">Shm Disruptor/RingBuffer</h3>
<ul>
<li><a
href="https://github.com/davedoesdev/shared-memory-disruptor">shared-memory-disruptor</a></li>
<li><a
href="https://github.com/jeremyko/disruptorCpp-IPC">disruptorCpp-IPC</a></li>
<li><a
href="https://github.com/jeremyko/disruptorCpp-IPC-Arbitrary-Length-Data.git">disruptorCpp-IPC
for arbitrary length of data</a></li>
<li><a
href="https://github.com/nvfuse/nvfuse/blob/master/nvfuse_ipc_ring.c">nvfuse_ipc_ring.c</a></li>
<li><a href="https://gist.github.com/sehe/9376856">Boost shared memory
lockfree circular buffer queue</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/21355046">一起聊聊Disruptor</a></li>
<li><a
href="https://engineering.global.com/ring-buffers-high-performance-ipc-ae39b8bb74d4">Ring
Buffers: High Performance IPC</a></li>
<li><a
href="https://jeremyko.blogspot.com/2015/09/disruptor.html">Disruptor
분석 및 c++ 로 구현해보기</a></li>
<li><a
href="https://www.freesion.com/article/6561341686/">LINUX共享内存及共享内存实现互斥循环队列SHMFIFO</a></li>
<li><a
href="https://hedzr.com/algorithm/golang/ringbuf-01-intro/">高性能环形队列及其实现
[简介]</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/82371061">进程间通讯：RingBuffer的性能测试</a></li>
</ul>
<h3 id="shm-queue">Shm-Queue</h3>
<ul>
<li><a href="https://github.com/sile/ipc-msgque">ipc-msgque</a></li>
<li><a href="https://github.com/Taymindis/wfqueue">wfqueue</a></li>
<li><a href="https://github.com/Taymindis/lfqueue">lfqueue</a></li>
</ul>
<h3 id="kungfu">KungFu</h3>
<ul>
<li><a
href="https://github.com/7starsea/yijinjing-lite">yijinjing-lite</a></li>
<li><a href="https://github.com/ahao1995/yijinjing">基于功夫1.0
mmap通信库组件 依赖 log4cplus boost</a></li>
<li><a
href="https://github.com/mutex86/mini-yijinjing">mini-yijinjing</a></li>
<li><a href="https://github.com/liulongxiao/mpc">mmap
进程间通讯</a></li>
<li><a href="https://github.com/kungfu-origin/kungfu">KungFu</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/369317597">功夫量化使用：1.0.0版本编译</a></li>
</ul>
<h2 id="pybind11">Pybind11</h2>
<p>Python代码本身需要调用Python解释器，这部分是绕不开GIL的。但不代表Python进程无法绕开GIL。办法就是充分利用C模块。C模块里可以释放GIL，使得这部分代码不仅可以利用C代码的高性能，也将GIL释放给其他Python代码去运行。<br />
* <a href="https://iamsorush.com/posts/pybind11-openmp/">pybind11: call
OpenMP function in Python</a> * <a
href="https://jepsonwong.github.io/2020/02/12/pybind_pythonc/#pybind%E5%92%8Cpython-c%E7%94%A8%E6%B3%95">Pybind和Python
C用法</a> * <a
href="https://barriery.cn/2020/04/18/pybind11%E8%A7%A3%E6%94%BEPython-GIL/">pybind11解放Python
GIL</a></p>
<h2 id="json">Json</h2>
<ul>
<li><a
href="https://github.com/HuaGouFdog/FdogSerialize">​FdogSerialize是一个用于C++序列化的开源库</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/57974752">C++/json序列化</a></li>
<li><a
href="https://github.com/pybind/pybind11_json">pybind11_json</a></li>
</ul>
<h2 id="bus通信框架">Bus通信框架</h2>
<ul>
<li><a
href="https://github.com/atframework/libatbus">用于搭建高性能、全异步(a)、树形结构(t)的BUS消息系统的跨平台框架库</a></li>
</ul>
<h1 id="quant-framework">Quant Framework</h1>
<h2 id="trading-system-framework">Trading System Framework</h2>
<ul>
<li><a href="https://github.com/DuckDuckDuck0/ft">Flare Trader
算法交易系统</a></li>
<li><a
href="https://github.com/wondertrader/wondertrader">WonderTrader</a></li>
<li><a
href="https://github.com/pegasusTrader/PandoraTrader">PandoraTrader</a></li>
<li><a href="https://github.com/physercoe/starquant">StarQuant</a></li>
</ul>
<h2 id="backtesting-framework">Backtesting Framework</h2>
<ul>
<li><a href="https://github.com/ricequant/rqalpha">rqalpha</a></li>
<li><a
href="https://rqalpha.readthedocs.io/zh_CN/latest/index.html">rqalpha-docs</a></li>
<li><a
href="https://hikyuu.readthedocs.io/zh_CN/latest/index.html">Hikyuu</a></li>
</ul>
<h2 id="api">API</h2>
<ul>
<li><a href="https://www.akshare.xyz/index.html">AKShare -
获取中国股票，基金，债券和宏观经济数据</a></li>
</ul>
<h2 id="商品交易规则">商品交易规则</h2>
<ul>
<li><a
href="https://www.9qihuo.com/qihuoshouxufei">2022年商品期货手续费一览表-每天更新</a></li>
</ul>
<h2 id="插值算法">插值算法</h2>
<ul>
<li><a
href="https://pythonnumericalmethods.berkeley.edu/notebooks/chapter17.03-Cubic-Spline-Interpolation.html">Cubic
Spline Interpolation</a> ## 论文和电子书</li>
<li><a href="https://sci-hubtw.hkvisa.net">Sci-Hub</a></li>
</ul>
<h1 id="java-library">Java Library</h1>
<h2 id="openhft-java">OpenHFT Java</h2>
<ul>
<li><a href="https://github.com/orgs/OpenHFT/repositories">Chronicle
Software : Open Source</a></li>
<li><a href="https://chronicle.software/">Chronicle</a></li>
<li><a href="https://github.com/LMAX-Exchange/disruptor">LMAX
Disruptor</a></li>
</ul>
<h1 id="前端和小程序">前端和小程序</h1>
<ul>
<li><a href="https://hippyjs.org/?from=thosefree.com#/">Hippy</a></li>
<li><a href="https://www.thosefree.com/">那些免费的砖</a></li>
</ul>
<h1 id="python-library">Python Library</h1>
<h2 id="dataframes">DataFrames</h2>
<ul>
<li><a href="https://github.com/h2oai/datatable">datatable</a></li>
</ul>
<h2 id="pycharm">Pycharm</h2>
<ul>
<li><a
href="https://www.p-chao.com/2021-06-27/pycharm-ide使用简记/">PyCharm
IDE使用简记</a></li>
</ul>
<h2 id="python-library-1">Python Library</h2>
<ul>
<li><a
href="https://github.com/PerpetualSmile/Bezier-Curve-Interactive-Displayer">一个可以演示鼠标拖动曲线控制点和光滑拼接贝赛尔曲线的小工具</a></li>
<li><a
href="https://github.com/hustcc/PyG2Plot/blob/main/README_ZH.md">PyG2Plot</a></li>
<li><a
href="https://www.jianshu.com/p/64e265f663f6">psutil--跨平台的进程管理</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/107044373">多进程代码调试利器pudb</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/387535490">python静态类型检查器-mypy简易教程</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/422672833">效率神器：快速定位运行最慢的代码</a></li>
<li><a
href="https://www.jianshu.com/p/57d51311aa63">PySnooper--Python的自动debug工具</a></li>
<li><a href="https://github.com/pola-rs/polars">Polars, Blazingly fast
DataFrames in Rust, Python &amp; Node.js</a> ## Python书籍</li>
<li><a
href="https://pythonnumericalmethods.berkeley.edu/notebooks/Index.html">Python
Programming And Numerical Methods: A Guide For Engineers And
Scientists</a></li>
</ul>
<h1 id="software">Software</h1>
<h2 id="代码管理工具">代码管理工具</h2>
<ul>
<li><a href="https://github.com/massCodeIO/massCode">massCode</a></li>
<li><a href="https://git-fork.com/">Fork</a></li>
</ul>
<h2 id="matlab-r2022a">MATLAB R2022a</h2>
<ul>
<li><a href="https://foxirj.com/mathworks-matlab-2022">MATLAB
R2022a</a></li>
</ul>
<h2 id="office">Office</h2>
<ul>
<li><a href="https://www.coolhub.top/archives/14">[激活 Office] Office
Tool Plus 入门教程</a></li>
<li><a href="https://otp.landian.vip/zh-cn/download.html">下载 Office
Tool Plus</a></li>
</ul>
<h2 id="常用软件">常用软件</h2>
<ul>
<li><a
href="https://docs.microsoft.com/zh-cn/sysinternals/downloads/procmon">进程监视器</a></li>
</ul>
<h2 id="ssh">SSH</h2>
<ul>
<li><a
href="http://www.91fk.net">轻量级、选项卡式、免费、开源的远程连接管理工具支持RDP、SSH、Telnet协议</a></li>
<li><a href="https://ec.nantian.com.cn/#/home">免费 安全 稳定
便携的SSH连接工具 Aechoterm</a></li>
</ul>
<h2 id="跨平台终端">跨平台终端</h2>
<ul>
<li><a href="https://tabby.sh">Tabby (formerly Terminus) is a highly
configurable terminal emulator, SSH and serial client for Windows, macOS
and Linux</a></li>
</ul>
<h2 id="homebrew">Homebrew</h2>
<ul>
<li><a
href="https://github.com/buo/homebrew-cask-upgrade">brew-cask-upgrade is
a command-line tool for upgrading every outdated app installed by
Homebrew Cask.</a></li>
</ul>
<h2 id="元数据">元数据</h2>
<ul>
<li><a
href="https://gitee.com/robergroup/chiner/releases/v3.5.5">CHINER元数建模</a></li>
</ul>
<h2 id="option-pricing-model">Option Pricing Model</h2>
<ul>
<li><a
href="https://anthonybradford.github.io/optionmatrix/">OptionMatrix
1.4.3</a></li>
</ul>
<h2 id="按键精灵">按键精灵</h2>
<ul>
<li><a href="https://github.com/taojy123/KeymouseGo">KeymouseGo v3.2.2
精简绿色版的按键精灵</a></li>
</ul>
<h2 id="markdown">Markdown</h2>
<ul>
<li><a href="https://github.com/marktext/marktext">A simple and elegant
open-source markdown editor that focused on speed and
usability.</a></li>
<li><a href="https://obsidian.md/">Obsidian is a powerful knowledge base
on top of a local folder of plain text Markdown files.</a></li>
<li><a href="https://github.com/purocean/yn">Yank Note</a></li>
</ul>
<h2 id="翻译软件">翻译软件</h2>
<ul>
<li><a
href="https://gitee.com/ylzheng/CopyTranslator">CopyTranslator</a></li>
</ul>
<h2 id="linux">Linux</h2>
<ul>
<li><a href="https://github.com/aksakalli/gtop">gtop</a></li>
<li><a href="https://github.com/netdata/netdata">Netdata is
high-fidelity infrastructure monitoring and troubleshooting.</a></li>
</ul>
<h1 id="设计模式">设计模式</h1>
<ul>
<li><a
href="https://refactoringguru.cn/design-patterns/catalog">设计模式</a></li>
<li><a
href="https://design-patterns.readthedocs.io/zh_CN/latest/index.html">图说设计模式</a></li>
<li><a
href="https://refactoringguru.cn/design-patterns/observer">观察者模式</a></li>
</ul>
<h1 id="有趣的链接">有趣的链接</h1>
<h2 id="hardware">Hardware</h2>
<ul>
<li><a
href="https://www.zhihu.com/question/20998226/answer/705020723">多核 CPU
和多个 CPU 有何区别？ - 老狼的回答 - 知乎</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/29767262">CPU制造的那些事之二：Die的大小和良品率</a></li>
</ul>
<h2 id="github">Github</h2>
<ul>
<li><a href="https://hellogithub.com/">分享 GitHub
上有趣、入门级的开源项目</a></li>
<li><a
href="https://algorithm-essentials.soulmachine.me/data-structures">算法珠玑</a></li>
</ul>
<h2 id="rgb配色">RGB配色</h2>
<ul>
<li><a href="http://zhongguose.com/#putaojiangzi">中国配色</a></li>
<li><a href="https://nipponcolors.com/">日本の伝統色</a></li>
<li><a
href="https://www.sioe.cn/yingyong/yanse-rgb-16/">RGB颜色值与十六进制颜色码转换工具</a></li>
<li><a href="https://www.allhistory.com/">全历史</a></li>
</ul>
]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>Software</tag>
      </tags>
  </entry>
  <entry>
    <title>Hampel Filter</title>
    <url>/2020/09/11/hampel_filter/</url>
    <content><![CDATA[<p>滤波器算法</p>
<span id="more"></span>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hampel</span>(<span class="params">vals_orig, k=<span class="number">7</span>, t0=<span class="number">3</span></span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    vals: pandas series of values from which to remove outliers</span></span><br><span class="line"><span class="string">    k: size of window (including the sample; 7 is equal to 3 on either side of value)</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#Make copy so original not edited</span></span><br><span class="line">    vals = vals_orig.copy()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#Hampel Filter</span></span><br><span class="line">    L = <span class="number">1.4826</span></span><br><span class="line">    rolling_median = vals.rolling(window=k, center=<span class="literal">True</span>).median()</span><br><span class="line">    MAD = <span class="keyword">lambda</span> x: np.median(np.<span class="built_in">abs</span>(x - np.median(x)))</span><br><span class="line">    rolling_MAD = vals.rolling(window=k, center=<span class="literal">True</span>).apply(MAD)</span><br><span class="line">    threshold = t0 * L * rolling_MAD</span><br><span class="line">    difference = np.<span class="built_in">abs</span>(vals - rolling_median)</span><br><span class="line">    </span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    Perhaps a condition should be added here in the case that the threshold value</span></span><br><span class="line"><span class="string">    is 0.0; maybe do not mark as outlier. MAD may be 0.0 without the original values</span></span><br><span class="line"><span class="string">    being equal. See differences between MAD vs SDV.</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    </span><br><span class="line">    outlier_idx = difference &gt; threshold</span><br><span class="line">    vals[outlier_idx] = rolling_median[outlier_idx] </span><br><span class="line">    <span class="keyword">return</span>(vals)</span><br></pre></td></tr></table></figure>
<ul>
<li><a
href="https://stackoverflow.com/questions/46819260/filtering-outliers-how-to-make-median-based-hampel-function-faster">Filtering
Outliers - how to make median-based Hampel Function faster?</a></li>
</ul>
]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>Filter</tag>
      </tags>
  </entry>
  <entry>
    <title>通过蒙特卡洛模拟估算期权的持有成本</title>
    <url>/2021/07/24/holding-option/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="939315569daa6878aa3c271f54421153cb8e3826878fc84c477f4013a5c7106a">d7e284ce31b69fc89742012cc772daee27fead59381532416ddf2dd6a14833abaad7c9a354ba8a4d1ad9307942ed16a0f0013beedb9ddda150d7f9ecc069761f7124ef912f14d173c2eaf8cd0de495483a9614cefec10452994ff0baea0f2660c0fe8333c86cb8008416177c3b4ed83ed512065fd41f2959ea30ac590b5df52844f602eb4cccd90fc72f429243e9df55eb2da61a4c90d6db45ca2e85e95555deb95c6bf9ab2441cc0aff57864126c604be16f3624ab25acf0002d8602e661da3ed59f73ab3fd220756d826830b1610cb54325e2580d9c2cca251cb0eff07ff0abac693811d0a3de76cd42263aa313c439d6407228d85b36f66590ae8e2adf76066975fe01a05c09f724a2b1cea3c68044ebcdbd5fe783fa9c6194034eed78cd4255ff3ac82e29b8bd13acf8895d8b40e7236aaa0b89178a7d4ef60130946372dc9bcab87d5de2cbada404078461231282215090f41f9df5f3b2cf058c822cd1b6f50af12cf318ed9af2cbaa4b7358f2f49f833907d10c056118ec11cdc3f41d42f9f4c5bcb623443f0bf52823cb43e529efae9ef9dec1d38c30692a2b78e719891c68af6a6e94ddb391fb8b9097c2835f4475c9f9b7cf52be94a1f8d35993e24c1d15d216d7ee0ce06c5b22d07917c19d3824e1048f47d72a92b45277264b49ee57ca80fa1ed526d9570660e789aa39f95de8474a7aff419c5f8b84e35da581569b1dc787e78698709e7a6aeffd1875ac92dcd2a34a04d8715d9d9592b343d8277b15e5b292ff478e86914b30f291727ac8b21705407fbee24825738d9b378997d4166556c959309b2f497ffc3e31f44550cc105224137b35a90da8c2e57f60aa5dc1703fc40cc624a6ee3309db6921e55042511b734bea0dd72020831bbc2aac50fc83823318cf5c51b36273174074a6ee64631978ab1027f6708181682e297e20f1cba42fee55899321db23f6115624b440e68b6effa6db28c0722fe57a6c019e4e0bfd163497aaccd16a7ca2934cd9a1f0dc89bbee1c41ae8d800c300521268eed3c2c27612d615478e18b567d57436a193f20f4ceb5151d1ec7f63584b786cd28b00d3e04c8d7ddb9c510743f98b0fd13f1b21576a51be645ade0c4676b74b2482cd0ef124620f23e76bf66fef67b4ba67f5e444eb07170101f8be6d58b876b47d384823b2b93c8a1f5833240c0665e8396106f0116586c74656778e82c13433764cd2545441b07ddc8a6d1e645116f2209421f392863a78ce19b0842a47cea7cb18f7fec12fc81cef3ddacc7abff15ae8ea7dcbd52363c65a1e36adad7ed44420e2d410c24aea21017514ce67153812e870b3297f040751d9a8e67c1df5ccf504815e75159433ad0cc48710ec890a86d9a3c74457491c646b191648e380fb9fa894841f87d2373e1038232940c75222d4c9f3881253b9ab5e47b8d9d2ec495e403ed9ade6104df2e9c105d64491e8ce10913a1530fab9426590b169fe1a82da9157afde41be11cfdc05830fa036b505c2c3c9141c2acdda3e447a60a99f00605369b97b26ee46bb91607d5e5f1ce8c4adbff0115ff142259e3dfba13199d7bcc3f255ae0d9ee661149ff32c8426e1c03bdd036ff9f08124534be52dc421fa65b3542fc694eb8ec9c2e500da3b6d65f69ef2970ffa722643e96bd4af49727e78c5d6ecce3043d433c7aa5510e5d0deb475c6f79c3891dfb3221043ebd99285944b00e1dda1d6b430db53cdd0083e185162d3c0b3696ed19671785fba6703f04ef9e1b6d0f6a303e7ed4ac478be7b6aa978a77e2ffb071261b52323c05c0ab429700e46c3bfb89de11cbc519f629a3113768d7c3c08a809a588b44b051176d07076cd29cc8c578108d6ebb86f4cfed083ba95d7c7ec9c5717df51ec8ffb3ff4ed8dfb4e454a53f4fedbadf8c1ca176a841a0e5d8a9d4bed87415f86a2d2cc3b11979fbc94be015f05e5a1d8a812f8b4f11ed7dea38e3394a14986f4ec3f004212e0a0bd900f86d75c4e8931fb21af21dceed1c1b111c56a828b8e5d82e7391275530cfd84c0258b62446965e05de686199b3cf6a919e443c78f482a1e8edd8fda1cbb51f3b9cc6a6633238f3cdb5c1579aeabe1c06389a07284eec4183b3fa9734d72abe1ecda21a7d21136a971da3f40ffd3e2092591bdde5bbfc33292650e219581f5a9d1ac025e33037728a85ebd3e8966411e2e285de15c2471afc06d1127bc3d9f9a8158dd5ad224fd370d7269faf5241638fdb5eb11f1c030deedf12c7f3bd855a7215e9577a0323ce40e27bd776ff524dc9b6a58cb3316962bb2dcd3f06fe2449a6b5facbb2f4ecfd1b151f34ace92c31a175d0848bebd708d1679a70a951e90a0c4112af39cf25108a13b0652692d2a72add791fb9ea622faef566adb4e68ef7cd2201222d22847213bfb618fff2c87e7448f0f07ee9ae2257edd43e318e69e30a4a635d06aa74b466743d36a1f1541fa520435a6dd5c3232b7376844792c7baed60a77080ebd50c990d27dbecef6d4e28415f00ce2b7faed5afd1a45ac36faa0133e91ea33167c9d077bf284435259f16a00f0ff11b6b8aa653bdc3a3129418bc79233b86cc14f4d3b8aa9c6d8d8d06e7f718c75909aaabdf529a674af895bc8e2a9b975b3b20f4be638b55554512f6da0882105b6de6e0943e9c23f237c109c6ea74539141714d7e682fcd589f2b3034da980708dbe9075f1e35495a852d5817913412c571fd659897b5e09435db99b834d2adde2b9f16574d55561e2fada57397e98fd5095f20cf6a99f68ab5fd19393f00cb73267e60fcb044ee8de17c187e6bb28aa7d31f020f17fb8166b5e6c0de3a9e4ce99ffc2d61ac906548621b006d527854133d5700b8ca162debb1113d0072b478982b5aa2d8a56cb1a3cc6d70897094363474ccb7ea9aa3e8168419ce3adb7094d768b94754644220bf64bdb77e687177ccb52ae3297b0484c5c1bcc4aae2390aadd1ec3b352f5f94f2fd7df3503cabee0aeb4e7922a1733110d8c970ae69619a13ac2abf1ded72889cd7a465699ac315f87c81e2dc3e4e7cb0929ec1620626b42ac2a6448881f59f1d76382e115d207362cb2604226d89dbb4270a8d7cb1df4aeb15b1fc30ec62cb1238bcf33d6a2cdccc270b35e431959f2e773b2c79f46f9805a28c306e27f3814c435a9ffd2a026ca6e36298efc6b5a372fff91b2e6e0076feeae8f5cf0ee2e2fa8e05a7177298f3c07c8c9a556c9b508597d113eef2fa9682611ec04dbbad103d0e94e90e2c705aeeb62e0de1cd4751d75c4f30664b295938b4c455404f993f0675000330af1e94f7d89c38c734b99a9b7e8863c8f217ca5f917a20a56ecf9eeb074f2c624d9abca735cd0f4e3446ec0a4864a514b91c5f0ed73233c74f7b312583f0f6fec04c5692b22f882f87607359ab080558c46b563d965d060b5079db3c8cae1c06097b8758a757b87f7f8e1d332a79482662548c8070ef49a236db883165b26820560b133b00062389b9af30e8ae1c3fb0375d6737a7a31e73f471242f8f1527c4c41e5f7301532437a363cca9c2a55b157a0b471670843b31707ad12af2a2571dc76597f10cb51dffaa452e03a4760b0c2c47ed65441e14ae9f3d646314e203beb2757c5cfe99117769768bc9f09cf23429809ca411b51c21ba64d9613aa3f14e702f5a50658143c844af9ac49208e0194e6808b710dc5cccced4870182ff647157f100e0063ed5734f4d337b1bc026ee58b5d143738bbf24c66f572669ee3cc4eea0524c35d6d597bc1b5d0500353370e6dabcd292f4cc68292e2fd63b5da6c2e9d84754bcda3f2b2bd90a852fae0e09cf7106dc7d92cd4b1a28129a0bd6a319e9eb149128a9dbb7407f298fa02aadc8964ca0d222eefdb0aa4317b4716b2ff176ed733e1af9f73347911b3488a6aa82189315732b43ea0cacd9a9b26b38dc4b504f3dac140a5eb7c493d48c38db1cc7c3c43ad3e71e0a3ed26cabbfb325a44efd63878ad056b4fc2d6dd770f7595c5f1a5dc61e34da98064cb018a8964edfe218c5fbaa5c4ae24b83aed5c9187b502b0b3a1daa26b35b368c50ddd7e567f792eef8dad7d708e113ed0ee22f68bac96464d6b9ae24ec5b334487678625f0d467a70129bb3fef1e49510fc81895cfed8c903ba7265802e5ca271ca868ec6a4f6312dca4e6c007bbe291811766e531bbf08ebc601cce830b4e9dd11cdfdfdc17655225a3b040b4ebcaa97eff851719777a8409c4a42e5e3c9af2c2b0224b8e9a5bb014ae7309bf21509b9b4598f3348cefa3100a8286ae816c8408daa0d95e623df6c746dacc6bba4e358352aa5726f1a7fd4bef9b53b6f6ed12f33233e6d03ac06e33907411b939155dcd7017700f69e5a26df7d0ebd61779add640b9b577f3a2f5b5e2ad7c2572a30a1951d624eb3a9f82b272f536a607abb618b52d515257d773fadc185c7461d3b6dd097887669996bf72092f43ad4e7cb4a8958edd5881fb2d770a500e42d6c2760da5a702b7cebf2dc55394dce27013377041b7a4f2bee743917feaf32cb3275fdd8294efab2432945996de8b28f54e2ca6d5085464fe5e8c347f6e620f30db126a0ee95d2569b216e66138790dfac306bd11897d5354990db8d1e30fa272bce28a8a6696704589f8aa9c69ed57fed48a5e7b7d4caf0c6ee0b4018d50efebbae4a054e1115c1a06f0a731315229dbfa0b303561a1affee26ea6cb71bcb62550c932635d3108334894390e6f2df17bd87c96554a605e8c86dca6698fcf6b640cc2e7bcc627d220189aa4d104de98b60909bc2904cb4f50a71c8a08dbf383014341401338067b1e35dd17d51f616c3e862688a047125ef11063ee55dc12f57f4d2f2a4a14e5399cf7fca0ca92c5648f8a5524a25bcc7e8a24acd223935901c5f429f53260814dec8e4075bcf6389c5b27255316c823156c6a358e14e574c91dc0767c9f0b94294c30fff20670cf665af5b9936aa6a3d104b5b2a667dbb6078d5a8130caaf22135ddae02d7ee8cd02e059ca184d25d558342a8955758bcb5d8b1c37c6eca588e2c141a36fb496c9a6a1a6706029c706ff4bb38082d3960c4d7b26e648a0911e3394125a7760620693357c1d6213f7e71152a0c2b938c62bb31ae4a2fe352af53c8f304a12503179f1e3dba1cedbe088afa2409779c6875172a6ceee826d015174d4b67f2ab19025a1e3cb657ff2fbd1b0dff70e338b8c4bec36a35f4e4bcc8796569e6c69dacd10cc4fe9d502a92a44b93b0317790476b5b46acba190c35a9fb6853906b3b5a04500c15b971c531eb0175e54499d5b76a424553e3ec9ac49b7e754b1c13d9a26d24cf531249c1b1a5d7d07e9e4de222cbf96db2c443088b28c3ff7951e81ab5c852347a3abe2b0f1df864cde91f98a0b8263f864bd6f704dbfc8bbae91b1e80310bbab49e15fd867ada616da0f5e0c3f97b1b4f7b671de3905cab3af5d92f69e3a7a8398bfe6d44e4bbea29eb48d0b562208babce4ee8ae8216323c47728ec0b98abd71a6a187d2bf0bd38417139e0b87696f4b1fac5df2327bd463a3015df57cf2551a3da0237d88e2f42657a12e88d52d015d3203e86a81014d96df576eed8179fe8581865230883e636c68fbb8d109faacabea885c61432b97d184264594e5ceb1ab9f3f8051bbcfe801e2221524ae00ad1b6abf4c15924b38148dfab9e476788c5d69a9428de0ebd97f4f33a397ea3f1cec9cf4d864b9e5787ce8dbb911a452dd99831cc88e14c49bfc791c8eb95e44273c393676d70d09c4372b1b04c52779d95b8e29f0d4668f79201852f145692ce671b81f31bea2765a2eca51edc9823103515316fce4b2ea984f0f39f88886ec2db870dfcdf327a3b3a6c4904bb8b5d955eb0de09ff11f37657d457f493fdf7f4437d3d337818c46c089cb5ab9b027a029a5c60a55923e505d011ca3f6c50bd174c9737195722275f7add50ae175acc0edf957c09d2e7e4447d003ffe9b8cd0f195e215857da33af4215130bc31a78b6663d7b653f1b34251d7823760b3f4145e9f6168565990512a62b904de4f3d358080b6cb18943d19b6748f7e3ead819b030b61e39acb79599d0ee7ea3d339e6bb049f6c1d21ce67ea9eb38d575b25e6df9b2bd432d3884df6b9a0c4a5c7619519f4620f5c335894a2439d40b554f5be5dd98545bb579ba1c4c6e49ddd23905f4bd218db50d0c7277b9a749df53338e666d7ac6ce1504257c0debdd55eeda8c0acefa1c3a1dd9d02e572074823c4df00ee2eec83ce1e653d82156356c724a927d72e51033b9b7e1a90678a6ff1804ad5cb216550f8b109e55eafced27aba5d9c168b85b4fd7f310f62cf9472b434e4693da8a6f05418f16a93c65fbd7a5546b38395688522d3829e85812f52223bb3f6c06f948855ab8b9617c07e0501b757cc19e86809d7c1047d73b428ad4f20c4f2a952b85a128099618fc88ab89d89a220ebdeedca4fd7145373705b45d2b5e73f14126647db3c66ede8ed6887192cbb656ec894fcbd0ffa052fb57dc9d3c3321bf955f055f7c556dc4da03fac6d4295222388268d2326dc5421c16e502a282b4a1c8d96ab2d51e3433d6701b9bc05e1e9087a0cf9eec2a06a1d3c4bf2b4973ab265ccb3419a3b3cd51585876617576407fcf6ab06c173b1728d7b3b6ebb15c0a6e0629ded7bd727a3b515f49dc3dffac013b53db2a80226e8918dd4d026a1fccae433df7c2f8b0d258a4eb14d547629950a6fa3fca2aa703a1dc74f33afe9d557ea33ba6668e126d767270649958b4ba8f5e267b71cbd7fcaa3b176a6452847fb93c84c7e45e655d80e4459c29153119a1b29a4e6f08998af28d589c67bb0fcb673bff61d401673befb2c474492fd700b316027dc4a3c8193d7214029e27fdacf2ef97728227db2566f8dc67ce471cdb621b372d9762d83bb1bd5e5289c97e439f48fc754660e4ca2e1ee45f90303f80c0a51f1a98458f7280ebf6ff437aac5e3cc8c00f1b1dafcc35d90c5cea510ae2155ba7d269d285fe922e01fa0c0001e8a8c253500de0e4016ba291aa7cd9f334fa08c1c5841b56f78a70a41e2ec4469ac4d0b5544f2a66b71826b7a7af9252993dcf8504600a10d8ca6ddb2a73134727de61fc59e5372c50f9b238301c519c18382e6ead71b3f31892e4850434c7bce2eadc14cd46922a84bb2529bab60bd7f9ae40ad574cd3308dc2ca1c026bc8a81983594fc650d9590d638c1443e46cf381371ab88173213687ce5bd39e16f12bca066f99b94f549d365855a49261c117e6adbe3162648d0612b6526282b52c34a9428167e31c70eb4b5f59adedc3dec5cffbe7d3d3d3cc830fbc6cfd32d6cda1d27c1d3930573ff437a32532230f24e132703751ed5dcfe8d72c06d630f2b4a7ab97958f206981b464875477ecc14ac4329bcd875fdcc9b5233b41072bedbc8d95b05da6b82174dbc24d85339d88fce206df0638207bafd2979e250cf5419f152bd8571931393c6d6f60effb80450eb3a7150a1147a566f7a10b104720abcfe9d4883af76be49fd63c60c19f031fc8f284084c1771ba968ed64a6cfdba76c200f87dd687b0b943b879d5bedae87a8d8a787f0d98f313f3fbb0b802f284c8e5dc30838706154b9decf6d290269f5ee3f0515d8cfc546e759aaf2122f570e033499e2a05b3247ffcdb1f59068df6265812f5aca0463d5fe2a8987b326beac3029358279a119b182879fa915d7caaaa1e25b1a1e96491d9aa666cd5ea69d33889b3745758694c40806ccdff9f2b8c0417e5daef72cca150a342cf9922abda6e84ca4231ab54c4e931c864606e1a6663232124228b982754a68a742e871dea00f99cf60251b23bc1412d0710ee21ce4223b6371aa0c5f3033cbe024fa3d985aef30dc91a2c39a5c183973c85fa87aeb32be6c2d9a521a8c429482f46e96b74ff94cb4f116d5cca5880b763a0422f365b9430f0c1b97f186e9a0ac03a34bebdbc8951ed8a84e53c10b35d6db218035a54697ca51dded799cc9ee81b08f3aa82b5134fdd82824b95f8193add11f52232197074bfdc26e7d49eddebcee2ff89059860399c4fbf4edfce4669744f4a48e8d2e18e10c0f252feece2bbb5d4297376a24760bbbc45eb33d6ff95707be2a9bdef0a51e1494f9ef959da46b550fef8d226f12db56b828a3ae8035f2fb6ce76f2da30d504aeed3d23c9cb8813e44eac6c8aed046c71c25c7c08d2009f78d8c538b8cb32ed6bc6b90aacf8888664d3ed082406f861224978039e945fbeb2c6867a2b6de8bc20ecf9ede7b7cf8afb9b140cb128c01825a44aa3f48d795a0b3ab220cd819e46bd28b68a93c6f226ffdbae6dadd1d26cf748ae785b2eb805438ab0089e2ad04df483ee85bb8ee728adf95c742e30f367d63b827c12a880d024d2efb9f39dabad6be741627d840cd058d870673743c2ed258cb1ed0826d66a01f88c34cf69dbe30da09a2edc259a303e5e4ac03c15e8020371fc78c10016b1857479fb78a17ac62538bec617c5f42558e8ce486c2782f82810f1ae4a45a54ee82b76adea2606a283e749be5b67fb96577d7bef6b62d9338e30f872b531248f47633ed162e1afc81a21aa1e2a86bae696b77d978dd55bbbca9d32de724bd11ff95a03914893d5982a9a94d6478c17bbcc70432dcb52ce8340563d061df30208b393588a0f3df108c052379c056647b6fea23076012a22bcd58b7e91e086a1882481528b734950624a77aaf5f12230e88d2f32b85f0f3988296c555211b65284c7274571cb131af6c3245e2973b5ed4d0f1baadf211380936b66b58c5d86a6882bf552b36a79d2e0118930a88b2f07ad2d28ea866685e07d7063a00784eb986c1bd0b95ec0a3b66ce9ddc5888fe909452246366a0f0ee1c6f74f8b274f82862c03ccf673f8bad2a67de45d31413c7566bf5d8036306eaa6ad2229e3f958a904d7e510f8347376db5b3d4faa982a42a05be2f128e245b7f110897303cb09dea859fdf531c3e2a11df7e04330dac6bad2ca11b52a83b0fb23df483cc6abab151f87792c67e72f6278d2065b84eb8bda00ef6c07634401c41d7b2cee8b8ad975342e46ff73157269e22d72e959445f590605b03e8a6d3e01b0101d75c9ee6ff409d19fffc2ddc5bffcc5ff7c301802d160f36348a6393b6b3df8b814f4883ef0b530f3c60d683dd30e3428916f0ea7b4538d2eb52e947477f409cb725e23456c35120fc99fa699b97e737732b459d047b01586951f839c43449b3d0e2f845f90ac60d78f1d6ed70851a9b86def933b00b67228a349a404dd1f9706c73d6abfe1e36d67a3fef208896b93345dcf5c0266f84306dfd7ae65b210f47c693acf5d336328315f1a0547c5a0ab5e7a185273b98effa5f27d88cadca53f53dec0919038fe2e65797c3f2e765c7926d1fe5ee9157a476f5acc6c59c8bc8fd4a00a4c0fd29ddd5378779b91185b10cf91889c005ab901802566fbf26528197044280008914b9319869539ffbc4e5388a8e4c384d7bf6a5b06d658cf5fa70ba8e8aa13d0db37192cfe0c7e9be12e8fc947d276c98f9ce06354b2a403487131f7825e19ba81144371a176fdc9ddce5ce540b33a04a8a53716864b8427483c9621a012f3344db3f75f777222a71357b41e5149c1c8884223d5e69a580054bc45a360889ea6d80238cefdad69ec9b107074afcafcdc3ed56979bd9b030bd409849a7da252bf1ffb257741b167f9d77641ad52f7a3981e0b125fb2da440e3f100637b2b2be8474a638d81ca12e4512a76952937556dfe1226bee5c96333246d25cbb0afa13244bf42844369cbefd70ae9f1f036c07e8188ea69e629d0294464a88accbb7ed31ade91a525ff4d3effb21808d37380a92b0a3b2d80c520082d89dd64d53e098962ffa28407a5175ec972e44567c1aed63ba96404b9a15b948d455631b1417ff2de883b8f10343778a2589decb1e16a855e8144d6e862794724f52605b58840ec8a1a9086d8d01724b770563332813c997e5b1eb51939566ba79a3d0eac87fe975d60874ffcfbe749d38c9a147c0e2419a300b22bef9f7375fddcdb83313ec3b76b6760a3791dc69a19e09df1b7f1c6521f7d51d7e896a69f7517ccb07f7b897dd451964e463372e9d6725cd281e04600133babb5b22339a047d613097159caf0d86423ecdbb2e92e440df74f50bc7e622d7ad487c0bea7ce04758d872b4e4b8d32880c9045a1d52dd8f568db5a7e04d5744f6a641d50c03220ba7f45f023cf61a4894e05499459dcc3c3cd7a9439297735c3d88b77a9712b2a87fe9395e475263fe1f2c055c9c367e6298097c01025562564e7547a5494beb703190540398cac5a3a463c00fa3f10cbd5d9c4c63b48c7d750cdebf07175fd1b14cc63f6ac2b47f91b19c7ede7ff900b4e288a392db6e6f5000b524d7f1759497590a37cee0de9c55dd067a7cd91cba263e5a37edc29d991b2033feb2e7eba3f844dee3e066a12ad74baba6dfcf175271fbcebb3ebe29f5cd851f356200cb1e6ce02024bc0ced7fa80af2ed6967a6b8fb2112e005dccaad4727b793bff4ef2b09a5efb1bdf5bc33be6daf0908f1f064927cedb32af3ae33cedfd3efcc70e282f2091f0dbf4fdd2e8085635558e636d9d06206ed2792f9b3216ad57ea5bc3c72e4f59aad3287d489e1c894f68047a4c1812bdad08878fb18c390ece6dcf5baa65a18be5152e7ba1beb01fd1fa1318f1d89086203b83ef8eb4c22bf7f2aa770d9b3b6cb23e574700dc45b36a5d8248a46b0ec61d5284ee8f7885c39b4a30e2380827f682fce49938689fee5334c7679db4d39b7168171b886d2c4ed1e15ab49594dc6f5bbbddd6277c95fa8d33ba699f5fd84295bc44819b614354b34a88201d16aafd5afb1289215160fbbb193ff2a67bfd8af461ee12fc39abad9c7c7deec749fb8259e3935a61eec583c2255f767b86c9459b5895514bcc0c6143d733187d4aaf93e4f21efbfbd430e8c195257a23d6283e9e2b5eadf22e04c70331084cd3e0bab6d8a87fc5c97c6328f7cefac8086faa302c47c53686dedba0bde5b508487edf3713b8d951b8532930b0c211a6c422deac50caf9717d3af763bf0ddc27c26ee4d9fb8354e11da9645c81cc6462443514063031ec2fb9772a42d3afc0c3845b0652d929c38666bf36e15ede08879ac33622881014056523e9154e70848e3857eb85fa9ccbb538de7fb64bcfb5d7ae056006d5b56857ec7b057c95b9c46b6ea2cc1bde88e10f41ec14b3d06c0ffba3b1528ca9f6a49733b1ed214a7978059d5d4ccf565dadbd96f3e3705c410e70456bb0403c9eeaf190b9ca967cac9e7be3be949096c63cf63213182b648ebff7cebbaf44bd1b568066e424ebdc5d76b8c4af736d2bc2018bf176ce941216d78938729e431a0d7355a04b03a0626938bcb9b7ae6c5498eebcd93e5eda68bc7ec1d04890b583403e028fc3ba9a2f905072e96b9ac8e5f73acc357eadf26688715e1b5c72e7bc41d65e96031a7eb8e1c8f6de855c1b66ed04aff574348545fa3ce1b7c066e02c9011c59fced673f29e85fb0364746dc0745bbf7e82260b87a77aa0e5053b2a67aa4861b53f2796fab3fd9862c8618021522efa41305d83bbef1eda6eea95b4ae60fcff2d7444418de0c084cc6a733bf24ba77cbab35c92c4ad1dba554387eb6787956eb564770094ebb9498ae0cb6a219f1b183484068e89e8a177ccc8656d0b68e98e8d79635525a4585efc8c20c2fe1c56057ae059643c23413a54cd1d2713526d76508b956ccdf780e55f98b1bc708a6dd79456ab1bc985c458bf389d5f71e255ace6ce11d61751269cd61e0e2d38ec4266d2714d83e88d07effd4b4301ec8432010eed9e3942dc4a9d5bbbde47c283876722ca86721a12f9e6211dc7e0e8e5aa5447a3956b8b10279bd919c727bb1175a004f700308a7cb5221ba8c090fe7795446b8ab1b227c6b441f590d07ada73586e626c2e9a7927564a8eedb88edc0def4ffb496be3f2dcf22b5d712f135d1e9196c67c6a5e33d8cce78bee09e8289c381f0c1e170dc88068bda5dd2bfd986c37bc8a8d227d94e4ca98beff799fa5246f990aaecaeb819b981dcfb2978acf7e5ba9806eb2f9cc9f53a31ec35d7dfe10e25f00f87257f735d7494227d85791cd509cf1a9f9607943d2c453966138033b2913a554cdfcc36df38254075e491fa9a9ac11b965b414e58e0d7c93b9622b0e99dd9abd2e113f7c43f167bae1ec4cf5bf05608be3116ad4a5faf2f87441dd714efd1f7299dabe749f3d948d5922b246fc2f42779fe2d233c351b9008af2141bb5ed6657faea27223f766b6cebf35081d415752e138271dc40951895c1bcf025aad88ca6970b6f735d1abb8effa85488e9af6e60c563622c29af870f1065acfcd12ef001da65b6a1773ce3bd393f3809a7032ffaa8ebffea500a349ed8778eee6dfa42d778ee22904479817257f423e8bb9e1c36b9c3f6483e508c619442642416b0dc80b9d49487c96c6021cd3b8cf7a676f2f4807be50db9ff08c0ab9534166149ae85972055dc6b20075bdf224d6f616783690e919a21cc16f4bfc44b3bc1e5f9875f97954dbc0cd673fe085220aef815304139abe616eeb09858b79a28e608583baea8760715d6ff7dd42c2cac362462dd47a87b8c0bcc65e65b89efafc5708bd78a75151375c0db0f2a045f1d1b9f02ff9d20996448c3caf80278d2a2268403cb69d12bc67db3c3a2a37073fb1e07f262f34618737d238e32fb824246f73f94a5b49df1d784c62d5159d9c2a010fb8d8058d8c35c0da74dc5f6933c3fab1e759a464dab19b01760f6c20bd4a11a0b512560a1cfbcb4c9f5bf8e229c2150624ba91465f0beb09a68df57eb240b0241c56854eee56e95057239f99a0df272d76cccf0e2f11a23f5e848b6c4d1c5e383d27430781e1cab4a2fb77726d1aaeb9afc977443c9cb9fba4ff3ffca268dca5a8f79e0b854878b60c393d2d8450711546157fcd599c7d866059768e910255d6ba368e1590bc8ea07ab61b8a6d5cb6c7c2d5049a3614f2bafb0cc14ca8d9dfa8616f4949a3cd621e3bdb61d69ed3fc32d1a4fbad057acf5d8a80b3aec04baf5b693b52f92197a59b42a12ae9eef7ac65904591d2a92ffde4c51bea1e888489ee5f6744573e541dec1435426b47a73fb1f32885bdaa2e2447b3c43ed37fb094612123fb229b9dfc57deed54df6574fac3227109d92975aed6320459b7dbb596f461df1bc39c84652bd6597117b7dbdced7fb1d5d191261c7f5fe60f202362c21f052e33572040b036d0d21da131af98db767a4b3b5d836145a6ac02841e415ee30cbc17c0c146fc6e95adbfb5f68464b059310e8f34b58113264d525b7382dc7208c48249479dc06df526bc77f857d7bbedca63d0016ef118283276c82403196427ddd40dd3a0805b5d118eac1571880a29744b64e77ed232964ade985b9cd0e021b8692126a8d1994068b9fcfd5368eacb93c7d32be36adf81746fb92d0d6c1deb613401414353ec75272608bee65f6fa27f8a08cac517f408092657387afb33a8dd6de48ffe0f62788dc9f21039a4347ebfd75166d4ddb3a2dee3e19fb6d65510a9cf5a43833519df26e26ccd17ada21346ba4c1128fa462ec346f51f09a49e5b4c776f9abb63c0ad0dd90d11ea1bd46fcf3542086a166224f8bcce54bb6f595fc118e5ead33aa1993cbd5f92f23f29b7a5d5a64d0a7ce519392e1f9389424d5288d989d8e3ed424616a977a82e5bda4be3ffc4a5c3197725d34e8ac172b4b34b66a9790edb5ee1c3f0472c11e3dba0f3f3f8ec1a0e2d4e6900c3c66d34e296e78c274e56a2754fcd9a9d586881fe15d40fd08c425ab92e70ccb7ba77df0a9dd30257a718624b71722575f65ed13620f315a25758232c720f12c87aae42c75aa89c71ecfc971cc11431a299ecf830bdbc9e9a36a2f581132e30e1d0f2d9e243e43a3653888acbd596a447a6983f85986c7bad95b3a082ff1f427b6357df7c6352b97fa56b3cfbbbec01bb36b2bd8227107e289aa7150c43e0e0f1471f52ba26e72978cab404733457c77c543b33d90520f460d4a6d519e691d7ed3cd1dcb30c1517beef0b74b108bf38a8a4f192014267f1c6cde2cc9436d82bc9c5a540bfc971e65840c0a32e765f8a8a06d100b4db3da1d66577c9a325382616f9f386757af5d7f2f5cf86d95e6871f9afbd976f9c89d7aca32f9adc95a0f56f3660481c6875325cea9006adf1c73ff46e9b95f5f5f535dd5de6021c698b1e40595750a5da5f49eae301c7339ed9c9239a619b2906190424696e32064e59dd612cd15baa0d3f21b9c70c3aeeadbddd57c717426b66fb1bf2aead6dc5b09d8f36384911d352fa0f9b4164a4e7c0149a5a16d40b640e951efa1065f8ad02929fe882d377da50701e2b75d241753095a9d867bf25bdecf2a10c8ba6fe17cc4bd3ccfb8a5aa87ae80a4874623cfdf237b8f3c2c5702e1e8631e454bf15196d7253691106ef1f40dfa9de39a4ec96768ffb2131f17ab7bd5574f2ea4b66fa552e153eda180dfd7a82f427816dccdf6eaab79d569bfca6420076c1eeac4e1c91f52da43695e56112b78aaec4715b4c760d2a0790761aecfbaeee2b1dd32ae0600572437bb96431f26ef5e8f8dbd95ee7f8f014c865779226c4fb5ced1ce86f8471483594c12c8a37347d19fb2e4b8a62c547398921892521c9e29b3205da01a598859e96df2c27e7d59a7b8e61b01ef349dab3b923c424724cf153c6a3bbfc259c6a404546ee6166e7e24a5189288c11c0f931ae27dd64fc7743bc48033ffd6c8f8ff4148861a39e3a01f5d07f1fe6f5efeaf9d1e0f414bc906e75391e15b2976b3c494661c685517e73ed711c1b4941832404be11d9f2df9d06efddae7610c47b8fca80ee66a639c6175a0d0951187de62701bc99c2d5bac6e5599b202726460a0d9223c57576793cc8bbf7bb6fcce96ef92c2cb3390e0e97a30d409169131ac72c0526266e20491b6c376c65afecced56096de22a44087a829754e677caca90560aeb99d33c0ebe7e5e50260df272ae7bdc85f8a7f25c7943c7ab4d2df59d94dd20226c66f1a87ed0a1662711f873d2a755a1a4de5de3365551932d7c08481f3b567c26529e3ac61115dcf64a80c38d8e628f2b14d99f3fe5b6ca0c7247c6e4cdd11139093696f1b2040a074e96a8adc8c300431ec3abd6802e9cc1ad49ebd60c3a32ac80ff5cc4bfaac6b97119045385e9976389139d5f4a3ec7cd7eb00db610445139bdfe9650b02a5eea4f46c285030787a407079c54d3a681f6146234da35e4df5454ba162f1cdcf542a9ce15dffe792f83dd2259429769dded3d54ff6f7a4d8be942fbeec3e4d368c9c4529c957d11fafe9aa06dc6c591de7c4983b9aec1885095d2a23dab129e71f9475960f0efdc4e828e4c3e3ef22eb12453a9a99d652a7ed9477cefa38e75c9fb37ae2c82d0703131eb7e8495385d74933be8e0beea415fbf16ab43bb67a8e30959c54bbd3e085e0b232b5bc598753707910156e872e49f8c1f8e0946fcb4b07938fc4a82b06603e65656e9cbe8fdc851befc0f5f64201866d0e96d08b710a0bd4fe911696ed2fbb203842c7ae2e0dd04356e06f52dc03732d067c08266f9f417953aca25128996cf0ae19d661dfcf02c63208603c748f284a7f2d2f6ce5e64062b5d55f3147e130379cf2738e775c8f1f00b7ddcf7674ffaae384b73bb7cf76529035f0994df151a8786a5c0d166f6511d1dbb98dd3be2a420c4cccf6f4cacf626d114c1cd87e61d4a73d81efcf0aee192a2ff7c8a1b2cd3fdff3cabbe52fa5ae61faa26a1b7de9495b62d3031986da97a96cfc56431e4ce16fbfd62717cb9a45e323f19c87c742494536670504842ff0bdd2ed3efef63075fc690035bf9c2974f29b923bd47cca819fe14c47835f6cb062d5ba6fb4cfdd407cfd3317a86fba0f332b91e338c0a4651fb289bfd90ea079fee070110ce119f8e87f2912b34d1ce1f78f26bb71c8ec05515cab809fa24a4e9aaf0ea3a97c09d2c8cf73a55b94d990e3a1c65b81d03bd9244cfae7e956512f93ace05c3954423bb6dd6d4b578f23ba87b8bd0aa0dc3a575da9314a49f3c0bd78a35cf19cffdbff6ac7fecb823d040f85b9aa2d50700db31a99c5b03aa164327b9f30b113d9a71c803159ab8d5be659a80ee1034bec579a0500ea9246d90980979d3920a6038afb2bbc9c2768736b19a64370a873a65cb325cd37d2a0bdefd404449f7ba3c86d9287f1b3aef51b929f6c616d5c8b364830b3a5a63a683fc9117a3c862ff5cdc427875c286e2dfce0458de258c621929fb0e60c373db9f8936b4a90835ea16ebcd2ece6eb2dda61a14e023c300d678bdd158b77fd7e1a93f79fbd8fbfe4d26ee6f9cc9ee6eccb8ab9d392baa65ecaeb4d27a708666f6f166d94316a5eeaf6f709a998e23a698b2ebe66e084bd128f6803e748fbbc3c8595313cc4d2dd6102be3fb56ade06b53bb5be2be21f362d90cad3e7da07879bfa09c92de216a4c802700db6aee1c8368a0533016436f91395acb5880d548167b97d09eb44fe83ab41ec6002c6c8454b2f2122a372476959fd6bfa6f1aed4b92b8b31a1748f3ff16716b72008ead9e262a5b2fb9c09531b5636bfd3864e3de1587b1ce1df091ad76da9fcbec07559333fd8107e319395961d620dcc7119aef84339aa0499e9211b8def449d4f7b92521b3229d3e5e75b17c385388e0ca92c58f4ec73bdbebb35b4cc8c71daa7888603808129f91446f19d744a5a2f70656f5a191322de12ee67de3be4849ea19d615c3cdfa4170f50f8fcd0fffaf6ebc8fdf483b1da787e80ae5f66fa95d499b952b17facfcb61d9fefdd3e3858a27d62c1d61837fcb710c1fb2716b1aeed5beec38a362b38271ad2436c584775e170b242293e211e06e31954bc366bb5931f503aff5887ea2ac47b604d098187e006cf15171b97dd9cfc2a7cb4dbcb15446a86974b8bce54896701ebe90971d9001a1e565cd5beb44bc5d978ce1cf14b0f119a62611a22bbb641715afb34f3b2dd284f3528c39276634ea55cacbc91a0b8dc6d92481c4c1bdca387e565c3eb4a034af396ac8d9dde38cd9a84f7b41764baf84554bda8d1ea61b2030dd43334d126d0573cbf99f4f307ec7252d388c79606afa6b56253809eaaae0f1f22eec0f01b3db24d1d905c583ec1069cc6316e8576461b9b8472136235051c2d8b52a7ba443a4321460760fdb7c06aa092488c4d9b62edb3f9164af78588ae71966ccd0a0b841ffa7bd8091c0c4da4b132284410cbabaa641c9154398dc4ffc6346420cf941f86c6d88ed463afcf2df2082ef44db6a0446d6ac5f0cdbe14c81b4f8bc1ed16f69881ab9504eea509be834516f8bd3146a7b8983cc57754567efbb2f45b6c71f59efbe9dbd613806170957a6d9286cc791c1d067230973850daaba2630a1f9725b8a31763829e228e6dc35b22954229b0c27183bb059ac32a0dbe606166feae9df538f7f5d0da73b9ff3f6acfdf91f05cbfc49d692dfd8f62d837543979531441ee95bd7e253ac89f7194b627df2d86b37ebb3c18a912784710f178e1612bb47c9e1f28cc0cbc5b2cfebfae295d949ca4415c50b5008ec40b5ae2c1623580f717b0047557395d9e3930d92e66e1e7eb71a21d278412b3299865eeba204ad744d569bcbcf65ce9adac63bd85cf39d4fbd0c5b903e1458ef2f4ef9cfb5e334bb863043d4b7f1079105d9deb15f376f94c1392f09c35d6ef8600628d392f6d220632fa031c794d577a5fa2ddf9bba5f49009a81b83ccd72bdc2c8e521ecffba7d2a7f7b8cd2e8d55d1705de5169936db834e2826e0174cf7f6ea232211a5ccad63771a6c7566e9ef5c84cfdf7a0d058ec9a82f54c83536bf90115eea53ed63cc869705b19e7cb4405b0bd12f326472676ce54837a6725d958cc26ab0d4943e0b26571bfae11792d6519706b1d1d9a19f5364a3cf201912b735e2d2450316508c31b0c10b658f838ce950cfd08d1564136473c91516d0304be51fe7f9264c0f79df4f5cd1e9d23f72a08f49e2c76ed28dc15131f4f656bf179df51c3e2772765969756bdda4767733cc3092c8a7d918c2542cc6dff332eb3efbd90202f7584ff3ab264761dd8b97b904087c5fde9bd588cba0603697d2b871f7105eb2ddddfc1a22cc70f076fef4160761f02e7093478ddfd980dbbf75a73b2b5b5a18fefa606cdacfab6185609b290bf551727c52fcc0c243fe5a272924a5fcf45a73e212579e7fc5e3d4b3681cfa80449ac1281235256c9cdf5bab7a05457de1a4bcfd6ed66f565195ccf593e905d0db845540f0c4ddb585c1be4bac76cd72d8ffcbb710789230048535460679b354eee82178e7211d99d6b6b899206005c8c2218c34037e6887fa11e223609ae889d5a17e3c8b2c003d8a18d1ec76e7b57c51bbca17f01aa33fa26b3d0452ea0390e8be75dedd116a3eee05d897b04e59051ea9f8ffab6b60aa467e6303dc57370db23b23556202200cf0d2363b0aee5a75f57b82b7ea2107e7ea5b56f1644f4b6cf265723484c25c47e648116173f0ea8896007fa0cdd275f611437e7225ffe71961289c7164b776a0689c52f3816a6a245ab67843219a5c2fac9b3606c490f5701747538d948ee94e66f21cd8369a97c25887c53978d53426e064d5786f1d0e38b1ed9d122d35663f4c8ac87ab84fc816d26e3d7f2452e6f3b9c52a6f731e31ad9a637f6ec2a5d879b6baebbc85e8b98c38a6a0eca72cef82bf5b341c1f956c4c4a870ea05b5814e628285625520df6472ca365da0fec7b3dc84ba7a5545de7536501a9e45a51db2d6fea812aeab13f917a414306aa750413bfc8074019001029b0e8d29a28a396115f809ca09c71add7fb07878ae2c881a5f4964e19be36cfcfdf42e2bbca603ebf93ffaa11ee6df</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>risk manager</tag>
      </tags>
  </entry>
  <entry>
    <title>使用QWebEngineView装载JupyterLab</title>
    <url>/2021/07/09/jupyter-client/</url>
    <content><![CDATA[<p>使用生成<code>jupyter notebook --generate-config</code>配置jupyterlab的配置文件，修改配置文件<code>code /Users/xx/.jupyter/jupyter_lab_config.py</code>如下三项去掉jupyterlab的token认证和自动打开浏览器。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># c.ExtensionApp.open_browser = False</span><br><span class="line">c.ExtensionApp.open_browser = False</span><br><span class="line"></span><br><span class="line"># c.ServerApp.password_required = False</span><br><span class="line">c.ServerApp.password_required = False</span><br><span class="line"></span><br><span class="line"># c.ServerApp.token = &#x27;&lt;generated&gt;&#x27;</span><br><span class="line">c.ServerApp.token = &#x27;&#x27;</span><br></pre></td></tr></table></figure>
<p>配置QWebEngineView的无边框浏览器</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time    : 2021/7/9 13:41</span></span><br><span class="line"><span class="comment"># @Author  : 稻草人</span></span><br><span class="line"><span class="comment"># @contact : aidabloc@163.com</span></span><br><span class="line"><span class="comment"># @File    : simple_browser.py</span></span><br><span class="line"><span class="comment"># @Desc    :</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> QUrl</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWebEngineWidgets <span class="keyword">import</span> QWebEngineView, QWebEngineProfile</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window</span>(<span class="params">QMainWindow</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(Window, self).__init__()</span><br><span class="line">        self.browser = QWebEngineView()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># set this browser as central widget or main window</span></span><br><span class="line">        self.setCentralWidget(self.browser)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 设置窗口属性</span></span><br><span class="line">        self.setWindowTitle(<span class="string">&#x27;Data Viewer&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 强制禁止使用缓存</span></span><br><span class="line">        <span class="comment"># https://stackoverflow.com/questions/34705849/clear-cookies-in-qtwebengine</span></span><br><span class="line">        self.browser.page().profile().setPersistentCookiesPolicy(</span><br><span class="line">            QWebEngineProfile.PersistentCookiesPolicy.NoPersistentCookies)</span><br><span class="line"></span><br><span class="line">        self.browser.load(QUrl(<span class="string">&quot;http://localhost:8888/lab&quot;</span>))</span><br><span class="line">        self.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_browser</span>():</span></span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    win = Window()</span><br><span class="line">    win.resize(<span class="number">1400</span>, <span class="number">900</span>)</span><br><span class="line">    win.setFixedSize(<span class="number">1400</span>, <span class="number">900</span>)</span><br><span class="line">    app.exit(app.exec_())</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    run_browser()</span><br></pre></td></tr></table></figure>
<p>完整的启动器</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> sep, getcwd, chdir</span><br><span class="line"><span class="keyword">from</span> subprocess <span class="keyword">import</span> Popen</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> simple_browser <span class="keyword">import</span> run_browser</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    task_list = []</span><br><span class="line">    path = getcwd() + sep + <span class="string">r&quot;notebook&quot;</span></span><br><span class="line">    chdir(path)</span><br><span class="line">    task = Popen(<span class="string">r&quot;jupyter lab&quot;</span>, shell=<span class="literal">True</span>)</span><br><span class="line">    task_list.append(task)</span><br><span class="line"></span><br><span class="line">    browser = run_browser()</span><br><span class="line">    <span class="keyword">if</span> browser:</span><br><span class="line">        task.terminate()</span><br><span class="line">        task.kill()</span><br><span class="line">        sys.exit()</span><br></pre></td></tr></table></figure>
<p>最终效果，没有多个title标题栏清爽多了
<img src="jupyterclient.png" width="100%" height="100%" title="jupyter client" alt="jupyter client"/></p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Qt</tag>
        <tag>Jupyter</tag>
      </tags>
  </entry>
  <entry>
    <title>期权保证金计算函数</title>
    <url>/2021/12/05/margin/</url>
    <content><![CDATA[<h2 id="上交所期权保证金算法">上交所期权保证金算法</h2>
<h3 id="etf期权">ETF期权</h3>
<p>开仓保证金最低标准</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">认购期权义务仓开仓保证金＝[合约前结算价+Max（12%×合约标的前收盘价- 认购期权虚值，7%×合约标的前收盘价）] ×合约单位</span><br><span class="line">认沽期权义务仓开仓保证金＝Min[合约前结算价+Max（12%×合约标的前收盘价- 认沽期权虚值，7%×行权价格），行权价格] ×合约单位</span><br></pre></td></tr></table></figure>
<p>维持保证金计算公式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">认购期权义务仓维持保证金＝[合约结算价+Max（12%×合约标的收盘价- 认购期权虚值，7%×合约标的收盘价）]×合约单位</span><br><span class="line">认沽期权义务仓维持保证金＝Min[合约结算价+Max（12%×合标的收盘价- 认沽期权虚值，7%×行权价格），行权价格]×合约单位</span><br></pre></td></tr></table></figure>
<p>保证金计算函数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> ndarray, maximum, minimum</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_margin_etf_option_call</span>(<span class="params">settle: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                               close: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                               strike: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                               size: ndarray</span>) -&gt; ndarray:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    认购期权义务仓开仓保证金＝[合约前结算价+Max（12%×合约标的前收盘价-认购期权虚值，7%×合约标的前收盘价）]×合约单位</span></span><br><span class="line"><span class="string">    认购期权义务仓维持保证金＝[合约结算价+Max（12%×合约标的收盘价-认购期权虚值，7%×合约标的收盘价）]×合约单位</span></span><br><span class="line"><span class="string">    认购期权虚值：行权价—50ETF（前）收盘价，如果是负数取0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param settle: settlement price</span></span><br><span class="line"><span class="string">    :param close: underlying asset close price</span></span><br><span class="line"><span class="string">    :param strike:</span></span><br><span class="line"><span class="string">    :param size: contract size</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    time_value = maximum(strike - close, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> (settle + maximum(<span class="number">0.12</span> * close - time_value, <span class="number">0.07</span> * close)) * size</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_margin_etf_option_put</span>(<span class="params">settle: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                              close: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                              strike: ndarray, </span></span></span><br><span class="line"><span class="params"><span class="function">                              size: ndarray</span>) -&gt; ndarray:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    认沽期权义务仓开仓保证金＝Min[合约前结算价+Max（12%×合约标的前收盘价-认沽期权虚值，7%×行权价格），行权价格] ×合约单位</span></span><br><span class="line"><span class="string">    认沽期权义务仓维持保证金＝Min[合约结算价 +Max（12%×合标的收盘价-认沽期权虚值，7%×行权价格），行权价格]×合约单位</span></span><br><span class="line"><span class="string">    认沽期权虚值：50ETF（前）收盘价—行权价，如果是负数取0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param settle:settlement price</span></span><br><span class="line"><span class="string">    :param close:underlying asset close price</span></span><br><span class="line"><span class="string">    :param strike:</span></span><br><span class="line"><span class="string">    :param size:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    time_value = maximum(close - strike, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> minimum(settle + maximum(<span class="number">0.12</span> * close - time_value, <span class="number">0.07</span> * strike), strike) * size</span><br></pre></td></tr></table></figure>
<h2 id="中金所期权保证金算法">中金所期权保证金算法</h2>
<h3 id="股指期权io">股指期权IO</h3>
<p>股指期权合约卖方开仓时，交易所按照上一交易日结算时合约交易保证金标准收取合约卖方交易保证金。股指期权合约卖方平仓时，交易所释放合约卖方所平合约的交易保证金。当日结算时，股指期权合约卖方交纳的交易保证金标准为：
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">每手看涨期权交易保证金=（合约当日结算价×合约乘数）+max（标的指数当日收盘价×合约乘数×合约保证金调整系数</span><br><span class="line">-虚值额，最低保障系数×标的指数当日收盘价×合约乘数×合约保证金调整系数）</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">每手看跌期权交易保证金=（合约当日结算价×合约乘数）+max（标的指数当日收盘价×合约乘数×合约保证金调整系数</span><br><span class="line">-虚值额，最低保障系数×合约行权价格×合约乘数×合约保证金调整系数）</span><br></pre></td></tr></table></figure>
<p>虚值额计算方法 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">看涨期权虚值额为：max[（本合约行权价格-标的指数当日收盘价）×合约乘数，0]</span><br><span class="line">看跌期权虚值额为：max[（标的指数当日收盘价-本合约行权价格）×合约乘数，0]</span><br></pre></td></tr></table></figure></p>
<p>保证金计算函数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> ndarray, maximum, minimum</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_margin_index_option_call</span>(<span class="params">settle: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                                 strike: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                                 close: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                                 size: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                                 adjusted_factor: <span class="built_in">float</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                                 guarantee_factor: <span class="built_in">float</span></span>) -&gt; ndarray:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    每手看涨期权交易保证金=（合约当日结算价×合约乘数）+max（标的指数当日收盘价×合约乘数×合约保证金调整系数-虚值额，</span></span><br><span class="line"><span class="string">    最低保障系数×标的指数当日收盘价×合约乘数×合约保证金调整系数）</span></span><br><span class="line"><span class="string">    :param settle:</span></span><br><span class="line"><span class="string">    :param strike:</span></span><br><span class="line"><span class="string">    :param close:</span></span><br><span class="line"><span class="string">    :param size:</span></span><br><span class="line"><span class="string">    :param adjusted_factor: 合约保证金调整系数</span></span><br><span class="line"><span class="string">    :param guarantee_factor: 最低保障系数</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 虚数额</span></span><br><span class="line">    time_value = maximum(strike - close, <span class="number">0</span>) * size</span><br><span class="line">    <span class="keyword">return</span> settle * size + maximum(close * size * adjusted_factor - time_value,</span><br><span class="line">                                   guarantee_factor * close * size * adjusted_factor)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_margin_index_option_put</span>(<span class="params">settle: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                                strike: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                                close: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                                size: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                                adjusted_factor: <span class="built_in">float</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                                guarantee_factor: <span class="built_in">float</span></span>) -&gt; ndarray:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    每手看跌期权交易保证金=（合约当日结算价×合约乘数）+max（标的指数当日收盘价×合约乘数×合约保证金调整系数-虚值额，</span></span><br><span class="line"><span class="string">    最低保障系数×合约行权价格×合约乘数×合约保证金调整系数）</span></span><br><span class="line"><span class="string">    :param settle:</span></span><br><span class="line"><span class="string">    :param strike:</span></span><br><span class="line"><span class="string">    :param close:</span></span><br><span class="line"><span class="string">    :param size:</span></span><br><span class="line"><span class="string">    :param adjusted_factor:</span></span><br><span class="line"><span class="string">    :param guarantee_factor:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    time_value = maximum(close - strike, <span class="number">0</span>) * size</span><br><span class="line">    <span class="keyword">return</span> settle * size + maximum(close * size * adjusted_factor - time_value,</span><br><span class="line">                                   guarantee_factor * strike * size * adjusted_factor)</span><br></pre></td></tr></table></figure>
<h2 id="大商所商品期权保证金算法">大商所商品期权保证金算法</h2>
<h3 id="铁矿石期权">铁矿石期权</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">卖方单腿保证金 = Max(权利金 + 期货交易保证金 - 0.5*期权虚值额， 权利金+0.5*期货交易保证金)</span><br><span class="line">看涨期权虚值额=行权价格-标的价格（小于0则取0）</span><br><span class="line">看跌期权虚值额=标的价格-行权价格（小于0则取0）</span><br></pre></td></tr></table></figure>
<ul>
<li><a
href="http://www.sse.com.cn/assortment/options/contract/c/c_20151016_3999892.shtml">上交所期权保证金</a></li>
<li><a
href="http://www.cffex.com.cn/u/cms/www/202003/27171321rvur.pdf">中金所期权保证金</a></li>
<li><a
href="http://m.dce.com.cn/dalianshangpin/resource/cms/2020/08/2020080614374399190.pdf">大商所期权保证金</a></li>
</ul>
]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>Margin Call</tag>
      </tags>
  </entry>
  <entry>
    <title>以C++为核心语言的高频交易系统是如何做到低延迟的</title>
    <url>/2021/07/09/hft/</url>
    <content><![CDATA[<h1
id="以c为核心语言的高频交易系统是如何做到低延迟的">以C++为核心语言的高频交易系统是如何做到低延迟的？</h1>
<p>作者：闵康
链接：https://www.zhihu.com/question/23185359/answer/137034841
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
<p>我们的程序的响应时间是10us（从收到行情到发出报单的响应时间），但是ping期货公司的交易前置机需要大约30us【这个数值会变化，见注释4】，所以网络延时占据了大量时间。</p>
<p>我所有的性能测试都是在一台DELL
r630机器上运行的，这台机器有2个NUMA结点，CPU型号是E5 2643 v4（3.4GHz
6核）。所有的测试都是用rdtsc指令来测量时间，Intel官网上有一篇pdf文档[Gabriele
Paoloni,
2010]，讲述了如何精准地测量时间（要用cpuid来同步）。我自己做的性能测试的结果会写成“100(sd20)ns”的形式，代表平均值是100ns，标准差是20ns。我在算均值和标准差的时候会去掉最大的0.1%的数据再算，因为那些数据似乎并不是程序延时，而是cpu被调度执行别的任务了【原因见注释3】。有些性能测试在网上有现成的测试结果，我就没自己测，直接拿来用了，但是以后我会重新在我的机器上测一遍。</p>
<p>一些我们比较注意的点：</p>
<p><strong>1.限制动态分配内存</strong></p>
<p><strong>相关的知识背景：</strong>glibc默认的malloc背后有复杂的算法，当堆空间不足时会调用sbrk()，当分配内存很大时会调用mmap()，这些都是系统调用，似乎会比较慢，而且新分配的内存被first
touch时也要过很久才能准备好。</p>
<p><strong>可取的做法：</strong>尽量使用vector或者array（初始化时分配足够的空间，之后每次使用都从里面取出来用）。尽量使用内存池。如果需要二叉树或者哈希表，尽量使用侵入式容器（boost::intrusive）。</p>
<p><strong>性能测试：</strong>我测试的分配尺寸有64和8128两种。首先，我测试了glibc
malloc的性能，分配64字节耗时98(sd247)ns，分配8128字节需要耗时1485(sd471)ns。其次，我写了一个多进程安全的内存池，分配64字节需要29(sd15)ns，分配8128字节需要22(sd12)ns。【内存池的细节见注释6】。最后，我单独测试了sbrk()和first
touch的性能，但是数据不记得了。</p>
<p><strong>2.使用轮询，尽量避免阻塞</strong></p>
<p><strong>相关的知识背景：</strong>上下文切换是非常耗时的，其中固定的消耗包括（cpu流水线被冲掉、各种寄存器需要被保存和恢复、内核中的调度算法要被执行），此外，缓存很有可能出现大量miss，这属于不固定的时间消耗。</p>
<p><strong>可取的做法：</strong>使用带有内核bypass功能的网卡。每个进程或者线程都独占一个cpu核【isolcpus和irqbalance的细节见注释3】，并且不停地轮询，用以保证快速响应。尽量避免任何可能导致阻塞的事件（如mutex），某些注定很慢的活动（比如把log写到磁盘上）应该被独立出来放到别的cpu上，不能影响主线程。</p>
<p><strong>性能测试：</strong>网上有一篇博客[tsunanet, 2010]测试了mode
switch、thread switch、process
switch的耗时，但是这篇文章太早了，以后我要用我的新cpu重新测一下。这篇博客里面，系统调用只需要&lt;100ns，线程/进程切换需要&gt;1us（不包括缓存miss的时间）。</p>
<p><strong>3.使用共享内存作为唯一的IPC机制</strong></p>
<p><strong>相关的知识背景：</strong>共享内存只有在初始化的时候有一些系统调用，之后就可以像访问正常内存一样使用了。其他IPC机制（管道、消息队列、套接字）则是每次传输数据时都有系统调用，并且每次传输的数据都经历多次拷贝。因此共享内存是最快的IPC机制。</p>
<p><strong>可取的做法：</strong>使用共享内存作为唯一的IPC机制。当然，可能需要手动实现一些东西来保证共享的数据在多进程下是安全，我们是自己实现了无锁内存池、无锁队列和顺序锁【关于seqlock的疑点见注释1】。</p>
<p><strong>性能测试：</strong>我使用了boost中的Interprocess库和Lockfree库，在共享内存上建立了一个spsc队列，然后用这个队列来传送数据，代码参考了stackoverflow上的一个答案[sehe,
2014]。我传送的数据是一个8字节整数，延时是153(sd61)ns。至于其他IPC机制，我在[cambridge,
2016]看到了一些性能测试结果，通常是要几微秒到几十微秒不等。</p>
<p><strong>4.传递消息时使用无锁队列</strong></p>
<p><strong>相关的知识背景：</strong>我只关注基于数组的无锁队列，其中：spsc队列是wait-free的，不论是入队出队都可以在确定的步数之内完成，而且实现时只需要基本的原子操作【为什么这很重要见注释7】；mpmc队列的实现方式则多种多样，但都会稍微慢一点，因为它们需要用一些比较重的原子操作（CAS或者FAA），而且有时它们需要等待一段不确定的时间直到另一个线程完成相应操作；另外，还有一种multi-observer的『广播队列』，多个读者可以收到同一条消息广播，这种队列也有sp和mp类型的，可以检查或者不检查overwrite；最后，还有一种队列允许存储不定长的消息。</p>
<p><strong>可取的做法：</strong>总的来说，应该避免使用mp类型的队列，举例：如果要用mpsc队列，可以使用多个spsc来达成目的，并不需要mp队列；同理，如果是消息广播，也可以使用多个sp队列来取代一个mp队列；如果广播时observer只想订阅一部分消息，那么可以用多个spsc+有计数功能的内存池【具体做法见注释2】；如果要求多个观察者看到多个生产者的消息，并且顺序一致，那只能用mp队列了。总结一下，mp类型的队列应该尽量避免，因为当多个生产者同时抢占队列的时候，延时会线性增长。</p>
<p><strong>性能测试：</strong>我写了一个mp类型的广播队列，传输的数据是8字节int，当只有一个生产者时，传输的延时是105(sd26)ns。增加观察者会使延时略微变大，增加生产者会使延时急剧变大（我用rdtsc指令控制不同生产者同时发送消息）。对于这个队列来说，它的延时只略高于跨核可视延时【测试结果见注释8】，所以应该算是不错了。</p>
<p><strong>5.考虑缓存对速度的影响</strong></p>
<p><strong>相关的背景知识：</strong>现在的机器内存是十分充足的，但是缓存还是很小，因此所有节省内存的技巧都还有用武之地。</p>
<p><strong>可取的做法：</strong>尽量让可能被同时使用的数据挨在一起；减少指针链接（比如用array取代vector，因为链接指向的地方可能不在缓存里）；尽量节省内存（比如用unique_ptr&lt;Data[]&gt;取代vector<Data>，比如成员变量按照从大到小排序，比如能用int8的地方就不用int16）；指定cpu
affinity时考虑LLC缓存（同核的两个超线程是共享L1，同cpu的两个核是共享L3，不同NUMA核是通过QPI总线）；会被多个核同时读写的数据按照缓存行对齐（避免false
sharing）。</p>
<p>【注释1】：有一篇惠普的论文[Hans-J.Boehm,
2012]大致叙述了顺序锁的实现方法，但是那里面有两点让我感到困惑。一是需要用到thread_fence，这在某些cpu上可能会影响性能(x86似乎没影响)；二是被保护的内容也必须是原子变量(可以是多个原子变量，所以被保护的内容可以很长)。但这是我见过的唯一一个符合C++标准的SeqLock的实现。</p>
<p>【注释2】：如果有M个生产者要发消息给N个观察者，可以建M*N个spsc队列和M个内存池，观察者只能读内存池里的数据，只有对应的那一个生产者可以修改内存池。我感觉这样应该会更快，但我没测过。</p>
<p>【注释3】：isolcpus可以隔离出一些cpu，避免其他线程被调度到这些cpu上执行。此外，设置irq
affinity可以让一些cpu尽量避免响应中断，但在/proc/interrupts里面仍然有一些项目是避免不了的，而cpu处理中断时，用户程序会有一段时间（有时高达几十微秒）无法响应，我们没法解决这个问题。</p>
<p>【注释4】：在不同的时间点，ping的结果会有很大差异。交易时间段内ping出来的结果是30us，其它时间段ping出来的结果可能是几百微秒。我不知道这是什么原因，可能是期货公司为了省电关掉了某些东西？</p>
<p>【注释6】：我们要在共享内存上使用内存池，所以不得不自己写一个。我写的内存池只能分配固定尺寸的内存块，但是用户可以建立好几个内存池，用来分配不同的尺寸。实现的过程中有两个要点。一是用无锁链表来保存空闲的内存块；二是每个线程内部有一个缓冲区，所以真正取内存块的时候是没有CAS操作的。</p>
<p>【注释7】：在Intel
x86的cpu上，如果C++中的内存顺序只用了acquire和release，那么编译出来的汇编代码里面不会有任何内存栅栏指令；如果同时也没有RMW（读-改-写）指令的话，无锁的代码编译出来就会像是普通的代码一样了。事实上，spsc队列的延时几乎等于跨核可视延时。</p>
<p>【注释8】：跨核可视延时：对于一个共享变量来说，如果有一个核上面的进程或者线程修改了这个变量，另一个核需要过一段时间才能看到这个修改，这段时间被称作跨核可视延时。我不确定在这段时间内，第二个核是会看到旧的数据还是这条指令会执行很久。在我的机器上，对于同一个cpu上的不同核心，这个值是96(sd14)ns。另外，对于同一个核心上的不同超线程，这个值应该会更小；对于同一台机器上的不同cpu，这个值应该会更大。</p>
<hr />
<p>作者：陈硕
链接：https://www.zhihu.com/question/23185359/answer/23853729 来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
<p>谢邀。只搞过 sell side，没搞过 buy
side，只能算“实时交易”，算不上“高频交易”。工作以来一直在跟延迟做斗争，勉强可以说上几句。</p>
<p>要控制和降低延迟，首先要能准确测量延迟，因此需要比较准的钟，每个机房配几个带GPS和/或原子钟primary
standard的NTP服务器是少不了的。而且就算用了NTP，同一机房两台机器的时间也会有毫秒级的差异，计算延迟的时候，两台机器的时间戳不能直接相减，因为不在同一时钟域。解决办法是设法补偿这个时差。另外，不仅要测量平均延迟，更重要的是要测量并控制长尾延迟，即99百分位数或99.9百分位数的延迟，就算是sell
side，系统偶尔慢一下被speculator利用了也是要亏钱的。</p>
<p>普通的C++服务程序，内部延迟（从进程收到消息到进程发出消息）做到几百微秒（即亚毫秒级）是不需要特殊的努力的。没什么忌讳，该怎么写就怎么写，不犯低级错误就行。我很纳闷国内流传的写
C++ 服务程序时的那些“讲究”是怎么来的（而且还不是 latency critical
的服务程序）。如果瓶颈在CPU，那么最有效的优化方式是“强度消减”，即不在于怎么做得快，而在于怎么做得少。哪些可以不用做，哪些可以不提前做，哪些做一次就可以缓存起来用一阵子，这些都是值得考虑的。</p>
<p>网络延迟分传输延迟和惯性延迟，通常局域网内以后者为主，广域网以前者为主。前者是传送1字节消息的基本延迟，大致跟距离成正比，千兆局域网单程是近百微秒，伦敦到纽约是几十毫秒。这个延迟受物理定律限制，优化办法是买更好的网络设备和租更短的线路（或者想办法把光速调大，据说
Jeff Dean
干过）。惯性延迟跟消息大小成正比，跟网络带宽成反比，千兆网TCP有效带宽按115MB/s估算，那么发送1150字节的消息从第1个字节离开本机网卡到第1150个字节离开本机网卡至少需要
10us，这是无法降低的，因此必要的话可以减小消息长度。举例来说，要发10k的消息，先花20us
CPU时间，压缩到3k，接收端再花10us解压缩，一共“60us+传输延迟”，这比直接发送10k消息花“100us+传输延迟”要快一点点。（广域网是否也适用这个办法取决于带宽和延迟的大小，不难估算的。）</p>
<p>延迟和吞吐量是矛盾的，通常吞吐量上去了延迟也会跟着飚上去，因此控制负载是控制延迟的重要手段。延迟跟吞吐量的关系通常是个U型曲线，吞吐量接近0的时候延迟反而比较高，因为系统比较“冷”；吞吐量上去一些，平均延迟会降到正常水平，这时系统是“温”的；吞吐量再上去一些，延迟缓慢上升，系统是“热”的；吞吐量过了某个临界点，延迟开始飙升，系统是“烫”的，还可能“冒烟”。因此要做的是把吞吐量控制在“温”和“热”的范围，不要“烫”，也不要太冷。系统启动之后要“预热”。</p>
<p>延迟和资源使用率是矛盾的，做高吞吐的服务程序，恨不得把CPU和IO都跑满，资源都用完。而低延迟的服务程序的资源占用率通常低得可怜，让人认为闲着没干什么事，可以再“加码”，要抵住这种压力。就算系统到了前面说的“发烫”的程度，其资源使用率也远没有到
100%。实际上平时资源使用率低是为了准备应付突发请求，请求或消息一来就可以立刻得到处理，尽量少排队，“排队”就意味着等待，等待就意味着长延迟。消除等待是最直接有效的降低延迟的办法，靠的就是富裕的容量。有时候队列的长度也可以作为系统的性能指标，而不仅仅是CPU使用率和网络带宽使用率。另外，队列也可能是隐式的，比如操作系统和网络设备的网络输入输出
buffer 也算是队列。</p>
<p>延迟和可靠传输也是矛盾的，TCP做到可靠传输的办法是超时重传，一旦发生重传，几百毫秒的延迟就搭进去了，因此保持网络随时畅通，避免拥塞也是控制延迟的必要手段。要注意不要让batch
job抢serving
job的带宽，比方说把服务器上的日志文件拷到备份存储，这件事不要在繁忙交易时段做。QoS也是办法；或者布两套网，每台机器两个网口，两个IP。</p>
<p>最后，设法保证关键服务进程的资源充裕，避免侵占（主要是CPU和网络带宽）。比如把服务器的日志文件拷到别的机器会占用网络带宽，一个办法是慢速拷贝，写个程序，故意降低拷贝速度，每50毫秒拷贝50kB，这样用时间换带宽。还可以先压缩再拷贝，比如gzip压缩100MB的服务器日志文件需要1秒，在生产服务器上会短期占满1个core的CPU资源，可能造成延迟波动。可以考虑写个慢速压缩的程序，每100毫秒压缩100kB，花一分半钟压缩完100MB数据，分散了CPU资源使用，减少对延迟的影响。千万不要为了加快压缩速度，采用多线程并发的办法，这就喧宾夺主了。</p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>HFT</tag>
      </tags>
  </entry>
  <entry>
    <title>C++理解左值和右值</title>
    <url>/2021/06/16/left_right_value/</url>
    <content><![CDATA[<p>左值通常是内存单元。在前面的示例中，变量daysInYear
实际上指向一个内存单元，属于左值。另一方面，右值可以是内存单元的内容。因此，所有的左值都可用作右值，但并非所有的右值都可用作左值。为更好地理解这一点，请看下面的示例，这行代码不合理，不能通过编译：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="number">365</span> = daysInYear;</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<hr />
<ul>
<li><a
href="https://book.douban.com/subject/27144565/">21天学通C++(第8版)
5.3.2</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++ Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>面试题库</title>
    <url>/2022/07/12/interview/</url>
    <content><![CDATA[<hr />
<p>考察点广泛而分散是考虑到国内几乎没有相关专业教育，罗列的知识点是当前比较热门的技术点，并且其中相当一部分我们也在使用。由于开源中关于金融衍生品的内容太少，参考价值很小，基本是需要自己研究形成技术路线，然后魔改开源轮子，所以需要一定的研究能力。由于目前招募岗位预期不会转向HFT方向，所以在CS基础和编程技术方面达到通识教育可以灵活的采用技术路线，不需要对某些技术特别精深有丰富的优化经验。在实际工作中，出现技能要求忽高忽低的情况，例如一个项目90%的功能都可以依赖开源，但是10%却需要完全独立研究原创，所以如果面试者有深入研究某些问题的能力或者经验则大概率具有解决这种问题的能力，应该被额外的加分。</p>
<p>A、有成功的项目经验，了解如何针对目标灵活的选择技术路线，可以承担“项目承包商”的角色。例如，给出一个研究目标可以自主搜集知识并完成模型研发构建。</p>
<p>B、对技术知识链了解较多，对某些知识技术有过实践和思考。例如，给出一个研究目标并辅助讲解，提供经典资料和模型可以灵活运用并做出一定程度的扩展。</p>
<p>C、对知识点了解较为深入，有自主搜集、分析知识的能力。例如，给出研究项目的资料自主搜集相关资料进行深入学习。</p>
<p>D、重点院校硕士学历，数学和英语能力尚可，有很好的学习态度，有一定的编程基础，思想较为成熟，可以观察到有主动学习。</p>
<hr />
<h2 id="python基础">Python基础</h2>
<p>1、谈下Python的GIL以及提高python运行效率的方法？对IO密集如何解决？对计算密集如何解决？</p>
<p>2、如何在Python中管理内存？Python垃圾回收机制</p>
<p>3、Python中的元类(metaclass)</p>
<p>4、python中类@staticmethod和<span class="citation"
data-cites="classmethod的区别">@classmethod的区别</span>？<code>__new__</code>和<code>__init__</code>的区别</p>
<p>5、python中类的继承</p>
<p>6、 Python中单下划线和双下划线的区别</p>
<p>7、协程的概念，python如何使用协程？</p>
<p>8、闭包概念</p>
<p>9、python里深浅拷贝的概念，python函数传入dataframe或者numpy等指针引用</p>
<p>10、 当退出Python时，是否释放全部内存？</p>
<p>11、ascii、unicode、utf-8、gbk 区别</p>
<p>12、字节码和机器码的区别</p>
<p>13、python中is和==的区别？</p>
<p>14、用过哪些Python库，根据用的内容问一下</p>
<h2 id="c-基础">C++ 基础</h2>
<p>1、C/C++ 动态链接库与静态链接库的区别，相比于GitHub流行的header
only的优缺点？</p>
<p>2、解释下封装、继承和多态？</p>
<p>3、抽象类、接口类、聚合类概念</p>
<p>4、解释静态函数和静态变量的概念，纯虚函数概念，</p>
<p>5、delete this 操作合法吗？</p>
<p>6、explicit 用法</p>
<p>7、堆和栈的区别？堆和栈的生命周期？堆栈缓存方式区别？堆栈数据结构区别？</p>
<p>8、什么是内存泄漏（memory
leak）？面对内存泄漏和指针越界通常采用哪些方法来避免和减少这类错误？</p>
<p>9、同步IO和异步IO的区别？</p>
<p>10、常用的排序算法有哪些？简单描述几个排序算法的优缺点？</p>
<p>11、简述数组与指针的区别</p>
<p>12、指针和引用的区别？请你介绍一下C++中的智能指针？</p>
<p>13、函数指针概念，与std::function的区别</p>
<p>14、C语言的malloc和C++中的new有什么区别？</p>
<p>15、C++基本的内存分配方式，内存管理和垃圾回收概念机制</p>
<p>16、什么是右值引用，跟左值又有什么区别？</p>
<p>17、四种cast转换：static_cast、dynamic_cast、const_cast和reinterpret_cast用法</p>
<p>18、new/delete与malloc/free的区别是什么？</p>
<p>19、enum和(enum class)区别？作用域方面</p>
<p>20、Overload、Overwrite及Override的区别</p>
<p>21、const在函数名前面和函数后面的区别？<code>const void *a</code> 与
<code>void *const a</code> 的区别？<code>const char*</code>,
<code>char const*</code>, <code>char* const</code>使用时的区别?</p>
<p>22、void * 和 void 在函数返回值中的区别？</p>
<p>23、如何避免“野指针”？</p>
<p>24、C++中拷贝赋值函数的形参能否进行值传递？</p>
<h2 id="c-stl标准模板库">C++ STL标准模板库</h2>
<p>1、什么情况下用vector，什么情况下用list，什么情况下用deque</p>
<p>2、vector中的reserve和resize的区别</p>
<p>3、vector中的size和capacity的区别</p>
<p>4、正确释放vector的内存(clear(), swap(), shrink_to_fit())</p>
<p>5、vector 扩容为什么要以1.5倍或者2倍扩容?</p>
<p>6、vector插入删除和list的区别</p>
<p>7、unordered_map 与map的区别？使用场景？</p>
<p>8、为何map和set不能像vector一样有个reserve函数来预分配数据?</p>
<p>9、STL容器的线程安全性</p>
<p>10、deque的底层机制</p>
<p>11、不允许有遍历行为的容器有哪些</p>
<p>12、hash_map和map的区别，什么时候用hash_map,什么时候用map</p>
<h2 id="操作系统">操作系统</h2>
<p>1、进程、线程和协程的概念及区别</p>
<p>2、线程同步的方式有哪些？ 为什么要使用线程池？</p>
<p>3、进程的通信方式有哪些？</p>
<p>4、什么是缓冲区溢出？有什么危害？其原因是什么？</p>
<p>5、什么是死锁？死锁产生的条件？</p>
<p>6、进程有哪几种状态？</p>
<p>7、分页和分段有什么区别？</p>
<p>8、操作系统中进程调度策略有哪几种？</p>
<p>9、自旋锁</p>
<p>10、死锁的条件是什么？如何处理死锁问题</p>
<p>12、多进程单线程架构的编程经验</p>
<p>13、文件系统</p>
<p>14、Win32和Linux进程共享内存的区别</p>
<p>15、Windows下的内存是如何管理的？</p>
<p>16、中断和轮询的特点？</p>
<p>17、说说分段和分页，什么是按需分页</p>
<p>18、微内核和宏内核的区别</p>
<p>19、什么是 DMA</p>
<p>20、调度算法都有哪些</p>
<p>21、CPU中的缓存和操作系统中的缓存分别是什么？</p>
<p>22、什么是虚拟内存(Virtual Memory)?</p>
<h2 id="linux系统">Linux系统</h2>
<p>1、什么是Shell？Linux中有几种类型的Shell？</p>
<p>2、Linux的基本组件是什么？</p>
<p>3、Linux中的文件权限类型？</p>
<p>4、什么是守护程序？</p>
<p>5、使用vi编辑器时有哪些不同的模式？如何退出vi编辑器？</p>
<p>6、什么是umask？</p>
<p>7、Linux中的网络绑定有哪些不同的模式？</p>
<p>8、如何检查Linux服务器中正在侦听哪些端口？</p>
<p>9、如何在Linux中更改默认运行级别？</p>
<p>10、简述Linux操作系统内存管理机制</p>
<p>11、Linux系统的开机启动顺序</p>
<p>12、什么是FTP的主动模式和被动模式</p>
<p>13、管道和命名管道的区别</p>
<p>14、什么是虚拟桌面</p>
<p>15、软安装点和硬安装点有什么区别</p>
<p>16、Linux 中进程有哪几种状态？在 ps
显示出来的信息中，分别用什么符号表示的？</p>
<p>17、如何修改Linux的IP地址、网关和主机名</p>
<p>18、新安装MYSQL后怎样提升MYSQL的安全级别</p>
<p>19、如何查询哪个用户执行的计划任务？</p>
<p>20、Linux磁盘是如何划分的？Linux内存是如何划分的？</p>
<p>21、Linux中buffer和cache有何区别？</p>
<p>22、谈谈对fork的理解</p>
<p>23、什么是自旋锁，如何实现？</p>
<p>24、Epoll的优势是什么？Epoll底层实现是什么？</p>
<p>25、水平触发和边缘触发的区别是什么？</p>
<h2 id="网络编程tcpip">网络编程TCP/IP</h2>
<p>1、tcp和udp的区别</p>
<p>2、流量控制和拥塞控制</p>
<p>3、tcp连接建立的时候3次握手，断开连接的4次握手的具体过程</p>
<p>4、epoll与select的区别</p>
<p>5、connect方法会阻塞，请问有什么方法可以避免其长时间阻塞？</p>
<p>6、网络中，如果客户端突然掉线或者重启，服务器端怎么样才能立刻知道？</p>
<p>7、TTL是什么？有什么用处，通常那些工具会用到它？（ping? traceroute?
ifconfig? netstat?）</p>
<p>8、在网络中有两台主机A和B，并通过路由器和其他交换设备连接起来，已经确认物理连接正确无误，怎么来测试这两台机器是否连通？如果不通，怎么来判断故障点？怎么排除故障？</p>
<p>9、网络编程中设计并发服务器，使用多进程 与 多线程
，请问有什么区别？</p>
<p>10、TCP的重发机制是怎么实现的？</p>
<p>11、TCP 黏包问题</p>
<p>12、GET和POST的区别</p>
<p>13、数字证书是什么，里面都包含那些内容</p>
<p>14、HTTP与HTTPS的区别</p>
<p>15、Socket如何唯一标识一个进程？</p>
<p>16、Socket与WebSocket的区别</p>
<h2 id="数据库">数据库</h2>
<p>1、关系型数据库和非关系型之间的区别</p>
<p>3、简述数据库设计中一对多和多对多的应用场景？</p>
<p>4、SQL数据库优化的思路</p>
<p>5、主键和外键的区别？</p>
<p>6、MySQL有哪些存储引擎？有什么区别？</p>
<p>7、为什么不建议在 <strong>MySQL</strong> 中使用
<strong>UTF-8</strong>？</p>
<p>8、 数据库索引有哪些数据结构？</p>
<p>9、数据库事务隔离级别？事务隔离级别分别解决什么问题？</p>
<p>10、数据库锁有哪些类型？如何实现？</p>
<p>11、分库分表的常见问题以及解决方案？</p>
<p>12、高并发系统数据层面如何设计？</p>
<p>13、什么是视图？以及视图的使用场景有哪些？</p>
<p>14、SQL如果一个表有一列定义为 TIMESTAMP，将发生什么？</p>
<p>15、MySQL 里记录货币用什么字段类型好</p>
<p>16、float32数据存储到MySQL、MongoDB和Redis中数据类型是什么</p>
<p>17、为什么要用 Redis 而不用 map/guava 做缓存?</p>
<p>18、Redis有哪些数据类型</p>
<p>19、Redis 的持久化机制是什么？RDB和AOF各自的优缺点？</p>
<p>20、Redis的过期键的删除策略</p>
<p>21、MySQL里有2000w数据，redis中只存20w的数据，如何保证redis中的数据都是热点数据</p>
<p>22、Redis如何做内存优化？</p>
<p>23、Redis事务保证原子性吗，支持回滚吗</p>
<p>24、Redis是单线程的，如何提高多核CPU的利用率？</p>
<p>25、如何解决 Redis 的并发竞争 Key 问题</p>
<p>26、什么是 RedLock</p>
<p>27、如何保证缓存与数据库双写时的数据一致性？</p>
<p>28、Redis回收进程如何工作的？</p>
<h2 id="计量和线性回归">计量和线性回归</h2>
<p>1、线性回归中Ordinary Least Squares、Ridge
Regression和Lasso的区别是什么？</p>
<p>2、什么是多重共线性？简单谈几种解决方法</p>
<p>3、什么是相关性？三种相关性系数的区别</p>
<p>4、T检验、F检验、卡方检验、P值、自由度的概念</p>
<p>5、置信区间和置信水平</p>
<p>6、R2的概念</p>
<p>7、Durbin-Watson 检验</p>
<p>8、Jarque-Bera检验</p>
<p>9、正态分布检验方法</p>
<h2 id="机器学习">机器学习</h2>
<p>1、什么是偏差（bias）、方差（variable）之间的均衡？</p>
<p>2、KNN和 k-means 聚类由什么不同？</p>
<p>3、解释一下ROC曲线的原理？</p>
<p>4、精度和召回率</p>
<p>5、监督学习和非监督学习有什么不同？</p>
<p>6、什么是贝叶斯定理？它在机器学习环境中如何有用?</p>
<p>7、L1、L2正则之间有什么不同？</p>
<p>8、第一类误差和第二类误差有什么区别？</p>
<p>9、概率和似然有什么区别？</p>
<p>10、交叉检验如何用在时间序列数据上？</p>
<p>11、生成模型与判别模型有什么区别？</p>
<p>12、如何对决策树进行剪枝？</p>
<p>13、什么时候你应该使用分类而不是回归？</p>
<p>14、如何评估你的机器学习模型的有效性？</p>
<p>15、你使用哪些数据可视化库？ 你对最佳数据可视化工具有何看法？</p>
<p>16、降维技术，如PCA</p>
<p>17、均值，方差，相关性（统计意义上和经验意义上）</p>
<p>18、采用 EM 算法求解的模型有哪些，为什么不用牛顿法或梯度下降法？</p>
<p>19、GBDT和RF的区别，如何知道随机森林需要多少棵树？‍</p>
<p>20、GBDT和XGBoost的区别是什么？xgboost怎么给特征评分？</p>
<p>21、什么是OOB？随机森林中OOB是如何计算的，它有什么优缺点？</p>
<p>22、过度拟合产生的原因，如何避免过度拟合</p>
<p>23、什么是正则化？为什么需要它？有哪些正则化技术？‍什么样的正则化技术适用于线性模型？‍</p>
<p>24、XGBoost防止过拟合的方法</p>
<p>25、XGBoost中叶子结点的权重如何计算出来</p>
<p>26、LightGBM 与 XGboost 的并行策略不同</p>
<p>27、boosting和bagging的区别</p>
<h2 id="深度学习">深度学习</h2>
<p>1、什么是反向传播？它是如何工作的？为什么需要它？‍</p>
<p>2、什么是Adam？Adam和SGD之间的主要区别是什么，什么时候使用Adam和SGD？‍</p>
<p>3、什么是卷积层？‍为什么需要卷积？不能使用全连接层吗？‍</p>
<p>4、CNN中的pooling是什么？为什么需要它？‍</p>
<p>5、Max pooling如何工作？还有其他池化技术吗？‍</p>
<p>6、CNN本质和优势</p>
<p>7、 鞍点的定义和特点？</p>
<p>8、神经网络数据预处理方法有哪些？</p>
<p>9、 神经网络怎样进行参数初始化？</p>
<p>10、DNN、CNN、RNN的区别与联系</p>
<p>11、 卷积神经网络中空洞卷积的作用是什么？</p>
<p>12、解释下卷积神经网络中感受野的概念？</p>
<p>13、梯度爆炸的解决方法？</p>
<p>14、深度学习模型参数初始化都有哪些方法？</p>
<p>15、注意力机制在深度学习中的作用是什么？有哪些场景会使用？</p>
<p>16、卷积神经网络为什么会具有平移不变性？</p>
<p>17、神经网络参数共享(parameter sharing)是指什么？</p>
<p>18、强化学习中有value-based 和
policy-based，这两种的优缺点分别是什么？应用场景分别是什么？</p>
<p>19、强化学习 DQN，DDQN，AC，DDPG 的区别</p>
<h2 id="cuda">CUDA</h2>
<ul>
<li>GPU中有多少种不同类型的内存？</li>
<li>什么是合并/未合并？</li>
<li>可以实现矩阵转置内核吗？</li>
<li>什么是经线？</li>
<li>多处理器内可以同时运行多少个经线？</li>
<li>块和线程有什么区别？</li>
<li>它们之间可以进行线程通信吗？ 和块？</li>
<li>您能否描述缓存的工作方式？</li>
<li>共享内存和寄存器有什么区别？</li>
<li>哪些算法在GPU上表现更好？ 数据绑定还是cpu绑定？</li>
<li>什么是障碍？</li>
<li>什么是流？</li>
<li>您能描述内核的“占用”吗？</li>
<li>什么是数组结构与结构数组？</li>
<li>pytorch中cuda()作用,两个Tensor,一个加了cuda(),一个没加,相加后很怎样?</li>
<li>SGD,Momentum,Adagard,Adam原理</li>
<li>L1不可导的时候该怎么办</li>
<li>CNN与RNN在GPU加速效果相差很大，为什么？</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>MinDoc接口文档在线管理系统</title>
    <url>/2022/09/23/min-doc/</url>
    <content><![CDATA[<hr />
<ul>
<li><a href="https://github.com/mindoc-org/mindoc">MinDoc</a></li>
</ul>
<h3 id="mysql">MySQL</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull mysql</span><br><span class="line"></span><br><span class="line">docker run -p 3306:3306 --name mysql </span><br><span class="line">\-v /Users/yangdong/docker/mysql/conf:/etc/mysql/conf.d </span><br><span class="line">\-v /Users/yangdong/docker/mysql/logs:/var/log/mysql </span><br><span class="line">\-v /Users/yangdong/docker/mysql/data:/var/lib/mysql </span><br><span class="line">\-e MYSQL_ROOT_PASSWORD=123456 </span><br><span class="line">\-d mysql --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> mindoc_db;</span><br></pre></td></tr></table></figure>
<h3 id="network">Network</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker network create netmindoc</span><br><span class="line">docker network connect --alias mysql netmindoc mysql</span><br><span class="line">docker network inspect netmindoc</span><br></pre></td></tr></table></figure>
<h3 id="mindoc">MinDoc</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull ubuntu</span><br><span class="line">docker run --name iubuntu -t -i -d -p 4100:22 ubuntu</span><br><span class="line">docker exec -t -i iubuntu /bin/bash</span><br><span class="line"></span><br><span class="line">apt-get update</span><br><span class="line">apt-get install -y sudo vim git wget unzip calibre</span><br><span class="line"></span><br><span class="line">apt-get clean</span><br><span class="line">apt-get autoclean</span><br><span class="line">apt-get autoremove</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd /home</span><br><span class="line"></span><br><span class="line">wget https://github.com/mindoc-org/mindoc/releases/download/v2.1/mindoc_linux_amd64.zip</span><br><span class="line"></span><br><span class="line">unzip mindoc_linux_amd64.zip -d mindoc</span><br><span class="line">rm -rf mindoc_linux_amd64.zip</span><br><span class="line"></span><br><span class="line">vi /etc/profileexport</span><br><span class="line">export ZONEINFO=/home/mindoc/lib/time/zoneinfo.zip</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker commit iubuntu min-doc</span><br><span class="line">docker save min-doc &gt; min-doc.tar</span><br><span class="line">docker load &lt; min-doc.tar</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 配置虚拟网络</span></span><br><span class="line">docker run --name min-doc -t -i -d -p 8181:8181 min-doc </span><br><span class="line">docker exec -t -i min-doc /bin/bash</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd conf</span><br><span class="line">vim app.conf</span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">appname</span> <span class="string">=</span> <span class="string">mindoc</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#默认监听的网卡,为空则监听所有</span></span><br><span class="line"><span class="string">httpaddr=&quot;$&#123;MINDOC_ADDR&#125;&quot;</span></span><br><span class="line"><span class="string">httpport</span> <span class="string">=</span> <span class="string">&quot;$&#123;MINDOC_PORT||8181&#125;&quot;</span></span><br><span class="line"><span class="string">runmode</span> <span class="string">=</span> <span class="string">&quot;$&#123;MINDOC_RUN_MODE||prod&#125;&quot;</span></span><br><span class="line"><span class="string">sessionon</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line"><span class="string">sessionname</span> <span class="string">=</span> <span class="string">mindoc_id</span></span><br><span class="line"><span class="string">copyrequestbody</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line"><span class="string">enablexsrf</span> <span class="string">=</span> <span class="string">&quot;$&#123;MINDOC_ENABLE_XSRF||false&#125;&quot;</span></span><br><span class="line"><span class="string">enable_iframe</span> <span class="string">=</span> <span class="string">&quot;$&#123;MINDOC_ENABLE_IFRAME||false&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#系统完整URL(http://doc.iminho.me),如果该项不设置，会从请求头中获取地址。</span></span><br><span class="line"><span class="string">baseurl=&quot;$&#123;MINDOC_BASE_URL&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#########代码高亮样式################</span></span><br><span class="line"><span class="comment">#样式演示地址：https://highlightjs.org/static/demo/</span></span><br><span class="line"><span class="string">highlight_style=&quot;$&#123;MINDOC_HIGHLIGHT_STYLE||github&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">########配置文件自动加载##################</span></span><br><span class="line"><span class="comment">#大于0时系统会自动检测配置文件是否变动，变动后自动加载并生效,单位是秒。监听端口和数据库配置无效</span></span><br><span class="line"><span class="string">config_auto_delay=&quot;$&#123;MINDOC_CONFIG_AUTO_DELAY||20&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">########Session储存方式##############</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#默认Session生成Key的秘钥</span></span><br><span class="line"><span class="string">beegoserversessionkey=NY1B$28pms12JM&amp;c</span></span><br><span class="line"><span class="string">sessionprovider=&quot;$&#123;MINDOC_SESSION_PROVIDER||file&#125;&quot;</span></span><br><span class="line"><span class="string">sessionproviderconfig=&quot;$&#123;MINDOC_SESSION_PROVIDER_CONFIG||./runtime/session&#125;&quot;</span></span><br><span class="line"><span class="comment">#默认的过期时间</span></span><br><span class="line"><span class="string">sessiongcmaxlifetime=&quot;$&#123;MINDOC_SESSION_MAX_LIFETIME||3600&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#以文件方式储存</span></span><br><span class="line"><span class="comment">#sessionprovider=file</span></span><br><span class="line"><span class="comment">#sessionproviderconfig=./runtime/session</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#以redis方式储存</span></span><br><span class="line"><span class="comment">#sessionprovider=redis</span></span><br><span class="line"><span class="comment">#sessionproviderconfig=127.0.0.1:6379</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#以memcache方式储存</span></span><br><span class="line"><span class="comment">#sessionprovider=memcache</span></span><br><span class="line"><span class="comment">#sessionproviderconfig=127.0.0.1:11211</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#以内存方式托管Session</span></span><br><span class="line"><span class="comment">#sessionprovider=memory</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#时区设置</span></span><br><span class="line"><span class="string">timezone</span> <span class="string">=</span> <span class="string">Asia/Shanghai</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">####################MySQL 数据库配置###########################</span></span><br><span class="line"><span class="comment">#支持MySQL和sqlite3两种数据库，如果是sqlite3 则 db_database 标识数据库的物理目录</span></span><br><span class="line"><span class="comment"># db_adapter=&quot;$&#123;MINDOC_DB_ADAPTER||sqlite3&#125;&quot;</span></span><br><span class="line"><span class="comment"># db_host=&quot;$&#123;MINDOC_DB_HOST||127.0.0.1&#125;&quot;</span></span><br><span class="line"><span class="comment"># db_port=&quot;$&#123;MINDOC_DB_PORT||3306&#125;&quot;</span></span><br><span class="line"><span class="comment"># db_database=&quot;$&#123;MINDOC_DB_DATABASE||./database/mindoc.db&#125;&quot;</span></span><br><span class="line"><span class="comment"># db_username=&quot;$&#123;MINDOC_DB_USERNAME||root&#125;&quot;</span></span><br><span class="line"><span class="comment"># db_password=&quot;$&#123;MINDOC_DB_PASSWORD||123456&#125;&quot;</span></span><br><span class="line"><span class="string">db_adapter=mysql</span></span><br><span class="line"><span class="string">db_host=mysql</span></span><br><span class="line"><span class="string">db_port=3306</span></span><br><span class="line"><span class="string">db_database=mindoc_db</span></span><br><span class="line"><span class="string">db_username=root</span></span><br><span class="line"><span class="string">db_password=123456</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">####################sqlite3 数据库配置###########################</span></span><br><span class="line"><span class="comment">#db_adapter=sqlite3</span></span><br><span class="line"><span class="comment">#db_database=./database/mindoc.db</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#项目默认封面</span></span><br><span class="line"><span class="string">cover=/static/images/book.jpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#默认头像</span></span><br><span class="line"><span class="string">avatar=/static/images/headimgurl.jpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#默认阅读令牌长度</span></span><br><span class="line"><span class="string">token_size=12</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#上传文件的后缀,如果不限制后缀可以设置为 *</span></span><br><span class="line"><span class="string">upload_file_ext=*</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#上传的文件大小限制,如果不填写,默认不限制，单位可以是 GB KB MB</span></span><br><span class="line"><span class="string">upload_file_size=10GB</span></span><br><span class="line"></span><br><span class="line"><span class="comment">####################邮件配置######################</span></span><br><span class="line"><span class="comment">#是否启用邮件</span></span><br><span class="line"><span class="string">enable_mail=&quot;$&#123;MINDOC_ENABLE_MAIL||false&#125;&quot;</span></span><br><span class="line"><span class="comment">#每小时限制指定邮箱邮件发送次数</span></span><br><span class="line"><span class="string">mail_number=&quot;$&#123;MINDOC_MAIL_NUMBER||5&#125;&quot;</span></span><br><span class="line"><span class="comment">#smtp服务用户名</span></span><br><span class="line"><span class="string">smtp_user_name=&quot;$&#123;MINDOC_SMTP_USER_NAME||admin@iminho.me&#125;&quot;</span></span><br><span class="line"><span class="comment">#smtp服务器地址</span></span><br><span class="line"><span class="string">smtp_host=&quot;$&#123;MINDOC_SMTP_HOST||smtp.163.com&#125;&quot;&quot;</span></span><br><span class="line"><span class="comment">#smtp密码</span></span><br><span class="line"><span class="string">smtp_password=&quot;$&#123;MINDOC_SMTP_PASSWORD&#125;&quot;</span></span><br><span class="line"><span class="comment">#端口号</span></span><br><span class="line"><span class="string">smtp_port=&quot;$&#123;MINDOC_SMTP_PORT||25&#125;&quot;&quot;</span></span><br><span class="line"><span class="comment">#发送邮件的显示名称</span></span><br><span class="line"><span class="string">form_user_name=&quot;$&#123;MINDOC_FORM_USERNAME||admin@iminho.me&#125;&quot;</span></span><br><span class="line"><span class="comment">#邮件有效期30分钟</span></span><br><span class="line"><span class="string">mail_expired=&quot;$&#123;MINDOC_EXPIRED||30&#125;&quot;</span></span><br><span class="line"><span class="comment">#加密类型NONE 无认证、SSL 加密、LOGIN 普通用户登录</span></span><br><span class="line"><span class="string">secure=&quot;$&#123;MINDOC_MAIL_SECURE||LOGIN&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###############配置导出项目###################</span></span><br><span class="line"><span class="string">enable_export=&quot;$&#123;MINDOC_ENABLE_EXPORT||false&#125;&quot;</span></span><br><span class="line"><span class="comment">#同一个项目同时运行导出程序的并行数量，取值1-4之间，取值越大导出速度越快，越占用资源</span></span><br><span class="line"><span class="string">export_process_num=&quot;$&#123;MINDOC_EXPORT_PROCESS_NUM||1&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#并发导出的项目限制，指同一时间限制的导出项目数量，如果为0则不限制。设置的越大，越占用资源</span></span><br><span class="line"><span class="string">export_limit_num=&quot;$&#123;MINDOC_EXPORT_LIMIT_NUM||5&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#指同时等待导出的任务数量</span></span><br><span class="line"><span class="string">export_queue_limit_num=&quot;$&#123;MINDOC_EXPORT_QUEUE_LIMIT_NUM||100&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#导出项目的缓存目录配置</span></span><br><span class="line"><span class="string">export_output_path=&quot;$&#123;MINDOC_EXPORT_OUTPUT_PATH||./runtime/cache&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################百度地图密钥#################</span></span><br><span class="line"><span class="string">baidumapkey=</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################Active Directory/LDAP################</span></span><br><span class="line"><span class="comment">#是否启用ldap</span></span><br><span class="line"><span class="string">ldap_enable=false</span></span><br><span class="line"><span class="comment">#ldap主机名</span></span><br><span class="line"><span class="string">ldap_host=ad.example.com</span></span><br><span class="line"><span class="comment">#ldap端口</span></span><br><span class="line"><span class="string">ldap_port=3268</span></span><br><span class="line"><span class="comment">#ldap内哪个属性作为用户名</span></span><br><span class="line"><span class="string">ldap_account=sAMAccountName</span></span><br><span class="line"><span class="comment">#ldap内哪个属性作为邮箱</span></span><br><span class="line"><span class="string">ldap_mail=mail</span></span><br><span class="line"><span class="comment">#搜索范围</span></span><br><span class="line"><span class="string">ldap_base=DC=example,DC=com</span></span><br><span class="line"><span class="comment">#第一次绑定ldap用户dn</span></span><br><span class="line"><span class="string">ldap_user=CN=ldap</span> <span class="string">helper,OU=example.com,DC=example,DC=com</span></span><br><span class="line"><span class="comment">#第一次绑定ldap用户密码</span></span><br><span class="line"><span class="string">ldap_password=superSecret</span></span><br><span class="line"><span class="comment">#自动注册用户角色：0 超级管理员 /1 管理员/ 2 普通用户</span></span><br><span class="line"><span class="string">ldap_user_role=2</span></span><br><span class="line"><span class="comment">#ldap搜索filter规则,AD服务器: objectClass=User, openldap服务器: objectClass=posixAccount ,也可以定义为其他属性,如: title=mindoc</span></span><br><span class="line"><span class="string">ldap_filter=objectClass=posixAccount</span></span><br><span class="line"></span><br><span class="line"><span class="comment">############# HTTP自定义接口登录 ################</span></span><br><span class="line"><span class="string">http_login_url=</span></span><br><span class="line"><span class="comment">#md5计算的秘钥</span></span><br><span class="line"><span class="string">http_login_secret=hzsp*THJUqwbCU%s</span></span><br><span class="line"><span class="comment">##################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###############配置CDN加速##################</span></span><br><span class="line"><span class="string">cdn=&quot;$&#123;MINDOC_CDN_URL&#125;&quot;</span></span><br><span class="line"><span class="string">cdnjs=&quot;$&#123;MINDOC_CDN_JS_URL&#125;&quot;</span></span><br><span class="line"><span class="string">cdncss=&quot;$&#123;MINDOC_CDN_CSS_URL&#125;&quot;</span></span><br><span class="line"><span class="string">cdnimg=&quot;$&#123;MINDOC_CDN_IMG_URL&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">######################缓存配置###############################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#是否开启缓存，true 开启/false 不开启</span></span><br><span class="line"><span class="string">cache=&quot;$&#123;MINDOC_CACHE||false&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#缓存方式:memory/memcache/redis/file</span></span><br><span class="line"><span class="string">cache_provider=&quot;$&#123;MINDOC_CACHE_PROVIDER||file&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#当配置缓存方式为memory时,内存回收时间,单位是秒</span></span><br><span class="line"><span class="string">cache_memory_interval=&quot;$&#123;MINDOC_CACHE_MEMORY_INTERVAL||120&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#当缓存方式配置为file时,缓存的储存目录</span></span><br><span class="line"><span class="string">cache_file_path=&quot;$&#123;MINDOC_CACHE_FILE_PATH||./runtime/cache/&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#缓存文件后缀</span></span><br><span class="line"><span class="string">cache_file_suffix=&quot;$&#123;MINDOC_CACHE_FILE_SUFFIX||.bin&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#文件缓存目录层级</span></span><br><span class="line"><span class="string">cache_file_dir_level=&quot;$&#123;MINDOC_CACHE_FILE_DIR_LEVEL||2&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#文件缓存的默认过期时间</span></span><br><span class="line"><span class="string">cache_file_expiry=&quot;$&#123;MINDOC_CACHE_FILE_EXPIRY||3600&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#memcache缓存服务器地址</span></span><br><span class="line"><span class="string">cache_memcache_host=&quot;$&#123;MINDOC_CACHE_MEMCACHE_HOST||127.0.0.1:11211&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#redis服务器地址</span></span><br><span class="line"><span class="string">cache_redis_host=&quot;$&#123;MINDOC_CACHE_REDIS_HOST||127.0.0.1:6379&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#redis数据库索引</span></span><br><span class="line"><span class="string">cache_redis_db=&quot;$&#123;MINDOC_CACHE_REDIS_DB||0&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#redis服务器密码</span></span><br><span class="line"><span class="string">cache_redis_password=&quot;$&#123;MINDOC_CACHE_REDIS_PASSWORD&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#缓存键的前缀</span></span><br><span class="line"><span class="string">cache_redis_prefix=&quot;$&#123;MINDOC_CACHE_REDIS_PREFIX||mindoc::cache&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#########日志储存配置##############</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#日志保存路径，在linux上，自动创建的日志文件请不要删除，否则将无法写入日志</span></span><br><span class="line"><span class="string">log_path=&quot;$&#123;MINDOC_LOG_PATH||./runtime/logs&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#每个文件保存的最大行数，默认值 1000000</span></span><br><span class="line"><span class="string">log_maxlines=&quot;$&#123;MINDOC_LOG_MAX_LINES||1000000&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 每个文件保存的最大尺寸，默认值是 1 &lt;&lt; 28, //256 MB</span></span><br><span class="line"><span class="string">log_maxsize=&quot;$&#123;MINDOC_LOG_MAX_SIZE&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 是否按照每天 logrotate，默认是 true</span></span><br><span class="line"><span class="string">log_daily=&quot;$&#123;MINDOC_LOG_DAILY||true&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件最多保存多少天，默认保存 7 天</span></span><br><span class="line"><span class="string">log_maxdays=&quot;$&#123;MINDOC_LOG_MAX_DAYS||30&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 日志保存的时候的级别，默认是 Trace 级别,可选值： Emergency/Alert/Critical/Error/Warning/Notice/Informational/Debug/Trace</span></span><br><span class="line"><span class="string">log_level=&quot;$&#123;MINDOC_LOG_LEVEL||Alert&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 是否异步生成日志，默认是 true</span></span><br><span class="line"><span class="string">log_is_async=&quot;$&#123;MINDOC_LOG_IS_ASYNC||TRUE&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##########钉钉应用相关配置##############</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 企业钉钉ID</span></span><br><span class="line"><span class="string">dingtalk_corpid=&quot;$&#123;MINDOC_DINGTALK_CORPID&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 钉钉AppKey</span></span><br><span class="line"><span class="string">dingtalk_app_key=&quot;$&#123;MINDOC_DINGTALK_APPKEY&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 钉钉AppSecret</span></span><br><span class="line"><span class="string">dingtalk_app_secret=&quot;$&#123;MINDOC_DINGTALK_APPSECRET&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 钉钉登录默认只读账号</span></span><br><span class="line"><span class="string">dingtalk_tmp_reader=&quot;$&#123;MINDOC_DINGTALK_READER&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 钉钉扫码登录Key</span></span><br><span class="line"><span class="string">dingtalk_qr_key=&quot;$&#123;MINDOC_DINGTALK_QRKEY&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 钉钉扫码登录Secret</span></span><br><span class="line"><span class="string">dingtalk_qr_secret=&quot;$&#123;MINDOC_DINGTALK_QRSECRET&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">########企业微信登录配置##############</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 企业ID</span></span><br><span class="line"><span class="string">workweixin_corpid=&quot;$&#123;MINDOC_WORKWEIXIN_CORPID&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 应用ID</span></span><br><span class="line"><span class="string">workweixin_agentid=&quot;$&#123;MINDOC_WORKWEIXIN_AGENTID&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 应用密钥</span></span><br><span class="line"><span class="string">workweixin_secret=&quot;$&#123;MINDOC_WORKWEIXIN_SECRET&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通讯录密钥</span></span><br><span class="line"><span class="string">workweixin_contact_secret=&quot;$&#123;MINDOC_WORKWEIXIN_CONTACT_SECRET&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># i18n config</span></span><br><span class="line"><span class="string">default_lang=&quot;zh-cn&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./mindoc_linux_amd64 install</span><br><span class="line">chmod +x mindoc_linux_amd64</span><br><span class="line">./mindoc_linux_amd64</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">http://localhost:8181/</span><br><span class="line">admin / 123456 / 3069jiayou</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo ufw status</span><br><span class="line">sudo ufw status # 查看已经开启的端口</span><br><span class="line">sudo ufw allow 8181  # 打开端口</span><br><span class="line">sudo ufw reload # 重启防火墙</span><br><span class="line">sudo ufw status # 查看一下端口是否已开放</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Wiki</category>
      </categories>
      <tags>
        <tag>Wiki</tag>
      </tags>
  </entry>
  <entry>
    <title>MyOTP-4 行情收录</title>
    <url>/2022/06/16/myotp-data-recorder/</url>
    <content><![CDATA[<h2 id="简介">简介</h2>
<p><a
href="https://github.com/dybeta2021/MyOTP/tree/main/app/data_recorder">DataRecorder</a>行情收录系统单独部署，在每日开盘前通过交易接口获取当日合约订阅列表，启动后行情数据定时批次写入clickhouse的缓存区。行情收录系统由<code>static_data</code>、<code>data-recorder</code>和<code>app</code>三部分组成。</p>
<ul>
<li><a
href="https://github.com/dybeta2021/MyOTP/tree/main/core/static_data/cpp/ctp_future_static_data">static_data</a>封装ctp-future交易接口，每日盘前启动获取当日可订阅合约代码列表。</li>
<li><a
href="https://github.com/dybeta2021/MyOTP/tree/main/core/data_recorder/cpp/app_ctp_future_data_recorder">data_recorder</a>封装ctp-future行情接口，定时写入clickhouse的buffer-table。</li>
<li><a
href="https://github.com/dybeta2021/MyOTP/tree/main/app/data_recorder">app</a>是完整的应用，通过python将<code>static_data</code>和<code>data-recorder</code>两个模块组合使用。</li>
</ul>
<h3 id="启动方式">启动方式</h3>
<p>配置config目录下账户密码，使用<code>python task.py</code>启动程序。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># SimNow ctp-future交易接口设置</span><br><span class="line">class ConfigCTPFutureTDApi:</span><br><span class="line">    ip = r&quot;tcp://180.168.146.187:10202&quot;</span><br><span class="line">    broker_id = r&quot;9999&quot;</span><br><span class="line">    user_id = r&quot;&quot;</span><br><span class="line">    password = r&quot;&quot;</span><br><span class="line">    app_id = r&quot;simnow_client_test&quot;</span><br><span class="line">    auth_code = r&quot;0000000000000000&quot;</span><br></pre></td></tr></table></figure>
<p>在coder-server内启动程序
<img src="fig1.png" width="100%" height="100%" title="fig1" alt="fig1"/></p>
<p>正常运行的状态，tick数据写入clickhouse的buffer-table，数据库自行管理buffer异步落地。</p>
<p><img src="fig2.png" width="100%" height="100%" title="fig2" alt="fig2"/></p>
<h3 id="debug">Debug</h3>
<ul>
<li>cmake编译的时候遇到<code>/usr/bin/ld cant find -lthosttraderapi</code>错误将<code>hosttraderapi.so</code>重命名为<code>libthosttraderapi.so</code></li>
<li>运行的找不到<code>libthosttraderapi.so</code>库,使用<code>so cp -f</code>
到 <code>/usr/lib</code>；</li>
</ul>
<h2 id="字段设置">字段设置</h2>
<h3 id="交易时间">交易时间</h3>
<p>对不同品种的期货和期权交易时间不同，使用ctp柜台可以直接取最长的时间范围将所有的品种交易时间全部涵盖。</p>
<h3
id="tradingday和actionday有什么区别">TradingDay和ActionDay有什么区别？</h3>
<blockquote>
<p>在CTP的设计里，TradingDay用来表示交易日，ActionDay表示当前实际日期。期货交易分为日夜盘，这两个日期在日盘的时候是一致的，但在夜盘就有了区别，是因为当天夜盘是属于第二天这个交易日。例如20190830（周五）晚上21点开始交易，交易日TradingDay是20190902（周一），但实际日期ActionDay是20190830。</p>
</blockquote>
<p>针对这个问题MyOTP系统直接弃用了这两个字段，使用本地获取的时间和日期来定位行情数据并计算相关指标。</p>
<h3 id="本地时间戳">本地时间戳</h3>
<p>逐条行情添加一个本地时间戳的设计，可以准确的计量交易所发出和系统接收中间网络传输抖动情况，但会降低系统tick-to-order的穿透时间。这里由于我的策略不是盘口高频做市策略，所以对这个时间损耗不敏感，为了方便后续进行数据分析就把这个时间戳加上了。</p>
<h3 id="主力合约">主力合约</h3>
<p>ctp柜台无法直接标识主力合约，在行情收录系统中是将所有的合约全部订阅。如果希望只订阅主力合约或成交活跃的几个合约，可以使用last-data模块获取最新数据截面，并过滤计算。</p>
<h2 id="定时运行">定时运行</h2>
<h3 id="python接口封装调用">Python接口封装调用</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># https://lz5z.com/Python%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/</span></span><br><span class="line"><span class="keyword">from</span> subprocess <span class="keyword">import</span> call</span><br><span class="line"><span class="keyword">from</span> warnings <span class="keyword">import</span> filterwarnings</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> apscheduler.schedulers.blocking <span class="keyword">import</span> BlockingScheduler</span><br><span class="line"><span class="keyword">from</span> clickhouse_driver <span class="keyword">import</span> Client</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> DataFrame</span><br><span class="line"></span><br><span class="line">filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">task_option</span>():</span></span><br><span class="line">    call(<span class="string">&quot;python task_commodity_option.py&quot;</span>, shell=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">task_future</span>():</span></span><br><span class="line">    call(<span class="string">&quot;python task_commodity_future.py&quot;</span>, shell=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_all_table_name</span>(<span class="params">host: <span class="built_in">str</span> = <span class="string">&quot;192.168.1.89&quot;</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    获取数据库内所有表名称</span></span><br><span class="line"><span class="string">    :param host:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    sql = <span class="string">r&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    SELECT *</span></span><br><span class="line"><span class="string">    FROM information_schema.tables</span></span><br><span class="line"><span class="string">    WHERE table_schema != &#x27;INFORMATION_SCHEMA&#x27;</span></span><br><span class="line"><span class="string">    and table_schema != &#x27;information_schema&#x27;</span></span><br><span class="line"><span class="string">    and table_schema != &#x27;system&#x27;;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Client(host=host, port=<span class="string">&#x27;9000&#x27;</span>, user=<span class="string">&#x27;default&#x27;</span>, password=<span class="string">&#x27;default&#x27;</span>) <span class="keyword">as</span> client:</span><br><span class="line">        result, columns = client.execute(sql, with_column_types=<span class="literal">True</span>)</span><br><span class="line">        data = DataFrame(result, columns=[col_name[<span class="number">0</span>] <span class="keyword">for</span> col_name <span class="keyword">in</span> columns])</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">drop_buffer_table</span>(<span class="params">host: <span class="built_in">str</span> = <span class="string">&quot;192.168.1.89&quot;</span></span>):</span></span><br><span class="line">    data = get_all_table_name(host=host)</span><br><span class="line">    data = data.loc[data[<span class="string">&quot;table_schema&quot;</span>] == <span class="string">&quot;tick_option&quot;</span>]</span><br><span class="line">    table_name_list = data[<span class="string">&quot;table_name&quot;</span>].tolist()</span><br><span class="line">    table_name_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> table_name_list <span class="keyword">if</span> <span class="string">&quot;buffer_&quot;</span> <span class="keyword">in</span> i]</span><br><span class="line">    <span class="built_in">print</span>(table_name_list)</span><br><span class="line">    <span class="keyword">with</span> Client(host=host, port=<span class="string">&#x27;9000&#x27;</span>, user=<span class="string">&#x27;default&#x27;</span>, password=<span class="string">&#x27;default&#x27;</span>) <span class="keyword">as</span> client:</span><br><span class="line">        <span class="keyword">for</span> table_name <span class="keyword">in</span> table_name_list:</span><br><span class="line">            sql = <span class="string">r&quot;&quot;&quot;DROP TABLE IF EXISTS tick_option.&#123;&#125;;&quot;&quot;&quot;</span>.<span class="built_in">format</span>(table_name)</span><br><span class="line">            client.execute(sql)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># BlockingScheduler</span></span><br><span class="line">scheduler = BlockingScheduler()</span><br><span class="line">scheduler.add_job(drop_buffer_table, <span class="string">&#x27;cron&#x27;</span>, day_of_week=<span class="string">&#x27;1-5&#x27;</span>, hour=<span class="number">8</span>, minute=<span class="number">40</span>)</span><br><span class="line">scheduler.add_job(task_option, <span class="string">&#x27;cron&#x27;</span>, day_of_week=<span class="string">&#x27;1-5&#x27;</span>, hour=<span class="number">8</span>, minute=<span class="number">45</span>)</span><br><span class="line">scheduler.add_job(task_future, <span class="string">&#x27;cron&#x27;</span>, day_of_week=<span class="string">&#x27;1-5&#x27;</span>, hour=<span class="number">8</span>, minute=<span class="number">47</span>)</span><br><span class="line">scheduler.add_job(drop_buffer_table, <span class="string">&#x27;cron&#x27;</span>, day_of_week=<span class="string">&#x27;1-5&#x27;</span>, hour=<span class="number">20</span>, minute=<span class="number">40</span>)</span><br><span class="line">scheduler.add_job(task_option, <span class="string">&#x27;cron&#x27;</span>, day_of_week=<span class="string">&#x27;1-5&#x27;</span>, hour=<span class="number">20</span>, minute=<span class="number">45</span>)</span><br><span class="line">scheduler.add_job(task_future, <span class="string">&#x27;cron&#x27;</span>, day_of_week=<span class="string">&#x27;1-5&#x27;</span>, hour=<span class="number">20</span>, minute=<span class="number">47</span>)</span><br><span class="line">scheduler.start()</span><br></pre></td></tr></table></figure>
<h3 id="进程管理">进程管理</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 后台运行程序，会有一个进程号</span></span><br><span class="line">nohup python run_task.py &gt;&gt; my.log 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> a:显示所有程序</span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> u:以用户为主的格式来显示</span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> x:显示所有程序，不以终端机来区分</span></span><br><span class="line">ps -aux|grep run_task</span><br></pre></td></tr></table></figure>
<p>nohup指不断地运行，是no hang
up的缩写，指不间断，不挂断。运行一个进程的时候，不想让其在你退出账号时关闭，即可用nohup。</p>
<ul>
<li>0 表示stdin标准输入，用户键盘输入的内容</li>
<li>1 表示stdout标准输出，输出到显示屏的内容</li>
<li>2 表示stderr标准错误，报错内容</li>
<li>2&gt;&amp;1是一个整体，&gt;左右不能有空格，即将错误内容重定向输入到标准输出中去。</li>
</ul>
<h2 id="行情频率">行情频率</h2>
<blockquote>
<p><strong>深交所：</strong></p>
<p>行情内容：在基本即时行情的基础上，实时买卖盘由五档扩展到十档，并增加最佳价位的前50个分档明细、逐笔委托、逐笔成交等信息；</p>
<p>发布频率：3秒/次；</p>
<p>传输形式：TCP；</p>
<p><strong>上交所：</strong></p>
<p>行情内容：在Level-1基础上增加委托信息（如委托笔数、委托数量及加权平均价格；前10档的价格、委托数量及委托笔数；前1档价位前50笔订单的委托数量；总的价位深度数量）、成交信息（逐笔成交明细数据买／卖方订单成交的最长等待时间）、增值数据（买／卖方的累计撤单笔数、数量和金额 ETF申购）</p>
<p>发布频率：3秒/次；</p>
<p>传输形式：TCP；</p>
<p><strong>大商所：</strong></p>
<p>行情内容：5级深度委托行情、最佳买卖价位上前10笔分笔委托量、加权平均委买价格、实时结算价、分价位成交量统计等8种数据；</p>
<p>发布频率：0.25秒/次；</p>
<p>传输形式：TCP、UDP点播及组播；</p>
<p><strong>郑商所：</strong></p>
<p>行情内容：合约编码、前收盘、前结算、昨持仓量、开盘价、收盘价、最高价、最低价、最新价、申买价、申卖价、申买量、申卖量、结算价、均价、涨停板、跌停板、成交量、持仓量、5级深度委托行情、委买总量、委卖总量；</p>
<p>发布频率：0.25秒/次；</p>
<p>传输形式：TCP或UDP组播；</p>
<p><strong>上期所/能源中心：</strong></p>
<p>主要内容：合约编码、最新价、合约数量、成交金额、持仓量、最高价、最低价、今开盘、今收盘等；</p>
<p>发布频率：0.5秒/次；</p>
<p>传输形式：TCP或UDP组播；</p>
<p><strong>中金所：</strong></p>
<p>行情内容：合约名称、交割月份、最新价、涨跌、成交量、持仓量、申买价（最优五笔）、申卖价（最优五笔）、申买量（最优五笔）、申卖量（最优五笔）、结算价、开盘价、收盘价、最高价、最低价、前结算价、成交额等；</p>
<p>发布频率：0.5秒/次；</p>
<p>传输形式：TCP或UDP组播；</p>
</blockquote>
<h2 id="链接">链接</h2>
<ul>
<li><a
href="http://www.sfit.com.cn/5_2_DocumentDown_2.htm">上期技术-期货期权</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/80712867">CTP程序化交易入门系列之二：API基本架构及初始化</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/92289091">CTP
4097错误根源</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/95942073">一个获取最新期货品种交易时间的小脚本</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/81063372">CTP程序化交易入门系列之四：行情订阅常见问题解答</a></li>
<li><a href="https://lz5z.com/Python定时任务的实现方式/">Python
定时任务的实现方式</a></li>
<li><a
href="https://www.cnblogs.com/baby123/p/6477429.html">nohup和&amp;后台运行，进程查看及终止</a></li>
<li><a
href="https://blog.csdn.net/weixin_42840933/article/details/85780125">Python后台运行—nohup及2&gt;&amp;1详解</a></li>
<li><a
href="https://mp.weixin.qq.com/s/b9R_U6uTD3PdyIXLpWDIrA">三分钟读懂Datafeed非展示行情</a></li>
<li><a
href="https://www.jianshu.com/p/debafa2a5df6">Ubuntu安装MySQL8.0</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>option</tag>
        <tag>trading-system</tag>
      </tags>
  </entry>
  <entry>
    <title>Greeks Monitor User Manual</title>
    <url>/2020/09/10/monitor/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="175ee65ddf5e08d7c0638ec5fdb49604af46dd4e1d2a81325386e76d6e99f8ba">d7e284ce31b69fc89742012cc772daee27fead59381532416ddf2dd6a14833ab4b04612eab1882e905848a14e5bd99a37f389893bedd9d809733d6c60eb2e319d211958e72a085db648c15419ad18d186a4f7ff7ae814dfbd5c22fe42353d8123b210dcd50c54ac6a059c350d421f82a0bc2f3756cf6ce745e69b3c3ff795c4b869bafb378ff1ea08339ba6d77f7c63b18dc3a73c2158e109237a39184349ec104e50c27e8ad598f3d1807414cb27186cedf31486e11e0b956db10365e2ca544b022451469fff5e5793c54e658a8ffee1f9f334a5c9525cf7dc875ff21918beeaf0b5475c5c37e770afb54771ca8d28319302720b775e60fb3b0b9afdca6a3a05b34b85e7f25079ecb69e312183a5dd94b3e9784eb6bb521aae64d9943933306f4bc4a6dd70c31305c2541f377599344671ae3e6c3860b97ae28720a4702a25881c8b3e6842ffe9cd29aefc7f98635966cac90f08e6a6e78237e52363a5aa6a68494c823a3a48d35cde65537a1d011c1b35705164d7303c7787b4337dc7fdd523ad34e1722521fde251e8b4126d67d7bb96ac0839d39e65e71c6cd80388124f2cb6877553b930fbd8f123cede6673ec4fcaf076bcd7eb6c2e45498b17ff632cc46d1c3cd4f70f068876e5528175112cd23a4b6c5be97dd8fafd088c28d00248c6d05da17600796a4fa9497e471a86ccf13104f8044914853270e949cec1e9667b638ba8fa4f62383ecf00974bcc131a48935553431efdc5572025205db15263e8160fbb32fe02f1622ed9df95fe0bc65dac3a217d51924a84c9f1adfcd510b2bd62eec571a2ec3ce8e884922cb62e9a994dcb326e1e407e449083b4f5ae1f4c8f32ee7db0bbf6b0892dee5961f56ebecb37b22f17e3671bf8b02535ab1dafa00ccdf5825534431b023cd7bdf2ad6082a47442124c098c340bfd9922466d5878369005c946b37e495312b0fb5f843aa48162ffcb7191f5dda2593ea5ffc55316bbeddf20d4fe7d82dace44633fc02b2622b9c2ec297697436e9f63093f116572f3ef8eaf9af6230c32096746eda6c714a36c85b2a8fb50553ad9a83d9c7880ab4b53b76511e4b0ae578422ac531e859cacd85eaf33c2c5e4062219a4166d447487cfd79eb6d940fff59510bb0dd2310470d2c038312341cd81b666af139f1d54bc4c502fd9a114a1d8cf8bde159d4b7fda660000ea6f10e30cc752d3d1df1b12b70af2971ade936e719ba5b777a902e82bbc21c9e20daa37476b5f26323588089c9c0c988c994ea77def110023f0688537fb134556473802f0676098c1ba4ca05a062a4db3e296ea42f61c2e90a3de83a6f502c23ed3a001dd53f1d893c4fbae24a1d8a44e642296253d13eddcff4ee71a554e7786ed8703233846016cbc9e1b50ba0b14b54eb277de3e8f72faf464ff228efa2fe458324d94317ebe4eeb592623e388c7777c9b431a6232419295ff6ba53084226575b0bf33f337b56baf27d44be6af3f838c4d78db56f8cc374d6766315a4f588e96219921ced3ec0edcd5688c8d21b0d5d4a5933a22cea6de9a5ed0b4e278549f4503bfbf0b2cb70fdc499d9f24cf77f5f7742b305db1db30b90fac1cfb38410223adea9f1a5e00bec7b10270a468198e6f557de4b3a13f0992e0245e2e645a644c60acaae7a243b33a6f03678d0e83ad21b9c410b812b6d18ad1910d10f8b7125289122706441ee54885ec4763c49ef2c608c702559cc900cd13a56fce08f826f3eab60cb04add7b510b2133f06b996b038e28f88c976cd9b423cde40dd00b71eb334dcd5e21d99f05ed021573d82b233714c01b7b0758e2ba67d5e24720ebe83da128d81fd43ff875fec3156b5709bf00db938230992f38e319a9a3b96feea1190720139a24618d8c998aaac66a4c87f47654f4df1d5df5de634a54dddb4b184834cbbe172e481177effc052e02fa82652040669f4bd4e41777cc3e8308bb76014bdd5ca7e5d2c4f2ab0a296ce253160f5913885879995ec8244a4a746ba2389d39e310a1352dbaa5c2ec1b6d9075c59daf46b9da5684132d2e7e5f46f3ed4d16f328856d35c1a53fbc0e16a03750ccd74434343c5170675c614bd74aa4d15ddb41f5502f033997d78d1fc6db8c0d04cadc440ee2c618c9fd7a0bccd9f5fcb6703f297382a7b6c0e351833bc88e51eae90e3d801009fdb04e62605eb10d747def1a12f328792296150dcd2324fe7203603d9555a1a4df1b9848e0aa2ac7596f2a0a8b9ef7d7206f292875d0c351933c37c0533f7be2aeb90ce2081ccf12a208cbc8ac883aa11a7c4cc4a0cd5edab15bddad64fa87545656296eeccb01969879eea0ba8847c5835c0cf69e1254ff8ed1d316be0e76dead519f8061c86e726b8d4a8a69b996212adecb0406a0d9f9554d063701dcd02935dc09c9f5d4bdad9d7129df0f16cf309aa27e4407b03c3b8162772c4aaa60933e7c33ffabe1ca68ab0ec0d0d064362cce8322146d218a5f1e8dce5e6a16960588585192f56e7fd6ca20f2fee7e3bdfb021fa0f5d568939e14b3bbfd6ec35953d1e3dc83ad4d948a96a2634fad071f41a2fb69a51f0efa28f2eb68a1f7e7995d1a124fc753a1fd338979691d9a103d6ec561e7b23846e83fe6133aa02c1eab921cdea9d7694afa644cfc80af137dac7c109ce4d8bb0c3dbd061eacac0e7453a71c132a51ff7b844fccd293982b85f32e211f68eaad914250a86aabc3f250b963a29815ddcca8ffef70ff6a47e4f676d29f8aeb7a06ed107f52f43f5f9b5e670ca2a0cd87033d5b901c0368304a47d8c17cf2d26ca352cfd3fee5192eab09a4a0e0963fc401cb9e2f60361538c84ef4a285fca38730eb9892fe89ae84f61693afb53b0b2e6e04473b8b7d18220b00492f7eb9fdbf40fc26cbf24a1268f5a0dd8399ba413bf2bbe345211a87d2b01f3ed11ca8eb8f84e3a92171b81f5af74269f87a850944131faab3bd835a87aa6a9bf30a9fdf478dbf62735f56067cf6074720611093ee04b845a54b4888b1cdc001207d64a6a1b5e5329291ccf272bb6feb80b34733890d6af169d7b0001e7d3a2fa8cc42504dfcb0f47f875de04794329ffb41c46c96e00842047b17cab38f95b7174a48e984ff2f906f40d49d7601e9d6ef16f0f10730e524a6c029c4cb10d6264f47a6bc7e077157fe400aaf2142034ded07b4db04e82588e701e6fe70e56104e62be343941408d7968bbb0e28d16265529fad8b4dc85c85d2a11bdd14d75dc03195d3c73344eaa99e4918b2b4a21a13522cae853438ebb3dd12a9f65170835cf9c69265e860f10b3127f05eb40d4f006f2f914cf5a51e8768cab1e4de0379169f8370b78f63929d4edeef5988dc80159fd0d8c6bd6dc0df64cd4c2f322e1f39964dba7667f474a1c4d4119d5c3dc4a8784fb96f386b28318bad473e1e562443ba1f96f4bc262c7bb3c3d5a2cb7daa00f897197e43be65728d7e4149a3bb3c8761bd0e16a9195624bb6559efca28a9b0bff849da13550927b8047f38f171b32a4940146555bfeac86d85116c782374033eeb8b56755f63827258182233969abc0d8d9ef19cc02b5c0eef2bef2d100cc78e523282a4c27bb60a0f3a3385d10d63a88737cbd8479e1cff7703741c6cfea1fb71df0fcb0b3a4a57fcc6b3746c346a8cb3bff5429bd514f8eacf79e35f20bac05f0b55aca0cc02487b69b1b28b2f60a53543d3eff33cb565938868f4058ae269e101ecca30deaa8133347055ac0ea4047601a9d36778c31f2f7e9bebe446e0a3303f8a923bb96c844272f9f9f325a64a8288a70bd5b8d90a8023f85e8561dd2b280abdcaec7e63adec7f2fab5e60ac54c6fb6c6e4588fd3eb505d78d27ff39b0daccdeeebc54b1ea590c5bf3973bd1b2cf3b4339d759f86d3575d4a35a5e60dc8195352b604bcefcfbadaa0edf70f4dc825707dbcbd1b14af9acd7312438bbb9eec10148897e2aaaa82b847a997d10c6e565f61972b7a4bb8e891ecec0ee7dde994357d70b3a2f48fc6a7401963f1965b98d835e99d39575d8493ef36507bc14dcffaeb0e6e8f237f8dcc1670367301568b6579e6d135155847d0d8db08c24357f963bd236b2250cf1176db1b98e1bd9ca8b640598fb05062259bf1569fd78c13e9d7b281f8c04a900ad8563b22393529c895ffbfd1bd224dbee446183f1004a9ec4d4a15c1dd8fec4bf520a793f2ce8b3ab9fdfe6daabc63e8dd4b1068cc3e0a5b16eb3ddf8e897bc265feed9b9b40447ba11e55a2ed3c584c8a20a0f22c6f603bb4eedf15a89f544dc53b631b0d76e3064f2f40e7e6fa991e65e6f61ba88c3d35b3b2ddfdb80092ad0f32500e4a356eeadcbf2fc901c8c103e09752ffdfd7cfaf5ecd4aafea761013a70281b10dd78f09796f0145d9f22364bef91968d59cb75d0a01161daf96691fbe5c4d2f47876127f30eaf4a52336c7f9711a3332859d42ba09353a6dad6f96bb9939940561a926ae9be545e0313027aa26cb65d92b5a9c1ed7e16d559bbf6e0d3f9cc80f1520597d1988606045b08dede9d14460d543070f9af3c4ab4a36bd903b5427c8019288cec9bb4dde4056754bcbb95a0e2cb15b51801d4638955211ac7c4fc7a810b16a9d5814664fcbf9c1fc550bc68228e963128d28139e95b23f5152aa78be0fec3e349bf79560afb0da416278f4daa7d6f99960e8d73029d9a0c5cec2542d01d43b0a8c908da056b14773cacd206dc3f59991260e38d54c743c17b4ff8e095879ffdad6a7179df5c3e7c8798d08829bffdec38666423061d14837bdc1a3c909536318de9bb47e3d9f333a8a3e6d530cb4198413ce16ff690790a287d0d220eab76a59c2b63bb4ebca71b36b3d417373a39a9208a6db6e1d08837605ab3d8021e51404eef81005b42d7ff2893d734f6a547daae3983fcd12d88bbb3cae98a061928335cabb560022f9c15e6e16c8a5302ac6b1c73dd8e96d360305a20025c95b528bbcf70863b85504c2542ab5e70c411333989f1990ae633934960f80e7015a5609eb5ac35c207997c3825733c40d36e0a7f498ac4a71aeaa2d32ef46137435a76b645cd53588d45d6d740990195a55dd3f2071a10ce24f556b709127da4198c040833cd6c16db692fee653ee032b71b5a6b2b5fe4de431832eba91f8b0f6dfbd577e1b880be9e666f3cd22c0103c8cbbe5c9b0fd8291d149a4f2fd74e7cc8cce3ffe0185ea824b1339167e2923eb0b7b41869a60a9c7889c00da5db0a94f100dd819e4671857e4e94f38f95ded8d740d78d618b8c3b6e0d1e2a26f078eb49e4f9c0d25a356a56d339da95a047e13f4e7d6b3b1cc14a4daf0bba401c88315c8b3dea68c9fa9065dd97e2035d86e3b472137307a529a1a056465b53524c41135d0560938a91c3b37d81317be0147b7de8b9abba3c242180bc5cc153fcecad202803265c3664049a5041b5602d1501b03da1e45f85ec451fd40f8fe82d4e4d356d55bb06e1298117a210af69ac7eeebae9e547f6e2529b6f725519e35340e5c007924934d519b90ba5ef9c7831168883d8e5b78658a3021394fc748fdb92be8d3fb426ad9388dc521317e399b55c8a05db196eb607673ee32f8049beedc0130a83ea28427b2230442f7e30b551e967429c1159cd92dd12e7303a2ee334e619119ce81dff0febfe837e9db0a047208b5f774aae8f6789595c25c9b58e4740fb3fb24113b044a79ac46ddb1bc3120358501c8906d030bec60305067b98db1e8ae6311562bd0143de12b935cfef14d6855893ba108717b0585d353dbe83c64c348618555dccef4288d515da2def77790ff58e1ae16889d5cc12f095485eed20dc7ce7f6e3b4a7258107d1fb6509e4de14dd6e04afabeed922c5d224e0cb0fdbb315b8fd4d6ac7a41f3e0585561b26f5b636764787e9421311490d2546ddc138703510981239a378c61c10773969c6d1ca4b9da147d01d1c475955da8eccfb544647523559fb4151197d3d52e2b85c46100e0c718c38800de56e3ec740ec986e47040583bcbc3479e8a73b8661cbbf3576debb4abdb4c615be2ee33d9f96c776c916eb8713d660c969e589b578356137e4f0b8d6858075f349b27e78764fc39c7e5f34c1020919a1a2d434b2a6c91e31e72969e9a9cb007e28dc60197eae0006bf372c524e0155a1c94cf5dbc583f9cd976d76582c75d191757b256714d0e247578f5cf1c591140ea115a2e593f1b1404a924ba203243dd77bffdc521350089c027c00308fb13be365993819dd904e3e137a785a2d60206c3c5dc74cbe3593ee57d17ff8219fb3ba22435cc918852ec506b60699aa1df8c0b2c94563eaaaf4e8245bb818d4a6f909127f7ab4e6ae13e6296f643075f6bb22d64be75263b6fdd440aa6855059011a37aeb22f18fd31362e78331d528a0986ae89c5c92178b706c2fba2f20a320d82c09c3f5357b63c8966adb1f695a2ab60ec72ad933f487ebbb2370ee50b125e18c60efa6e871e7d8127dd5209af03a567c2a176c0c81616d994c7eddef3cd4896fd3134ea7bf104f1f39ec9c779551ee47cbad16c5170c2a1ccfd31827b336a28f24f4184cd00c267e88717377983a344355dd148f1427e45436ff86a1c641f9dc89bb88ad0422efea17cbd54f7da460c2772029392e7f7551ef3d7c56efe05ef32f3be6b2958b63f183fe5b7e0fe5e70b4f19ae05284108a73682357488cfb9e6526b3599dfeb637fa153e3069898dacdf6ae76e3b246562ced2d452a269165d0db8ba5cfd5e22b8d0215d0538cfdb3679ff3a0b0efa929b9135960e85dc93d9402b52b5b9ed3974e8293470b78533b9115e211124eeb5292a7b8c9eed0b9beccbdb71e7ee8c1b1ae1f7ee3ad6a5a6425463e5f01479b8b536bd9078bac0825d0e0ca917a14a39e6a785bc986e137484cdc5e27a69986f3f23fbc91bb7d8168bff4abbee00cdb2664bbd5bdd9b46b93cfd4942c5c0658455b6cdadef828339a3897f16d64d3ea8a825308a9af546c929792096477f074c0320fd9ccc038d8c0dd80b5067ddfdb08af7bafc503f234662da0cd6ab834a5edf7d59e836ae7a3787e2c27c206369cbfea475b75ade7279be4372be9be7907cab33dc1d717ab7ca73455d72f5ffcd22df0feb2b12f8c760d9a3dc63c6069a02967e461084199d2a58f4f81652207eb1bfab400e6e4a493d9ed9918352a484cc1731cf874c53608af88ef70ecbdbfecae0f2057cbebe1e24598cc4284cb99b177ae502be344d49faca60ec5a0d4d9898a21d86eff5573843fae6ef400b1d58f01f75a32688dae0f8b1ecec11cedce1d6af78a59d204f7edfd3bf52cec126d11621932814dfdbf20a5e4ced5f1dd55502ef24431c5d84274482dea2404bf7b91413fcfc10fc346b5974556e81b3fac6220187a0358f1cdf9897f7bca5d3d47881e8bf71977b52931a2b5cf3912d2c5f474938f1a9549af3022bfafb5e3b638153f102b7627c1639603c5ca5a92d3027f0b8421de56e265a56b6487aec43fb7df4378b9578d688c936e6d52039720ebefe5194f6264d16965efd320f02edc1a8f065b9566dc1609489bf9fa5664a82e5dcdd07de49901ed41b72643ab47f762c2593c153c78246e221a4990f78b46dbc5de6e810eab536d9f880029ac246e64cb14d15097509833d38f932754880e57db0aa4254a1f05ba8601354c5ce5192ca6c36a0a356f15bc3f13c06dfbdc69dd9712efe044297623abd3688dd9e8a4b96423d8922207ffecee6bcc98055f30870ef5d4de03717b78ed3fde3b13184fe11448b4c3bc8bed5540c4af0b80c3cbd4aa4a144a54dd277fabc06cd3af521ac6cd395030130d5774737aa8413cb5f6bddca7b04122ba8818108d336a5983130aa007558bb65de8c3d8b287460b92532998c836a6f81111515bbe5c1670ec73d6fb16a222bce560ec296ac9af0701fc91f8cd3ce474a07d63643b651665f9b55baec624625335b819fc02f1d66fa4a057d5bee5388e9cd65f5acac8e71d26e44678b34923f922e87d358c85dcf0425cb3222091b440fd4699b398bfe51eb3822d780c4f5b5a4b6ee93f82d38e172c3f5140fac71791e691c2eaaef1b1ba800c7db09aedf4afd1d8685387fa4f59892ee5486e5be8ae877152eeb85273a5272f5d8a3e0f2f4a35ebda88ee810c4d1befdf090e4c9d4a22667ee39f69a18f1b1bf861173e02a4041f380e2814b96e1583d48192d67b4be80963209c57073e8f5982c2ba96a4c401f4a3e6d3778b1a5012b18067c28a30ef7d0f0b03862d905a1f894963a128c40623635f68e51888d14fbe2644aa0df32e3f554625b6221e6f45f6f1004a61c286996e03918463fcea661af7c47315c0eebb8e4d7e294c35f07096eb949e0462faea65323cc15d66c5fd2fdbc8abaf48f8fc3c770954c666c006778b33e44d207458c2ad27c33a4239878cd6118850f8663f17d05e191472090d87298f7a9d5c1d39409baaab0b2b6b428c12bfdfea63c4ba1cd5b9bec6954a086042acb09d67edeccccfc515c93a64f22eec760ed35e79c99452b2a97d48836aad01192f790f8da863f31312ff225552476e7cb7e48bb3def30c2f5445ee9bc3539abff7c1d7f28d3d4e10b6b1043be4be2572cda68fbfc75c93d17ff0fbc61a148fc5232fd0140990009350d191ed1aad1e6e30c79e79f92d4788bc3a67ea3a88bd0ee96fb1ad21b12412689a55d3fcb0dc5c3083a61fa84f08855c70f8d2923272ca8b9b8bf768e66a0a0c1e73e90957ece6019da003008e9c7408597116d60f34896176122d9ffeb5aa57c994aa4e5b3ccb88081c3a0186702559f780ab96ee9632c8f5dbd29ffb4b73ee2cfab001c85c4c5a04035244e4f79f2d94a9d7c6ad27cb8f90b6703381134cd1ab171b88abfd211c602b5720b9a3310702f448aa9f06be2350c48aafb89b9aa0b0a9ed81cfdad93ebe3fe8bcd3890ce7bd115fcbf74ab39755462907d7a10bd63119b636e54b7621fe3b627cabafeaa30a877ecbf93d6bca98d62073c470854c9804a32a56d24653f7dff87212dd36fc4d7fb2be2cbc29c4328cc304adf7830327d05f8513a6d5478f4278bca89b99477fb11f7cdcd4b6c01c8672ca381e07aedad3cc0d06be244b5883eec8743abbb0cfeb3469684c61d5076b591b71797b727b166d230f39ced14fabb124b20d2edb05fe2d32285e37aad5ad2dfbb5c6de43097dbe061c9c947aaefaeeb657e916a240b77b156b43f200fd10839c2a564ba22b55b30dfa3af8760f3bbbbdee8969811d7fd6b285bc2b64eb6953e87a42111c13f5f6ec7bf38b4e7c7a7cb64f60fbd05dc109ac34457ac25696fb5f63c841795cdd11581ee4faa6e78815e219d1c9784d7e32f4eab65c34dd9a136d38a61918032d4d19dfc9b4c4a16b00abba20c9261a6f700d0909c2356c167314a1475e915dd9be4c4ef2b9e670856c3a8dfa59767b21a92069e3a1c5d7ab1e1177ca310f03842b5c664a8a062ae712b19828a8f7632139430c496644390ec2b698bb75ab170691c1fea6aadcafb58d3d1a584d4600c3fdcc60eb6432a71c0b447664f691a0459dcc9d2a2c9343ead404e36d9bb27b11de9712b8c6cc12b215e271b1b8209214499db393d507101b87afe32b6cd4de3c3dbf641d0cd183fad78d937a985cd8b2f7f8f9e2ba614a620f4314720933f27f43f4788fbc2b1f478ab13601984237dd37a2227888cbcc0bf79d055994aef1fe5fb0e7e117526fdeba95a83b77096d4e5894abdec4a91186ac11b77eba3112eeda9df98031f5c7fb78aed60d478e321f6b28b01306513c052ebbe7080c9295f1be8f93947dcc3dd72f257c663b5d08e83fbc395caa39da8429aa57031527745d1069551a68df8f0c824a95fc77e840f25d12848471b2c67fa9eabe0f74284a18da10a2d349b62c4badfb9a38e0fa6dca9d33ef477c0f1050388607fe7f8f6d03c01323f1f90168b25f1965ba2a575258c91df7bef64682a19a415944ff29eef24cd0fcfd0c30711c5dd569c612f2e4a873e52e050439e4be759dde3cee401fc90c251d9a5a57bd9c9c71237eb2e913050dfbf076bf5225765312132cce52193e51dd79d614ee0de1e2a002b99a722b7d2879ebd1a287323c5f1364442e0cf4a0aa73814d4782f51aeaa0d85a4f71576ef51f0482b51cbbac9d789195312dae6af44c000e41020f6ec384a09f490b4306febbbff12e7129fc8a11cc0cea74cd375db4b77659c719a9395f09d7ca31a8e4936f2c1d2bf39d1f9d434a4fd72e82523f27f2c8e8ceb568314527fc7067c371ecb478a35ff385437e01c7f7103b0ee3b3768c3178570e25a540b3b737335148f05f6c889e022a583461b1da4cdb712a6f7e9ad576642f198cba5e3fa4e57e27133799935720f5de4d6cb4e69f9943abd2b2a138477f7f7d1fe9d631f196a4bdb8df9100b6df1395bb134b58a5757b3fd696128ef118c6620f171a4ca379d52c9de20c426e4196f21e37ad431ce4fd7a2d57a96c4f39a3462a3d5b245344cd527b23b2e40ae30ff246088242b0412908cf2f8d5ea1231d5685c1b3cd894da48743879bdd554a00ef468b4c079221da95414559e86074f62be4fd813e7d9151c20eb677f2120ab5dfcfe801e2ec27a2f0b7909b9004c196ee25fb479edeb61ae6f4f38f8ce3f23d9caa286e84805f07f339105ac156e0f692cb8b0221bbce499c8206f04f2d2f1ea7d46b43445cbbef413dff6989d3332ad35662da73ba28554cc7f760c38c1cdb6bb1f375a47c7c35c7f28c18f1f193e8ddd31025d85a975d51e48b6a7986da175de23d2dbf4db35ffde16c9b6a098533c055170fc3439e0dd48a08a42d962a81523a7df95bf0e9d265ba8ae018aa767d98d6a5b87671ee6c711f510e9f91bf0ef3e5361c7bbaf949720578ea41a69a136ee9f23124f549176f3eb45ff0d599ee451980450a757f14de27c0539bcd1bc05ab0f17ed3d98fb7269fa9b82fa0e8e7cedfe8f47f4f712f9d6ff2ff8d8e1eac516b5d6b6c3bc679d7360c420ab6e9629f28d0d195b126cfcc3cbcff9a61bb6e91e212657ee19ab0994d9f43022417291f2aca6b737a18fca21ad7ee848f042d70318c64bee38e4f69c00d5e24e28e3456ecaab21718256c4eca806b43448f4e24561def97f582f47c4b3478432504448eae6b9036fb1926acca47746107bc8a683262f2d6464dde0cd04795bb615fb46e210f2c98dc1414e3318d307ab2a56f051c79e6acd9ea1066e22a12afebdc42d3a49c021dbde1bcbe2d37220e9f505f160b0757827422deada3f0c5a26ef7efb983046510c458cd2323545e6faf5d3e7f7a5093bec4a3d728a582bd676155b332a397c92442ea2e72e95ad5e9a7f42dbdeb79c7d1cc6062237d4e16b6c660f4f4f4c97ce08a50ae2ce4cdd60cbfce8e3a6134e75fe873bfff67862eb817b8eae1b332538fd6fbaf9d765e16a2f91a5774de694c8d6b20d2bace01bd00f8954021f4abaabaa36122339e97f350f76cb50e9a4f2d2f20335bd6d4694636b4a534a527418d3536c8d7a4373bdbfe9efca014d8c90a3ca50813ae8cbaac5546cf91db7bb3cce35de7b61259b18230b17e5890ad1f077366fdd3bf3cfeafc8c585d8715c2b2c35e70b032b199c62b8ecea66a3232be4b08094a76e6b7bb37391f8ef5aefe73a7eafeab6eecc319cab6f545279264a1ed6e294ed73ab8de0cb83fe6ff200dce2d7535743f956f0549b15f92acd120204ab79df9f35a3cca89c675370617c31ef83012b0a3bf1b610410101366cf51094d7d6ef830f492ec50ecfae5828c004fae61a89bcd5ef31786a7cba46474ba4861ff7cce380a2435f658033a8249ef59a1ae64e48436aa9583977e3552ca330dea48f9960cb25d1b5290874f34bedc7b535b54c88c2dedefe1ebc5ffa7abdef3e218b899486a29bbec889f294c45632ff44201ba4235f273c53fed45ffcb346a965d12e262fc7a357fbcbc18425757bc236271dee17779916236afe36ac8eb09ac201c36306f27daa767db38b5efeb5fc86c68f29283c421eb7b128997bc4b060bc44a7047131cb81057edbb4bc81a13a5aaa1adbf438dcc1e061e3f9bf9257b85fc6fd491b205b2b2598436a4435de7ca10c32cb9b09c0fe6d04cec8c0b36702a4497db6706eb20184b3d5c234cafc6e8d74c1964158409bdb24c58f15b40c6b7b09598bfc5fb113863306afbc3a096c24b3615df3f7590c05333b7e9a2fddffc13e5a155f0d75faa6b5c2946e1d86cacc9a692eb9b8b6ac6533beb2ba5c62bd2a51f87403a9412b6261a7f90f7f5c805fd8f89db85225d7b84fedb3700ae6c6155e9fc17d2159fcb54120db85ab93b700b2909d480246c82c8c3bbc44c84bb669506e825b241ee1a81f3d769ce4e8a5055fadc29d6351b82ee9c4f2b3292ded6e8e146db2d875c5d4d0c79c6214a85231181fc145bb78f989fa00b54e8600805ecb7f914a2ff34e2abc8dfac1c680a38ab502e71c733b12606b152b7acaa5e12f8f562dc03048b074b58cd190af0ab8151001565db51dc10555674319e391d240927b6f8b40bcb3f920443a978c66be09288864facd84eb9913402eb5364c0fcaf053c91aacac93a056266a4932d34ab2f5643f1a06670f3e91a517dad502f749c284ccaa685e65bc087a47e55e4ebd8295b9f6f21972337c0abe5b2669bfe268abce0846bca290c8e62d35bc865d50682e2c4ff6f3dba3b1317c87c1c0dee39308d46bef1fbd27d1ae0e243c92d72f8e0c4118c532e0e00dce19aceeaf2dc04b5b22b9c9cf711ab4100266492f77a8c052408ac2967ad1db790b5b57f952565546753f1f3057fe382fe14e5f8d429a614d522266eb255e28a07a9c4545b9cb52dd3346f3a1fb3610d529b2387960aeb99c1ba9afc5da81dd2df6c6410e3cbcb7cdd5b97ebc91082cb6da96f4051a1fcc270f7432acb6275d44808d5df9c396b33f91d6e2c0fbad30d4ca80f65b3bb89ecc49114d6ae154d8e269dbae5ab1b32e90a5ca2bc785108b28576253cb7743120bd9a4e21593f2f9786c1b7d6b6cf1c7cf736e295d61cba1aa7ad493f2960e30f67955494bbf5a3de4daeb7e014a8c75a1c307ac54bda3d38d72b4582f25b1b425427984c4df5e449a07b6a7d8f114c70a901c1682c03ee7e638a9d4d947787b0d7ae8929b130df5cb0136a3da3948440b9b247f557a0ca5e04ba9530389791569883a6a0ac3775ef83d3ad7757a93a1fc109cdc4472adfa757c59a2d9c0e3d0d027b893ea997cbfeade66fd7430bdcaa1bc36c0b0ca6295824c63e12731ac8e8974c3520760192717fb71d94d9d8a5c02dea117193392f80ec3e067201a4b9536fa755f077938ea6267444d7a03bc01702244ccdd2a5a10a759198a8ba49e87db4f2692c901f5dc5b0df8f2f0b474c02123dcf17a346b7fbff5d99285fb3ca4f6819e63f691180820a7284f5d05ff139bcf101302beb459a457245d141dfe631d2d06124b4733931a45d2a7096c1430da2e8a98bc7bef5463e623e558a7d3485903cd1279f418a1836794de0f25bf67e128fda336ed784ab31672bf69dab55091f4485ce07e52c42cc94d0763ba13986ba8cbe390d88b681e0dcbca20027394f395d9f8baa8cdc112c18236a0f7a73ba7af7788f075bcf76c4dd47d4bc49b196170a4e8040cb46b4853f2fecae1be4b60985b9ff98c1e4b7c702686ef295fe54fd81bb51b1fe35de5b4502b5c21a07bbf66a866d4370cfce670abf2d5c1cc61ffc55700943999d589c77c521a23098bb3537c591a82441183ba5f40150f98af87cb9c90cca8bffc17ae4d5562b19654d25049bedaac5204af8929e65cee057e6c4eada88edf0b1dc29331b13d2eeb21a9df7ef3b6c49a2671cb22c255da38473c1f934b0d12f2edb643aa08cfaefa89ffd5bd5669e7a1c06f12904ee60b8326799f6e44505c4f394e5d849bfc4eed0f70f7a4d2d6232b1718240ff428eeb5a8926469c712a428b14d2ae25b7c63477a1b374d59079bebd510efbe1fae36e648eba2d8dd7b1f0e64f3f3ecc29742b8ddb08461f61239289a8a287850e5df75fb764a7888b109b7b41027077634bd480190e65ad972d51ca051e94e3a947df6966ddd59984a65d861229aa69dbd2231302921f6597dd7b8f0dec5b623cdc8f332377b7d700dbde4359889090bb846beb889cf3fe9a5b192ec0332793d6df1dd0246d062138a9cc3ca280105459d749a4b7d0c3ea8ff0ca282a48823abcd2c502c0ff3724ddf504630cd8d87ed43b020b1fa7d49a6b1d48675a0bfc74e70218c9d590c84f426e2f6f047af0b0a1e647a5bd460063dae9e146178c3a818e25630afb68953aedbddbbc0a55a1a0fd72538b065b5f800a5a2b9ef0a8a40d682c96e3ead0aebb7895b8e4c6b61b6e2ea9d3d35fb9a215038cd7abf550a95089ee7b93d02b4d48c96c06de2e7081f767a7162228b75d489045df554d13c1f01dbcc58bc8fe9b3486bec6b9087597833c427710966f23f88f1c956c1bbc48be54a384e2d45587a8c790ffbb17a46f7c6becc7831b8c08551b4cad0a984980fa798fb2cd18aa4a5e108480d94738704ea092a65b000ad64457fd26ec4d56f0e85ec2d9c6b6d5ea7a3a4575b38726b4aa7330d4132c3a2e13e088dfe38347c25f80828618de019f921af2f81e6791a547b4ab4d66d6aa589bc12b8fb9764467ded1eff9bf19ee2af7169e8c0f95fd0350acc3040c1cf17bb780dab795e04b53d876714279342a4bd39b97ac66ad02f12501293191f29d62d843b2363c45a2a46ca2acc76005c95351083f0e1566c53836f8b1ddf87e39ab396cd25a1a23aeae0063b0c8dc64357a0c640cb16524574b323bf90f8dc49c6766c5a85fdc598b8401e1c1f64fceaa53663273bdfa627c009e44107c962d66224b02d5a0a41e32e41fad2170f8dd6f75f56c28283b1a9803e6bdd53a5d55858a9920dab87a156da8db918fcae5b3654c189896a1afa0c79ea698d760aff01bf72236ff13b475b2915a6e500ad57860276d9a2b3aae834015dde5f7f055c3451a3d13deb6b3a6a6cfa1bd2b732666727ae7bd781448b864e3ef7729620a96ca51c7f48086df6fa4912e3b908691c3d34aeab1dd7e53045eb514b77c8cc85d87d10e05db4f818166c05a6d6051c2ae105d9d8c671494226fb75217db80ddcbafb35b61cd6c7fab7c986c9f814f43a7da95dc0aba03eda3eac8c86a93750fd1f1000ef7661a297ef41c5ef90d8814366937e1cd1649c6c371db9fa7652a2d0387cc20d017388cb8727367bc23116c4104e30414b4538ef4eb0a4d6326a578b302469c8524f86e10f4b8ffa7b03271724e77aafb998cebd4bfe2e3a0c7c1bed1d1dbcd36d4a73970fc828c7d047e9e6ab5e8ccd874b0aeb8ea7b3738e5963fa0694a0fecb9859de098b9f885b3357d830261ef61d3867c91a43938dec92130da1d33a6ce7d78dd90324d349cdc6d9116d219df52166e9dea8ed6ffa400cacda83651035a0f9fca03998c34281d9daece489a5d82cf1776ff5a5acbdbbf20053b4cac92522dc9aa4ebb312d493c4b2f7e0f983641683f723b56fa8f7eb47d084e75af720850b92e20beed7f2af57cea64cec171b9160676fcdbbfcd0e9006c2ffe890ae98bab71356d9290620cada51c2602e14cea98a4ac7c5ab587282552fe5ddc7fe8b4b2c663329669fa29fc835c1e8fa84acb5ad414a4270e989873ae29ee3d0cf8e9b944a6757a771c2c1dcaf853b8490ef037a87f36df284bd4d4265b08b00feb084bea1cd4732cc6f4475a23c0ac581735db3872369eeb537369bfdd299cfbf8b303be1fa05e3bb6db6fb792bc9bf003c0297b12d950de242ff49c470030293b25d5ae9f0c111b2a155f4a45cbc6acc14e13297125373f6cf42409c6e21cff1a9901e0e30d951766aa69d1bdba6d175acf4fde0bc60702c3580d180d7de838c1e98498f60e7d210165fb91749cc6cdfd85e90a54460dceb3646b7de39b8b52caa95d8527c47e491f3a959629610b433a33542c0ecd68f79a3363c874449598c8b9c8896cc4d74e58e749395ec90fc5c57ef68dc7c332d85ef0a3b9275828bbb736cf5e139f8bb6432822cb987f7c668638ac0f2795ccad08101ca80b4c51e69f215895f8e958192578baa87eafe92f1fc0b28552e7b1d07724d4f2db939d24a1f306ccf6ab96ac9968d2fb91cdad74ce9f7f06abc21f049a3324fb30fb38f86e8f05ba3bd70d0ca9e54726dfe44a659b7faf6fd29a4ebeec4dce0a322a08ebf323568433a3c819c81ecd463557568c21d5a54b6b4bed4a6dfaa54f312dbaba13c4c28f95579ba551c12f7498f778db72c538eda2e73e3684af70bb3a17d2184407b4636a2763f69ae78e04c79f410080a7ca88eb43b57ae553f9114879c8970f49505b0eae9bfdc808101f635e759b3c7b7ce8def404989a1982d1613ff78cf8f655e0f8d11f57d8f20a040f9671d8770104afe43d8596777d104fd65e55a80fcba71d4fcd8160e34927d33bcf3fa8dc2011d4fb28b530eaf3d5dc893b24537e1c4d8028e68a5b034f368b20b69652ca9b015c76100c84226b3b6ff9263b70d35497bd78244299de1304393c95bdbe3804a4fe5fecd4cdff84477dfd426780c89ac5d3e3b4fcb674903e91459adc774d2d0f030946cf93b856f12e5c8d5715c7e176dd97c69ec40c57988aa6f011dfb1f3aa37fe830fb5acd270d47d9d40b136c31f93f3719d0ca27219e00403b3864a4ee8a7f240d1a498102ca655e77bb3d312795566c38764f742eb93910d7ac7eeb78c6d2d9bb06a25acbe491f1093153fe01455c5881481ba54b83d71dddd2d658d21bdc62a81cbbd1dbf19f3c4746dd129837b25913d5353d42970d47d689bbfa85d8ab02c27cad3a3cddaf27698b6391f09f58840948d75cd0077e4996e0e6ef847914654d6ee16c7b5a7338496ddd19132302164f2f66a89102abdf48a695d66870a25b66f750e8fd9fbb9f94374c5dce40cef79503480e3856f438954e1a8fe008fea93354e442341e22dec148ebcdd961632505ce33a3aef75e1f6db8276e6cd141460822528f6adad69374c36ca6d8160b13c40d908b5ed611998893c61889ce0e497f553634c81179e32ee95086e7c281a939e580b487a7b74b1fa826363cb570a86332b8595ac85610c00552c5d2fa699f90e2374c1813da6a4fad5aada783f16c27e3fade763b8441a9381ca3e3a30da299279831996d2f1cf0102c3ad931e5891a897943dffff912e5f2821c2379ac8478153d32a69b64b6256ce3afa8954922c391a7f0a97126ec04fb042ecd95c4331c7b92093fa9d61441eb3a4496ae0497c0fba91b6bb0cba8ad1ce1a810b554c226970ce93cafd11b920c9fe95b72d9ebcb7a1325022c8f563848f510c242f803fc07c5f6887da33d64477544957334ba501567bc1fd5b9d20cffddee8813e6f6f66a4337a1351e5c9ba0bbdbef5d487c0f44c4682672fc1fdcef547374c396ad427ccf30d742969316eeae58a0107d73f445e66597181c82d34740d1fc82efcfa5b4b82b873eca62f47f4e1b30b5529a2b6cd32b58be45b58a94b8fd7786f6c12bbd33078c4d5a356294d4474f808e8be8d1172ae0748fa978468e379028bdf47d69a846091a9f1dc704c080e0b1bfe7121df35c7a1ec127064f85a457e0d1658867727d06f83e280116e5e2020ebe8743b24a3740f06ed409bef2a8623e468a9f08421cec0a6fe616019803530e501c160399d057894840313e4d05d8faf0e1266b78d4cdc09c5bc09c403f97019b86e22f36eae089bd5a7761df10174e8aee8ada457e2b22bba65947a0fd94c2563cf5b0fb4b214e0a6d8a9e0a621accfaadb1ae439d62249a8c1cfd9b5da5c9fee7abf922cf51497f7f95f6993f2c58427e5a8e4cd1eaaacfd8857929ae4f4b51ca7584c9b7cc633463754e39272c1c13b965469f0e103bc420b4b1df537c74ec289b9f7ba9d0da453361f4e1b2553ca9b89e0d1781ea6c32cf7291ebc786e09deee3753351fa9827246b4de37cce593637ce42339958cf2a51c95f2dc52e61626f09aa262f90ec0b14b20850786480efbed77debe586329d2420aa9fdedfabf0ad9c19544277ba7d101413f70355fdc78ef05e4eac9624074b1659c7ff8d53b3c8b98f6204c62c5e9ddd0ca7af4fab7d6d1133e9c657f002ad6a5f10718de29b5f8ae9dd3f807dbb699b21fb8bdb5aa9850f81c689d8eca385f408d2c4ca4f459949f80558dd86da027a664d1680bd08f8dad173f141f66dc8960966c739f02a0af7c6ef76e1d153f482f2e321bca813be721272607d8a1670115be5b365d727d0c410372a4cb1944de05c44fd942dbe1d6f9fc31e12eae183334fceeaa1ef46aae6e06faa79d4f4c7c17d02e11857d40914e3eb3908ef9c9d68bfd5c3f542f168f1fffd53c0110d30d58ea5de4eee5026663ce570ea20664608a9ecfeeea8db0c0519b4335049720ab9341bb195b360f4a5e802b72a44634c2084d21c5f157aaaaed4d7b2193ba8ad2f3dfa2c139b855e907a47420d884b7fbae8ddc7fa8098f8601466cedb1a2759550144b3ad220688b4174cfce22f7191145440bd97c8e1178f8d934880a857b14c6915f0d14c0e31f536702d4798c494ecf91debe9a3ad9c06bcd14afce7055758d7b397755f8f877cd94815e4a09abb0c7c579701716d327c19038fe585ede06123f41b86bcc9e229f7cef625c8f6d362017f2b2295227b00067a1b027def3e22d63e2961a1421483c3f8fed15c5e3981b153e00512a842f3b9ff894ea8aa89dae981b1e1b5f1812470f90db69929e2f12ddb7366a5eeefe1e0b83a79ba42deb551ab76b2892fde1d9c0c41130a23b2e82ccdf8f8fcbb6c2ec1b38a7eb80e398d1fccbaee5a308e05045315a264321e5f915833c3ceb2984d71a73ccf4ac33ebd469a8de8ede9f0d080273dc960bf6586a9d98ae74785f4445b3aa61618e92227cf6c37352f5a98d62bedb9ef299c790b25f9fc8c9bf85143e6625478c4c44d0cc1f181182b674c27b4b223d218bc513e46d3345eb89698dd056bf3da17731244e482ab7922b73455cd7b81eed95627a4ac4117e521c143b9b2b77f31ce19d13e225a253f9b7e88ada7eb97ceb4f9d8e0efc4f2ee3b957e81726a4c99f8ffc2b12f7732aad6df86872126213013bcc70ed05aa0398abfed0fc67337bb7ae9433d51e22b4fb2d5649557bf6ea8e902ac3d83fe2c924adc4cf070f40bbf4fdc43e16244a5e099a57943cf884b1679fbe636b52ece693f1189fe0b4fbf10c90214038f8a0df43491ca48d2d326a288449609327f02c3f65f6f7639abe308cdc3f243807b5bca8ce33c11eb17377f0cb5e5f0714f576fe76e5764144c5d903ee614690df51dc393f8e74ff7891c00505c955a91d1728f9e6132fe1c60d0b7b8fb70f1b61081153597ce7bd1c8e52228768acce4be4ae29305ba1b7ff5d0da01585d88500ad982fad6fb205c9a70a17a3466299bfafa32521ae6e92f6b15a0fdd4ef087729451cf7cb5b82338d20fcce09c7e7ce7feb22f2e8afc69badf80c993aac5bdbeffa8d14bcdf24393c03daf0ccdc899bfa2cdf3bb1875949a54c7b1e4a0e22fe54827d8d4ffa148b799413c04be1cb82e4b7c2676d0d9be256d848be3d257ced7b4b514b0db18c82b25e0ae2e8b9ff06182d5686bb6cbf32f9f92b255b7c9b18d1600e831bee0993f46c846e20f2ac35475f6a15e126f8d19095d5e2e5529c88c91fc56d930788d72b6cb51bb898e9e65de5807f7b831668fa212ab83f03f25eee6cc8f5556b0366a63d967a67703cb41db72a2dae5e5533d2971b0e04cd644dd548f1b382bc7e1cfe51a2bffeaa1c7d60583df3bb77d1dc5646eedb79357da131133c970b2dee981fefaf1934778c158b18a41bfc08dd33f1815638bc44e07a71d2c9831a33381ab757c386f2fa8ee65315ee2395660732a865251bb5b7109d0303fc0f45e07eed537911dfec818199cf8534c9ea30754092f7650bbe3d57af279b6198916e942a4a95403208daf0a47c9773e88a2b9327b372a83345615968d09ca64ef92a9532e37236f68a97932167e78ce13aaf36390fd988d1480dee0ebe2df9466d7ee9dcda5f5a3afe8b0bfbc637d875a6799826c24a8e021baed595d2f2633e50ea78de9ee3926e110da0ab4e8b3e23f7567570b90676ef52db0984cb2d8d8c75adb4f99a8d6bb39d74a3ce403877e0d332415ea568e85ce721036bfdffe1a1ab8ad37104cffe350421e2e5855cfd0ccc2d11a9c6b2917ae9f417fa15379a2db36b05df0feb650d97aa67ea6172cb811704e2c5583c345f3e33baed6d379441a506eaf097e0c1a049f182ab3cbbd486ae42b2b7fc5017215afe1c4dee3afbe376dfeae8564c27e3385dc41dbfeeec22a0a312d48f8ef80c99f690aee11f78d53706df93a6f4783a7b21cbbdb605162e6c405ffb8f6a4acf340437ec924c431ff299ba7ed88635751a1031cc103ca8bf9127a7b8e4ee6bc413857e3ad7001d2d415e2e32a756e15679cce919cd65582e6c826453dc05bded0fdb144260776cc8c741f05febc82725b239e2ffb83e30926446c271d26f852d4ffc9cde943e93b1a802fd2c2dfedbf2958d4ad293104b632f367b1d5f3bda0161901f26bbcb021159d8865cca7e5c1c41d34e6478e45148e11de3913aaa6e7298c4aff2674c0f51531f18f604589690f3189df7a3ac2313406657d80a13534ad215f4702ee30d9a13ac439d09a41d5562decd09c1331d9ed34a72a0b4e193ab97e94bea68a586cbacb7ee1e6fd15be12e68b4833316b714bbb6c369831293d99303c900674e57281dcfcf7795fad6469cf14f7a8ebf3251e48a57393f3822ce64a7e80b28a9f912517a6a86b87850365b8c0a26c82fc2e434cd38e76311b7425cc4173eaca6320a15b886753af13a72dad4da10998544ffd7475c8d8df1245bb6e7b32033a2d88cdf87af6c4cf643774cf9e876b48db1502be6d551984165ddcbcb1d05cc81242bbc6bbe7577fbe1dcb8244bef30c1ceee8bc0373b3e0bd07f74b3918764ce81b50c1904bb0d143a25fa6c580e887739203ac2e76e8f8938068908946eadc02ff43df6c88cec68a2164a16c9163a856e7443ee6a58554c1ba01941c0e2333177756c7988ed1ae49eca122a4a5a4dd553d47f98ed236448d7734b53ce5cababd382a1c784d8bf5f92d122ff64f211caf0f64146ec865e26145a686754c46eca8d737952adbabb2d4c8a3db88c9ca28142fb547b562f5f415736647a2c29a7254df6ce649f4bd0ff9807b339c4a2903c2b62bd5c4fbec2924499567fb6460b24839d152009c6c4099cde7a58b08eb49b4487cf2ac861985d0ddaedf72087346fe9de93358f068c1111d6e1383d6ea52eb67046669cadd5b586d270182bdaae0a6d9f6269c067f21b9844a179bc1d68bba53e8dfe864c50eec7e9529741b8a5336c2fc98ae5e991df0744403cbf721caa34d1c26b4dbe3824f24695d0fd206a8f0510898581d6e4be0fda91d9fe603a0b97f095b1bda9a12b6dc9fb12c16f9a80ec306642a1f892d7d5572a0b71c7c604f9b67fca9681f4b1102c4c604e74bad0afb338dde1f522bd30731d96d84b859850971bd544fa5e4e31c62ae26e89925fec02895e07e6097b86a6b34fb7eb651f6a2517d532b3f62732da9ce29460a72d4c0acf9d8526f00c3c61ac7b90d90054d16aa7f6a7f6e7f879de87ae1569a40c03bcf86c2d55b7e204051ef6353f29e840acc8f4caa72a4d8fc59f9444429220f61ebd3423bfad4b29e2a086932535402c4454ce733b9133e1472c7a5e4fd8602d84311d7d316759bbd5c3378ffff4a3d60c2f83e584ac8934eee30919f9107922e9452490a23e26e917b09a7714706f7d67e6a378fa257f9a1552584b89e2c0128c44a94d3522e77316f352617876b584ae1a95faff0b99f603cdbd9b4c209011c35ebd691b1e5f6eb7ca95da36bab062cfc482e5d54af5bb3e74f1e87510d3b44f4cee61798c2f4cf5879e147561580321ce8185c82567e0b1df8f986ce3e84103c28b2ab01e4d4dbb1b39d9ac05be0e533ac4462a74ff85b9bd5e41c82664ad9b57c128454cb355f2b194e43b5fb9f9546b75bd9054db7e36a34572c40fc25cc5bae7ba7aa3c400a0ba76722490461583b0ad15869f99a07672d0a68a300ab13df62dd5b87cce4bfc278cb18a24b7dbda062272edc150bd82d33e6123641e7bad3d48de6c9eeb0bbb07f744fa3f8f6bad2b87bbffbf5c079718209767a1a69027b87b1af47c3356e83f3d8035283ec228c90b47d4c33b4e08f48137301a25690e98e652d97c4103704ab83e79852823d5b16fd51b425864fdc3a886de2409ac6d76e7abd8631ac442a17dfe44a86faf8f315f33dd9a3374faec5886dc77bcff50d96bca89a525d1be2e79aa0e0abeafd4a8c3c2670025549ea0bf2dd24596a76987f99d0af2e9c529137c598b3234873d4938affea5a61fb195b106676e04a9bd318106973cf2ae849ba2371e724e5ee559d06d9dd1ff9c9f8bb79ca6c3c18ceb1f96a3ef6bea494be3c8896a71cb1cc6cfa99ac34bff8d3b4fef7c58013b914337177dec1a53d3b624f3a544f3a50b674b131a0caa8acf75115fc944d4b55516e16acd9f5b76f03c178a1a17f0c93662cd640faa7c9b5b7e152748a35ea73ea31dad4df888bf2d4a4d546e68d2c9c01a04dbeff13c66ebf246855a5f1a4f5cd37fd4ee066b5fd6f40272c8d5a013d55bbeedccae9d180894354b1177d8a0e664dcb8bac7a9c25acc36566ce87680fcd8f1912673b25a489d6a3924b8306d2de888b24058bfc9c2b5837910408a1716404dd074aee98cea71e3421a6979eff6aaa879c78cc288a3c7b09e7b15279eb19df47727b3750d4bfafac75c760accbd77e8f779a6393f148e3483d06c48dc587dd8f4cce8acc87d10d36b3050c254c225121441fde055364907d0b847d630c60b5b1292b2b283e1c19dd2a687e6e21fe5c37b027bad57dd486ca3cebea56bacd9266d5287da636613bbc24d089d6e59e5e479fa8d0ed3627ee90df2cec87a76cb0e63657eef4dd2bf04c94e57363a8b7f4799d5aaa26918e83da8bd9c4af1ea4f164baa2aceda60ae231fad6b471e50514d1deefeefe732f58dff23b0585aee69a13911daf65d8915cfc5e3298bf56d7b845775c20c0addc04bb00487004fe423942c6dee04180feb32fb7084d7a53f68fdd8bb142a96540a720755a7c9ed8ff1d2944f8562e8a5f85f342338c1d1ebe1fb8c9921f7a4c4ddaa19f9f07138e9661bfc902e7be15bf8ff964d123b0b9d800b86aa394ede801611d4ecd28b32620c9c8fcdfd06b224ff43eac8666c06fc6bc941607cb7322a2e6ccaadcee43b9a09c9ce7dbdfcd385d72b0b313bfd10596ac1809eaab0780a5af9066c3f9129c67cd5ad190ddf09238007490fc205c9e2d7fd8befde641386b29c8a57202dd334a0d333388370e798962afee1fe16d1b2d7050f4090356e338d07ccde7fff34c2815da1375889fb01644a66ad4055e95c33e7ef4cf4417abc7eedae0012fbe0cb45ce5810c20d740fb7c6985b5c1292a0b2a4f73d76546a13030d2222d6fe85e5f5afc6d3b356048b16f66e8807e7204532d739f44b26b55ac55cb32d73afba3e41eea419574f399f2b6e9fb350b396c4f3961bae5dacfd10d25e3bc994ccf9bd6803ef6698d01364f8186d8be45992dcc9e77b40f7ab652d8bfc3a1bf27de03ba5f5c6ef4b86efeea1de4b79975d7e637f0b0009810306cbecbff8334b7b58473188d44a564e330d560dcf1d720233d9b92d8e65d2a09ee5843267dfc4347df0417a4bd403aa05b3d1c873bee0286f6bf2e2ad37f069364462c73f0a7e22d3fc9f6c33ce2f6eac9cd6a10ca4ed7f0f01b3c92626a9b6d127288580b8921c0fb15b1d0058e241dcf24e0aa08df43b2894088abace04ec7e8f59b93170937b19c94a1a7433ec165a3f21b4ccc49c599bf2317f2f666c3858cd44dcdce3148696bbed65b68c119c630bdcf372e1e61bd451558ba64076c329da48c553256ea8d5be661105d3826fc27ad209639e1ad4683172c7ec76bd752a33639d1fa4885b19b5d3fa9565c70e8db648511e50704cfaffc1b70a87d10482dfe3c70fdbcd6b9eea170185b8ef568b081a1f3fbdb705e08fe4c9144a37b4cfd5d91317fe40b9d565f3bad9387cdad76b6e08e338967c0837106438e32e940416c7d83bbe72c1c843f60f2e4f7b6f66d38eb104112399f65de3b411c4026fb32b2e7b92598688988816a0d7609405775a35c9fe76bb0778ef2ee33dd49dcd12414106185d9270718921068b002678d49d71cef6e6880ecf9c93a33cd2118fc9e45d48e8f1bcb434154350ed126150e2bd223b559ea341bfbb1965ffd60a84510d779c1a17fd9256262f95bf59ee534f17e0f9f5091fd12170d02ff1fe69e2d1523385a6a860ae8a1960e91311dc3f3c628928dd9817a3bad2620a9acf39fcbaaaaf790c82d7cbcf967731fb20fcd3631d09d2900fe0707f2e11e576d7d3840e3b937c0faca015202e989ad7d31bbf205abc290775718500d481da0e394e5ca0b011942f413cea33fa02e4c4d41db3d32c83599472959f161a3e3cca4a33d4af3a53d01a057a4cf26ef1dfd749b67a71bcb2d63710e6dae8b1b43dde8c28e7c3942539fb74a8eedc3d2e9324e763932f19d1753b056e53f30a6a799a8015be0fbe9474326f395384a35443caff4e3ae4a6a933350610b5cde5d791cdbcd7a82ae982fa670d63a56aefd2656db074e75ae88f48bd516cea1729faff2efdf59c15315cb2c1b96ecfaa7999f7c6dec988526ab84127051c5b9022333e553e2ac88d49384c8b92bad03119976a8a55911d1a76fade191d73b2b188fd457c44efc27ec834f46e41755296c559a2ebe61fb92db8baf746b03f52ea814127f6220af6143e6a0b76d8ef2f4179837c0ef854811ebfe8edc7fad2e2acd8003021898e89924c6dcaf3d8fa89ea208ee18ea3bf1c00e8bce3b2c69f76e1fd2f51d41bd30c546895a35bd89f2459f979bd890db66460ec02c6de4839c20635b61434a20e3523a02c95cba192691734f71f167c06b30f0feaf006b7abbc8cb709c844a9028a087fad536680eaac7d7dd79672103ee7e291ee9300b781c727fa6437e04440f57771c763a2030582e8992fcbbff2dffa5d85dd1dd4645ef96e99f7f537c1ad677859e56e2c26bd54ebf5ad09af40af2d6cf24764b33d60ead2b76a64d4b4df873791d1ed3ac82fbf436c5ffe4d05aab3b361bf4f16e6bfeae589d8928b6b66e6dd967dd2dd7775118c8ec303740794f67cec4787e5814d6b355048b25cbac99741b81c5ee14fe8dd8b9312481426faec5647900d868cc5954d91765f1c4873819a2e80f0a87b82471df03d93f9f048a60e4b94007c6698d832fe1121b0e8778776d75e931e1b4241c18b53306e4da76cd40d121ee6a06a6988f32d328390a4185315f944f55e2b8837cf72c93437a665c6c725d6084ccafc83700fae4cebc3af4086030522c04b13230056a720c173e715a53b12aef8b22493a05d31e93b00eb87944cd69bc88379ad93c1e7272f1b61a1963a78075c1f0ff3c9d4629b62dc0af94fa210711aabe2c1ed5db7aabb6de68d2d9d5549682c4b12cf6e8f112331962eb2ba3ba61d33bad0044dea298621d661208d67351e23678ed1a6c625aa76392fa99887e2cec0148b1ab5b60934454fd2b59d52da63a87a38ebc7fdffe92b5efa0e519a478e07225f6afdbc21bfba27714007698f5c8fd12b65ff02322c15709f48e720f07d843dd8916eec28c11e1e80a49ccb27b6cd906e0e825f46f4fda06927864db82cc6c34bb066a8e3c2ec92e59f977fe1eb176a66c8febf0206dc8a95e5f0479e5716430034214a3fa815ed3fa92693208d8313ab2e690c6510b438742311973bf6dd2965393cd567f0912819400281856639bbe49a92d953a7148eb155ddca8f825bb77fe6ed7e913ed542538a12b3d85a0ef7d59c6b148b05e0e67634052128a1e323e206c56b552ced28bfc3434c1b3cfabe59b796f819554449cf0eddb716312882f53378c19f09e2a12a76c80e8f028f7f4c114c70b6fcd0df1a01c7b93995e9a6e67cdfa15557ec4f475c10902b0f626b70ca8edfa45f05161781caa30a42d8c789e2c9fe4e9d6a8ea52419b76116011730e3f73ee5950b64205de3541779f2b3423baf08d00a706d8c51ed07f9b283a70fadfd4bca33ba1d00d69bb21cc648956d32a929aca3a47653120e665be4be4f8efe54a8c86ae17d8e8f6365a69e378fb1356568c6c752d03876ef09bbfe17c8df04411165256a62b5f446b895d948b1cf6c5dca256820332c55748c44802cd029505808148e8b58af2f809159c42083e02159cd8394fa0a815dc3eb4134f1eff893fa2423cce70e0a7e6bf077908fee9ba3a6b200dce13d50421cc94d48a36ac37f963d48e0b2ee84f14bf653fb133150a006b37eca645758a1961d4c297553de909926398b7e19a30846b0e2231fdabc6ca49d46e4256707868c475b4b1f2edd7751754aa9485a1953c53c9b9a2f8777e9bcf8903b4518a57574c2682a85d0567a448397769b7af065ca764e13247441969d4f28bf62ff438bfe836711c0909f381561f840152d921ebd553d51ffaa95330760af3f9c9d68093e6a4518204ce4efe86326a660bf36186863513a9b622a0b79e3da03848c83501ce8dfc1ef970d13edd9bd6523f5fbf5e6dd009e8a1dfbe880e6baad4788a4e4f60c3fc0d581a68b9b385910e60f67d5b879139194988d4906a921ca90df2d06daa2d38fc9546160766d7a70949cac6e6e91fe32a25ec41a73d1784e3f0108cce0f07c7fff54276d86b53dd63710f6c786ff87b60262cd879d4d32346007f81f58863bba2563e48f2357ecdd902d01f690102f87362301b269478413b90a17d6061de9a1aebf6aa21985f3038969491d8e75cbb416c9667217d609bd0ad8fd804d24916f8df71ddf619b5ad1194473e66734a0f9ed485f467383d092823dc62f51a5a7653113755fc1a7127a585182db933a5adac0bab1cf2311308129d19e105528c2bdaf5fceceb65e09eb78f0433b76cb9f8c60b2b9066e9c39ef3b6bd309ae815bda5247c4b6639e36a518783222d3522b47d543d5ae12b612e5f61543dac20a4ed95694972b1f73f5c5f5c5bc3e615b613b827db5419857cb2d4202a34def430243e1103bf0167aff7c0b824a9225a61c75c11f65e52426cad0771d32c4c26e8cb182d06a915d36c227fa547a946d44827e0c39dcb72bc1349d149e32dddd2abeabc04e0459eb254024f41ab939af95a033b7baa4c5d230b29bf025a8d460a68172f2b5c65fc8c8eecb70c9d7797f9f09a16a1700147e25bb0dc774f4ed9afacf31951d9fce3d7d9b132c4a6a93d3b1107f2dd6105984c4c18cf3265c23bcd41a0483057ff4dcac0195f560ffef114c85b17976bb2428d317383a35114b17fd2a4a76a89df044e359784355862f764b8f29b6fa3e93c03e37b204e5181c2f0e55b88c9ae9c532a613d59963aa97bf59e2e0b38efc86638062305048d321824c67b5469a65833e1710c6b71e7472c86d7a8d89ad2f297d4cb4433c3881cc001bedd7d91c246941a5ca3facc9139b37382b1ebb41b507269c346085e5da340c8c66e76b3af3d2bf1c4bcf8473930d97fe817575d4c0987b139d87a5174f64f8a6fb40f57fa5c3a46f07aec36a38895bab29148d6d5e0c89448ef86aae53b6bf7480668aa4bca141fa3d67906fd79db3fc9b6a53469fd74e6baa40f4ba69d955f2f7071b6f03f71f15d95c361c845091bad17e7cf7dd5e988c4d9f46299548ad197ad8c6f6572fb52019737715ffdeca562a938bbfce24bf4ea3937588663a08ae426611caeddfa53b8509161db93fd763d4f617dbc956a44fce3917fa302e0b986816b145d1300b5c1233cc1365e6e19de65d84083a34bb2434ba81d84a9a8088e41d77e450dc8934272f5e117b93bd03897d3490faf14716893e8f0cd40f5028e232feca5e75d9958263ade88309ad5e41bb2ace7fe813acfd9bcc539d2f22a8dbc0410e7bdab818d3ab650a827ef025500d90b6c3493fb11472c2390db99d86034822a49ae76d2b4dd835b04ca9b78e22f73a64b658aebb35a63debc6995edafa26027731ddc0c0fc3257833f38ab55a9d9eae11404ad6064c32d0272e2a967e487f3211978119c059db87938ab1949bfbf054ffcacdc4339f2b3c6d349af4ce81085d081c18cc437fe9f27b2b7636e5b418e65e4faf5932f9536085d604b687d1fc08cf0cc7458b4eab5c9f0d312a364e97f574781defe1d688dcde734976294e72da51dfd339a057267093f5c1c082305a4681ad706ed1f68dee48d993f645f6966f7057d4164f52befb7c4048d59656059a8dbe763d93a793bc6b9bc7b31835d57451570df8264a79ea363e9887b62e520524ce524a5aa0b654a7085da7fd7de874c1dcc6f2aa8eb96f1a0a7180781544fbb3d2e891b63aa1119cb0896234f95d81896d479d1ffd8a4cdf259ae1f8f90de3a8503750c3e0d1791db183752bbd476c8380bed17a06ab761d86402a8b80188295e65ccc545d216a30f57bda36037f3c8c8083baa995fb542c895c2d3666b12ff6a6ec47d7a38472b3108ed1b4d3b682551f2505838fa093b946acba19920262e19f0c0238b5ff46e05e6070ba86fc66cf178fcdf1c6ce2006806635b8e53e52862be5d562dd26a081ea0faca755625e4ecb42d1ed546b6bca9e99f08a9295d7324251d739a615d9391562a2fd9c9998cc32023af24abed84a25a2e51f2abc51939f80928c5a71a9d3834f118651c7f8437d82868d0d261fb5589b280941908f18b476f645c0f237cb43448e55684bd3bf52fee4310beb33d04ec9224e820982f5547424fd5efeb9cbfc5c70aa66b651c946346165a4680b9741684110565588bb72a2d1ece07f2ce8192e8fd19eea7d30f975668a3f2b9405278e3bfbc57dca6a627df4726704143d0cee9298333085731e84738ac9ab179c8958bc5dc2521d3e5f95fd740f057b74377b3156883c518f44123846fae8cb82a11a02cd4506ad5915417cbe5642c59b736394d373c461d7d30ca4a3b4033442243ba80235735bc1cc43ea35af78549b712ebb584a67c0a20963fa8bf84657478f98414f3c7e408a96eb16db4bd4225c6ed84d2d08779ca6cd2487d057926d1e7bd89ecd7134993bc60c7f6af6107495ef6d7ff5d95ee11e944dff01397cc2a7f685efa34bde51b5395881337fb7bb0e29361805e37b8936b2aa86c62a4cb2a3407e4021d0f3ecfd969c91394c8d20f261c5c785f5c2cb28a5b622b3efcb28bcd9ce8ee68f37e6b5761aa0ccb1a38102b137b36e00c33a11a0052765a0a03d6d2c257e18f7d66e381703a0124c9f3bbe6d6fa87beefe7a79ebbd7ddb09edcdf13296609c2fabce2e078eacb1cd64cd56ff0123a36eec0458c88512fa218ca474f959ea3c6fb97f83cb7c8211654f89690691cc730dfb4fc4755d0382d19cfea1692fe4d80d4473856e5bf2247f6bf2915dc534a244f840d3ef16dbf430dd32e01f4b1516d624cd9a0772018e498113f99ef1860bf9dc4f4f217441d2543fe96e3557573c72dab5faf0accc7fcbc063be810b01246804ec09d40c2e7791e763edef64b8f025dc54a69df96bbef3a492f214ba0cb76b50e941483d4ca0684d096fe8946e303f3d1e7d32cb7dbb7e411ad2d562f5a34c87ba4eb5793c0ec13ae9e3da73ce47892d18118c0b8b503bad22a78f41527b7d2c287b3a535759c1da8c5ffa564829f78353616a42b0b94047521122fff4cca38eb705d1c4d746e24866411185700fa0444688c5bdd0c218e0e20620ecb93cdd3e5e44cbbad4f946e3693d072236dfafdb03cd4c8694016330f2e384328f7ed424a85a175c796243ecd1db90ebdc0e61f4f5b4e4c82296a97a1f89d8c05a3cadb6d8e3602ceafea4dd593b2c79c1eff2e584ce0b93c447f279fec24674768ee0bfafd4016e781031370fbd0114e84f32291674a9522024fc0760cbf10300d273b113a730fa171a31a4dc2b3cfdeccb9f04fc37923ec5ca7d902b8d0be61ff95bd9265e5e2fedd74772704529da71e286ddecf0953bd5159612154c4b46b580aab208ada7823cbaf2600f93f0c4366dcc7e60a65f8c4b6c07b1bff413ce8240e25625992e3d4bb41e915b51438d723f3b124be9d991e8ae6cc7e789194a4c44829835151b4334db4bbb1a29f00faa20a5e5ff1a7bb128b0af6c1a1239f67b20334340b8ddccb619480caae22f19f17b3ec10dd6ee36c2bcba5583628bbc0594fb0dcf5c341994d8252469ca84ea09fa0e551303e1878423b264f207edf95e4b36fa86b9c29fdecd4e688bd5501431f841fcf146c30fb651e795f4b3337b5133cc35240bf353b73ac9d2d916c01c3e77193f0844ec14d11f84e367116654115136687f5e09531ae09a8304a061b9aaae29ba7636c3698bd99843be73ade5ca83eb331d0a161e0518f1e621ecb42dfdbfb6a79c141b4b8a72d79780a363d83f9482b4926f0bafc59139b0a27d5ef0155d547f6d19cc0955faf89b432d63f18e3f28c6b4bdee90a5a42eae286ca229b8ba4a85b684bbfc78d040fad12633f8467bf3f6c2d1f278b2878f6a8b6b92c3454c1265f47f83c126a5d65554a3fec7cbbbf40c2fee631957757964545ffb71f2c47d0c221e0a6e9e6edf1cf16d651b4f99177a42c61d867336cf78fb730beac6744c7dc7b69133692de5f409c13150a0f0169eca0e373ac25063dfdc783b45a279c347656bef03e69a51aaa70bbe9099c53a14659a8d83d2b015e960d40f217a52428a20b13f90a218e8fb2bf348b73024f3481cc41844b69363d0f440ed2273985a14e9e37807f97039c09dabab643938ec2dc6313c026f52d72a50ede5f6d8e17b1127a56627f876614a1be401dc6f0725a003ffcb78b6ee0de45ab833e6a95aa6ff6422287dba535f8e6ccf1fb5ff9cab52393e1b1f4bcc72efc36f69ba7a90205342acf5a89c971c3cf724688e660086fcc68a5b19df6b7f525a67f8f007d1db1086d9121722985f25757caa15cc3c75e8dfca6543d38f1248b734e232b25d7c9be270120c805fd1aa64ed35e4e3200b3bcf03706531532427767e87e6043a2cb6ed169eb980ac5773db66944288c1cbcc456e0e83892730c014eb3cefae47c2aeb3bed067c62a7ba575d86af842f3dbfca1e30b9c61ae0bcec5a3fc301c80ec421ae9907f3a134a6fb1fda93c42f7314509110510a1797c9a8e4187cfab82ac376d47a326ff588ff7a94abcd20fd14147d21bc594dc72d618db92536278894b5e8294c95ea592bdc13d6dca809b6c1423189c84b4c8f4fd1678bcdfd87aa68a7ba5450cf5313a4ac4367d1e884fcddc0d7582d3b07822e689c9655e2e86eb8d1248bb427a0e6a0bd03cced573f9e752e503e1244c7ddd5120482c191f3bf24c207f9bcd5f9ed201115fce1b907999185e4ac43831817f08335fc3472ef35e273c1070f58da3b1a4d2bcb496acee3801c81a9033f6a01b23828423466dae41505ab3fa134315e5221b8e631e7023ec2a8892eac09aa4b6a5dbaeb1913ee29d80932eca03fbff85ac3b67aee5096cdc15fdd0eca2b150a5dd31f06d29d692cd3575dabab3bac9be97ca4986e69a93365449828076da237ec1c7368913e04cf21e3d86ca202cc86cf573242e865829c21c7bea48250ed269d8af5b925db36bbe210af0cf5a7c2fa7e93ae68339544ac65c647855947a5d5c301efcb5853f7dbf0aa4af880e9aaf6ea8aaf58df46ee93fb4dff1945272cb2326927f9b0ecfdfe7b95594e9b8068ccf86d2f5efd45b363d78976420a83d8832e322756165f7e3317152703ece9e8f2a96a932203758a39247f22f2597b8d69338f8ec8a37f304f4ae55393b81c70157cf136cbd36a87b7077313eb3406f72d302c1fbc745683dd1915c4979f9dad410c78d2fb627043832cad62a35db356b609876ae42c17daa024e0a54e2e89ea4c4c69c55daf0892b12f6a626c4285c1d6af53d5a01c300ad55aa4163aba70bf5bfda4772fdeff8910a439fd325bf1b22a8246f7c814dc8ea91283627887dae36da0eda8cb3a82316fbab3709b117afd3015fcfb288a90984b87cfafa3bf0df0ef438e3f3ca3bc97ca0d8cae71af6cd7b054f4ff70911a51c20f3b7209835d352bad3e6ca817ceb0670d2424d5cb20171896c928345cdaa2f07b473bcd4f7a8a7121d1c1b76d995e8a70bf3a55633e42cd4e93c63e00590d1a0e71f2b2ab7256f32da22b18240acf0b76bd983c5ecd89a31679d7cdc8a3ac15eda8f910bf9b3dc2c863bd497d85396bb14ed8dda86a4ca792717162965b8a3758e3286b9eaf7adc37db9c7e51fc65ce3e2183699be298d936bbc42b6a6465cfcb1bae86cd3670cdc7dbc9dffb97cf5d937b524c536a90882c1ce28fa342d14189d0c4f35c80c41eb8078b32ebc7d70207cc0a9d77e049203951046b76c2a6078fe6dfe11eac4ba69c753bb30587895f69b1a66bc038686d0b3136368aa17a286167252eaab411218111a0a5a1870c9c8a6fb0fcd6b64bc922fd93fc66eec13a7b7c7fdb387993ec39d8a4f24c56323597af28bbfa1686b76f313c81c414d7271272e12b3b1448e4ef2baf797bc1fcd46702a82236b91e23f28e58eafa93bf3db3e33a583ffba0593b8a5bd7efcf9ed5e6db035100ce6ca0b6153178e1d30da3bedcec8ffbb5a12b2800adacc1f14e0b40a7a396d6f9cbb89991b77f86b204052d02bd7be9d579ed9c64943c11fe211f90c69586c172d2f0aa5e0e296cace960e1cec6c80c254542ee40c0eabbd9ee2303d27e2fa617e63bd8153880e35a6cdd659d97f9e9bc971a1cbff7d3346ff435fdabf0634c750e96e290c3ca853cb8df683432d431efc31a0b2eb467c1358c0314f6c8b69d46a163ddab12e2c574c295597e30726b8082cd392b0188ae3bb29d342a7243e620d34e982325bb688cfe41f0a6a45bf682f4019304a726a15059bc958df425180eb8662ba4ca1add461b07fe06a48ff0e077a6c8840e4f66e9a9901644620c719222e368325e8425e245d8fbe7dade12a43376f1ddee3a1aa85a52ceef7e6104b18af12f3fffe0add1825a01c10a7c4c4ec92bac63ce18a71ea5d97882b0747c58df8f3b7d91f8a9c725654e83f3f4f29a69ae2b978d9df3c07fd45c85a693ed15dc7dc93774365b521503dc86b83f383569822c1435e8e27bfaac4fde2ba2f67bd4e0bd9fb8db8c1f41839f1c453d1b277dd1a8b3e211b6d82c2c39ff719cce9270af2c2596fd5eb207a385e0cfea8277728a32da555c102ecc924bcd4f2d3fc20b1781e8c4ea2ef35fffd91e5749d31567969f06de3fb599ea9d49392f36c437103ea85825f5dbcd8622ce56168abc5b10e14a8b6b46d8b59bfbe7bda7570871fdb19a456b32ff23e527b8a37ff2301fa3682957bdc10cf722506ae89b9aec6049429affd164b888598434bb00bb1f0ab583f28c86fbee1e3309465dca5cb45553e1442d9cfbdf37ff352d7720dbd7d81a15c9e453f15997bc2484e6d4506f94e8ec9605e21ab982951c4dbde798f28af2a403cbf42d6c21805a446aca2f0009d41cb936ba875910d7279f1904230894d371f6a87be463a621bad82bf3269428fadb916530e2f1aac90f6ab86830c8770a4303dad8bfcf3f4b14b17045511cabe6ce85e57aca6c2c9b228828cc93b680517f5acc1cf67bd6b150c2d745f319e8358c256084bbe88dd5c9dc29c363c8e5edf22466b30f8bada1430d259f634d4afef373581e5c7e174bd772fa195717c83e1b33ef50414e10da298d242baa2cc34143d0c73a3cbfe2d953d15770acc60977bbd889b0bcaa478446b044c23b2f857a106a5acc1593ed3f2e7b9179162a63e58fbb70f3c9db869ed1d8af8268678c08c1a0f4144f501142a8448b8f1226f401fb5a0355c07b210403f0b6aad2f8aa3ac89981b4ead9b50cea6910b22fb252c284145b8c040d011b21d98d5d38dc7e7f77af4e8ae8cbc766c9a4430bd87cde6e9ae2153305b3ff5507d300e3e61377bb3afaacc466dc2c1d835b8b2f9624dcce56299e4c08b72984afbe88a302dcc8e123c129d87d377fc420f25b044ecd071b6ee54b57b6e5556b79fae713f2fa09c9aca2799dc29bd9fd689529c8f02e78e18fddb22ad4893931f83b243bc9ef1eb559bde17de8597fc715d449a540e5a5d9aec5d7e3ee59fe5fcfc30d91c556a836458514ce469ea2d65810e9d0dd5babfd4b2905f5c77711b87adfad9076bb7410b7d66f18f38cfabc054d18c0adb0032593ede4c28c76d3284e879966cf1f337cda9acfc291ebdd09c6583bd1bc70505d280579228c14195a74f7a05ef9c441bbe9628de24b78131fa6651f6525589e543536867c3dbf671612503ff30b3571a6841ce4109e9ea803203c2f25d577e306592b1c46c9b69f5b52e50d3640c814c4dded4c7852d1d4a4d5b1632ad8681a24affd30496165df0c8aa5865d4b31f0854362fa7e17fab8b1f77a8bf6a5c078657af0ad27df14379cf60673553f63fef0bcf3466caeb2103bbd34c17c501549f8eae124fce364bd529ec18a3f1efbaaae7c8e9951b1f9daf8584665395c48a918897cddbd0dda57e3f21fb6942e3ddb81c607277276c482c5667f492365ad7ded22ea35c3644861abeb5910db1e783302aa0f67f6c62013c4695d49129adc0037c2498c6b9fa0eea6afb2e4350e922763b766a3d2d3e8b630cddc920534d108665b4c4c5a942a563b2b7beaeed026df087249e2136df05db45f9ab430862ca3e9c6c0a6320b1c6be9d7c0b7fcc5dabdd3084e1c27d11b798d9f71bf61db09401a1ff9eb4665990f587660eaad8758bb3244109617f79265752bd69310822e116cbbb09e0e2ee0aae7505f0a0dcf26fb2be501605faf0f8d369a62ed414ab444085de2d973379421658b7b9235f48f924f58fd8da8e557b80ee8ae9ea22188714af7283ed733661314805d6804769db847ab53fbfdd01fbbb527282feea18119f5d17330ae97b7e77e8c097888b4250f5ae7be74535436d7f304b38ba8a2e2cc9e9c9d0414d68aa7f2c3cc2eb611721946321a1500d5813f4a89194b65048f6eb545efe040075f45b4f3b3d00aaef773fb45b899b72f8772481dd5a3bc237db715eb2c04ffd55d86f2ba6681c21f8f235c874a9cec859cfa31837150c3b2b142fe28adc0fb4b6e7bc924730616c6e266f06ab4f09681933b3363e5322c15a025213f84af66aa9b1bfc2624ce2af00fd3e45e5c2389507dd275281429e1dca23872e393eba49cd41a9ed9829deefcbc38bb68a6fa5749e88ca046870df3a3796202684ea7e1cdc2d0c06db7e3886bb326e324b294743ebd597fb54071ae6e024343550112a30aa0c0f0bdffbdec0b67ae66a65a8894732006c3337f9d96c1c3b12cca663e5840ea3cd687e441c2893596d13b031d4106d6891fc7a0c72deb1c2e36f97bf58d106c9634513b42e7114f0b79fc14ffea67728e0e1b4d60e86b08f63877e54cd0f24881dc4bf00abd22c94f6e38125e74a2b65a5354880004191eba3fdebdd710372c530dd4753ca27990e7d810c09168959cb7d62fd64f649cde9c4abd717cce4cd3beaee72398267afca151c1f432d93264ba2d1c326bd7c3f8014e1e9c08e87b7b0e54d8b6edc8a312c8f373491697451cfbd05c1176d9b0630d21442a047d96762c05e5c1bdc158d4cdb40eed0cdeb6b5b146a468b4ee6cf07033e8f70f63d997b3f5ae42ce65d21579ea91ce79acead49f2cc78c8906470ec4377d42b2fbe3302d7e59c16eb2ef9b7604ba9c05efa65230aac26cc7b3fd8d0fcdfff897fad4d43a8e4d46c2af0fc7742d24bbc0d48b639103d58d8366c31a069006ef758e0a0550180d18a8c773722b2f74caa5fd1b3a66191e317ee104230a449964491ddee8dccb116b52d8d5cfeacd565f72ed7d5b4661060de63acbba1ecca622abf0a170e1d00828c70995f048eccc9a6f825f433fd2775acb542f8bd7234b16f9e3b3cd36fb31b09e2a28a9fc210289a7715621a0b3a9031d5b64fe9a6b05541e58720c19da1dae36efec9ea28cf3db00abd6ba5e4296909b52c46cbd8a8da581bea4e0ff0d3beb533fe4be3299a0cd0bda5572f155ed3dfbba9ade3e4dda2d75d85fe1157c225593f957fca179ce811782c65ec1b0e950bb7aee8d77d45fb7fd6eb421c12d40756d62a6aaacc929e03b83cf8f78df2a19afe31234941c73051c3e89a1508b9d6c82e22d38f2d7373ba73b7457cc0dae38aaa9bb951d268d4b3f2f382034e75db1dd6e18b0475e86284399b8309085466841c7723903a7617e56d1c06b25be68dca5e5494eb4c70f41cc7cb7fa5ea2a3c44a4a5c4af21d96edd463d3154c756d833a241333285d67f075f0959afc6fdf0ff03a6b7e9422af84068e260b18e03971b46748838971e31d6aec6d01f59e108ff6985eaed9bc39149e43f58e8e9bb399cd09f7658040564999d7fb16dad737c501bb411f8ac290b57fbbbe798ffda88af247537209d8aaf264896ddb3229d87175916544a6557777fb7aaf36bc6f1280c40a19933bf71c00d5ad103327ab520d4605484a4f0aaa98af2600ff2e9c8849b83e4f9ef9c438b66cae27ec1e3f32cc0935dc4024867e165679a7837e635f878765754c5c5025b3e067eae5f1fabce88d6023cac538d90f9b3e4f92b6dda8c8e11d3040469ea1743ccc4d9438491b64dd6112ef9b64341b53c98662d47a3592205d1764f03e749000edb0141867c96f0c7e0267e38080b428c956997b249057c72ebe55f4bf51d8aea6c5a7a41a4d6f60eb3c6afb38f2b6ca3feaaa025879409dabb1a8ed62e27a5350a744099f72dc51bbee3bb0555f757f86671d99542e9d50adbf7b392c260cb71b8bab8ebdaebf18dee07d854ba62b1edee5607ca8aa7ed596ee8d053b46d3ad0f4e412dac06896d048cf0f05c3db7d7b1afe9c43a03d483c9152d3d60c98724f7cf186f9ab5073d361c5782745ac28efe3020997b92de18979fbdb4958069dd6b2c24d50da7e1f2cf470ee8fdaaefd868055637b12f27d13208bd46c285b950c6ac28fe9c03b5d29803f0f728110af2d0bc793d6c2c92266b370b5a62c6fcb99fe29f6a79d9ba045238a05ae8853090daf55dfaedb4aa71e459b9438421b4194e538ccbd89a560bff8c02eda60444df2a1b2f124dacc4f09144bc5e6e1c010b00f70193fc9e1ce64c91583d7afb8030dfa0c1c7e0e518aa6c0379905d522f3e39a4abf132576aceb9b0b053aaa8af1f8fcda5638401b6dd409b648f6c91b90688268e0d1f458fb429a8bf29bcfdf235d8caa92b0b14c132e8a1cd82186c4cf4aa3d081c3b2c75a691c8e0ac477b3a3bedf86692ea70883613e1349c285d60914cbfb25ad597afb72ee0eabbc40d6849e22bd17d43a0cd15a6dd7a8bd9e70d2990cdd786859fc1a9512e56922c452f7d8c3874311a1a5b44bbee52be2d38313198abc0f39f8c95ec68b16e89e500d0a00c360638aedb4ee8d1fb9f7c89b284d691a15d8a16ddf127b08436c10f84503fcc009a02969b9117b57a420c5d80b3dfbe618d93d46ed38c6a1ab0f42287116e3c7f492a5fa8756dc8d419070edc114cc969421364264a466c1d931754ad4a45aa6549a525bd730dbe01caa3da25488e097fc7ef1ca4ebcde4a58c7ddb6c7c740bdff25c51c57c44abb6be5f610bcda4a35ec8cd436f0f914473c724c28edbe71f05b3f599550e2fe7cccaba4ebbdd9c3ba5a6f4224c57afae8f11c340984688c11eb68bcc9b6d5425567d41e7d0970555aeda7eb580718806170e95f150d488def4908d4fec4f8de8d56bf1ee77ea44f1226c00ee401527ec854dc5759d76c09e6d8d0786b9a900a0f33e6e1602272c70f3f526e97c188168c45ccdf3c4f52373773849ec61bd9b098cda234316a3e8c90d36c3f33a6c60b59a9bfc9bca83d581cb44805f98e97f31ee7fbc20d7d924d3e13169c96041a652ed853f2282236a98ed95ce29ef0bae354dcbc61956b95725acb0795d11af6e7f6673828e1eea28ddf7853a829da1e3867c6493bb52e826588a3c58cba944ea43fc86d807bb0a9af344adf6aa440c4d64becd9f4ba8c7d2015e4700322e2155c4cfe58be96e0e61166df029946f7c9ea52859a55e522220bee4ee42fa9e58f6c7c3e01aa7c11a35f71fe3081632bd9c336bedee7516eac0931c86a079c245a339ebd8645d280519663c17c2c98b1dc9ef17b155f61b58c7dae311a092ccdfbf53b9903250fc4b8d8c5052b404026be6fc9ffe615cda312a5333478171ee95995e6b70345310045e8167c1432e4a9d6397837d5c936f4ae30abe1545af6aa8e62e206458f00e52649f33c395fde7de942f3f3a53649d0a32eb0e2c8fd79b6c7d6b82aca366aa13d52f8e087eb69ba99af886db8b1deee4ef580f98b6c2291db4b9920bf9c7fff5ccbda326fa88ed143a87e48fab98d08e9304eb17b944eaa0149fe7a4185bb0732fec4a6e6d54f2990b78a43287432222a5c43e578c306202a22c3a46a400c2cd1469f0ce2c11a072a26018a10e50e05c195b9b7dcdb2e84fd8f1b3bd2d2e3d8b54dbb9f535992665d9111e7b2b41c5cd0f7273d3adfb7b4c4631d2a4e639fa001f80f746475703b2695acbead921c66a9009dfef0f58a5b197a9c46caddd971b6362e189caad0f3ccce5fbc4996d15445ce4809c808ff035d1fcf6a7131acc956cfe51ef0223ac45ca6b5f2a5d2eaa6b7f3bd61077c1c316a970b17f12c178813c9c718ae9e384373404ab7533377244d62c0c2288d79cd0327d06fbb3b4b77a40923811de538b67f7c0d208b6c1ccacf54baebc1aae125e52b5143fa7be5b22a1a9310eeb5f2b6f3e3ab60d393aa4e2c937ca22b5585e66127a21dc226c99614b58e0fbe585009c2d3f0be2ce5477ba6829a54e994c0f3987e5fd73a3bc81d07b988c460f68789977f57881616dfc0604a6ed7590736a381a70d92427acd98992bb7ea7e80023839d0dd850029858d8df43efa610bfe9a64a1ce96dfb7190c365a09e06042a45c061c0e4bcab968cac61f459e67088f94f025d20f599fd356285017022124c2360c2df98bd80086501174aaaf54d692d159019fefbe9b9d0f8f3010ca85461abe774d6654fe2ba40beccf6ab3b678e8c4fe3af62d9c1d7922d236c66d6d33edc01e3250f099eba7736b3225ecd942bb7307613cdfa7cd9460df0a11bde1fd00c8c36683bb3a92148ce9ec8bb59288f459ffc53686385ad8f836564861b96098e94a118524d366ed7c1e786309f3fa12b79c1b1bb9d4563dc2154be407851deb93fc9c99e600ec1f1a55b2a84fefdd35163ee1a18931122bf9a840a787ce0ac1bb494692257a82e1dcd8001332e452ba038d86ee083668cdec84a22ad142a2f13efd001cb3c675bb89a0f1156a4c4e43203fc066b77bbe800eabe743072cb25224e7f97bb52ad67b990b284c2fea7e712b77f279ae9b2db58ba0c55b4f69b7a73bf33180d7671cdea95d4d591ba1554730c61297636b1bb42c572cc1489d93edfd22f2a8565a47e15cfae3a392b916abb793ff33096054d97e5b7d8cb171fde6567155fd3adaec9a71c1b7b86f0b15f0bb02b7bf003efb980c93eb1429dcf9ab17c8068e8800a6e902fc1a0b3606dd4a2580cac207c542f30329f6d93151243cc196aed772e85d6957e14421621edfb42e7caa03113a81bdb35b14fca0e8307deaca84ba94e1d1664c146f8abe052366051e6aa36ab21f1ab55e9e97c6fd6bd4379b68033c619ee9eca9ae8164d952b240704bd901a06d93c0135f46d560076ad4aba494fe7be244d500586472b4732cf9a1a77737841e7cbe4c94a47e37eaf4eb1b8a292f27b2c8fdc1ca56c54d2ca5dbea10306e6edffdb50794eec80167844b43fcbbc19c5ab73bc3283810126ef21e25f7cb9279c83021d46342a0c49a57a3e9c5b2d33e44cd95428b9a2fe350bd52bf728a4c97cddaca1cc8b4ac7893f34c920b157b4a81a25755c4f0b4cd1bcf60808f084d6436d00bdfc5a672243be5a0d39eb3bb5799bdaa993f0e9077dd8a503501284957a001715150bdc4bc17370cdf89b5a63ac6c892a29e220239331323a85ba581c95a55bb31c82a0a6dbfcd6199173ebe6ba0c33a2c98f31dbe8f54ac644abf32f5408b7e6e347f9baf1cdc7e07e7696189f109f83892863c86cd4c2be5d9c0dbdf214ec52ebb9701b75e18025e932a2d05fa2dfbca71acb5ff7f1039d67c0accc7e48090dd5863dcabf792ff436b594ff1dbe73547a7894ec5ad31a882d4091eac1d18bd368755ac0497c41e18698cf1b32f4b44a39c00eeaf3768a1f5733439d18ae28ef8c5e4f5c410bcfae359a96f9a73a713a5016fa466e9075a41d2339d6258e6a72c05b0e986194dc6aa036b36a13a547777d39a5b83034fca9d6e8a5538eff4e35a5a620f81e9d4cf0190dc69d85d073f789499aacef14f7bc076ca3da52c429db8132ac920c16f94da354a8a1547ca12754aac6ac525f6bdd9355bd722699a409d1c6c2d7fe931f9c065d569a26ca8d633b3c346ef6961fddc915183b2c76fbc71a28da59c7a1997cf2c240e013da1bd0e1f51732ca22ab506264a89c926980eeb6571a4ac88fdb68660df152595e6c2b3eb9879bcbef47cc5f8b5ad0dd8e16ec04c86e71009e9b3d7717371373765f81b39aa0877fbc00baacf704df5231e41cabc747690641718bc8b9e453df34d6f9fe8fc8d14077cf1f9119e347cd52676d2d51deeb1555de42803b431b11f42042b78748f55934bdf81d36e9fc126ca385075ff871552e136baf729b9fc3bc2fe53f325e6981cfb086297bf28ddd3b5c23a5581da8eeac2f017af65356a075dfc9788836bc2a33e07f9856e0db42a0f6ec21b801e297b3a9c64e3d6d372a11407eadf3db81cb59e1572cd3d43ff40d8e2d09c52ee579efb8ee7902ff85b5007d2f02388aa698f3647355d17372fcd33cb870c4f3bc9cdc70a9acf5a6fbf93a43931a60e0cc311cb2b498128270e61b170d5fa6e18718ee47dacc734b9514ccbf3b329f2b2b0fd0ee655a15ec4de2db811e13e368aab123b1028cab1b5be3decc0793c4ca8a4227958b3251b9d450ad918e70cc581f4c31fafec3b9359b4fc995145150dafeddd1419b15060f3c8ef7851a194f580a0af5f3b01a52b876043d69bf988d24845b09079d59cee6d93237f6ad5aafbf27c897085ab312b33d855246b1a91faf5ae6230953625a24625b662b6a320a19f97cb632dcad51a5fb3121ae3d1f48934c289e8e8631a4dcb64f1172932e68ef7fbf2dfdaa2f3824a6d64720674291575052f0ee5336804a75b8498448cb36b0e69f8ad8df44bc32cff2a9fa0bfa4a375348031c369ee92a7e4ff4c959303d506af1335025f19f1600cfc08cf65463aedd3c56fb9361b5e96d48a583acf6491053f10ac3611106346ec04ad0d927a992961a2ace76643e2865ce0ba07b0410e95c5f17fcf17ff894e17e7f0f1ce63ef9b5a1ee11cba7cb7962c7c43c3e33f90a8b8644bc41016659b8f756430f4d65bb88f57e61548fbd35b63b3ec6222a49b1e5b200a6bcb1fa962552cdf1ed0583985b3c12bbb034a798865531388610b9e1d779b8eb412345ea05f51e0609298d629fe500a46914e33939cdb560979314e805c53080dbce70433d8a77d2df004b2180a6703855118726dce101889706757e66a3580414981914ff2e2d9ef47e5833cbf3496d63bd83b66978f236a9bd3ed076a5306a708435c29ca628e19254fb4cf5c10d3938f2c0c43084a954fbd3ba7d31c55d7b18ded93cac4cb0de2c4522166bedd8604594ddd35214c32f2c12bec95672987c2ca575ba61fb046781081b27b5ba5620920c92ed3a65a948ae5b22c3f5bb318234d5151315b67db8cb6e9eaae6fecc1cfb8402b126b80fe5dd08f8ebc25183449ba72cab6c0a343f343dc08f3e8d27cb404419e332bd2f515f4dde5fc8789a3fc4dac31c8c059053614ae455e642c358e3d40dc34515d35122b99c07bac227bd2b8390eba095c702bb3d2dc95d2e1659741ac4a2075c2b2d43ffbebb033e5a1e7aa5cef3c6d973d5d45c57438036cb8570ded956ab9b95e9f35ada70a170b58ddae76c3169ed013b20c6ee35d1e5da1b8c87c55961155052117413d4f4effb5ed57e9340823e261476c303a8e242b586fbda458becb53c6e626fd1eaed06a32c0e6733b55151bf8b7d84b75aa48f9f87219ecb845ff14b116c76e5dc6233a9bb8451262501036deddfec644beb5c19bd0ef2e7f3c1d318f4c5b11236c21424c4fd87ee9da80905cf070cff5601c2089ef2ae84155c6e919252accaa219015c553421c19b97131f1b651502c16c7e1631db1724ffe92a12aaf1bf489b69e7961d33f902afe90c02fa8c8a3b7080ee207dacd550bbbdf3684d54df2900a6f1ecf035a69bfc243660356445bfc828bb430faf60871ebc1f7f88237dfcc6995a28cfad7e4788370c38df54c4740871e11ee2f936b0cdb57c9e22be4fadec6918c1da7e1c412b6f84c6d60f926fca125d164286443627d34ce0259a40ad7112eb598df98b464513f58f24105a9a7cb2b2ceb036e45ed18201b3f2aafa83d7b0508725184a350802492d5789f08abd739010508710eab22a7dc08f8e7366a7ca3a6757c8887cec162c2f37f9050c1263aa4e7584cb715c30c4d0d11b34b90b7b1aba8b29eae4b57b1869847f0879820d53f86c9202925d76f9e6860e26db7b617d51d09464b2ea255e3fc2891db9e31db783067dee9a6ad68da826a23cf32c38ee012e10ae374b1eca5307e91152be0e20241e0eb3915e259c55d5883ab39ffe40b640801acac71076346f5faca2485b2ff9360450aca6c4d74bd7e00fdc67a29693dcfddcd63abdbf362c6c98d463ee98b0da13735ab64c93da2cdf6a9c6c908eced9a2e9204d37f1d3e28a010420e4b7726eb975b4534c7f19fba6d3c8a3b0aead7a524f4506b870a35d0ed65615fcf2dc6f770d2de655f416b55cce88bd807205c5a94363103537965ba86a827a900944305ba5fd5322f9f6dc70d27031276b90db4d4613e8432743e2b7715a3b213cd9b400352e6242a04ef687d775d643eaab027aafa1b4159e887ce396617b6feb06e4afd5a7dfc467e46362ffa5e2efed1204bdddf010c43458378cf8bcf5381692b3cbcd0ec7699d7d143af7d011008bcd6684a078db395d9b721c7b14749b3a95ff2fa1b7d3031340677249bffc370ddf89affc8383af56345e295595b67be822abd45cf9275afadf4921bf3445f5bbb5b2094a21302704a34d8a90824e3fd7ca47ccd9788f7d6655ea34648a8b02ed954063187166407d2949f833bf05a80d77f3c9559b44f6de041bb4fae236eec9bf6d32a2243d58e889edb47a50a3e9e0095d5b883f49a714dec95c65c99ca9f2f6e2d3ca0401fcc84d2d42fc7c0b7603ef19d2b36e69bf3ffefcdfeaa3ae1324af327a91d2684e781bd846b963ce3ccc061278c5ff4c8a5e3448ce76c656dad8f0ebcea8825ce0ddc727fea76d539adfd76f1b68d5149578e2297ef0fda72057401768d67f56cbba70cc9a016c5f99e25a2cfebd92368bbb2b98491939b18b4a37cf8d69f192b60c98f8442858e35de72bc4c8e83202e3d642216ef9c9b1593d43e4264650c1fa2dff16401a121f97c085257458b0c9a18d1de9821ad25581f1842d5b200879013bc6aee39e0a14f4cb54e5257e35b3e94f1196754c512fbe7ba4609a8f366dab1d93840edfb604f2179d0e1511965ff22b2f32b2690bcd5aeeeb547376c1072f3e11418b03bca941f75dc56cb30ad34ecad47184c94fc718a33478bddd53d4f64b13f0c8cf454755bbebfedeea23e1d799bacbe3e92cecbb50a3555144f04682982bc0865ef9f831ade955a08be10cc8d2a929866d7596859514a138287a78d63f293a3f8ee0a30c598e05596acbabbf7e0c234909e304041ba75eb2d464d310d3830f9d9f363206b39fcce571eebf046127c7b3c1a3ebab80fb5dd2408ed901940b4843c81c7602ebaaa423441b1c32fe8a8bb62bf9dcb4ed1cadbe40099037964464457c6f43928d2379ea81f03754f4ac04663163df01f097ec06c1ac613f53206b6fc8ad65b21fbc06371b77a12bf8a45d6456d4d781f4609bc8830a819a526863953d74439ad41034d6dad18f3476096f253687bd215ccce75671b7186e7a89c99a01d72850529460f8506b0552491569c3c9f7e1e2b4a55976560b08083d9453e839736f6f8e8d4ce23d7722d188b4fd198782c3e77747874aa455c1273f2cf7560ee1a0496b7d9bb49b91fd63a1601e3236e5b25d52fd2df69fed4f073a3568583c777bcda1fdbc73c7b58296a6984a451ec00d473b27c6f73d82cbe218ef81d8044622b58423d83bb38778127541d8f0b191d6d199fea0a9c889ce39eb7c3f7a3489b5df75dc78a3099fab1f29fa8c9bbd7b9fee8711223ea0bc1601f479d2a96fbe5c29c4b811bb3c36c34bdc77f2b93cd445f4a8658fe3e5fabfc77cec213469161f7a4ec3d3f719e407565806ef1f74b99add2f949fb5c81bc6f918c06aa6cbb8b93bc57d7120337a91b60dc150023c07ff8cc4ed0be0e1b1e50314bb7f19bae1ecd720953d2d187419a474be1b63705c1344dbe5a3f146e4650c8d59d555ce876db94896a079d669b7040bd7a8b5cb6df648cb2fef1e6844fff867e43f9b48614700006d36651842c00220668bf927d1eb9c47a9e80911fb0e830bb52b57acaf1751e74dfca0a44b3943d0f631986e0fb0d712987ebfb38f987f61da00b83a5e39a112d67d1a297db7d27742fb47d841a5183613217e1ce3878a801a28916e82b4ebad70724071a912c91e133ea5eb23ff91bf22e611218bef1f174c1b55349f36d97266a6ecd5ddbfd74e9e2f09ad2d4d9a09f4cdcb5e014e7f4a877ca3bcb86bda66942693dd8f487e3236d24908bb14c2cacffb4cc4ca07dcba62bac0914a4e04ba13b90b20c92399c7aac21ee163c14f5af3e783dda38619c0e40330cbf370de023d43d73500416867c4dbb6c233c5df7233fe0155170439d59582ebbdfd933d35b186d0d3e7e87123fd2af9a1ded34f4e07b3b48dfde110a42d6c70c4a1ff9c7ce4b5108cd3079fb365a6d2e511c98d763b3a1a100de459ee3495b8c631d31b52b10872f4eb8fadcc9ad618b74e31cfca01b114c894fc30c205aaadf7ffa3101caa6d9ee1832f39f227e5980cfe32d916e791bd75c708f03a3ab8f7db2e8c4516411d2a821a9765a98d0917c75fdbc2b8fe45a7e69affe3ba06aeb96ac62852cc39b75c8cc434e243d27a6f92c1b2edba28fe37843e59b328c55fabfa6a2d1c741180919dccf9ff7f1e8a48267ea17770cd15c05bc2f42133f37301555b2695260eebdeba95ced4825641a3f62c387e3bb3112842468bc5776035ea32ab9f6884ca79a05e65b2e9e0aad787458e8baa8e89304bb998c9b32f1a4420bb328ccb9d7e47b188cb01277e65081f8c5061f7c32997d0b2ba151ab203256cd1655ee8577f08b785f9172b31b937d1da4518740d2193d566c4997e741dccd09126660d23438bf78066230a8f4385e12ba381405f7c1b619706afdf229ef04e2b99fa391e527879438ee61f7b3e750d63a81f4006c2ce3a7601c94203b046b1567c48e04ce11445a0570e2b5cf612559ede990bd95c9f09aeafa2da30d81370dc8766df0edfa07d43e4e6d03908abfa7a8e19a7da41ca0602a73388932ec6247f10aa89fb2147919435304c0913f4b560e9f0f697df4c964be125689fd658688c339636d26ad7d49da9325871b8aa5258b9ba80c3594140c2e8ab94d71fc6fec5d6aed077b74525f94d5795f83f283e5d873de8008af6ae6cd225fabeed4b9697cc173deef87b46cb73a70777dbcf40343bd13f2e730abeae6cc6708c05ae05511105629fcab526d31247c784d59586fc8758c6d4bd6893b34a652a33de778790a280d7cc41df828d5f3a4adfcc4230020417e346226233b010d6f1b54e316486ba55a1f53e191c22a0dd55ce87a34c5426e0a9c1df19f12cb5f9641dd8aadd50044489ee49a2d1d78da009e585630739f6987666ba831017dfaf8d6b2b6779622232f94cda3edd52b3506509c855b3e5c5602cdca777da6e9bb0d1e0cdb2cc16aec1a09f4a0576ded0fa6ba8513c4eddd853be48429dfa1990c8d26cbba4596d219f1bdf318aafd1de0782bab79671cbd329f10fa247adc9afc0320a04905ffadfb7210fc44f1ba3567eac1dc73570b9d89c40b21997d303baa39de0d57200a579f86ace688c4a430e30a640a70ed501d59bfa915805af913d5c89c10e3aa4d48856bc815297bd31033b52677f4a7f5b5dc98d897fc1259a94553669aa6a10e939b0be69a59be900871ccc135e6f38fe6e6e9aafaffa32b4664c4eb29c7dee9f05e700baba86e9521e7251872e880a0ce1d67759978ac21dc23b6135d6b3a067613be80a951da430ea266526879afdcd4433ccec4f9d529597e2c1a2b6942dd43cf7ed33d6ba2c4c09161eed640cfafeec3aa8b282ab0479c4c58e5b1289bfc3be9e5ec11ed066dba5de16acbb075e1ff264cf521e4ded8a4a7beceb637da67550fa938101279b76c5b0350f2c42242a16e58e99ae56aadbb1f1abc1ddb931a91d7f716b8c253b3e400d0b7024ce73b89833743377c6a0975b853af2d6ac481869f55662fafe2a119ae8eceffdfd886f1ad7749e0301e9ba00eaf6ec5337722b3448dc45d9b80301360995bde3a10cd85fe63035bf13f503108433ec269f712bec7074dcfa060cea2c1788d8ff1b7fbc47317e64a1ccf1505b0407954ab6d2e60e339f46eac41e5b0142e4dd628b61638152ed1e6de9655b715cb7ff4d44bd1ce7aab609e453d06a7c564e6fc6f3fb7f5b862df0a6a4ac00e4f5f568d36788cc78457cf540bb6f1c644a0a3208613a434ad4cdbe0c2d4eb7e463aa7941a402f3e7e6edaa35cf710d2d3a47a10a6f6daa169096360c816b7fedbe5c2680ab6585e0c80d194f90227d523b2e0edade4b7a57c9c966066ad25c271500c3120433ac0053380d36568d5537b43ebaf92c776d64473752a718af55dae6e676fa7240a97e99efe706f3d89f9491c93e0f85bc640fe4695379f658f2c092f68b7358d9321d7f79b8357ab39c050f218eacf5b025f21f49109df8e185cb2d226ac2899d821e9b5ccdab413d6ce22eb93e51d860b060fdf1e41324f47f60774cb7d5ba80252a043aff21ab207155e0b5b564f4dbd3f204b7686cc02818a12779ecb853634e95eb8594c519a857d72fd73ab2a29d4b1f375831be5e0c2b63533ca5160fcac8cbc6f2b4e7ec7be5c7b8157bd78b136df8dc35ffbea3c13a1cdbc47e59397f8430a77ef7cff7575540322b33fec0e1e26ec8cb6c0591587a23a9049a5656c086623959f7b905c7abf678f313c9fe661c9c60747411fdb0c6a5834950a9a3b2423fecde3c4f98c137b576c5010264b99961c5d40f150ae7adf080143b8c124061218bce0e184e2e7668805b63fb3007c664eb3422b10b01f25d43d2855d12a38fca379048de627d787b6cf570cd46c1dd4609d6c00d8f5369fd8e8b408c085304059c9af5e3f190c3ba0b18d60b6a8d075229b3f5333aa202ce03500b81d3130751b55ec927e400447c0b54d43e930e4b6bde894abc3cbe6ff68d5d6cf5c61a2e32f06e92e9286e650541802dcfca8affb43c667d73d38d618d270ff31e518bf863f17b08ab142e967d567e014fe6ccbad1c9b0c91a7e4ccd348e9381f891d7db569d7ca0a24a66e28f720436c4f91cd7e172c062905c30aea392ddf0380b88268b12dc69919fb14e12f5d4f752661b6001a6a07fa40784f529f2bf0f196a9871596dcd57f97323f799340a17f00e10c5ecdade4f9a65e9d928d5e9d616819f6a27a9a3bd90537d8639121d86771119ff288ea14de5c84aef07b82e4e9dfd209a5ca3ea2c2335b8aa860c78107ed3310e67f3cffdd582579507bfce5f3c2df0cb0961b5a5823bb80a2ac460fa884eb72c8313bc28c7d11d412ab74f53317ca040e5430167e54bec3910a73918d271c1a5b9c7a5ca2d741ed04972a2c0f7ccf52fcf258a714bfe8176f0e83831adc076c96223a26bc4ecf3c946fc89ffd573e25b26ec1c34b46a6ebfa75a435b600bf774606579f21c9ec8b9e6fae1646ce3dd05a3d4138c47d3da3239154bfd81ad8e7176023be8c5b83106543481dc5524bb9bc39ef46b8c5ea8deeff0d669975a6161fbaa047ebbeff78833ba7431290f562ef6d31f1956307893289a6dc8a1f8ce1e8b004b8e02e50bfc1ef5eedfb57b3bb61e850e1861a1d3cf93d6f2857dabdeca44a75a812f8374558aa6685f9c18a4c49f1ba850a0cd1b35305832c611d636a957f13be37e38dd36dfe01f3d84921a8179e2744c7f6ec1e61f054eb6260b76b0ccc53e337fea2bf45934fb6ff19e6c9d98a42c63910e450dc255fe30d4af78ed2d12a2ee2ef18c5927527193d55a63e107504376816af54f4ac64aab52130a801c26efec9add9fbed59420a3e88bfcbca29527490d6a06bcd7852d49e5b0dab00abeb4390c1c43102b5bf3c05e4fe591ec891d86f970c63aef5f7f0a446321bf0c7954f1d19f94b8ac88ef02cb8a4320092601e8473522b4a1eb37023c68d93d9933c4063b71e1e06411fe7626b9bd5ba009232578f164942bd4e498633253b4ba56c6b74d3b4db32f76e31e42a0a1c300618f38c1a56d6f10302d117839ed95e166ffd010bd943eee58bd7e83b1febbc4ace77c86f6e35c61874d7ae89ff2928cdcd8e153995d9e0a2e7eb3483e0b80850a16664183667b74581c257de0bb57e0d9a5695d8ce6176470050a6aebf46e6edbcb84e26b0cbc75955704dd295aa3346a7542a5683611b529d2914009be4d262993b46a7645ff1271998e25c39c0896911056629ae6f1596bbe4263e01b06abea3165bc4f97e43323ce6bb6398c1bffc8a2d12c5ed82da684e6a476c2e90b91345842a6121879032aa98f6ad74d4eec9c191dd7bd133ff29c85180ac1878c7113a8e530dd7234299e138f36d34f6eee41c1259c60eeb6fe7837a0f181b3c6e2265b1f6aa924c742438630b2da2c68b2651b331d4b3e3da32acea5f5633eeeaafbc08c1df7bb9ef064a965fd497d56d08c327ae89d856a649ac752af9449098d84c0c994d1952820c4c14e68b78985e85b16682eaa67852c215042400d0c0b372f5a52fff27e9bcd42970a44e082d99c795f4344c0d028f60442623efde3a66528a8ac2a8cca23f2254b4f0e385a565b07a41ef90472729b421b9516e2b7ba017a1e45ed5ad8614974fa67f9578725648451e63ae107e4ac307740d00520ca149dd0dd7b043e2c6d3799be0e81302b4a1d2db03a0e0b3a03c571bd019ad8359fb0558b5cf2e57718159f9d450e4782defd2711db860cce25740b4866c379bb881d1d42f8e8c1b8908b94919120cfd0d23d107d0d8f1b6d4732ae2e75e3e6f209649720dde90541ad5caf9407381e3e9c3687b6c2bf677ae12a0d03355b815516186c1fbe17f549a8594241e681323d851cadb4c52d15b0a162daedc3bf84d87c1f69ace1b450cb69a94173c1ae63932088def5816a83da78ece9ec064fe77689c7bea92001f53173add9dc80a3ff3702001f48642ee06966532f127aeebe2afc92b00a2e1c489998c6803b778e6a11b7494d3f5ad89356ac49bbb11ec77aff29d4d38ba20ac06bce132bed179fccb5ba35ddfecb29a4d5f01418d6c2cfc83cebde753d680c0d45b53d3bffd871e3ccef742d619d9bade3c9fc4b1e858c9aa5456da4b2f27d9def94691771c6c94cc2f3a7a2fa19e9c46df8ba9bbc2531776dd445554f041a6817d4f50fe8c0da19cf30aae0209d988b197ef7bf1872ccaf4572c4dcc78f8ff4f68a74f22f99a45be7de6e62083509c7d289bc32ffb1dd5e089852ecaf8eaab30a4bdec981066770d5cc965fe7bf61a0ac50a3dce94c02afcbdb62d5b4bcacae5811dc6da9d31e29deaee4f099d90214d37a04bd4ea6f389c79a71bd3e1c7355dfab6e0dc8520f1f92f504d012bc87026f06a5ddac25dd14785764316c1c57fcbf292e566e44d279fdf27de085aab68bc2254b42fd8b87fc0f09fed8654c1b609d1b00d2356f96c3cd4bc0378a35dcea589e37749da6eeba5aa95f9a343b80e7e9576f7ce1892de5dd888a6c75c451188fd288c69e046a9d38c9eb049704da7182cd20d9ca14f6b0e5a88f0eca178507fafe6838eb1dc6c24ad3b9508ae4dbaecb6588c6f52a8943f39a299a8641cb367c55ab6c3a272964971be3edaf7b91dc80df050c0e620302b831479d36eec7c39107cbafffd0f11f8723d3db77f3add3f7ae5968ba9c361e2a065bf052e4674c6425276cdfa2fce829b33eb27fdc8e9da561d5256b3e2278d04897fb54de8ec816b56d5e48ccd7191ebe90abf4de85f9ad96c7997d89d1772e16ad63511b2da5132b2f7430dcdf4c6dcb85e149b60ce06e7cf75cf3211315065438674a618d4ba968550b4e13d7297bc513733b0eadf456439cbafcbf880288677aebeeb6e9d57b71fbd3d15b950437ba0c6b8b59c1a8f762baaf26ea7426c068315e2bd819dc38c340301d37b474830b4ac100b10ddf1a7cb62affb05f293fda15441be829ab14848aa78e422f9e933023dacff3f4dd6f29998f1d7b429a0c99ebeba021edc8721b1b407f740e3a375e395b5c66b4febade69140dccfe67d58aadd8b7e76f3c59bc5f509f7a471c09412dbd8926a23baac88f7efdd57b9e682558dacccfe0592550a63d01b6771d70703805960242c93c1f22214c4187ac863191a4d53928c76cc439ccbc2cf3b838db21d851486b6928ba5c1bd1c2940562065d952fd48e174f6594a273a5d54098423e94d8ad14d30ad901d4bff87759b3adeaefdaa3c08bf8097bd1024219891f71ffd13eb970603d0bb1fba207138fbdf0af5d4c4e8f4f6da2da52f987066a820e780fd54b98818bd258a8b73ed6a06d26eaaaeb173998230d686cec944e34ce0f587a7e69e2c5b537be3b7702c6f709daf339d7e53186b0479ea90a273ead5a531ee272314c6243c9e6fd6d4d3956e9c6db66d58c5ffe63337104634ba48ce272dc75ebf0efab7764620fd518f4fe3f560b067923b857be9218c9f48f0c1ff96c0b3b61fc6804194f81e4c46934427d0ddeede8bdc3587e2923e1be14b00a820a8859b5909c3148835d21870281f2c72c20da445d8c957f61a8249733c88e00440046862e1157f2db86bb221fe12b9aa89e9369cd84018a93976c6021b547e0440f6f78760346ab3d65d03febde7920877afccc2e65c0266398b259622c708627985b4dc1bf2a3ddbd4f7acb7999e9aea14028607059d19d8d61a301367725d2186a02722325916b93465c15bf726dab0cfd2a0d4ca9678b6a302b6708c9e34752ad6970c4da6767ec5557f00f1e6e1e297cd5cabcc438cf52d00437c27f54ef6d7c2ba2a427a876175fbaa168ccf216f608060bd6e911b275f2d67a57fed12c226644da9826ea1f815e049017d40b1d0cb16286784f93e65913e28c885e57c81c1bd47ddb9535c9f86c83166e13ae888eed78490df29e71005615f71b52d573a45c4245dede25234c09a728502897ff5b027aa2a75fd48e502fb0a2379ddaabd76dc3bff3378efa15c79d9d1abed6b675e613be7863754c18a2c4b39bc575c624d4774e4f38685e3f8e84ef4303a054946378dbce39572986e197f8f772df9124512761b333e088b5b223f0e8bea52a91bb4a23cde52b4b5413e78787e1690a97da727c0dec9475bbe41ee45daa192c57130034e5921ea9bfea4a4ace1e5e31a8e4017e8e734b9bfe603574dd2cee31caa53048aacadffcc13bf510a44ddde351ddd148437ce5ea4e9ac5df374316d44e7b24a092b0f013abb6a155a00e7df899267c08d4aa5f2cd390666b2b4bee9467eea6d50e2ffb1a173b99bc252ebe2d9d6aef68562811fb8d69fef60e5aa361d3e19ba3be1d6b73d53d7fc9ab2d52bd3be502326bf81472e29f588b967b14923836fe0ed6b3be7aeb8b9976dfe1041c25ed286390d40bebca5b28dd19c9c27b4b14ffd03f57b4d30d89d90ea1b3675601ab1307870a943535e1529912a7d7ad57db6db32059ce666eb602894cce5d1cde8a776c45d1905ccd940d9da1b0b310e6c50b25e3243963a41b25effb826d0fce0006e5344e13b46415e3d3ae5713317c4a6849f15fca6662353679c2c820c8d2ff4eebc106394f7ab459261cfaf1b20fb2bdc80c097e250158e1676608b982509182d6e051b9f6cb1f4c8719de970c93ca00cefe716285a6ae7f1ade539a98859374085764e0900d8b2b9a345e919e3c3001cb2b0f0ded950408f6dd01c5eb9d6cd62ea644eaa6217f9afa193d2f3b8e5ee61e74f428af6a7e30304d173ba0558e44f59e4696a00714d265e8fd4d192746fe8c1a64ec8809d902ab321ac9fb48255f8ff355b0c5565d04174de9aa64c17389d909424392d25e01ff6e8bac3fbd8f4b4324347315688db1f0ab7dacf1e57098be0952e322fa1ec362b859b5c77820aa79aaf5a4c3097401ef70cec5e7f7a557da2057085a8a48573e75465c5975738fc84ffcec3bf4506ecb618b6eaabf0c17332a13b2ab5d55839d24a49ed91af5235e202df7fef4dde3c9ab1ae4646638ea6fac5fb64f8bffc92f9b9eedd992f0c10cd6356001d0040e33804e73a777643e8795c681e67b6df13d1764dd99ea659d21915c265a932e7e8010a1a805dcc816f56a9ae60955dca61288daa58975e24cea68c0bc258347d34fa7863d53718ceea857fc23c5fc3e5ac228afc5e7341a45a4f109c0fe38abcd77a49d6306a142f6a6f4855231e39fc28a5afaa1529c3b7eb9d95c89180de0115605688cfeb815d0c832f3665108e16f4e09cea713d44d65d495aad159e4bcdf81ed9c419054b70abf7e85e5de089a00c459f7b074053b5e407e0d17651b117be7eb25824bd58860df19ac92957a9bcb3c6d289d174693cf3e86121b7b6529af5c1de130e0c06196c8aeb8154597653472b61d0230ee968210f79dcb2fc9b4ffa000ef041d6676ea8c930385c03da3241bca8633f35c3f6c9c12c07ea9e97dcd479a09dab0e2ab8060a6f891862d2315922ace14eb76b6da389c8144de6e7c5441a78af728ca56d9589a6eae153a1b707560ce3a52e7c705b8917d0733e31091bb7eb365043ae739b364857d3a070b7f87d818a6eb1598635e8ef7fc14afb5b563947a65c5829f2d83240ec5bcd424a30cf96fb2bbb8455ffe6227f1fe104b582d6172515e96f0c91a1a538e3f6c7f1a002101bc23e62f9e7756d80119b5bd0a56ea889a2bb244279fdec79cbe2b286b74437bd31bcef0da43627fd03a2501469fff551f2831470da40ad2df2376f96d0fb5411d78fbc400520bdb85870834c31199c9d4e823d30cc6d36789169277381b2b1ba3f7eef36d113b96a548f05aecd097e53d649b061c3cd8df1ee68cdef63b9ed1e0a461114de750a0d322407ee16f406a848101a7d8c3a530685cd22a850846613cd2cca3b127fd06630fad42a1f39c1a72f006a4f897ecd0f12480e37dfdef6c35f651533e2e94409c5a4518f002d021bf109646a74f023273a80c3de55ab10ce05a89243933b268db06370870f397de3e329dad8ef7d676674d7c63de30491e17c20e4ea564790c4990ed69d5d173b337ce3880201bfcb98e1147b161510aa301982ce6034ef29fbcb7ae5a6d8d4893ef8b9bedb8330d7415f23eb739141bf7c8f1f3e7ed5912fb1d42bc3aab73a27e4f90bcec61688d127bf129cda417341609f66779b41141c92b0b8dd5bd2ce391c3b3050203f1fbf6204614b58af19e414bac6fda465c21c3a9741a91901282fe037f9ae053113edf00516f73b17b33abcacc80392669ef20189c5b194287a32e060e2ba6e3f8bc1c77a89bdf177a2554b30f72042ce5e7eda787947159dc8c1fae7d543508a2a3d7903d4e326a391631e6fdcb59893bbd7fd942b3aac229c3c61055d615459cf061a58e16cab2d654714b68c5d9b852b3572843288e47dc6e5e2e47cf872ffde09f461ea275a442a8872f4dd044d6b97875a48c60c1d2a4c038968bbca102c8566c75b7f256c3eda0da1a31c4839eff6f5cca9dfa0b9eb0df6a2259d04858cc559cc6c050e597bfc1573b2e4b0e435f4f7efd8d1400f284c71932a347f5dbcc850959ce71723a407a7fd1f1902a8b2360aaa6bc3a5daaa152a74c76b9fe5f151654503fde31285ad6e676474fa16b89ed19c76fef8efb1cf6dd238c0c6c6518a62a66ba9cee3a21f89899b2512aeef512c2e7d4b432406e141f3b96dd5956710ac9756af0aee623f284176f339465b611a589147724e2cf427fc590804c24a5ba3d33e6636a27661c6c72bb288ea8c515fb43165b2834784aa6c65de9ce6aa2f16737e04641d8abc69d18db6ed1ecb41ed53d0df8b067eb869940b6f52f9621eec67683bfe5d3d5d3ebcab34c6094b26a124f3079c6dd9435d00beb5a6c71ca487bbccdb300c7c2f7a60be48f550c09f2b0979c01656529204307a9bd5f53ad9a039a3a0c53dcbb2c805b0b15b7fb77e99f71eb2917827581c592cb82e499d0566cb1e53e911fc2a66f55d6eda9326dbf8bd8b32e5c5f1040198b263c78496315110995aec0e8a90893ae95e39d29855a63b0f115d5303681ee80326f0bfaf8b4b5dba22f21144adb38554b03ff111808b582e5cc47118cc2f1dcbd1b3fcbc46a477e2d88b6907957084473451c7f55a4319c6100391f90938176927238dc8232b0c0f87a453ffa59b1781cc771d6c5ed5120c550442d374f88f08c69a63a678501281351d30662c77b2e6b89c5c2949bf109f226214c4cf005014c748da24ad5963ff5a546eb68da9d5941c339a62eb8b2d1ec35ff7087bd7859adfc61b0e39b085118cf06efb0e7185f63373a7a461384137da199b2d2a143b0d1a32dae5fbad6a9cf85a7c7f6e98640e4739e739184c7cedc8af407b689424797820d7ec4725a8aafb279fab01ace7d55dbfb3e9575268d765d1ce5b7e4bb5ea0c34bb1a60638c3d06c0d4d9038d1ab3dcbb23942a083db2ad0346b9cb12c745ca42b3704ddd87b92ddb618e1848be4fbfc866da5fd77f856b618b461504a5115437b80efaa68475c200e01831411ad6321726b678852395a50773cf82a91d3187596dca43b10940eb2ab2dc029acf27e089ee065e75604a458f31b12bf4c60337bf0c49ccc5b73b8d12b1cee4e8ad978cb22d5fe7c989689c7a4b47fd96d8c1d661ae995bc84d66f1537692612f24a023ea43ab61431e19ee551d0472a50077ff16239ada5d41a59dbf03b62ee52a5044a81822f1ff22919eaaa82b56e0e442ac3edb8e277eeadc5fcc1e99b3330e42f0733789cb992ef082582747d37130b87f5131cdfb897c78addfc9bc899eeb598a765e5b36fa6aa44fe9a0f0b5f0137672bad7a6a18ef2442f6b48373a74d8cb7d30304b6da21c175458efb0fd40631ac91646b5ac89f022d29590866c811717d38a7c8656b936267bb501ac9e171a6ff9454226db39cdbf3dd297d589a650631a701f79d835de3a46804a3fd030ccc625be2f3deb3e5d07df33ad90a9044012e1d2dedfdd451cab952b6b4193e4c32a1e8e85b306d5c56838eedb5c0908f5724ef5b78144225a655cf25d004cc7c1abf84f9c8cd53a135be9d41027ea64d4168791d8490c3d86da97a00e0a41bc8550fa876853113d2836c236a64f5f9cd9fa78ec93c4305bb0e2f1af2026f204951573083ec576b949994ec5e038670c6c4177f248e983801b9868e67c48f5b3d7e04e57a64996621c9ef8a65ee04e7663905e5a88fcc521a3d320c29af06387fb5af80ea57beb3816bacdd19eee50230cea7043f7ad75ba3b395af3601dafbe1f98b95b841860023f8bead70c6ce488880d22fe1862435c8b3e6c6bb0fa3de0ecefb4a3e5bb6d5d9f3d2b8791d232566bf7ea87ac392ad4af723567ca54d364cfdf9a86a3f5a6b603991eb444eb3a0d74b6a0260e27445a5e290f5a7693b753926ce311aeda201533b1770685814df21816b03bbd488a8741c6026fd1508e7ba43e919d861ba2b7a9418c5bf7d896830018999293d8637d0527cb447c8163b51f0339235d0708e0fa3d25ef63f297940f8332bf47dd5ff717431f922cd15a83dfc8cbabb7951e3f7d43af1c93deb3d292e23275d6de68de680222f90a866416905bf4ce857c8566a2a2c523bbc18525a5a38e3796bf159f6d46a90d819fde8714076f817e7c32a7b5ec1529eab21766b20b106e4c68dda107e51ca883081017df054c3af205135d81fa19621dae0daad041b36da0a1e9da89772f05bea66c0f236e230318e34a49a9e5bad2965ec5c5ede3333dfc70ac944218361838d850ec7913bbf839d97ffb0347e1c7fec0a9795241aafb9e0f7ea1ed4273fd472bb2c3cde51649a7f4978bc148a754cbcc485f9d7d600d794acdc941db592d4e4a701a27e9399f5dcc7cc92f0fa5a73d90060213d1d3edf11cfd77f08a8682f62102efc016a8aa0c9060230197c93b79ed08d69513114c7f8175a78fed85d2e2a479d7bd371cc24d3b1cfa8f547654e037354bdc0f5892486d726fecaf9beab12190e75ac12d232065738abfb6aeb214aac4b8d5fc1cc4c11d79d6c6ddf7db54da9bcda4381c42e22e4ed5d59ff603319d7ee831eded0f5100a2a8ac63adf95f8dc0ea6aaa1182ab76e5772196477199001423b5ef995da32ec085dc8e06e1bf6f56ae774d102818f557352524b80e5704c278ea5f269f434176c7c86921328b098386ebe88865763a4a367d5faf7fac2a3579127b38395075bbaa91c0d49d34d062f2a7f6389ccb0da0b7ad50c25c5b09bf0080244e508cc0c105ac8ba1e64669d3560b73303d182706d3f04a9ef46d68817c5135bb122146cd953ed71822af1084cff11633bb81e32c2ef6707fa4d7365fbf988512b1ca90f39d09b3539c70b03aaeb077e93ce50025b96ef907bceba3f44e2a356d9a9a978155d6a4c0d6c40792748d0c0ee62f6c0d72851bf2aa48ba43dd9e6aa4e3d5ec77da0a9eae6c8a0f1312471944de14c21edcf549e489e025379276a6bf5e6a83b7e3efb209b02b532af49ae48d80b404ba8b02fa90729c48a642efaa2563fed8eb8a2078df309f98acf2bddf13dfd293f1a7c1023977f79a7ed32388fd17b21c46f86d1148956080b18f09dfa26f73beadbb19a9e6f62a060263409fad3141e27b82b92e92edb9954f8758859ad41d13826eda3fbe1f3a0c0113043d3ee99c0b5def00f68439b565b1af0458454f18f16d56692fe67294c17b26e05e791675751fc7e4f581c1978961738773c85c8ac15b2dcb37ceb56770215430007b334ef5dfbbc0c224b33435b569dcd1df9ecd768edfe098708005419549241dbffbefc27a0f8620d735fd04f4e242a78b26640bd6811734163c8be3bf0e6834b1e96ed1bc557bf7583777e1edb926e1675e416a4e0db062f87758ca72c8506a815d21448101f37c0c1da73ff984ede03976ff40f4cc278fbdcb0e04c3acb98eba791bffb0c5f8131f953b306c3ccd8dfce3ebaa6a323c5abd093bf789e2729b83c26a5c03ab1c5934a2eb84830f57f35d6e26f458f0f7bf9dc11b8107aa048c9d977d63577df78bfd2a096edd3f2ba1c7216df5cd7a8752ef1ad45a57e867ecc31bedf5e1917392a929c3858aed7941c869be354b5ad86498258998297d230e0ad8158b8f51a4297f00797dec252ca01d68ea5fa5b47d82eda5f536bdb9c07d12170ccdb9f04b03eb84d0f20eb834c849c16078dcebd6bf37b</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>Greeks</tag>
        <tag>IVS</tag>
        <tag>Option Risk Manager</tag>
      </tags>
  </entry>
  <entry>
    <title>MyOTP-3 数据库</title>
    <url>/2022/06/16/myotp-database/</url>
    <content><![CDATA[<h2 id="说明">说明</h2>
<p>常见的数据库我基本都深度使用过，经验来看在单机上运行交易系统和数据库多少都会存在如何分配计算资源和峰值占用的问题，多机路由互联的模式存在网络不稳定（高频交互）并且也会占用路由负载。目前看将行情收录、数据分析的模块与交易系统模块的分别部署在不同的机器上面在后期运维相对省心。时间戳微小差异和网络抖动这些对于非超高频交易的系统和策略影响有限。将交易系统单独部署机房独立主机命中率受到多种因素影响，数据库只是其中一方面，一种比较笨的方式是每日预加载数据到交易系统内嵌的缓存数据库提升系统效率。</p>
<p>对行情收录和分析的数据库，关系型和时序数据库在实际使用中差异不大，对比几个常见的数据感觉在单机部署数据库的情况下clickhouse使用最方便性能最好。</p>
<p>对交易系统内的缓存数据库，进程内可以直接使用unordered_map或内嵌数据库</p>
<ul>
<li><a href="http://www.lmdb.tech/doc/">Lightning Memory-Mapped
Database</a></li>
<li><a href="https://dbdb.io/db/tokyo-cabinet">Tokyo Cabinet</a></li>
<li><a
href="https://runebook.dev/zh-CN/docs/sqlite/inmemorydb">SQLite内存数据库</a></li>
</ul>
<p>对跨进程数据通信没有特别好的方式，目前如下的这几种方式都在使用</p>
<ul>
<li>一写多读的kv数据库 <a
href="https://dybeta2021.github.io/2021/10/11/shmkv/">多进程无锁KV数据库</a></li>
<li>一写多读的无锁队列 <a
href="https://github.com/7starsea/yijinjing-lite">yijinjing-lite</a></li>
<li>基于共享内存的MQ框架库 <a href="https://github.com/nanomsg/nng">NNG:
Lightweight Messaging Library</a></li>
</ul>
<h2 id="clickhouse">Clickhouse</h2>
<p>听说官方客户端<a
href="https://github.com/ClickHouse/clickhouse-cpp">ClickHouse C++
client</a>性能似乎不是最好的，在连续批量写入的时候占用资源更多一些。不过行情收录模型本身也不是实时系统的组成部分，只是用来收录行情做数据分析，为了保持一致性故而这里还是使用官方的客户端。</p>
<blockquote>
<p>Please note that Client instance is NOT thread-safe. I.e. you must
create a separate Client for each thread or utilize some synchronization
techniques.</p>
</blockquote>
<p>这个客户端不是线程安全的，多线程写入需要自己管理。根据之前的经验，在多线程频繁写入的情景下clickhouse处理性能一般，通常可以将多线程的数据累积在任务队列里面，批次写入。</p>
<p>行情收录模块使用<a
href="https://clickhouse.com/docs/en/engines/table-engines/special/buffer/">Buffer
Table
Engine</a>，ctp接口回调函数通过无锁队列批次提交到缓存区，缓冲数据写入RAM中，周期性地将数据刷新落地存储的行情表中。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tick_data.buffer_tick_data <span class="keyword">AS</span> tick_data.am_20220617 ENGINE Buffer(</span><br><span class="line">    tick_data, am_20220617, <span class="number">16</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">10000</span>, <span class="number">1000000</span>,<span class="number">10000000</span>, <span class="number">100000000</span>);</span><br></pre></td></tr></table></figure>
<h3 id="c-client">C++ Client</h3>
<ul>
<li>代码<a
href="https://github.com/dybeta2021/MyOTP/tree/main/tools/clickhouse-client">Clickhouse
C++ Client</a></li>
</ul>
<p>编译配置cpp-client，注意cmake设置，需要添加<code>include_directories(contrib)</code>.
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 注意clickhouse的依赖</span></span><br><span class="line"><span class="keyword">include_directories</span>(contrib)</span><br><span class="line"><span class="keyword">add_subdirectory</span>(contrib)</span><br><span class="line"><span class="keyword">target_link_directories</span>(<span class="variable">$&#123;PROJECT_NAME&#125;</span> PUBLIC <span class="string">&quot;$&#123;PROJECT_SOURCE_DIR&#125;/lib&quot;</span>)</span><br><span class="line"><span class="keyword">target_link_libraries</span>(<span class="variable">$&#123;PROJECT_NAME&#125;</span> PUBLIC clickhouse-cpp-lib)</span><br></pre></td></tr></table></figure></p>
<p>运行测试文件 <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;clickhouse/base/socket.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;clickhouse/client.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;clickhouse/error_codes.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;clickhouse/types/type_parser.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdexcept&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test_client</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> clickhouse;</span><br><span class="line">    <span class="comment">// Initialize client connection.</span></span><br><span class="line">    <span class="function">Client <span class="title">client</span><span class="params">(ClientOptions()</span></span></span><br><span class="line"><span class="params"><span class="function">                          .SetHost(<span class="string">&quot;localhost&quot;</span>)</span></span></span><br><span class="line"><span class="params"><span class="function">                          .SetPort(<span class="number">9000</span>)</span></span></span><br><span class="line"><span class="params"><span class="function">                          .SetUser(<span class="string">&quot;default&quot;</span>)</span></span></span><br><span class="line"><span class="params"><span class="function">                          .SetPassword(<span class="string">&quot;default&quot;</span>)</span></span></span><br><span class="line"><span class="params"><span class="function">                          .SetPingBeforeQuery(<span class="literal">true</span>))</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create a table.</span></span><br><span class="line">    client.<span class="built_in">Execute</span>(<span class="string">&quot;CREATE DATABASE IF NOT EXISTS test;&quot;</span>);</span><br><span class="line">    client.<span class="built_in">Execute</span>(<span class="string">&quot;CREATE TABLE IF NOT EXISTS test.numbers (id UInt64, name String) ENGINE = Memory&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Insert some values.</span></span><br><span class="line">    &#123;</span><br><span class="line">        Block block;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">auto</span> id = std::make_shared&lt;ColumnUInt64&gt;();</span><br><span class="line">        id-&gt;<span class="built_in">Append</span>(<span class="number">1</span>);</span><br><span class="line">        id-&gt;<span class="built_in">Append</span>(<span class="number">7</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">auto</span> name = std::make_shared&lt;ColumnString&gt;();</span><br><span class="line">        name-&gt;<span class="built_in">Append</span>(<span class="string">&quot;one&quot;</span>);</span><br><span class="line">        name-&gt;<span class="built_in">Append</span>(<span class="string">&quot;seven&quot;</span>);</span><br><span class="line"></span><br><span class="line">        block.<span class="built_in">AppendColumn</span>(<span class="string">&quot;id&quot;</span>, id);</span><br><span class="line">        block.<span class="built_in">AppendColumn</span>(<span class="string">&quot;name&quot;</span>, name);</span><br><span class="line"></span><br><span class="line">        client.<span class="built_in">Insert</span>(<span class="string">&quot;test.numbers&quot;</span>, block);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Select values inserted in the previous step.</span></span><br><span class="line">    client.<span class="built_in">Select</span>(<span class="string">&quot;SELECT id, name FROM test.numbers&quot;</span>, [](<span class="keyword">const</span> Block &amp;block) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; block.<span class="built_in">GetRowCount</span>(); ++i) &#123;</span><br><span class="line">            std::cout &lt;&lt; block[<span class="number">0</span>]-&gt;As&lt;ColumnUInt64&gt;()-&gt;<span class="built_in">At</span>(i) &lt;&lt; <span class="string">&quot; &quot;</span></span><br><span class="line">                      &lt;&lt; block[<span class="number">1</span>]-&gt;As&lt;ColumnString&gt;()-&gt;<span class="built_in">At</span>(i) &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Delete table.</span></span><br><span class="line">    client.<span class="built_in">Execute</span>(<span class="string">&quot;DROP TABLE test.numbers&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello, World!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="built_in">test_client</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>正常运行可见测试数据<br />
<img src="datagrip.png" width="100%" height="75%" title="test" alt="test"/></p>
<h3 id="常用操作">常用操作</h3>
<p>Create client <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">clickhouse::Client <span class="title">client</span><span class="params">(clickhouse::ClientOptions()</span></span></span><br><span class="line"><span class="params"><span class="function">                                    .SetHost(<span class="string">&quot;single-clickhouse-server&quot;</span>)</span></span></span><br><span class="line"><span class="params"><span class="function">                                    .SetPort(<span class="number">9000</span>)</span></span></span><br><span class="line"><span class="params"><span class="function">                                    .SetUser(<span class="string">&quot;default&quot;</span>)</span></span></span><br><span class="line"><span class="params"><span class="function">                                    .SetPassword(<span class="string">&quot;default&quot;</span>)</span></span></span><br><span class="line"><span class="params"><span class="function">                                    .SetPingBeforeQuery(<span class="literal">true</span>))</span></span>;</span><br></pre></td></tr></table></figure></p>
<p>Create a table. <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">client.<span class="built_in">Execute</span>(<span class="string">&quot;CREATE DATABASE IF NOT EXISTS test_db;&quot;</span>);</span><br></pre></td></tr></table></figure></p>
<p>Insert Data <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// tick-data</span></span><br><span class="line">TickData tick_data&#123;&#125;;</span><br><span class="line">tick_data.local_time = <span class="number">201808081111</span>;</span><br><span class="line">tick_data.TradingDay = <span class="string">&quot;20220617&quot;</span>;</span><br><span class="line">tick_data.InstrumentID = <span class="string">&quot;IF2212&quot;</span>;</span><br><span class="line">tick_data.LastPrice = <span class="number">4000.0</span>;</span><br><span class="line">tick_data.Volume = <span class="number">4000</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// cur</span></span><br><span class="line"><span class="keyword">auto</span> local_time = std::make_shared&lt;clickhouse::ColumnInt64&gt;();</span><br><span class="line"><span class="keyword">auto</span> TradingDay = std::make_shared&lt;clickhouse::ColumnString&gt;();</span><br><span class="line"><span class="keyword">auto</span> InstrumentID = std::make_shared&lt;clickhouse::ColumnString&gt;();</span><br><span class="line"><span class="keyword">auto</span> LastPrice = std::make_shared&lt;clickhouse::ColumnFloat64&gt;();</span><br><span class="line"><span class="keyword">auto</span> Volume = std::make_shared&lt;clickhouse::ColumnInt64&gt;();</span><br><span class="line">clickhouse::Block block;</span><br><span class="line"></span><br><span class="line"><span class="comment">// data</span></span><br><span class="line">local_time-&gt;<span class="built_in">Append</span>(tick_data.local_time);</span><br><span class="line">TradingDay-&gt;<span class="built_in">Append</span>(tick_data.TradingDay);</span><br><span class="line">LastPrice-&gt;<span class="built_in">Append</span>(tick_data.LastPrice);</span><br><span class="line">Volume-&gt;<span class="built_in">Append</span>(tick_data.Volume);</span><br><span class="line">InstrumentID-&gt;<span class="built_in">Append</span>(tick_data.InstrumentID);</span><br><span class="line"></span><br><span class="line"><span class="comment">// to ck</span></span><br><span class="line">block.<span class="built_in">AppendColumn</span>(<span class="string">&quot;local_time&quot;</span>, local_time);</span><br><span class="line">block.<span class="built_in">AppendColumn</span>(<span class="string">&quot;TradingDay&quot;</span>, TradingDay);</span><br><span class="line">block.<span class="built_in">AppendColumn</span>(<span class="string">&quot;LastPrice&quot;</span>, LastPrice);</span><br><span class="line">block.<span class="built_in">AppendColumn</span>(<span class="string">&quot;Volume&quot;</span>, Volume);</span><br><span class="line">block.<span class="built_in">AppendColumn</span>(<span class="string">&quot;InstrumentID&quot;</span>, InstrumentID);</span><br><span class="line">client.<span class="built_in">Insert</span>(<span class="string">&quot;test_db.test_table&quot;</span>, block);</span><br></pre></td></tr></table></figure></p>
<p>Query Data <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">client.<span class="built_in">Select</span>(<span class="string">&quot;SELECT * FROM test_db.test_table;&quot;</span>, [](<span class="keyword">const</span> clickhouse::Block &amp;block) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; block.<span class="built_in">GetRowCount</span>(); ++i) &#123;</span><br><span class="line">        std::cout &lt;&lt; block[<span class="number">0</span>]-&gt;As&lt;clickhouse::ColumnString&gt;()-&gt;<span class="built_in">At</span>(i) &lt;&lt; <span class="string">&quot; &quot;</span></span><br><span class="line">                    &lt;&lt; block[<span class="number">1</span>]-&gt;As&lt;clickhouse::ColumnString&gt;()-&gt;<span class="built_in">At</span>(i) &lt;&lt; <span class="string">&quot; &quot;</span></span><br><span class="line">                    &lt;&lt; block[<span class="number">2</span>]-&gt;As&lt;clickhouse::ColumnFloat64&gt;()-&gt;<span class="built_in">At</span>(i) &lt;&lt; <span class="string">&quot; &quot;</span></span><br><span class="line">                    &lt;&lt; block[<span class="number">3</span>]-&gt;As&lt;clickhouse::ColumnInt64&gt;()-&gt;<span class="built_in">At</span>(i) &lt;&lt; <span class="string">&quot; &quot;</span></span><br><span class="line">                    &lt;&lt; block[<span class="number">4</span>]-&gt;As&lt;clickhouse::ColumnInt64&gt;()-&gt;<span class="built_in">At</span>(i) &lt;&lt; <span class="string">&quot; &quot;</span></span><br><span class="line">                    &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h3 id="a-fast-lock-free-queue-for-c">A Fast Lock-Free Queue for
C++</h3>
<p>使用single-producer, single-consumer lock-free
queue对接ctp行情回调函数，避免行情传输速度太快，本地处理逻辑运行效率太低导致的阻塞。</p>
<p>使用single-producer, single-consumer lock-free
queue对接ctp行情回调函数接口，处理行情回调过快，本地处理程序变慢的影响。
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ref:https://github.com/cameron314/readerwriterqueue</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;readerwriterqueue.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> lq = moodycamel;</span><br><span class="line"></span><br><span class="line"><span class="comment">// item 数据存储，是数据库的索引</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">test_data</span> &#123;</span></span><br><span class="line">    <span class="keyword">size_t</span> th&#123;&#125;;</span><br><span class="line">    std::string value;</span><br><span class="line">&#125; test_data;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lq::BlockingReaderWriterQueue&lt;test_data&gt; q;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello, World!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    test_data a;</span><br><span class="line">    a.th = <span class="number">0</span>;</span><br><span class="line">    a.value = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">    test_data b;</span><br><span class="line">    b.th = <span class="number">1</span>;</span><br><span class="line">    b.value = <span class="string">&quot;foo&quot;</span>;</span><br><span class="line">    q.<span class="built_in">enqueue</span>(a);</span><br><span class="line">    q.<span class="built_in">enqueue</span>(b);</span><br><span class="line"></span><br><span class="line">    test_data c;</span><br><span class="line">    q.<span class="built_in">wait_dequeue</span>(c);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;get struct: &quot;</span> &lt;&lt; c.th &lt;&lt; <span class="string">&quot;\tvalue: &quot;</span> &lt;&lt; c.value &lt;&lt; std::endl;</span><br><span class="line">    q.<span class="built_in">wait_dequeue</span>(c);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;get struct: &quot;</span> &lt;&lt; c.th &lt;&lt; <span class="string">&quot;\tvalue: &quot;</span> &lt;&lt; c.value &lt;&lt; std::endl;</span><br><span class="line">    </span><br><span class="line">    q.<span class="built_in">enqueue</span>(a);</span><br><span class="line">    q.<span class="built_in">enqueue</span>(b);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (q.<span class="built_in">wait_dequeue_timed</span>(c, std::chrono::<span class="built_in">milliseconds</span>(<span class="number">5</span>))) &#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;get struct: &quot;</span> &lt;&lt; c.th &lt;&lt; <span class="string">&quot;\tvalue: &quot;</span> &lt;&lt; c.value &lt;&lt; std::endl;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;no data, th:&quot;</span> &lt;&lt; i &lt;&lt; std::endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.21</span>)</span><br><span class="line"><span class="keyword">project</span>(lockfree_queue)</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_STANDARD <span class="number">23</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">add_executable</span>(lockfree_queue main.cpp atomicops.h readerwriterqueue.h)</span><br></pre></td></tr></table></figure>
<h3 id="行情收录系统"><a
href="https://dybeta2021.github.io/2022/06/16/myotp-data-recorder/">行情收录系统</a></h3>
<p>如下图，是行情收录系统的结构，通过无锁队列和缓存保障行情接口和数据库不会瞬时突发行情流发生阻塞或丢失数据情况。</p>
<p><img src="fig3.jpeg" width="100%" height="75%" title="to db" alt="to db"/></p>
<h2 id="链接">链接</h2>
<ul>
<li><a
href="https://www.cnblogs.com/h2appy/archive/2008/07/22/1248935.html">开源嵌入式数据库：Berkeley
DB和SQLite的比较</a></li>
<li><a
href="https://moodycamel.com/blog/2013/a-fast-lock-free-queue-for-c++.htm">A
Fast Lock-Free Queue for C++</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>option</tag>
        <tag>trading-system</tag>
      </tags>
  </entry>
  <entry>
    <title>MyOTP-1 Docker开发环境搭建</title>
    <url>/2022/06/15/myotp-docker/</url>
    <content><![CDATA[<p>国内的程序化交易系统必须通过券商或期货公司的柜台间接介入交易所，并且需要进行看穿式监管认证，所以实盘系统一般很少使用云主机或docker虚拟环境。这里使用docker-ubuntu主要是为了设置一个相对纯净的开发环境。服务器版本可以通过vscode-web方式直接开发，本机则一般通过ssh使用pycharm、clion等ide开发。</p>
<h2 id="开发环境">开发环境</h2>
<h3 id="启动容器">启动容器</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull ubuntu</span><br><span class="line">docker run --name iubuntu -t -i -d -p 4100:22 ubuntu</span><br><span class="line">docker exec -t -i iubuntu /bin/bash</span><br></pre></td></tr></table></figure>
<h3 id="ssh">SSH</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get dist-upgrade -y </span><br><span class="line">apt-get install -y sudo vim git net-tools rsync sudo iputils-ping </span><br><span class="line">apt-get install -y openssh-client openssh-server</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动SSH</span></span><br><span class="line">/etc/init.d/ssh start</span><br><span class="line">ps -e|grep ssh</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在表头添加</span></span><br><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line">PermitRootLogin yes</span><br><span class="line"></span><br><span class="line">service ssh restart</span><br><span class="line">passwd root</span><br></pre></td></tr></table></figure>
<h3 id="vscode-web">VSCode-Web</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get install -y curl</span><br><span class="line">curl -fsSL https://code-server.dev/install.sh | sh</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 首次运行生成配置文件</span></span><br><span class="line">code-server </span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改配置文件</span></span><br><span class="line">vim  ~/.config/code-server/config.yaml</span><br><span class="line">bind-addr: 0.0.0.0:7101</span><br><span class="line">auth: password</span><br><span class="line">password: 1234567890</span><br><span class="line">cert: false</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 或命令行启动</span></span><br><span class="line">code-server --port 7101 --host 0.0.0.0 --auth password 1234567890</span><br></pre></td></tr></table></figure>
<h3 id="docker-ubunut设置时区">Docker-Ubunut设置时区</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get install tzdata</span><br><span class="line">tzselect</span><br></pre></td></tr></table></figure>
<ul>
<li>Run 'dpkg-reconfigure tzdata' if you wish to change it.</li>
</ul>
<h3 id="配置docker-ubuntu的中文环境">配置Docker-Ubuntu的中文环境</h3>
<ul>
<li><a
href="https://zhuanlan.zhihu.com/p/31078295">Docker容器中添加中文字符的支持</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">locale -a</span><br><span class="line">apt-get update</span><br><span class="line">apt-get install -y locales</span><br><span class="line">apt-get install language-pack-zh-hans</span><br><span class="line">locale-gen zh_CN</span><br><span class="line">locale-gen zh_CN.utf8</span><br><span class="line">locale-gen zh_CN.UTF-8</span><br><span class="line">locale-gen zh_CN.GB18030</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">看看当前启用的本地支持</span></span><br><span class="line">locale -a</span><br><span class="line">export LANG=zh_CN.UTF-8</span><br><span class="line">export LC_ALL=zh_CN.UTF-8</span><br><span class="line">export LANGUAGE=zh_CN.UTF-8</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">现在来看看当前的字符集</span></span><br><span class="line">locale</span><br><span class="line"></span><br><span class="line">sudo update-locale LANG=zh_CN.UTF-8 LC_ALL=zh_CN.UTF-8 LANGUAGE=zh_CN.UTF-8</span><br><span class="line">cat /etc/default/locale</span><br></pre></td></tr></table></figure>
<h3 id="c">C++</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get install -y build-essential cmake gdb gdbserver</span><br></pre></td></tr></table></figure>
<h3 id="python">Python</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd opt</span><br><span class="line">wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</span><br><span class="line"></span><br><span class="line">bash Miniconda3-latest-Linux-x86_64.sh </span><br><span class="line">/opt/miniconda3</span><br><span class="line">bash</span><br><span class="line"></span><br><span class="line">&lt;!-- 默认启动 --&gt;</span><br><span class="line">vim ~/.bashrc</span><br><span class="line">export PATH=&quot;/opt/miniconda3/bin:$PATH&quot;</span><br><span class="line">export PATH=&quot;$PATH:/opt/miniconda3/bin&quot;</span><br></pre></td></tr></table></figure>
<h3
id="libstdc.so.6-version-glibcxx_3.4.22-not-foundconda">Libstdc++.so.6:
version `GLIBCXX_3.4.22’ not found（conda）</h3>
<ul>
<li><a
href="https://blog.csdn.net/fengzhongluoleidehua/article/details/84618540?">Libstdc++.so.6:
version `GLIBCXX_3.4.22’ not found（conda）</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">strings /opt/miniconda3/lib/libstdc++.so.6 | grep GLIBCXX</span><br><span class="line">strings /usr/lib/x86_64-linux-gnu/libstdc++.so.6 | grep GLIBCXX</span><br><span class="line">cd /opt/miniconda3/lib</span><br><span class="line">rm libstdc++.so.6</span><br><span class="line">cp /usr/lib/x86_64-linux-gnu/libstdc++.so.6 ./</span><br></pre></td></tr></table></figure>
<h3 id="python库">Python库</h3>
<p>todo:如何指定python库的版本 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install pandas</span><br><span class="line">pip install notebook</span><br><span class="line"></span><br><span class="line">jupyter notebook --no-browser --port 7102 --ip=0.0.0.0</span><br><span class="line">jupyter notebook --no-browser --port 7102 --allow-root --ip=&#x27;*&#x27; --NotebookApp.token=&#x27;&#x27; --NotebookApp.password=&#x27;&#x27;</span><br></pre></td></tr></table></figure></p>
<h3 id="projector">Projector</h3>
<ul>
<li>这种方式卡顿，没有gateway方式流畅</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install less libxext6 libxrender1 libxtst6 libfreetype6 libxi6 -y </span><br><span class="line">pip install projector-installer</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> not need</span></span><br><span class="line">vim ~/.bashrc</span><br><span class="line">export PATH=&quot;$PATH:~/.local/bin&quot;</span><br><span class="line"></span><br><span class="line">cd ~/.projector</span><br><span class="line">cd /root/.projector/configs/CLion</span><br><span class="line">vim config.ini </span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改端口</span></span><br><span class="line">[PROJECTOR]</span><br><span class="line">port = 7102</span><br><span class="line">host = 0.0.0.0</span><br><span class="line">projector config rebuild CLion</span><br><span class="line">projector run clion</span><br></pre></td></tr></table></figure>
<h3 id="生成镜像">生成镜像</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker commit iubuntu ubuntu-simnow</span><br><span class="line">docker save ubuntu-simnow &gt; ubuntu-simnow.tar</span><br><span class="line">docker run --name ubuntu-simnow -t -i -d -p 7100:22  -p 7101:7101 -p 7102:7102 -p 7103:7103 -p 7104:7104 -p 7105:7105 -p 7106:7106 -p 7107:7107 -p 7108:7108  ubuntu-simnow /usr/sbin/sshd -D</span><br><span class="line"></span><br><span class="line">docker exec -t -i ubuntu-simnow /bin/bash</span><br><span class="line">code-server --port 7101 --host 0.0.0.0 --auth password 1234567890</span><br></pre></td></tr></table></figure>
<h3 id="启动ssh">启动SSH</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker start ubuntu-simnow</span><br><span class="line">docker exec -t -i ubuntu-simnow /bin/bash</span><br><span class="line">code-server</span><br></pre></td></tr></table></figure>
<h2 id="clickhouse">Clickhouse</h2>
<ul>
<li><a
href="https://dybeta2021.github.io/2021/06/19/docker/">docker-clickhouse</a></li>
</ul>
<h2 id="docker-network">Docker Network</h2>
<p>实现docker互联 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker network create otpnet</span><br><span class="line">docker network connect --alias ubuntu-simnow otpnet ubuntu-simnow</span><br><span class="line">docker network connect --alias single-clickhouse-server otpnet single-clickhouse-server</span><br><span class="line">docker network inspect otpnet</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>option</tag>
        <tag>trading-system</tag>
      </tags>
  </entry>
  <entry>
    <title>MyOTP-6 Quote-Broker-Agent</title>
    <url>/2022/06/30/myotp-ft/</url>
    <content><![CDATA[<p>期货交易系统设置模块<code>last-data</code>和<code>static-data</code>是因为有时候一些接入极速或次席柜台的系统，这些功能不全或者未经过充分测试，在实盘的时候下单的交易接口和查询接口是两套柜台系统。</p>
<ul>
<li><a
href="https://www.shinnytech.com/blog/explain-of-money/">资金字段解释</a></li>
<li><a
href="https://www.shinnytech.com/blog/ctp-insert-order-field/">CTP报单指令详解</a></li>
<li><a
href="https://mp.weixin.qq.com/s/daOtyt2lkcj82fVl6LHSHQ">CTP程序化交易入门系列之六：报单（一）</a></li>
<li><a href="https://www.cnblogs.com/xiaolincoding/p/11437231.html">C++
线程安全的单例模式总结</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>option</tag>
        <tag>trading-system</tag>
      </tags>
  </entry>
  <entry>
    <title>MyOTP-5 IPC进程通信</title>
    <url>/2022/06/17/myotp-ipc/</url>
    <content><![CDATA[<h2 id="应用场景">应用场景</h2>
<p>如下图所示，MyOTP中将一个传统的单进程多线程交易系统切换为多进程的交易系统。进程间通信采用基于共享内存的queue、disruptor、key-store和req-rep等组件实现。
<img src="fig1.jpeg" width="100%" height="100%" title="fig1" alt="fig1"/></p>
<h2 id="disruptor"><a
href="https://github.com/dybeta2021/MyOTP/tree/main/tools/disruptor-ipc/mmap">Disruptor</a></h2>
<p>Disruptor是英国外汇交易公司LMAX开发的一个线程间通信的框架，即在多线程间共享数据。它是由LMAX公司开发的可信消息传递架构的一部分，以便用非常快速的方法来在多组件之间传递数据。这里借鉴这个框架的实现方式通过共享内存实现跨进程通信使用。
如下图，Disruptor不是传统的生产者-消费者模式，Disruptor的是广播形式的，通过修改映射共享内存实现一个行情源广播多个策略进程的模式。</p>
<p><img src="fig3.png" width="50%" height="75%" title="fig3" alt="fig3"/></p>
<h3 id="ring-buffer">Ring Buffer</h3>
<p>Disruptor的底层数据结构是一个RingBuffer，并且只维护一个用于指向下一个可用的位置的游标。
当需要写入时，Disruptor会分配一个空间，并将指针更新为该空间的最大下标处，这块空间就是申请写入的线程所独享的。当空间分配成功后，写线程可以慢慢写入。所以当有多线程同时写入时，需要同步的地方只是更新游标，而更新游标只是做加操作，利用原子变量的加操作就可以避免使用锁，从而提高效率。当需要读取时，Disruptor
会等待游标更新到想要读取的下标处，然后执行读操作，这个过程同样不需要加锁。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">size_t</span> buffer_size;</span><br><span class="line">    <span class="keyword">size_t</span> total_mem_size;</span><br><span class="line">    std::atomic&lt;<span class="keyword">size_t</span>&gt; registered_consumer_count;</span><br><span class="line">    std::atomic&lt;<span class="keyword">int64_t</span>&gt; cursor;</span><br><span class="line">    std::atomic&lt;<span class="keyword">int64_t</span>&gt; next;</span><br><span class="line">    std::atomic&lt;<span class="keyword">int64_t</span>&gt; array_of_consumer_indexes[MAX_CONSUMER];</span><br><span class="line">&#125; ShmStoreHeader;</span><br></pre></td></tr></table></figure>
<p>RingBuffer使用<code>cursor</code>和<code>next</code>管理写入线程位置，<code>next</code>表示生产者为数据存储保留的位置，<code>cursor</code>是生产者保存完数据的位置，也就是消费者可以读取的位置。对SPMC和SPSC的模式，可以取消原子操作进一步提高效率。</p>
<blockquote>
<p>现实编程过程中，加锁通常会严重地影响性能。线程会因为竞争不到锁而被挂起，等锁被释放的时候，线程又会被恢复，这个过程中存在着很大的开销，并且通常会有较长时间的中断，因为当一个线程正在等待锁时，它不能做任何其他事情。如果一个线程在持有锁的情况下被延迟执行，例如发生了缺页错误、调度延迟或者其它类似情况，那么所有需要这个锁的线程都无法执行下去。如果被阻塞线程的优先级较高，而持有锁的线程优先级较低，就会发生优先级反转。</p>
<p>Disruptor论文中讲述了一个实验：</p>
<ul>
<li>这个测试程序调用了一个函数，该函数会对一个64位的计数器循环自增5亿次。</li>
<li>机器环境：2.4G 6核</li>
<li>运算： 64位的计数器累加5亿次</li>
</ul>
<p>|Method | Time (ms) | |— | —| |Single thread | 300| |Single thread
with CAS | 5,700| |Single thread with lock | 10,000| |Single thread with
volatile write | 4,700| |Two threads with CAS | 30,000| |Two threads
with lock | 224,000|</p>
<p>CAS操作比单线程无锁慢了1个数量级；有锁且多线程并发的情况下，速度比单线程无锁慢3个数量级。可见无锁速度最快。</p>
<p>单线程情况下，不加锁的性能 &gt; CAS操作的性能 &gt; 加锁的性能。</p>
<p>在多线程情况下，为了保证线程安全，必须使用CAS或锁，这种情况下，CAS的性能超过锁的性能，前者大约是后者的8倍。</p>
<p>综上可知，加锁的性能是最差的。</p>
</blockquote>
<p><img src="fig4.png" width="50%" height="75%" title="fig4" alt="fig4"/></p>
<p>RingBuffer中数据的位置使用<code>next</code>和<code>cursor</code>两个单调递增的变量来表示。例如假设一个总大小为8的环形缓冲区。随着数据的存储，我们将使用顺序递增的索引来标记其位置（0,1,2,3,4,5,6..
类似这样）。但是，如果指数超过7，则指数在Disruptor中并没有再次回到0，而是像8、9、10一样继续增加。</p>
<h3 id="producer">Producer</h3>
<p>Disruptor的实现思路就是每一个数据都会有一个唯一自增的序号，用一个环形队列来存储数据，写入数据的时候先分配出可写的空间序号，然后再慢慢写数据，等到数据写完后再更新一下可读区域。这样因为每个线程独占一块空间写入数据，就不会有线程同步问题，唯一需要同步的地方是分配写入空间和更新可读区域。但是这两个操作都是非常简单的加操作，加锁太浪费，所以Disruptor直接使用原子变量加自旋等待来同步，获取极高的性能。</p>
<p><code>next</code>写入线程下个月写入位置，<code>cursor</code>读取线程可以读取的位置。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">set_data</span><span class="params">(T *data)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// get next </span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> idx = <span class="built_in">ClaimIndex</span>();</span><br><span class="line">    <span class="comment">// write data</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">bool</span> ret = <span class="built_in">SetData</span>(idx, data);</span><br><span class="line">    <span class="comment">// update cursor</span></span><br><span class="line">    <span class="keyword">if</span> (ret) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Commit</span>(idx);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 一个进程写入，单进程内多线程因为原子操作无需区分写入线程</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">int64_t</span> Disruptor&lt;T&gt;::<span class="built_in">ClaimIndex</span>() &#123;</span><br><span class="line">    <span class="comment">// fetch_add, Adds val to the contained value and returns </span></span><br><span class="line">    <span class="comment">// the value it had immediately before the operation.</span></span><br><span class="line">    <span class="keyword">auto</span> nNextSeqForClaim = shm_hdr_-&gt;next.<span class="built_in">fetch_add</span>(<span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int64_t</span> wrapPoint = nNextSeqForClaim - buffer_size_;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">int64_t</span> gatingSequence = <span class="built_in">GetMinIndexOfConsumers</span>();</span><br><span class="line">        <span class="keyword">if</span> (wrapPoint &gt;= gatingSequence) &#123;</span><br><span class="line">            <span class="comment">// std::this_thread::yield tells the implementation to </span></span><br><span class="line">            <span class="comment">// reschedule the execution of threads, that should be </span></span><br><span class="line">            <span class="comment">// used in a case where you are in a busy waiting state, </span></span><br><span class="line">            <span class="comment">// like in a thread pool:</span></span><br><span class="line">            std::this_thread::<span class="built_in">yield</span>();</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">while</span> (<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">return</span> nNextSeqForClaim;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="reader">Reader</h3>
<p>读取的时候则是先声明想读取的序号。然后就一直等待直到写入数据后更新的可读序号赶上想读取的序号。等待可以是CPU自旋等待或者放弃CPU时间片或者睡眠或者使用条件变量唤醒。此时可读序号之前的数据都是可读的，而读操作也不需要加锁。又可以获得极高的性能。读取后更新一下已读取序号，这样写入着就可以继续重复利用这块空间了。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// last_idx, cursor last value</span></span><br><span class="line"><span class="keyword">auto</span> last_idx = shm.<span class="built_in">WaitFor</span>(reader_idx);</span><br><span class="line"><span class="comment">// if reader_idx &lt;= cursor</span></span><br><span class="line"><span class="keyword">if</span>(reader_idx &lt;= last_idx)&#123;</span><br><span class="line">    ptr = shm.<span class="built_in">GetData</span>(reader_idx);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// update user reader_idx</span></span><br><span class="line">shm.<span class="built_in">CommitRead</span>(user_id, reader_idx);</span><br></pre></td></tr></table></figure>
<p>消费者和生产者一样，必须在对环形缓冲区索引的所有操作完成后保存它读取数据的点，以防止生产者通过引用消费者的位置来覆盖缓冲区。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// consomer/reader 最新可读取的数据位置</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">int64_t</span> Disruptor&lt;T&gt;::<span class="built_in">GetMinIndexOfConsumers</span>() &#123;</span><br><span class="line">    <span class="keyword">int64_t</span> min_index = INT64_MAX;</span><br><span class="line">    <span class="keyword">bool</span> is_found = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; shm_hdr_-&gt;registered_consumer_count; i++) &#123;</span><br><span class="line">        <span class="keyword">int64_t</span> index = shm_hdr_-&gt;array_of_consumer_indexes[i];</span><br><span class="line">        <span class="keyword">if</span> (index &lt; min_index) &#123;</span><br><span class="line">            min_index = index;</span><br><span class="line">            is_found = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!is_found) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min_index;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当调用生产者的<code>Claim</code>或消费者的<code>WaitFor</code>方法时，它不会立即返回，而是等待直到满足适当的条件。比如生产者调用<code>Claim</code>，下一个<code>next</code>位置违反了消费者位置，就需要等待。在<code>Disruptor</code>中，此时如何等待的方法是在<code>Strategy</code>模式中实现的。生产者和消费者的等待策略类型如下。</p>
<ul>
<li>BusySpinStrategy：不放弃cpu死循环等待</li>
<li>YieldingStrategy：死循环一定次数后调用yield放弃cpu时间片。</li>
<li>SleepingStrategy：死循环一定次数后重复调用yield放弃cpu时间片。调用yield一定次数后重复调用sleep睡眠指定时间。</li>
<li>BlockingStrategy：阻塞等待，内部使用了条件变量，需要写入的时候唤醒。</li>
</ul>
<h3 id="improve">Improve</h3>
<p>如果内存足够大，写入数据量不是无限多的情况下，可以使用一个<code>huge-page</code>替换ring-buffer。操作在“无限长的内存页面”的上面，不需要考虑写入覆盖的问题，就可以取消ring-buffer里面对读写速度的控制部分进一步提高效率，同时也可以将所有的流程数据异步保存在本地，也就是把“事故现场”完整保留。<br />
如下代码，<code>vector</code>通过管理内存地址的方式实现多个mmap创建内存空间连续使用，这样就可以直接使用在多线程和多进程中而不必区分版本。</p>
<ul>
<li><a
href="https://github.com/dybeta2021/MyIPC/tree/main/disruptor">Disruptor</a></li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 创建第一个Page，书签Bookmark也在这个页面上面</span></span><br><span class="line">&#123;</span><br><span class="line">    std::string file_path = folder_path + <span class="string">&quot;page0.store&quot;</span>;</span><br><span class="line">    <span class="keyword">auto</span> page = <span class="built_in">Page</span>(file_path, writer);</span><br><span class="line">    <span class="keyword">if</span> (!page.<span class="built_in">GetShm</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 书签</span></span><br><span class="line">    bookmark_ = (Bookmark *) page.<span class="built_in">GetShmDataAddress</span>();</span><br><span class="line">    wait_ = <span class="keyword">new</span> <span class="built_in">WaitStrategy</span>(bookmark_);</span><br><span class="line">    <span class="keyword">if</span> (init) &#123;</span><br><span class="line">        bookmark_-&gt;item_num = item_num;</span><br><span class="line">        bookmark_-&gt;page_num = page_num;</span><br><span class="line">        bookmark_-&gt;cursor = <span class="number">-1</span>;</span><br><span class="line">        bookmark_-&gt;next = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 只使用一个页面</span></span><br><span class="line">    <span class="keyword">if</span> (page_num == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> i = <span class="number">0</span>; i &lt; item_num; i++) &#123;</span><br><span class="line">            content_[i] = (T *) ((<span class="keyword">char</span> *) page.<span class="built_in">GetShmDataAddress</span>() + <span class="built_in"><span class="keyword">sizeof</span></span>(Bookmark) + <span class="built_in"><span class="keyword">sizeof</span></span>(T) * i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用多个页面</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i = <span class="number">0</span>; i &lt; item_num_in_page - item_num_in_mark; i++) &#123;</span><br><span class="line">        content_[idx++] = (T *) ((<span class="keyword">char</span> *) page.<span class="built_in">GetShmDataAddress</span>() + <span class="built_in"><span class="keyword">sizeof</span></span>(Bookmark) + <span class="built_in"><span class="keyword">sizeof</span></span>(T) * i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Pages</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> p = <span class="number">1</span>; p &lt; page_num; p++) &#123;</span><br><span class="line">    std::string file_path = folder_path + <span class="string">&quot;page&quot;</span> + std::<span class="built_in">to_string</span>(p) + <span class="string">&quot;.store&quot;</span>;</span><br><span class="line">    <span class="keyword">auto</span> page = <span class="built_in">Page</span>(file_path, writer);</span><br><span class="line">    <span class="keyword">if</span> (!page.<span class="built_in">GetShm</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> left_item_num =</span><br><span class="line">            total_item_num - (item_num_in_page - item_num_in_mark) - item_num_in_page * (p - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (left_item_num &lt; item_num_in_page) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> i = <span class="number">0</span>; i &lt; left_item_num; i++) &#123;</span><br><span class="line">            content_[idx++] = (T *) ((<span class="keyword">char</span> *) page.<span class="built_in">GetShmDataAddress</span>() + <span class="built_in"><span class="keyword">sizeof</span></span>(T) * i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> i = <span class="number">0</span>; i &lt; item_num_in_page; i++) &#123;</span><br><span class="line">            content_[idx++] = (T *) ((<span class="keyword">char</span> *) page.<span class="built_in">GetShmDataAddress</span>() + <span class="built_in"><span class="keyword">sizeof</span></span>(T) * i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="shmkv">ShmKV</h2>
<ul>
<li><a href="https://dybeta2021.github.io/2021/10/11/shmkv/">Shm IPC
Lock-Free KV
Store</a>对于小容量的hashmap直接使用二分法和共享内存是最好的方式</li>
<li><a
href="https://github.com/mikewei/shm_container">SHM-Container</a>对大量数据交互的map采用fork形式共享内存映射更方便。</li>
</ul>
<h2 id="链接">链接</h2>
<ul>
<li><a
href="https://spongecaptain.cool/SimpleClearFileIO/3.%20mmap.html">MMAP</a></li>
<li><a
href="https://www.zhihu.com/question/48161206/answer/110418693">Linux 中
mmap() 函数的内存映射问题理解</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/308054212">Linux I/O 原理和
Zero-copy 技术全面揭秘</a></li>
<li><a
href="https://spongecaptain.cool/SimpleClearFileIO/2.%20DMA%20%E4%B8%8E%E9%9B%B6%E6%8B%B7%E8%B4%9D%E6%8A%80%E6%9C%AF.html">DMA与零拷贝技术</a></li>
<li><a
href="https://heapdump.cn/article/1842762">一次“内存泄漏”引发的血案</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/31099083">功夫交易系统架构篇之二
「易筋经初探」</a></li>
<li><a href="https://github.com/jeremyko/disruptorCpp-IPC">basic
disruptor c++ implementation for IPC</a></li>
<li><a
href="https://jeremyko.blogspot.com/2015/09/disruptor.html">Disruptor
분석 및 c++ 로 구현해보기</a></li>
<li><a
href="https://tech.meituan.com/2016/11/18/disruptor.html">高性能队列——Disruptor</a></li>
<li><a
href="https://github.com/Abc-Arbitrage/Disruptor-cpp.git">Disruptor-cpp</a></li>
<li><a
href="https://leiyiming.com/2017/08/25/falsesharing/">伪共享分析以及volatile与缓存行填充的应用</a></li>
<li><a href="https://lo.calho.st/posts/black-magic-buffer/">Using black
magic to make a fast circular buffer</a></li>
<li><a href="https://yuanhaoji.com/2020/05/04/mmap.html">C++ mmap
多进程文件读写</a></li>
<li><a
href="https://github.com/0voice/linux_kernel_wiki/blob/main/%E6%96%87%E7%AB%A0/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/%E5%B0%BD%E6%83%85%E9%98%85%E8%AF%BB%EF%BC%8C%E6%8A%80%E6%9C%AF%E8%BF%9B%E9%98%B6%EF%BC%8C%E8%AF%A6%E8%A7%A3mmap%E5%8E%9F%E7%90%86.md">详解mmap原理</a></li>
<li><a
href="https://www.xiaolincoding.com/os/3_memory/vmem.html#%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98">为什么要有虚拟内存</a></li>
<li><a
href="https://mp.weixin.qq.com/s/iqpCQhOuq8HR3KL6fy0OYA">深入理解高并发技术
dpdk 无锁队列</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>option</tag>
        <tag>trading-system</tag>
      </tags>
  </entry>
  <entry>
    <title>MyOTP-2 日志</title>
    <url>/2022/06/15/myotp-logger/</url>
    <content><![CDATA[<p>对于交易系统一般使用两种日志模式，一种是异步落地文件的方式，一种是异步存储数据库方式。存储数据库的方式适合多账户的交易系统方便管理，直接文件落地的方式方便嵌入式日志模块，占用资源少轻量级。</p>
<h2
id="保存本地文件异步落地的日志模块">保存本地文件异步落地的日志模块</h2>
<p>如下是对SPDLOG的简单封装，通过进程内的“全局启动函数”和宏定义的方式调用spdlog日志库。
对于进程单线程使用线程池可以加速日志输出落地但会乱序。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// console</span></span><br><span class="line"><span class="keyword">auto</span> console_sink = std::make_shared&lt;spdlog::sinks::stdout_color_sink_mt&gt;();</span><br><span class="line"><span class="comment">// Create a daily logger - a new file is created every day on 6:00am</span></span><br><span class="line"><span class="keyword">auto</span> daily_sink = std::make_shared&lt;spdlog::sinks::daily_file_sink_mt&gt;(log_file, <span class="number">6</span>, <span class="number">00</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异步/同步模式</span></span><br><span class="line"><span class="keyword">if</span> (use_async) &#123;</span><br><span class="line">    spdlog::<span class="built_in">init_thread_pool</span>(<span class="number">8192</span>, thread_count);</span><br><span class="line">    std::vector&lt;spdlog::sink_ptr&gt; log_sinks&#123;console_sink, daily_sink&#125;;</span><br><span class="line">    <span class="keyword">auto</span> logger = std::make_shared&lt;spdlog::async_logger&gt;(<span class="string">&quot;logger&quot;</span>,</span><br><span class="line">                                                         log_sinks.<span class="built_in">begin</span>(),</span><br><span class="line">                                                         log_sinks.<span class="built_in">end</span>(),</span><br><span class="line">                                                         spdlog::<span class="built_in">thread_pool</span>(),</span><br><span class="line">                                                         spdlog::async_overflow_policy::block);</span><br><span class="line">    <span class="keyword">if</span> (use_format) &#123;</span><br><span class="line">        logger-&gt;<span class="built_in">set_pattern</span>(SPDLOG_LOG_PATTERN);</span><br><span class="line">    &#125;</span><br><span class="line">    spdlog::<span class="built_in">set_default_logger</span>(logger);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    spdlog::sinks_init_list log_sinks = &#123;console_sink, daily_sink&#125;;</span><br><span class="line">    <span class="keyword">auto</span> logger = std::make_shared&lt;spdlog::logger&gt;(<span class="string">&quot;logger&quot;</span>, log_sinks);</span><br><span class="line">    <span class="keyword">if</span> (use_format) &#123;</span><br><span class="line">        logger-&gt;<span class="built_in">set_pattern</span>(SPDLOG_LOG_PATTERN);</span><br><span class="line">    &#125;</span><br><span class="line">    spdlog::<span class="built_in">set_default_logger</span>(logger);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 缓存推送</span></span><br><span class="line">spdlog::<span class="built_in">flush_every</span>(std::chrono::<span class="built_in">seconds</span>(flush_policy));</span><br></pre></td></tr></table></figure>
<p>线程池、多线程、乱序 <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 多线程，乱序</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test_thread_count</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> std::string log_file = <span class="string">&quot;clogs/test.log&quot;</span>;</span><br><span class="line">    <span class="keyword">const</span> std::string level = <span class="string">&quot;info&quot;</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">bool</span> use_async = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">bool</span> show_use_level = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">bool</span> use_format = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> flush_policy = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> thread_count = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">create_logger</span>(log_file, level, use_async, show_use_level, use_format, flush_policy, thread_count);</span><br><span class="line">    <span class="built_in">SPDLOG_TRACE</span>(<span class="string">&quot;Trace from SpdLog!&quot;</span>);</span><br><span class="line">    <span class="built_in">SPDLOG_DEBUG</span>(<span class="string">&quot;Debug from SpdLog!&quot;</span>);</span><br><span class="line">    <span class="built_in">SPDLOG_INFO</span>(<span class="string">&quot;Info from SpdLog!&quot;</span>);</span><br><span class="line">    <span class="built_in">SPDLOG_WARN</span>(<span class="string">&quot;Warn from SpdLog!&quot;</span>);</span><br><span class="line">    <span class="built_in">SPDLOG_ERROR</span>(<span class="string">&quot;Error from SpdLog!&quot;</span>);</span><br><span class="line">    <span class="built_in">SPDLOG_CRITICAL</span>(<span class="string">&quot;Critical from SpdLog!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">test_thread_count</span><br><span class="line">[06/15 23:52:56.600533000] [  info  ] [  8791/101640] [MyOTP/cpp-dev/tools/logger/logger.h:77#create_logger] Info from SpdLog!</span><br><span class="line">[06/15 23:52:56.600539000] [ error  ] [  8791/101640] [MyOTP/cpp-dev/tools/logger/logger.h:79#create_logger] Error from SpdLog!</span><br><span class="line">[06/15 23:52:56.600566000] [warning ] [  8791/101640] [MyOTP/cpp-dev/tools/logger/main.cpp:55#test_thread_count] Warn from SpdLog!</span><br><span class="line">[06/15 23:52:56.600540000] [critical] [  8791/101640] [MyOTP/cpp-dev/tools/logger/logger.h:80#create_logger] Critical from SpdLog!</span><br><span class="line">[06/15 23:52:56.600539000] [warning ] [  8791/101640] [MyOTP/cpp-dev/tools/logger/logger.h:78#create_logger] Warn from SpdLog!</span><br><span class="line">[06/15 23:52:56.600566000] [ error  ] [  8791/101640] [MyOTP/cpp-dev/tools/logger/main.cpp:56#test_thread_count] Error from SpdLog!</span><br><span class="line">[06/15 23:52:56.600567000] [critical] [  8791/101640] [MyOTP/cpp-dev/tools/logger/main.cpp:57#test_thread_count] Critical from SpdLog!</span><br><span class="line">[06/15 23:52:56.600565000] [  info  ] [  8791/101640] [MyOTP/cpp-dev/tools/logger/main.cpp:54#test_thread_count] Info from SpdLog!</span><br></pre></td></tr></table></figure>
<h2 id="代码">代码</h2>
<ul>
<li><a
href="https://github.com/dybeta2021/MyOTP/tree/main/tools/logger">logger</a></li>
</ul>
<h2 id="参考">参考</h2>
<ul>
<li><a
href="https://github.com/gabime/spdlog/wiki/1.-QuickStart#logging-macros">logging
macros</a></li>
<li><a
href="https://github.com/kungfu-origin/kungfu/blob/2.1/core/cpp/yijinjing/src/log/setup.cpp">kungfu</a></li>
<li><a
href="https://github.com/gabime/spdlog/wiki/3.-Custom-formatting">custom
formatting</a></li>
<li><a
href="https://www.jianshu.com/p/a0915895dbbc">cmake命令之find_package介绍</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>option</tag>
        <tag>trading-system</tag>
      </tags>
  </entry>
  <entry>
    <title>正态分布的前世今生</title>
    <url>/2022/11/15/normdist/</url>
    <content><![CDATA[<ul>
<li><a
href="http://www.med.mcgill.ca/epidemiology/hanley/bios601/Mean-Quantile/intro-normal-distribution-2.pdf">正态分布的前世今生</a></li>
</ul>
<div class="pdfobject-container" data-target="./正态分布的前世今生.pdf" data-height="500px"></div>
]]></content>
      <categories>
        <category>Math</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title>MyOTP</title>
    <url>/2022/06/15/myotp/</url>
    <content><![CDATA[<p>最近有些闲暇时间，打算尝试开发一个轻量级的期权交易系统。MyOTP目前定位是商品期权和股指期权的期权交易系统。</p>
<h2 id="说明文档">说明文档</h2>
<ul>
<li><a
href="https://dybeta2021.github.io/2022/06/15/myotp-docker/">MyOTP-1
开发环境搭建</a></li>
<li><a
href="https://dybeta2021.github.io/2022/06/15/myotp-logger/">MyOTP-2
日志模块</a></li>
<li><a href="http://localhost:4000/2022/06/16/myotp-database/">MyOTP-3
数据库模块</a></li>
<li><a
href="http://localhost:4000/2022/06/16/myotp-data-recorder/">MyOTP-4
行情收录系统</a></li>
</ul>
<h2 id="qa">Q&amp;A</h2>
<h3 id="为什么是模块化的系统">为什么是模块化的系统？</h3>
<p>一个实际使用的交易系统通常是对接不同的柜台的，下单、行情和风控耦合在一起降低运行效率，也不够灵活。模块化是一种比较常见的解决方案。</p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>option</tag>
        <tag>trading-system</tag>
      </tags>
  </entry>
  <entry>
    <title>Jupyter Notebook 通用表头设置</title>
    <url>/2022/09/23/notebook/</url>
    <content><![CDATA[<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 设置notebook字体大小</span></span><br><span class="line">%%html</span><br><span class="line">&lt;style <span class="built_in">type</span>=<span class="string">&#x27;text/css&#x27;</span>&gt;</span><br><span class="line">.CodeMirror&#123;</span><br><span class="line">font-size: 16px;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 设置cell宽度</span></span><br><span class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> display, HTML</span><br><span class="line">display(HTML(<span class="string">&quot;&lt;style&gt;.container &#123; width:100% !important; &#125;&lt;/style&gt;&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 警告</span></span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># matplotlib</span></span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">from</span> pprint <span class="keyword">import</span> pprint</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pylab</span><br><span class="line"><span class="keyword">from</span> seaborn <span class="keyword">import</span> set_style</span><br><span class="line">set_style(<span class="string">&quot;whitegrid&quot;</span>)</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line"><span class="comment"># matplotlib 中文乱码、正负号乱码</span></span><br><span class="line"><span class="keyword">from</span> platform <span class="keyword">import</span> system</span><br><span class="line">os_name = system()</span><br><span class="line"><span class="built_in">print</span>(os_name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> rcParams</span><br><span class="line">rcParams[<span class="string">&quot;axes.unicode_minus&quot;</span>]=<span class="literal">False</span> <span class="comment">#该语句解决图像中的“-”负号的乱码问题</span></span><br><span class="line"><span class="keyword">if</span> os_name == <span class="string">r&quot;Windows&quot;</span>:</span><br><span class="line">    rcParams[<span class="string">&quot;font.sans-serif&quot;</span>]=[<span class="string">&quot;SimHei&quot;</span>] <span class="comment">#设置字体</span></span><br><span class="line"><span class="keyword">elif</span> os_name == <span class="string">r&quot;Darwin&quot;</span>:</span><br><span class="line">    rcParams[<span class="string">&#x27;font.family&#x27;</span>] = <span class="string">&#x27;PingFang HK&#x27;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调整运行根目录</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># os.chdir(os.path.abspath(os.path.dirname(os.getcwd())))</span></span><br><span class="line"><span class="comment"># os.chdir(os.path.abspath(os.path.dirname(os.getcwd())))</span></span><br><span class="line"><span class="comment">#os.chdir(os.path.abspath(os.path.dirname(os.getcwd())))</span></span><br><span class="line"><span class="built_in">print</span>(os.getcwd()) </span><br><span class="line"></span><br><span class="line"><span class="comment"># Dataframe显示格式</span></span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> set_option</span><br><span class="line">set_option(<span class="string">&#x27;display.max_info_rows&#x27;</span>,<span class="number">1000</span>)</span><br><span class="line">set_option(<span class="string">&#x27;display.max_rows&#x27;</span>,<span class="number">1000</span>)</span><br><span class="line">set_option(<span class="string">&#x27;display.max_columns&#x27;</span>,<span class="number">1000</span>)</span><br><span class="line">set_option(<span class="string">&#x27;display.max_colwidth&#x27;</span>,<span class="number">1000</span>)</span><br><span class="line">set_option(<span class="string">&#x27;display.float_format&#x27;</span>,<span class="keyword">lambda</span> x : <span class="string">&#x27;%.4f&#x27;</span> % x)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>HomeBrew</category>
      </categories>
      <tags>
        <tag>HomeBrew</tag>
      </tags>
  </entry>
  <entry>
    <title>使用OpenMP的Reduction的User Defined Reduction Facility实现Matrix按索引累加</title>
    <url>/2021/06/10/openmp-reduction-matrix/</url>
    <content><![CDATA[<h3 id="openmp基本概念">OpenMP基本概念</h3>
<p>OpenMP是一种用于共享内存并行系统的多线程程序设计方案，支持的编程语言包括C、C++和Fortran。OpenMP提供了对并行算法的高层抽象描述，特别适合在多核CPU机器上的并行程序设计。编译器根据程序中添加的pragma指令，自动将程序并行处理，使用OpenMP降低了并行编程的难度和复杂度。当编译器不支持OpenMP时，程序会退化成普通（串行）程序。程序中已有的OpenMP指令不会影响程序的正常编译运行。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">private：指定一个或多个变量在每个线程中都有它自己的私有副本；</span><br><span class="line">reduction：用来指定一个或多个变量是私有的，并且在并行处理结束后这些变量要执行指定的归约运算，并将结果返回给主线程同名变量；</span><br><span class="line">num_threads：指定并行域内的线程的数目；</span><br><span class="line">shared：指定一个或多个变量为多个线程间的共享变量；</span><br><span class="line">default：用来指定并行域内的变量的使用方式，缺省是shared。</span><br></pre></td></tr></table></figure>
<h3 id="reduction子句">Reduction子句</h3>
<p>OpenMP中的归约是parallel并行指令的reduction子句，在子句中指定归约操作符和归约变量。</p>
<p>归约操作符是序列中的两两元素做的运算，一定是一个二元运算符。归约变量则保存归约操作的中间结果。OpenMP用归约变量为每个线程创建一个私有的变量，用来存储自己归约的结果，所以归约的代码不需要critical保护也不会发生冲突：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>; <span class="comment">// 共享变量</span></span><br><span class="line"><span class="comment">//归约子句(归约操作符:归约变量)</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">pragma</span> omp parallel num_threads(thrdCnt) reduction(+:sum)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//循环结构，并行加速部分</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>OpenMP允许使用的归约操作符只有<code>+,*,-,&amp;,|,^,&amp;&amp;,||</code>八种，对于单纯的汇总计算可以直接使用。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function">py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; <span class="title">calc_greeks_monitor</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">bool</span>&gt; &amp;is_call,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;S,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;X,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;T,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;b,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;r,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;sigma,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">int</span>&gt; &amp;unit,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">int</span>&gt; &amp;pos</span></span></span><br><span class="line"><span class="params"><span class="function">)</span> </span>&#123;</span><br><span class="line">    py::buffer_info buf_is_call = is_call.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_spot = S.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_strike = X.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_time = T.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_carry_cost = b.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_risk_free = r.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_sigma = sigma.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_unit = unit.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_pos = pos.<span class="built_in">request</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">bool</span> *ptr_is_call = <span class="keyword">static_cast</span>&lt;<span class="keyword">bool</span> *&gt;(buf_is_call.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_spot = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_spot.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_strike = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_strike.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_time = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_time.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_carry_cost = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_carry_cost.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_risk_free = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_risk_free.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_sigma = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_sigma.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_unit = <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span> *&gt;(buf_unit.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_pos = <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span> *&gt;(buf_pos.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">double</span> delta = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">double</span> cash_delta = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">double</span> gamma = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">double</span> vega = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">double</span> theta = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> omp parallel for reduction(+:cash_delta) reduction(+:delta) reduction(+:gamma) reduction(+:theta) reduction(+:vega)</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> idx = <span class="number">0</span>; idx &lt; buf_spot.shape[<span class="number">0</span>]; idx++) &#123;</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">int</span> unit_ = ptr_unit[idx];</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">int</span> pos_ = ptr_pos[idx];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">double</span> d = flow::model::bjerk02::<span class="built_in">calc_delta</span>(</span><br><span class="line">                    ptr_is_call[idx],</span><br><span class="line">                    ptr_spot[idx],</span><br><span class="line">                    ptr_strike[idx],</span><br><span class="line">                    ptr_time[idx],</span><br><span class="line">                    ptr_carry_cost[idx],</span><br><span class="line">                    ptr_risk_free[idx],</span><br><span class="line">                    ptr_sigma[idx]);</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">double</span> g = flow::model::bjerk02::<span class="built_in">calc_gamma</span>(</span><br><span class="line">                    ptr_is_call[idx],</span><br><span class="line">                    ptr_spot[idx],</span><br><span class="line">                    ptr_strike[idx],</span><br><span class="line">                    ptr_time[idx],</span><br><span class="line">                    ptr_carry_cost[idx],</span><br><span class="line">                    ptr_risk_free[idx],</span><br><span class="line">                    ptr_sigma[idx]);</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">double</span> t = flow::model::bjerk02::<span class="built_in">calc_theta</span>(</span><br><span class="line">                    ptr_is_call[idx],</span><br><span class="line">                    ptr_spot[idx],</span><br><span class="line">                    ptr_strike[idx],</span><br><span class="line">                    ptr_time[idx],</span><br><span class="line">                    ptr_carry_cost[idx],</span><br><span class="line">                    ptr_risk_free[idx],</span><br><span class="line">                    ptr_sigma[idx]);</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">double</span> v = flow::model::bjerk02::<span class="built_in">calc_vega</span>(</span><br><span class="line">                    ptr_is_call[idx],</span><br><span class="line">                    ptr_spot[idx],</span><br><span class="line">                    ptr_strike[idx],</span><br><span class="line">                    ptr_time[idx],</span><br><span class="line">                    ptr_carry_cost[idx],</span><br><span class="line">                    ptr_risk_free[idx],</span><br><span class="line">                    ptr_sigma[idx]);</span><br><span class="line"></span><br><span class="line">            cash_delta += <span class="built_in">nan_to_num</span>(ptr_spot[idx] * d * unit_ * pos_);</span><br><span class="line">            delta += <span class="built_in">nan_to_num</span>(d * unit_ * pos_);</span><br><span class="line">            gamma += <span class="built_in">nan_to_num</span>(g * unit_ * pos_);</span><br><span class="line">            theta += <span class="built_in">nan_to_num</span>(t * unit_ * pos_);</span><br><span class="line">            vega += <span class="built_in">nan_to_num</span>(v * unit_ * pos_);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// cash-delta, delta, gamma-percent,theta day-decay, vega-percent</span></span><br><span class="line">    <span class="keyword">auto</span> result = py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt;(<span class="number">5</span>);</span><br><span class="line">    py::buffer_info buffer_result = result.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_result = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buffer_result.ptr);</span><br><span class="line">    ptr_result[<span class="number">0</span>] = cash_delta;</span><br><span class="line">    ptr_result[<span class="number">1</span>] = delta;</span><br><span class="line">    ptr_result[<span class="number">2</span>] = gamma;</span><br><span class="line">    ptr_result[<span class="number">3</span>] = theta;</span><br><span class="line">    ptr_result[<span class="number">4</span>] = vega;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3
id="使用user-defined-reduction-facility功能实现matrix按索引累加">使用User
Defined Reduction Facility功能实现Matrix按索引累加</h3>
<p>如果想按照月份进行汇总计算并输出表格，则需要自定义特殊结构体的重载操作符</p>
<ul>
<li>声明结构体</li>
<li>定义结构体的操作符</li>
<li>使用pragma omp declare reduction(…omp_out=…)
initializer(…)语句添加功能</li>
<li>使用pragma omp parallel for reduction(自定义操作符: M)并行加速</li>
</ul>
<p>例如对一个二维数组重载+运算符的操作过程</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">matrix</span> &#123;</span></span><br><span class="line">    <span class="keyword">double</span> value[<span class="number">12</span>][<span class="number">5</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct matrix <span class="title">add_matrix</span><span class="params">(struct matrix X, struct matrix Y)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">matrix</span> <span class="title">M</span> =</span> &#123;&#123;<span class="number">0.</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">12</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</span><br><span class="line">            M.value[i][j] = X.value[i][j] + Y.value[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> M;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> omp declare reduction(p_add_matrix: struct matrix:omp_out=add_matrix(omp_out, omp_in)) initializer( omp_priv=&#123;&#123; 0.&#125;&#125; )</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">pragma</span> omp parallel for reduction(p_add_matrix: M)</span></span><br><span class="line">    <span class="keyword">for</span>(...)&#123;</span><br><span class="line">        ....</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>完整代码</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">matrix</span> &#123;</span></span><br><span class="line">    <span class="keyword">double</span> value[<span class="number">12</span>][<span class="number">5</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">struct matrix <span class="title">add_matrix</span><span class="params">(struct matrix X, struct matrix Y)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">matrix</span> <span class="title">M</span> =</span> &#123;&#123;<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">12</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</span><br><span class="line">            M.value[i][j] = X.value[i][j] + Y.value[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> M;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; <span class="title">calc_greeks_monitor_detail</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">bool</span>&gt; &amp;is_call,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;S,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;X,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;T,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;b,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;r,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;sigma,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">int</span>&gt; &amp;unit,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">int</span>&gt; &amp;pos,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">int</span>&gt; &amp;month</span></span></span><br><span class="line"><span class="params"><span class="function">)</span> </span>&#123;</span><br><span class="line">    py::buffer_info buf_is_call = is_call.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_spot = S.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_strike = X.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_time = T.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_carry_cost = b.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_risk_free = r.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_sigma = sigma.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_unit = unit.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_pos = pos.<span class="built_in">request</span>();</span><br><span class="line">    py::buffer_info buf_month = month.<span class="built_in">request</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">bool</span> *ptr_is_call = <span class="keyword">static_cast</span>&lt;<span class="keyword">bool</span> *&gt;(buf_is_call.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_spot = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_spot.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_strike = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_strike.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_time = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_time.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_carry_cost = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_carry_cost.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_risk_free = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_risk_free.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_sigma = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_sigma.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_unit = <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span> *&gt;(buf_unit.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_pos = <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span> *&gt;(buf_pos.ptr);</span><br><span class="line">    <span class="keyword">auto</span> *ptr_month = <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span> *&gt;(buf_month.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 12个月份+汇总 13行, cash-delta, delta, gamma-percent, theta day-decay, vega-percent</span></span><br><span class="line">    std::vector&lt;<span class="keyword">ssize_t</span>&gt; shape = &#123;<span class="number">13</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="keyword">auto</span> result = py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt;(<span class="number">65</span>);</span><br><span class="line">    result.<span class="built_in">resize</span>(&#123;shape[<span class="number">0</span>], shape[<span class="number">1</span>]&#125;);</span><br><span class="line">    py::buffer_info buffer_result = result.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_result = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buffer_result.ptr);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> omp declare reduction(p_add_matrix: struct matrix: \</span></span><br><span class="line"><span class="meta">omp_out=add_matrix(omp_out, omp_in)) initializer( \</span></span><br><span class="line"><span class="meta">omp_priv=&#123;&#123; 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0. &#125;&#125; )</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">matrix</span> <span class="title">M</span> =</span> &#123;&#123;<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>&#125;&#125;;</span><br><span class="line">    &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> omp parallel for reduction(p_add_matrix: M)</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> idx = <span class="number">0</span>; idx &lt; buf_spot.shape[<span class="number">0</span>]; idx++) &#123;</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">int</span> month_num = ptr_month[idx] - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">int</span> unit_ = ptr_unit[idx];</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">int</span> pos_ = ptr_pos[idx];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">double</span> d = flow::model::bjerk02::<span class="built_in">calc_delta</span>(</span><br><span class="line">                    ptr_is_call[idx],</span><br><span class="line">                    ptr_spot[idx],</span><br><span class="line">                    ptr_strike[idx],</span><br><span class="line">                    ptr_time[idx],</span><br><span class="line">                    ptr_carry_cost[idx],</span><br><span class="line">                    ptr_risk_free[idx],</span><br><span class="line">                    ptr_sigma[idx]);</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">double</span> g = flow::model::bjerk02::<span class="built_in">calc_gamma</span>(</span><br><span class="line">                    ptr_is_call[idx],</span><br><span class="line">                    ptr_spot[idx],</span><br><span class="line">                    ptr_strike[idx],</span><br><span class="line">                    ptr_time[idx],</span><br><span class="line">                    ptr_carry_cost[idx],</span><br><span class="line">                    ptr_risk_free[idx],</span><br><span class="line">                    ptr_sigma[idx]);</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">double</span> t = flow::model::bjerk02::<span class="built_in">calc_theta</span>(</span><br><span class="line">                    ptr_is_call[idx],</span><br><span class="line">                    ptr_spot[idx],</span><br><span class="line">                    ptr_strike[idx],</span><br><span class="line">                    ptr_time[idx],</span><br><span class="line">                    ptr_carry_cost[idx],</span><br><span class="line">                    ptr_risk_free[idx],</span><br><span class="line">                    ptr_sigma[idx]);</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">double</span> v = flow::model::bjerk02::<span class="built_in">calc_vega</span>(</span><br><span class="line">                    ptr_is_call[idx],</span><br><span class="line">                    ptr_spot[idx],</span><br><span class="line">                    ptr_strike[idx],</span><br><span class="line">                    ptr_time[idx],</span><br><span class="line">                    ptr_carry_cost[idx],</span><br><span class="line">                    ptr_risk_free[idx],</span><br><span class="line">                    ptr_sigma[idx]);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 月份</span></span><br><span class="line">            M.value[month_num][<span class="number">0</span>] += <span class="built_in">nan_to_num</span>(ptr_spot[idx] * d * unit_ * pos_);</span><br><span class="line">            M.value[month_num][<span class="number">1</span>] += <span class="built_in">nan_to_num</span>(d * unit_ * pos_);</span><br><span class="line">            M.value[month_num][<span class="number">2</span>] += <span class="built_in">nan_to_num</span>(g * unit_ * pos_);</span><br><span class="line">            M.value[month_num][<span class="number">3</span>] += <span class="built_in">nan_to_num</span>(t * unit_ * pos_);</span><br><span class="line">            M.value[month_num][<span class="number">4</span>] += <span class="built_in">nan_to_num</span>(v * unit_ * pos_);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ptr_result[<span class="number">12</span> * shape[<span class="number">1</span>] + <span class="number">0</span>] = <span class="number">0.</span>;</span><br><span class="line">    ptr_result[<span class="number">12</span> * shape[<span class="number">1</span>] + <span class="number">1</span>] = <span class="number">0.</span>;</span><br><span class="line">    ptr_result[<span class="number">12</span> * shape[<span class="number">1</span>] + <span class="number">2</span>] = <span class="number">0.</span>;</span><br><span class="line">    ptr_result[<span class="number">12</span> * shape[<span class="number">1</span>] + <span class="number">3</span>] = <span class="number">0.</span>;</span><br><span class="line">    ptr_result[<span class="number">12</span> * shape[<span class="number">1</span>] + <span class="number">4</span>] = <span class="number">0.</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> idx = <span class="number">0</span>; idx &lt; <span class="number">12</span>; idx++) &#123;</span><br><span class="line">        ptr_result[idx * shape[<span class="number">1</span>] + <span class="number">0</span>] = M.value[idx][<span class="number">0</span>];</span><br><span class="line">        ptr_result[idx * shape[<span class="number">1</span>] + <span class="number">1</span>] = M.value[idx][<span class="number">1</span>];</span><br><span class="line">        ptr_result[idx * shape[<span class="number">1</span>] + <span class="number">2</span>] = M.value[idx][<span class="number">2</span>];</span><br><span class="line">        ptr_result[idx * shape[<span class="number">1</span>] + <span class="number">3</span>] = M.value[idx][<span class="number">3</span>];</span><br><span class="line">        ptr_result[idx * shape[<span class="number">1</span>] + <span class="number">4</span>] = M.value[idx][<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">        ptr_result[<span class="number">12</span> * shape[<span class="number">1</span>] + <span class="number">0</span>] += <span class="built_in">nan_to_num</span>(M.value[idx][<span class="number">0</span>]);</span><br><span class="line">        ptr_result[<span class="number">12</span> * shape[<span class="number">1</span>] + <span class="number">1</span>] += <span class="built_in">nan_to_num</span>(M.value[idx][<span class="number">1</span>]);</span><br><span class="line">        ptr_result[<span class="number">12</span> * shape[<span class="number">1</span>] + <span class="number">2</span>] += <span class="built_in">nan_to_num</span>(M.value[idx][<span class="number">2</span>]);</span><br><span class="line">        ptr_result[<span class="number">12</span> * shape[<span class="number">1</span>] + <span class="number">3</span>] += <span class="built_in">nan_to_num</span>(M.value[idx][<span class="number">3</span>]);</span><br><span class="line">        ptr_result[<span class="number">12</span> * shape[<span class="number">1</span>] + <span class="number">4</span>] += <span class="built_in">nan_to_num</span>(M.value[idx][<span class="number">4</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Pybind11的封装部分</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">PYBIND11_MODULE</span>(pybjerk, m) &#123;</span><br><span class="line">    m.<span class="built_in">doc</span>() = <span class="string">&quot; Bjerksund and Stensland (2002)  Pricing Formula&quot;</span>; <span class="comment">// optional module docstring</span></span><br><span class="line"></span><br><span class="line">    m.<span class="built_in">def</span>(<span class="string">&quot;calc_greeks_monitor&quot;</span>, &amp;calc_greeks_monitor, <span class="string">&quot;calculate greeks monitor&quot;</span>, py::<span class="built_in">arg</span>(<span class="string">&quot;is_call&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;S&quot;</span>),</span><br><span class="line">          py::<span class="built_in">arg</span>(<span class="string">&quot;X&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;T&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;b&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;r&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;sigma&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;unit&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;pos&quot;</span>));</span><br><span class="line"></span><br><span class="line">    m.<span class="built_in">def</span>(<span class="string">&quot;calc_greeks_monitor_detail&quot;</span>, &amp;calc_greeks_monitor_detail, <span class="string">&quot;calculate greeks detail&quot;</span>, py::<span class="built_in">arg</span>(<span class="string">&quot;is_call&quot;</span>),</span><br><span class="line">          py::<span class="built_in">arg</span>(<span class="string">&quot;S&quot;</span>),</span><br><span class="line">          py::<span class="built_in">arg</span>(<span class="string">&quot;X&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;T&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;b&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;r&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;sigma&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;unit&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;pos&quot;</span>),</span><br><span class="line">          py::<span class="built_in">arg</span>(<span class="string">&quot;month&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a
href="http://www.uml.org.cn/c%2B%2B/201811072.asp">OpenMP用法大全</a></li>
<li><a
href="https://blog.csdn.net/SHU15121856/article/details/79350474">OpenMP学习笔记2：OpenMP中的归约和reduction子句</a></li>
<li><a
href="https://stackoverflow.com/questions/20413995/reducing-on-array-in-openmp">Reducing
on array in OpenMP</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>OpenMP</tag>
      </tags>
  </entry>
  <entry>
    <title>期权相关的链接</title>
    <url>/2021/12/15/option-notes/</url>
    <content><![CDATA[<h2 id="quant-notes">Quant Notes</h2>
<ul>
<li><a href="https://www.zeliade.com/zqf/whitepapers/">zeliade
whitepapers</a></li>
<li><a href="https://artursepp.com/">Artur Sepp Blog on Quantitative
Investment Strategies</a></li>
<li><a href="https://www.cboe.com/education/research/">Cboe
Research</a></li>
</ul>
<h2 id="option">Option</h2>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/31169266">Know Your Weapon:
从XIV的自我毁灭说起</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/30975465">你不知道的Black
Scholes：雏形</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/39343772">1987黑色星期一：波动率曲面的崛起</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/20063092">黑色星期一启示录</a></li>
</ul>
<h2 id="雪球期权">雪球期权</h2>
<ul>
<li><a
href="https://mp.weixin.qq.com/s/15kXBvZ6IIUYqZSu3QdXUQ">如何对雪球结构定价？</a></li>
<li><a
href="https://mp.weixin.qq.com/s/lBF_TsJU1bAB2dzVY12-7g">Introducing
QdpMC</a></li>
</ul>
<h2 id="pca">PCA</h2>
<ul>
<li><a
href="https://www.matongxue.com/madocs/1025/">如何理解主元分析（PCA）？</a></li>
</ul>
<h2 id="pricing-model">Pricing-Model</h2>
<ul>
<li><a
href="https://github.com/AnthonyBradford/optionmatrix">OtionMatrix</a></li>
<li><a
href="https://anthonybradford.github.io/optionmatrix/index.html">OptionMatrix
1.4.3</a></li>
<li><a href="https://github.com/andleb/derivatives">Derivatives</a></li>
<li><a
href="https://github.com/cantaro86/Financial-Models-Numerical-Methods#financial-models-numerical-methods">Financial-Models-Numerical-Methods</a></li>
</ul>
]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>option-links</tag>
      </tags>
  </entry>
  <entry>
    <title>使用Pybind11从C++向Python返回Matrix</title>
    <url>/2021/06/04/pybind-return-matrix/</url>
    <content><![CDATA[<p>今天在写代码的时候发现使用pybind11返回矩阵比我想的要简单的多，原本都打算转换成eigen来返回数据了，囧。
使用pybind11返回矩阵仅需要将一维向量resize为二维矩阵即可，囧。
注意，如下代码里面进行resizee操作的时候，需要指定一个特定数据格式的shape。
<span id="more"></span></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; <span class="title">calculate_iv_array</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">bool</span>&gt; &amp;is_call,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;premium,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;S,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;X,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;T,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;b,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;r,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> <span class="keyword">double</span> &amp;iv_lower_limit,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> <span class="keyword">double</span> &amp;iv_upper_limit,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> <span class="keyword">double</span> &amp;ttm_clip,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> <span class="keyword">int</span> &amp;num_steps,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> <span class="keyword">double</span> &amp;precision)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">      py::buffer_info buf_is_call = is_call.<span class="built_in">request</span>();</span><br><span class="line">      py::buffer_info buf_premium = premium.<span class="built_in">request</span>();</span><br><span class="line">      py::buffer_info buf_spot = S.<span class="built_in">request</span>();</span><br><span class="line">      py::buffer_info buf_strike = X.<span class="built_in">request</span>();</span><br><span class="line">      py::buffer_info buf_time = T.<span class="built_in">request</span>();</span><br><span class="line">      py::buffer_info buf_carry_cost = b.<span class="built_in">request</span>();</span><br><span class="line">      py::buffer_info buf_risk_free = r.<span class="built_in">request</span>();</span><br><span class="line"></span><br><span class="line">      std::vector&lt;<span class="keyword">ssize_t</span>&gt; shape = &#123;buf_spot.size, <span class="number">3</span>&#125;;</span><br><span class="line">      <span class="keyword">auto</span> result = py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt;(buf_spot.size * <span class="number">3</span>);</span><br><span class="line">      result.<span class="built_in">resize</span>(&#123;shape[<span class="number">0</span>], shape[<span class="number">1</span>]&#125;);</span><br><span class="line">      py::buffer_info buffer_result = result.<span class="built_in">request</span>();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">bool</span> *ptr_is_call = <span class="keyword">static_cast</span>&lt;<span class="keyword">bool</span> *&gt;(buf_is_call.ptr);</span><br><span class="line">      <span class="keyword">auto</span> *ptr_premium = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_premium.ptr);</span><br><span class="line">      <span class="keyword">auto</span> *ptr_spot = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_spot.ptr);</span><br><span class="line">      <span class="keyword">auto</span> *ptr_strike = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_strike.ptr);</span><br><span class="line">      <span class="keyword">auto</span> *ptr_time = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_time.ptr);</span><br><span class="line">      <span class="keyword">auto</span> *ptr_carry_cost = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_carry_cost.ptr);</span><br><span class="line">      <span class="keyword">auto</span> *ptr_risk_free = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_risk_free.ptr);</span><br><span class="line">      <span class="keyword">auto</span> *ptr_result = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buffer_result.ptr);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> idx = <span class="number">0</span>; idx &lt; buf_spot.shape[<span class="number">0</span>]; idx++)</span><br><span class="line">      &#123;</span><br><span class="line">            <span class="keyword">double</span> sigma = flow::model::bjerk02::<span class="built_in">calculate_iv</span>(ptr_is_call[idx],</span><br><span class="line">                                                              ptr_premium[idx],</span><br><span class="line">                                                              ptr_spot[idx],</span><br><span class="line">                                                              ptr_strike[idx],</span><br><span class="line">                                                              ptr_time[idx],</span><br><span class="line">                                                              ptr_carry_cost[idx],</span><br><span class="line">                                                              ptr_risk_free[idx],</span><br><span class="line">                                                              iv_lower_limit,</span><br><span class="line">                                                              iv_upper_limit,</span><br><span class="line">                                                              ttm_clip,</span><br><span class="line">                                                              num_steps,</span><br><span class="line">                                                              precision);</span><br><span class="line"></span><br><span class="line">            ptr_result[idx * shape[<span class="number">0</span>] + <span class="number">0</span>] = sigma;</span><br><span class="line">            ptr_result[idx * shape[<span class="number">0</span>] + <span class="number">1</span>] = flow::model::bjerk02::<span class="built_in">calculate_delta</span>(ptr_is_call[idx],</span><br><span class="line">                                                                                   ptr_spot[idx],</span><br><span class="line">                                                                                   ptr_strike[idx],</span><br><span class="line">                                                                                   ptr_time[idx],</span><br><span class="line">                                                                                   ptr_carry_cost[idx],</span><br><span class="line">                                                                                   ptr_risk_free[idx],</span><br><span class="line">                                                                                   sigma);</span><br><span class="line"></span><br><span class="line">            ptr_result[idx * shape[<span class="number">0</span>] + <span class="number">2</span>] = flow::model::bjerk02::<span class="built_in">calculate_vega</span>(ptr_is_call[idx],</span><br><span class="line">                                                                                  ptr_spot[idx],</span><br><span class="line">                                                                                  ptr_strike[idx],</span><br><span class="line">                                                                                  ptr_time[idx],</span><br><span class="line">                                                                                  ptr_carry_cost[idx],</span><br><span class="line">                                                                                  ptr_risk_free[idx],</span><br><span class="line">                                                                                  sigma);</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">PYBIND11_MODULE</span>(pybjerk, m)</span><br><span class="line">&#123;</span><br><span class="line">      m.<span class="built_in">doc</span>() = <span class="string">&quot; Bjerksund and Stensland (2002)  Pricing Formula&quot;</span>; <span class="comment">// optional module docstring</span></span><br><span class="line"></span><br><span class="line">      m.<span class="built_in">def</span>(<span class="string">&quot;calculate_iv_array&quot;</span>, &amp;calculate_iv_array, <span class="string">&quot;calculate iv delta vega&quot;</span>, py::<span class="built_in">arg</span>(<span class="string">&quot;is_call&quot;</span>),</span><br><span class="line">            py::<span class="built_in">arg</span>(<span class="string">&quot;premium&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;S&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;X&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;T&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;b&quot;</span>),</span><br><span class="line">            py::<span class="built_in">arg</span>(<span class="string">&quot;r&quot;</span>), py::<span class="built_in">arg</span>(<span class="string">&quot;iv_lower_limit&quot;</span>) = <span class="number">1e-8</span>, py::<span class="built_in">arg</span>(<span class="string">&quot;iv_upper_limit&quot;</span>) = <span class="number">10</span>, py::<span class="built_in">arg</span>(<span class="string">&quot;ttm_clip&quot;</span>) = <span class="number">1e-6</span>,</span><br><span class="line">            py::<span class="built_in">arg</span>(<span class="string">&quot;num_steps&quot;</span>) = <span class="number">128</span>, py::<span class="built_in">arg</span>(<span class="string">&quot;precision&quot;</span>) = <span class="number">1e-8</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://www.linyuanshi.me/post/pybind11-array/">C++ and
Python exchange Numpy data via Pybind11</a></li>
</ul>
]]></content>
      <categories>
        <category>Program</category>
      </categories>
      <tags>
        <tag>Pybind11</tag>
      </tags>
  </entry>
  <entry>
    <title>Pycharm 环境搭建及配置详解</title>
    <url>/2021/06/19/pycharm/</url>
    <content><![CDATA[<h2 id="pyqt5">PyQt5</h2>
<p>最近升级Python版本发现<code>pyqt5-tools==5.15.4.3.2</code>更换了designer的安装位置到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">XX\Miniconda3\Lib\site-packages\qt5_applications\Qt\bin\designer.exe</span><br></pre></td></tr></table></figure>
<p><img src="image-20210619084955692.png" width="100%" height="100%" title="image-20210619084955692" alt="image-20210619084955692"/></p>
<p>然后pyuic的命令也发生变化了</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Parameters:-m PyQt5.uic.pyuic $FileName$ -o $FileNameWithoutExtension$.py</span><br></pre></td></tr></table></figure>
<p><img src="image-20210619085353491.png" width="100%" height="100%" title="image-20210619085353491" alt="image-20210619085353491"/></p>
<p>新版本的qt-designer默认汉化了一部分操作界面，操作体验相当不爽了。</p>
<p><img src="image-20210619090153049.png" width="100%" height="100%" title="image-20210619090153049" alt="image-20210619090153049"/></p>
<p>在目录<code>XX\Miniconda3\Lib\site-packages\qt5_applications\Qt\translations</code>使用<code>designer_en.qm</code>
替换<code>designer_zh_CN.qm</code>之后可以恢复英文界面。</p>
<p><img src="image-20210619092509877.png" width="100%" height="100%" title="image-20210619092509877" alt="image-20210619092509877"/></p>
<h2 id="自动添加文件头注释">自动添加文件头注释</h2>
<p>文件头模板设置路径
<code>Settings-&gt;Editor-&gt;File and Code Templates-&gt;Python Script</code></p>
<p><img src="fig20220217.png" width="100%" height="100%" title="文件头注释" alt="文件头注释"/></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"># @Project  : $&#123;PROJECT_NAME&#125; </span><br><span class="line"># @File     : $&#123;NAME&#125;.py </span><br><span class="line"># @Author   : $&#123;USER&#125;</span><br><span class="line"># @Time     : $&#123;DATE&#125; $&#123;TIME&#125;</span><br><span class="line"># @Desc     :</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ &#123;PROJECT_NAME&#125; - 当前项目的名称。</span><br><span class="line">$ &#123;NAME&#125; - 在文件创建过程中在“新建文件”对话框中指定的新文件的名称。</span><br><span class="line">$ &#123;USER&#125; - 当前用户的登录名。</span><br><span class="line">$ &#123;DATE&#125; - 当前的系统日期。</span><br><span class="line">$ &#123;TIME&#125; - 当前系统时间。</span><br><span class="line">$ &#123;YEAR&#125; - 今年。</span><br><span class="line">$ &#123;MONTH&#125; - 当月。</span><br><span class="line">$ &#123;DAY&#125; - 当月的当天。</span><br><span class="line">$ &#123;HOUR&#125; - 目前的小时。</span><br><span class="line">$ &#123;MINUTE&#125; - 当前分钟。</span><br><span class="line">$ &#123;PRODUCT_NAME&#125; - 将在其中创建文件的IDE的名称。</span><br><span class="line">$ &#123;MONTH_NAME_SHORT&#125; - 月份名称的前3个字母。 示例：1月，2月等</span><br><span class="line">$ &#123;MONTH_NAME_FULL&#125; - 一个月的全名。 示例：1月，2月等</span><br></pre></td></tr></table></figure>
<h2 id="注释风格">注释风格</h2>
<p>在完成函数定义时，输入三个"""回车即可，自动添加函数注释参数。
编写好注释信息后，使用函数时，可以使用如下快捷键查看函数信息：
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mac：ctl+J</span><br><span class="line">windows：ctrl+q</span><br></pre></td></tr></table></figure></p>
<p>Docstring format 修改注释风格
<code>File -&gt; Settings -&gt; Tools -&gt; Python Integrated Tools -&gt; Docstrings -&gt; Docstring format</code></p>
<p><img src="fig2_20220217.png" width="100%" height="100%" title="文件头注释" alt="文件头注释"/></p>
<hr />
<ul>
<li><a href="https://www.yisu.com/zixun/163238.html">Python PyQt5
Pycharm 环境搭建及配置详解</a><br />
</li>
<li><a
href="https://www.cnblogs.com/gujianshuang/p/7801574.html">pycharm预定义文件模板变量</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/329967393">Pycharm自动添加文件头注释和函数注释参数</a></li>
</ul>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Qt</tag>
        <tag>PyQt</tag>
      </tags>
  </entry>
  <entry>
    <title>PyQt设置备忘录</title>
    <url>/2022/03/30/pyqt/</url>
    <content><![CDATA[<h3 id="边距设置">边距设置</h3>
<p><img src="WechatIMG104.png" width="100%" height="100%" title="边距宽度" alt="边距宽度"/></p>
]]></content>
      <categories>
        <category>GUI</category>
      </categories>
      <tags>
        <tag>Qt</tag>
        <tag>PyQt</tag>
      </tags>
  </entry>
  <entry>
    <title>Python库打包备忘录</title>
    <url>/2021/06/24/python-wheel/</url>
    <content><![CDATA[<p>Python 库打包的格式包括 <code>Wheel</code> 和 <code>Egg</code>。Egg
格式是由 setuptools 在 2004 年引入，而 Wheel 格式是由 PEP427 在 2012
年定义。setuptools使用也是非常简单，假设项目目录如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scr</span><br><span class="line">|- pyflow</span><br><span class="line">   |- __init__.py</span><br><span class="line">   |- util</span><br><span class="line">      |- logger.py</span><br><span class="line">   |- model.py</span><br><span class="line">      |- xx.pyd</span><br><span class="line">   |- api</span><br><span class="line">      |- ctp_future</span><br><span class="line">      	 |- xx.dll</span><br><span class="line">      	 |- xx.dll</span><br></pre></td></tr></table></figure>
<p><code>scr</code> 是项目根目录，<code>pyflow</code> 是包的根目录</p>
<p>使用 <code>setuptools</code>，创建一个 <code>setup.py</code>
打包配置文件，放在项目根目录下</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> setup, find_packages</span><br><span class="line"><span class="keyword">from</span> src.pyflow <span class="keyword">import</span> __version__</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;README.md&#x27;</span>, encoding=<span class="string">&quot;utf8&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    LONG_DESCRIPTION = fp.read()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Metadata goes in setup.cfg. These are here for GitHub&#x27;s dependency graph.</span></span><br><span class="line"><span class="comment"># 也可有参调用，则会覆盖.cfg的对应条目</span></span><br><span class="line">setup(</span><br><span class="line">    name=<span class="string">&quot;pyflow&quot;</span>,</span><br><span class="line">    version=__version__,</span><br><span class="line">    long_description=LONG_DESCRIPTION,</span><br><span class="line">    long_description_content_type=<span class="string">&#x27;text/markdown&#x27;</span>,</span><br><span class="line">    packages=find_packages(<span class="string">&quot;src&quot;</span>),</span><br><span class="line">    package_dir=&#123;<span class="string">&quot;&quot;</span>: <span class="string">&quot;src&quot;</span>&#125;,</span><br><span class="line">    include_package_data=<span class="literal">True</span>,</span><br><span class="line">    package_data=&#123;<span class="string">&#x27;&#x27;</span>: [<span class="string">&#x27;model/*.pyd&#x27;</span>, <span class="string">&#x27;api/ctp_future/*.*&#x27;</span>, <span class="string">&#x27;api/ctp_spot/*.*&#x27;</span>]&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>注意使用<code>package_data</code>命令将<code>*.py</code>之外的文件同时打包。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">package_data=&#123;<span class="string">&#x27;&#x27;</span>: [<span class="string">&#x27;model/*.pyd&#x27;</span>, <span class="string">&#x27;api/ctp_future/*.*&#x27;</span>, <span class="string">&#x27;api/ctp_spot/*.*&#x27;</span>]&#125;</span><br></pre></td></tr></table></figure>
<p>设置完成之后就可以进行打包了</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 打包成 tar 包</span></span><br><span class="line">python setup.py sdist</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装 wheel 库后可以打包成 whl 包</span></span><br><span class="line">pip install wheel</span><br><span class="line">python setup.py bdist_wheel</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打包完后的包可以直接通过 pip 安装</span></span><br><span class="line">pip install &lt;path-to-package&gt;</span><br></pre></td></tr></table></figure>
<hr />
<p><code>setuptools</code>通常使用<code>setup.cfg</code>
文件来进行具体的设置</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line">[<span class="string">metadata</span>]</span><br><span class="line"><span class="string">;name：包名称</span></span><br><span class="line"><span class="string">;version：包版本</span></span><br><span class="line"><span class="string">;url：主页地址</span></span><br><span class="line"><span class="string">;project_urls：包相关网页地址，字典格式，对应关系见下图</span></span><br><span class="line"><span class="string">;author：作者名字</span></span><br><span class="line"><span class="string">;author_email：作者邮箱</span></span><br><span class="line"><span class="string">;maintainer：维护者名字</span></span><br><span class="line"><span class="string">;maintainer_email：维护者邮箱</span></span><br><span class="line"><span class="string">;classifiers：分类信息</span></span><br><span class="line"><span class="string">;license：使用的开源许可</span></span><br><span class="line"><span class="string">;description：简短描述</span></span><br><span class="line"><span class="string">;long_description：详细描述</span></span><br><span class="line"><span class="string">;long_description_content_type：详细描述的格式</span></span><br><span class="line"><span class="string">;keywords：关键词</span></span><br><span class="line"><span class="string">;platforms：支持的操作系统</span></span><br><span class="line"><span class="string">;long_description</span> <span class="string">=</span> <span class="attr">file:</span> <span class="string">README.md</span></span><br><span class="line"><span class="string">;long_description_content_type</span> <span class="string">=</span> <span class="string">text/markdown</span></span><br><span class="line"><span class="string">;</span> <span class="string">PyPI的分类，类似于标签，所有条目见</span> <span class="string">https://pypi.org/pypi?%3Aaction=list_classifiers</span></span><br><span class="line"></span><br><span class="line"><span class="string">name</span> <span class="string">=</span> <span class="string">pyflow</span></span><br><span class="line"><span class="string">;version</span> <span class="string">=</span> <span class="number">0.0</span><span class="number">.1</span></span><br><span class="line"><span class="string">author</span> <span class="string">=</span> <span class="string">稻草人</span></span><br><span class="line"><span class="string">author_email</span> <span class="string">=</span> <span class="string">dybeta2021@163.com</span></span><br><span class="line"><span class="string">maintainer</span> <span class="string">=</span> <span class="string">稻草人</span></span><br><span class="line"><span class="string">maintainer_email</span> <span class="string">=</span> <span class="string">dybeta2021@163.com</span></span><br><span class="line"><span class="string">url</span> <span class="string">=</span> <span class="string">https://dybeta2021.github.io/</span></span><br><span class="line"><span class="string">license</span> <span class="string">=</span> <span class="string">BSD-3-Clause</span></span><br><span class="line"><span class="string">description</span> <span class="string">=</span> <span class="string">flow-lib,</span> <span class="string">a</span> <span class="string">simple</span> <span class="string">platform</span></span><br><span class="line"><span class="string">classifiers</span> <span class="string">=</span></span><br><span class="line">    <span class="attr">License :: OSI Approved ::</span> <span class="string">GNU</span> <span class="string">General</span> <span class="string">Public</span> <span class="string">License</span> <span class="string">v3</span> <span class="string">(GPLv3)</span></span><br><span class="line">    <span class="attr">Topic :: Software Development ::</span> <span class="string">User</span> <span class="string">Interfaces</span></span><br><span class="line">    <span class="attr">Environment ::</span> <span class="string">Win32</span> <span class="string">(MS</span> <span class="string">Windows)</span></span><br><span class="line">    <span class="attr">Operating System :: Microsoft :: Windows ::</span> <span class="string">Windows</span> <span class="number">10</span></span><br><span class="line">    <span class="attr">Programming Language :: Python ::</span> <span class="number">3.8</span></span><br><span class="line"></span><br><span class="line">[<span class="string">options</span>]</span><br><span class="line"><span class="string">;依赖信息</span></span><br><span class="line"><span class="string">;install_requires：依赖的其他库列表，安装该库之前也会安装</span></span><br><span class="line"><span class="string">;extras_require：其他的可选依赖库，安装该库不会自动安装</span></span><br><span class="line"><span class="string">;setup_requires：构建依赖的库，不会安装到解释器库，安装到本地临时目录</span></span><br><span class="line"><span class="string">;python_requires：Python</span> <span class="string">版本依赖</span></span><br><span class="line"><span class="string">;use_2to3：布尔值，True</span> <span class="string">则自动将</span> <span class="string">Python2</span> <span class="string">的代码转换为</span> <span class="string">Python3</span></span><br><span class="line"><span class="string">;packages</span> <span class="string">=</span> <span class="attr">find:</span> <span class="comment"># 自动搜索存在__init__.py的文件夹作为包</span></span><br><span class="line"></span><br><span class="line"><span class="string">python_requires</span> <span class="string">=</span> <span class="string">==3.8.*</span></span><br><span class="line"><span class="string">;依赖install_requires，pip安装时靠的就是这个而不是requirements.txt</span></span><br><span class="line"><span class="string">install_requires</span> <span class="string">=</span></span><br><span class="line">    <span class="string">plotly==4.14.3</span></span><br><span class="line"><span class="string">zip_safe</span> <span class="string">=</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="string">;功能管理</span></span><br><span class="line"><span class="string">;packages：该库包含的</span> <span class="string">Python</span> <span class="string">包</span></span><br><span class="line"><span class="string">;package_dir：字典配置包的目录</span></span><br><span class="line"><span class="string">;package_data：配置包的其他数据文件</span></span><br><span class="line"><span class="string">;include_package_data：布尔值，为</span> <span class="literal">True</span> <span class="string">则根据</span> <span class="string">MANIFEST.in</span> <span class="string">文件自动引入数据文件</span></span><br><span class="line"><span class="string">;exclude_package_data：字典配置需要移除的数据文件</span></span><br><span class="line"><span class="string">;zip_safe：布尔值，表明这个库能否安全的使用</span> <span class="string">zip</span> <span class="string">安装和执行</span></span><br><span class="line"><span class="string">;entry_points：库的入口点配置，可用来做命令行工具和插件</span></span><br></pre></td></tr></table></figure>
<p><code>setup</code> 函数常用的参数如下：</p>
<table>
<colgroup>
<col style="width: 26%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="header">
<th>name</th>
<th>包名称</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>version</td>
<td>包版本</td>
</tr>
<tr class="even">
<td>author</td>
<td>程序的作者</td>
</tr>
<tr class="odd">
<td>author_email</td>
<td>程序的作者的邮箱地址</td>
</tr>
<tr class="even">
<td>maintainer</td>
<td>维护者</td>
</tr>
<tr class="odd">
<td>maintainer_email</td>
<td>维护者的邮箱地址</td>
</tr>
<tr class="even">
<td>url</td>
<td>程序的官网地址</td>
</tr>
<tr class="odd">
<td>license</td>
<td>程序的授权信息</td>
</tr>
<tr class="even">
<td>description</td>
<td>程序的简单描述</td>
</tr>
<tr class="odd">
<td>long_description</td>
<td>程序的详细描述</td>
</tr>
<tr class="even">
<td>platforms</td>
<td>程序适用的软件平台列表</td>
</tr>
<tr class="odd">
<td>classifiers</td>
<td>程序的所属分类列表</td>
</tr>
<tr class="even">
<td>keywords</td>
<td>程序的关键字列表</td>
</tr>
<tr class="odd">
<td>packages</td>
<td>需要处理的包目录(通常为包含 <code>__init__.py</code> 的文件夹)</td>
</tr>
<tr class="even">
<td>py_modules</td>
<td>需要打包的 Python 单文件列表</td>
</tr>
<tr class="odd">
<td>download_url</td>
<td>程序的下载地址</td>
</tr>
<tr class="even">
<td>cmdclass</td>
<td>添加自定义命令</td>
</tr>
<tr class="odd">
<td>package_data</td>
<td>指定包内需要包含的数据文件</td>
</tr>
<tr class="even">
<td>include_package_data</td>
<td>自动包含包内所有受版本控制(cvs/svn/git)的数据文件</td>
</tr>
<tr class="odd">
<td>exclude_package_data</td>
<td>当 include_package_data 为 True 时该选项用于排除部分文件</td>
</tr>
<tr class="even">
<td>data_files</td>
<td>打包时需要打包的数据文件，如图片，配置文件等</td>
</tr>
<tr class="odd">
<td>ext_modules</td>
<td>指定扩展模块</td>
</tr>
<tr class="even">
<td>scripts</td>
<td>指定可执行脚本,安装时脚本会被安装到系统 PATH 路径下</td>
</tr>
<tr class="odd">
<td>package_dir</td>
<td>指定哪些目录下的文件被映射到哪个源码包</td>
</tr>
<tr class="even">
<td>requires</td>
<td>指定依赖的其他包</td>
</tr>
<tr class="odd">
<td>provides</td>
<td>指定可以为哪些模块提供依赖</td>
</tr>
<tr class="even">
<td>install_requires</td>
<td>安装时需要安装的依赖包</td>
</tr>
<tr class="odd">
<td>entry_points</td>
<td>动态发现服务和插件，下面详细讲</td>
</tr>
<tr class="even">
<td>setup_requires</td>
<td>指定运行 setup.py 文件本身所依赖的包</td>
</tr>
<tr class="odd">
<td>dependency_links</td>
<td>指定依赖包的下载地址</td>
</tr>
<tr class="even">
<td>extras_require</td>
<td>当前包的高级/额外特性需要依赖的分发包</td>
</tr>
<tr class="odd">
<td>zip_safe</td>
<td>不压缩包，而是以目录的形式安装</td>
</tr>
</tbody>
</table>
<hr />
<ul>
<li><a
href="https://zhuanlan.zhihu.com/p/115302375">Python包发布指南</a></li>
<li><a href="https://blog.konghy.cn/2018/04/29/setup-dot-py/">Python
库打包分发(setup.py 编写)简易指南</a></li>
<li><a
href="https://setuptools.readthedocs.io/en/latest/index.html">Setuptools</a></li>
</ul>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python Wheel</tag>
      </tags>
  </entry>
  <entry>
    <title>管理Python虚拟环境</title>
    <url>/2021/06/17/python_env/</url>
    <content><![CDATA[<h3 id="用conda管理python虚拟环境">用Conda管理Python虚拟环境</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">查看安装了哪些包</span><br><span class="line">conda list</span><br><span class="line"></span><br><span class="line">查看当前存在哪些虚拟环境</span><br><span class="line">conda env list </span><br><span class="line">conda info -e</span><br><span class="line"></span><br><span class="line">建虚拟环境</span><br><span class="line">conda create -n your_env_name python=x.x</span><br><span class="line">conda create -n py38 python=3.8</span><br><span class="line"></span><br><span class="line">切换虚拟环境</span><br><span class="line">Linux:  source activate your_env_nam</span><br><span class="line">Windows: activate your_env_name</span><br><span class="line"></span><br><span class="line">对虚拟环境中安装额外的包</span><br><span class="line">conda install -n your_env_name [package]</span><br><span class="line"></span><br><span class="line">关闭虚拟环境(即从当前环境退出返回使用PATH环境中的默认python版本)</span><br><span class="line">Windows: deactivate env_name 或者`activate root`切回root环境</span><br><span class="line">Linux下：source deactivate </span><br><span class="line"></span><br><span class="line">删除虚拟环境</span><br><span class="line">conda remove -n your_env_name --all</span><br><span class="line"></span><br><span class="line">删除环境钟的某个包</span><br><span class="line">conda remove --name $your_env_name  $package_name </span><br></pre></td></tr></table></figure>
<h3 id="使用-pip-freeze-生成requirements.txt">使用 pip freeze
生成requirements.txt</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install pipreqs</span><br><span class="line"></span><br><span class="line">在项目根目录下生成requirements</span><br><span class="line">pipreqs . --encoding=utf-8 --force</span><br><span class="line"></span><br><span class="line">执行requirement.txt</span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>
<h3
id="bat快捷方式激活虚拟环境运行python程序">bat快捷方式激活虚拟环境+运行python程序</h3>
<p>激活python虚拟环境的workon，activate命令是一个bat文件，在bat文件中激活虚拟环境相当于是一个bat文件调用了另一个bat文件，这会导致第一个bat文件中断。解决的方法很简单，就是在workon或activate前面加call就可以实现激活虚拟环境并继续运行python程序了。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">@echo off</span><br><span class="line">chcp 65001</span><br><span class="line">title project x shortcut</span><br><span class="line">call activate py37</span><br><span class="line">python run_update_static_data.py</span><br><span class="line">ping -n 3 127.0.0.1&gt;nul</span><br><span class="line">python run_paste_ctp.py</span><br><span class="line">pause</span><br></pre></td></tr></table></figure>
<hr />
<ul>
<li><a
href="https://zhuanlan.zhihu.com/p/94744929">Anaconda-用conda创建python虚拟环境</a></li>
<li><a
href="https://www.jianshu.com/p/acb3205aea54">Python项目如何生成requirements.txt文件</a></li>
<li><a
href="http://www.xueshanlinghu.com/excellent-articles/2642.html">python切换虚拟环境（workon或activate）会中断bat的运行的处理方案
| 雪山凌狐教程 (xueshanlinghu.com)</a></li>
</ul>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Conda</tag>
        <tag>Miniconda</tag>
        <tag>Anaconda</tag>
      </tags>
  </entry>
  <entry>
    <title>处理Python混编接口对字典操作的多线程竞争问题</title>
    <url>/2021/06/21/python_fix_dict/</url>
    <content><![CDATA[<p>在使用Python3对字典操作时遇到错误：dictionary changed size during
iteration</p>
<p>原始代码如下</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_data_dict</span>(<span class="params">self</span>) -&gt; (<span class="built_in">dict</span>, <span class="built_in">bool</span>):</span></span><br><span class="line">	<span class="keyword">if</span> self.time_point &gt; self.pre_time_point:</span><br><span class="line">		self.pre_time_point = self.time_point</span><br><span class="line">		<span class="keyword">return</span> deepcopy(self.access), <span class="literal">False</span></span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		<span class="keyword">return</span> deepcopy(self.access), <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>其中access是使用C++混编模块回调函数更新数据的缓存变量（字典），在数据量较少（每秒钟更新100~200笔数据）的时候没有发生过问题，在加大数据量到每秒钟3000笔到5000笔数据的时候出现bug</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dictionary changed size during iteration</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Dictionaries implement a <code>tp_iter</code> slot that returns an
efficient iterator that iterates over the keys of the dictionary. During
such an iteration, the dictionary should not be modified, except that
setting the value for an existing key is allowed (deletions or additions
are not, nor is the <code>update()</code> method).</p>
</blockquote>
<p>可以看到由于多线程共用一个变量没有线程锁导致的问题，需要同步的修改python和c++接口部分的代码，添加线程同步锁，由于涉及到混编和接口这种修改较为复杂并且强化了不同模块代码的耦合。偶然间在网上发现一种另类的解决方法，Python字典在遍历时不能进行修改，但是转换成列表或集合可以。对轻度使用的函数可以将dict修改为list避免工作量。修改后的代码如下</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_data_dict</span>(<span class="params">self</span>) -&gt; (<span class="built_in">dict</span>, <span class="built_in">bool</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Python3对字典操作时遇到错误：dictionary changed size during iteration</span></span><br><span class="line"><span class="string">    https://blog.csdn.net/zhihaoma/article/details/51265168</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    access = <span class="built_in">dict</span>()</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> <span class="built_in">list</span>(self.access.keys()):</span><br><span class="line">        access[key] = self.access[key]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> self.time_point &gt; self.pre_time_point:</span><br><span class="line">        self.pre_time_point = self.time_point</span><br><span class="line">        <span class="keyword">return</span> access, <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> access, <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_data_dict</span>(<span class="params">self</span>) -&gt; (<span class="built_in">dict</span>, <span class="built_in">bool</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Python3对字典操作时遇到错误：dictionary changed size during iteration</span></span><br><span class="line"><span class="string">    https://blog.csdn.net/zhihaoma/article/details/51265168</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    access = <span class="built_in">dict</span>()</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> self.access:</span><br><span class="line">        access[key] = self.access[key]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> self.time_point &gt; self.pre_time_point:</span><br><span class="line">        self.pre_time_point = self.time_point</span><br><span class="line">        <span class="keyword">return</span> access, <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> access, <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<hr />
<ul>
<li><a
href="https://www.python.org/dev/peps/pep-0234/#dictionary-iterators">Dictionary
Iterators</a></li>
<li><a
href="https://blog.csdn.net/zhihaoma/article/details/51265168">Python3对字典操作时遇到错误：dictionary
changed size during iteration</a></li>
</ul>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python Debug</tag>
      </tags>
  </entry>
  <entry>
    <title>Python RPyC</title>
    <url>/2022/03/02/rpc-python/</url>
    <content><![CDATA[<p><a href="https://github.com/tomerfiliba-org/rpyc">RPyC</a></p>
<h2 id="server">Server</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> pickle <span class="keyword">import</span> dumps</span><br><span class="line"><span class="keyword">from</span> pprint <span class="keyword">import</span> pprint</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> ctpspot_client <span class="keyword">import</span> get_static_data</span><br><span class="line"><span class="keyword">from</span> rpyc <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">from</span> rpyc.utils.server <span class="keyword">import</span> ThreadedServer</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> get_server_ip <span class="keyword">import</span> get_host_ip</span><br><span class="line"></span><br><span class="line">static_data = get_static_data()</span><br><span class="line">pkl_static_data = dumps(static_data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TimeService</span>(<span class="params">Service</span>):</span></span><br><span class="line">    <span class="comment"># 对于服务端来说， 只有以&quot;exposed_&quot;打头的方法才能被客户端调用，所以要提供给客户端的方法都得加&quot;exposed_&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">exposed_get_time</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> time.ctime()  <span class="comment"># time模块中的一个内置方法</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">exposed_get_static_data</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> pkl_static_data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    host_ip = get_host_ip()</span><br><span class="line">    pprint(host_ip)</span><br><span class="line"></span><br><span class="line">    s = ThreadedServer(service=TimeService, port=<span class="number">15001</span>, auto_register=<span class="literal">False</span>)</span><br><span class="line">    s.start()</span><br></pre></td></tr></table></figure>
<h2 id="client">Client</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pickle <span class="keyword">import</span> loads</span><br><span class="line"><span class="keyword">import</span> rpyc</span><br><span class="line"><span class="keyword">from</span> pprint <span class="keyword">import</span> pprint</span><br><span class="line"></span><br><span class="line">conn = rpyc.connect(<span class="string">&#x27;192.168.1.90&#x27;</span>,<span class="number">15001</span>)</span><br><span class="line"><span class="comment">#调用服务器端的方法，格式为：conn.root.xxx。xxx代表服务器端的方法名</span></span><br><span class="line"><span class="comment"># get_time是服务端的那个以&quot;exposed_&quot;开头的方法</span></span><br><span class="line">result = conn.root.get_time()</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line">result = conn.root.get_static_data()</span><br><span class="line">data = loads(result)</span><br><span class="line">pprint(data)</span><br><span class="line"></span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>
<h2 id="todo">Todo</h2>
<ul>
<li>rpyc的默认格式如何转换解析，去掉使用pickle进行序列化和反序列化这一步骤</li>
</ul>
]]></content>
      <categories>
        <category>Program</category>
      </categories>
      <tags>
        <tag>rpyc</tag>
      </tags>
  </entry>
  <entry>
    <title>股票期权结算价计算方法</title>
    <url>/2022/06/13/settlement-price/</url>
    <content><![CDATA[<h2 id="中金所股指期货合约结算价">中金所股指期货合约结算价</h2>
<p>期货合约当日结算价是指集中交易中某一合约某一时段成交价格按照成交量的加权平均价。交易所另有规定的除外。</p>
<p>该时段发生熔断、集合竞价指令申报或者暂停交易的，扣除熔断、集合竞价指令申报和暂停交易时间后向前取满相应时段。</p>
<p>合约在该时段无成交的，以前一相应时段成交价格按照成交量的加权平均价作为当日结算价。该相应时段仍无成交的，则再往前推相应时段。以此类推。合约当日最后一笔成交距开盘时间不足相应时段的，则取全天成交量的加权平均价作为当日结算价。</p>
<p>合约当日无成交的，当日结算价计算公式为：当日结算价＝该合约上一交易日结算价＋基准合约当日结算价－基准合约上一交易日结算价，其中，基准合约为当日有成交的离交割月最近的合约。合约为新上市合约的，取其挂盘基准价为上一交易日结算价。基准合约为当日交割合约的，取其交割结算价为基准合约当日结算价。根据本公式计算出的当日结算价超出合约涨跌停板价格的，取涨跌停板价格作为当日结算价。</p>
<p>采用上述方法仍无法确定当日结算价或者计算出的结算价明显不合理的，交易所有权决定当日结算价。</p>
<ul>
<li><p>期货合约的当日结算价为合约最后一小时成交价格按照成交量的加权平均价。计算结果保留至小数点后一位。</p></li>
<li><p>期货合约的交割结算价为最后交易日标的指数最后 2
小时的算术平均价。计算结果保留至小数点后两位。</p></li>
</ul>
<h2 id="中金所股指期权合约结算价">中金所股指期权合约结算价</h2>
<p>股指期权合约除最后交易日外的当日结算价为合约当日收盘集合竞价的成交价格。当日收盘集合竞价未形成成交价格或者成交价格明显不合理的，交易所有权决
定当日结算价。</p>
<p>股指期权合约最后交易日的结算价确定方法如下：</p>
<ul>
<li>对看涨期权合约，合约交割结算价高于行权价格的，该合约最后交易日的结算价为交割结算价与行权价格的差额，其他情形下最后交易日的结算价为零；</li>
<li>对看跌期权合约，合约交割结算价低于行权价格的，该合约最后交易日的结算价为行权价格与交割结算价的差额，其他情形下最后交易日的结算价为零。</li>
<li>股指期权合约交割结算价为最后交易日标的指数最后 2
小时的算术平均价。计算结果保留至小数点后两位。</li>
</ul>
<h2 id="上交所期权结算价">上交所期权结算价</h2>
<p>　　一、期权合约的结算价格为该合约当日收盘集合竞价的成交价格。</p>
<p>　　二、期权合约当日收盘集合竞价未形成成交价格，但收盘前8分钟内的连续竞价阶段有成交，且收盘时同时存在最优买价和最优卖价的，以该连续竞价阶段最后成交价作为基准价格，按照以下原则确定期权合约的结算价格：</p>
<p>　　（一）收盘时最优买价大于或者等于基准价格的，结算价格为该最优买价。</p>
<p>　　（二）收盘时最优卖价小于或者等于基准价格的，结算价格为该最优卖价。</p>
<p>　　（三）收盘时基准价格介于最优买价和最优卖价之间的，结算价格为基准价格。</p>
<p>　　三、期权合约当日收盘集合竞价未形成成交价格，且收盘前8分钟内的连续竞价阶段没有成交，但收盘时同时存在最优买价和最优卖价的，结算价格为该最优买价和最优卖价的中间值。</p>
<p>　　四、按照本通知第一条、第二条、第三条的规定均未能确定期权合约结算价格的，如果期权合约当日收盘时最优买价为涨停价格的，则结算价格为该涨停价格。</p>
<p>　　五、按照本通知第一条至第四条的规定均未能确定期权合约结算价格，则按照以下原则确定结算价格：</p>
<p>　　（一）对于同一合约品种中到期月份、行权价格及合约类型均相同的期权合约，如果标准合约具备结算价格，而非标准合约无结算价格的，则参考标准合约的结算价格，确定非标准合约的结算价格；如果非标准合约具备结算价格，而标准合约无结算价格的，则参考非标准合约的结算价格，确定标准合约的结算价格。</p>
<p>　　（二）对于同一合约品种中到期月份与合约类型相同的期权合约，如果有一个及以上合约具备结算价格，而其他合约无结算价格的，则参考该一个及以上合约的结算价格对应的隐含波动率，确定其他期权合约的结算价格。</p>
<p>　　（三）期权合约盘中暂停交易直至收盘的，期权合约结算价格根据合约标的当日收盘价进行调整。</p>
<p>　　（四）按照本条前述规定仍未能确定结算价格的，由上交所根据市场情况及期权品种交易情况，计算该期权合约的结算价格。</p>
<p>　　六、对于按照本通知第一条至第五条规定确定的期权合约结算价格，按照以下原则进行合理性检查和修正：</p>
<p>　　（一）对于同一合约品种中到期月份、行权价格以及合约类型均相同的期权合约，如果标准合约和非标准合约都具备结算价格但结算价格不同的，则取当日交易量较大的标准或者非标准合约的结算价格，作为非标准合约或者标准合约的结算价格；如果二者交易量相等，则取标准合约的结算价格，作为非标准合约的结算价格。</p>
<p>　　（二）如果按照本通知第一条至第五条规定确定的期权合约结算价格高于该合约当日涨停价格的，则以涨停价格作为该期权合约的结算价格；如果确定的期权合约结算价格低于该合约当日跌停价格的，则以跌停价格作为该期权合约的结算价格。</p>
<p>　　（三）如果按照本通知第一条至第五条规定确定的期权合约结算价格小于其内在价值，则以其内在价值作为该期权合约的结算价格。</p>
<p>　　（四）对于同一合约品种中到期月份及合约类型相同的期权合约，按照行权价格序列进行检查和修正，以使认购期权行权价格越高、结算价格越低，认沽期权行权价格越高、结算价格越高。</p>
<p>　　（五）对于同一合约品种中行权价格及合约类型相同的期权合约，按照到期月份顺序进行检查和修正，以使期权合约到期月份越晚、结算价格越高。</p>
<p>　　（六）按照上述原则进行合理性检查和修正后形成的结算价格仍明显不合理的，上交所可以根据市场情况进行调整。</p>
<p>　　七、期权合约最后交易日，按照以下原则确定期权合约的结算价格：</p>
<p>　　（一）最后交易日为实值的认购合约，其结算价格为合约标的当日收盘价格减去行权价格的差值；最后交易日为实值的认沽合约，其结算价格为行权价格减去合约标的当日收盘价格的差值；</p>
<p>　　（二）最后交易日为虚值或者平值的期权合约，其结算价格为0。</p>
<p>　　八、根据本通知计算的结算价格，按照四舍五入原则取期权合约最小价格变动单位的整数倍。</p>
<p>　　九、上交所及中国结算可以根据市场情况，对结算价格的计算方法进行调整，并向市场公布。</p>
<p>　　十、本通知下列用语具有以下含义：</p>
<p>　　（一）标准合约，是指合约条款未因合约标的除权、除息而发生调整的期权合约；</p>
<p>　　（二）非标准合约，是指合约条款因合约标的除权、除息而发生调整的期权合约。</p>
<p>　　十一、本通知由上交所、中国结算负责解释，自2016年1月1日起实施。上交所、中国结算于2015年1月28日发布的《关于期权合约结算价格计算方法的通知》（上证发〔2015〕19号）同时废止。</p>
<h2 id="深交所期权结算价">深交所期权结算价</h2>
<p>4.5.1
本所在每个交易日收盘后向市场公布期权合约的结算价格，作为计算期权合约每日日终维持保证金、下一交易日开仓保证金、涨跌停价格等数据的基准。</p>
<p>4.5.2
期权合约在最后交易日为实值合约的，本所根据合约标的当日收盘价格和该合约行权价格，确定该合约的结算价格；期权合约在最后交易日为虚值或者平值合约的，结算价格为0。</p>
<p>4.5.3
在非最后交易日，期权合约的结算价格为该合约当日收盘集合竞价的成交价格。如当日收盘集合竞价未形成成交价格，结算价格的确定原则为：</p>
<p>（一）期权合约当日收盘前 8
分钟内的连续竞价阶段有成交的，以该连续竞价阶段最后成交价作为基准价格。当收盘时有最优买价且大于或者等于基准价格的，结算价格为该最优买价；当收盘时有最优卖价且小于或者等于基准价格的，结算价格为该最优卖价；当收盘时有最优买价和最优卖价，且基准价格介于最优买价和最优卖价之间的，结算价格为基准价格；</p>
<p>（二）期权合约当日收盘前 8
分钟内的连续竞价阶段没有成交，但收盘时同时存在最优买价和最优卖价的，结算价格为该最优买价和最优卖价的中间值；</p>
<p>（三）根据本条第（一）（二）项未能确定期权合约结算价格的，如果期权合约当日收盘时最优买价为涨停价格，则结算价格为该涨停价格；</p>
<p>（四）根据本条第（一）至（三）项仍未能确定期权合约结算价格的，对于同一合约品种中到期月份、行权价格及合约类型均相同的标准合约和非标准合约，如果有且仅有一个期权合约有结算价格，则以该合约结算价格作为其他合约的结算价格；如果仍未能确定结算价格，采用已确定结算价格的合约的隐含波动率计算其他合约的结算价格；如果仍未能确定结算价格，采用合约收盘价确定该合约结算价格。</p>
<p>4.5.4 对于第 4.5.3
条确定的期权合约结算价格，按照以下原则进行最终确定：</p>
<p>（一）对于同一合约品种中到期月份、行权价格以及合约类型均相同的标准合约和非标准合约，依次优先选取当日交易量最大、标准合约、合约编码最大的合约的结算价格，作为此类合约的结算价格；
（二）如果期权合约结算价格高（低）于该合约当日涨（跌）停价格的，则以涨（跌）停价格作为该期权合约的结算价格；
（三）如果期权合约结算价格小于其内在价值，则以其内在价值作为该期权合约的结算价格；
（四）对于同一合约品种中到期月份及合约类型相同的期权合约，期权合约结算价格须符合认购期权行权价格越高的结算价格越低，认沽期权行权价格越高的结算价格越高；
（五）对于同一合约品种中行权价格及合约类型相同的期权合约，须符合期权合约到期月份越晚的结算价格越高。</p>
<p>4.5.5
期权合约挂牌首日，以本所公布的开盘参考价作为合约前结算价格。合约标的出现除权、除息的，合约前结算价格调整公式适用本规则第
3.4 条规定。 4.5.6
本所及中国结算可以根据市场情况，对结算价格的确定方法进行调整。</p>
<h2 id="链接">链接</h2>
<ul>
<li><p><a
href="http://www.cffex.com.cn/zgjrqhjyshs300gzqhhyjyxz/">中国金融期货交易所沪深300股指期货合约交易细则</a></p></li>
<li><p><a
href="http://www.cffex.com.cn/zgjrqhjyssz50gzqhhyjyxz/">中国金融期货交易所上证50股指期货合约交易细则</a></p></li>
<li><p><a
href="http://www.cffex.com.cn/zgjrqhjyszz500gzqhhyjyxz/">中国金融期货交易所中证500股指期货合约交易细则</a></p></li>
<li><p><a
href="http://www.cffex.com.cn/zgjrqhjysgzqqhyjyxz/">中国金融期货交易所股指期权合约交易细则</a></p></li>
<li><p><a
href="http://www.cffex.com.cn/zgjrqhjysjsxz/">中国金融期货交易所结算细则</a></p></li>
<li><p><a
href="http://www.cffex.com.cn/hs300wd/20100129/17819.html">沪深300股指期货合约的当日结算价如何确定？</a></p></li>
<li><p><a
href="http://www.sse.com.cn/lawandrules/sselawsrules/option/c/c_20210128_5312066.shtml">关于发布《上海证券交易所股票期权试点交易规则》的通知
| 上海证券交易所</a></p></li>
<li><p><a
href="http://www.sse.com.cn/lawandrules/sselawsrules/option/c/c_20210128_5312075.shtml">关于优化不活跃期权合约结算价格计算方法的通知
| 上海证券交易所</a></p></li>
</ul>
]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>option</tag>
        <tag>settlement_price</tag>
      </tags>
  </entry>
  <entry>
    <title>Shm IPC Lock-Free KV Store</title>
    <url>/2021/10/11/shmkv/</url>
    <content><![CDATA[<h2 id="更新">2022-08-13更新</h2>
<p>在实盘程序运行中发现shmkv的原始实现代码有bug，修复bug重构版本<a
href="https://github.com/dybeta2021/MyIPC/tree/main/store">store</a>。</p>
<p>~<del><a
href="https://github.com/dybeta2021/dyblog/tree/main/PyShmKV">PyShmKV</a>通过修改pupa内存数据库实现python多进程共享内存数据库，可以在python内将任意数据类型的数据通过kv方式跨进程交互。</del>~</p>
<h2 id="内存内数据体结构">内存内数据体结构</h2>
<p><a
href="https://github.com/agile6v/pupa">pupa</a>原作者设计是通过双buffer实现的在一写多读情况下无锁的KV数据库，代码由纯C编写，笔者在使用的时候发现核心部分有bug，并且被设计为单独运行的数据库。这里修改为C++并添加封装变成进程内组件，添加类封装，方便创建多个实例。
如下图，是pupa的内存结构设计</p>
<p><img src="mem_layout.png" width="40%" height="40%" title="mem_layout" alt="mem_layout"/></p>
<p>其中Header部分由三个结构体组成即item、key和value三部分在内存中的首位置和字节长度。</p>
<ul>
<li>sec1和sec2分别表示双buffer的内存首位置<br />
</li>
<li>size表示预设大小，used表示实际使用量<br />
</li>
<li>id=1 or 2 表示当前使用的buffer是哪个</li>
</ul>
<p>这个内存数据库的设计是通过双<code>buffer</code>的<code>item</code>实现索引一写多读的lock-free。因为要适配共享内存，需要内存连续且有限长度（不能动态创建内存空间），所以对key和value也构建的双buffer的结构，这样可以通过<code>make_snapshot</code>的方式实现内存释放功能。对于<code>item</code>部分，每次set都创建一个新的snapshot操作然后切换，对于
<code>key</code>和<code>value</code>两个部分，只有内存空间写满了之后才进行<code>make_snapshot</code>，通过重新去掉无item指向的内存空间释放内存。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// sec1和sec2分别表示双buffer的内存首位置</span></span><br><span class="line"><span class="comment">// size表示预设大小，used表示实际使用量, char长度</span></span><br><span class="line"><span class="comment">// id=1/2 表示当前使用的buffer是哪个</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> size;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> used;</span><br><span class="line">    <span class="keyword">size_t</span> sec1_offset;</span><br><span class="line">    <span class="keyword">size_t</span> sec2_offset;</span><br><span class="line">&#125; skv_store_section;</span><br></pre></td></tr></table></figure>
<p>在这个内存结构设计中，<code>item</code>是真正的索引，<code>item</code>的结构体内部存储key和value在内存中偏移量。使用二分法寻找对应的比对key，从而确定相应的item获取value。
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// item 数据存储，是数据库的索引</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">size_t</span> key_offset;</span><br><span class="line">    <span class="keyword">size_t</span> value_offset;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> key_len;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> value_len;</span><br><span class="line">&#125; skv_store_item;</span><br></pre></td></tr></table></figure>
<code>Key</code>和<code>Value</code>为双buffer的存储区域。</p>
<h2 id="init">Init</h2>
<ul>
<li>size表示空间大小，是否使用超出范围<br />
</li>
<li>used表示已经存储的key数量<br />
</li>
<li>id表示当前使用过的内存空间<br />
</li>
<li>offset这个区域内存首位置偏移量</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 初始化内存空间</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">size_t</span> <span class="title">skv_store_init</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        skv_store_hdr *store_hdr,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">unsigned</span> <span class="keyword">int</span> key_count,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">unsigned</span> <span class="keyword">int</span> value_size)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">size_t</span> offset = <span class="built_in"><span class="keyword">sizeof</span></span>(skv_store_hdr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  header memory management 初始化</span></span><br><span class="line">    <span class="comment">//  initialize cache item section</span></span><br><span class="line">    store_hdr-&gt;item_section.size = key_count;</span><br><span class="line">    store_hdr-&gt;item_section.used = <span class="number">0</span>;</span><br><span class="line">    store_hdr-&gt;item_section.id = SKV_STORE_SECTION_ONE;</span><br><span class="line">    store_hdr-&gt;item_section.sec1_offset = offset;</span><br><span class="line">    offset += key_count * (<span class="keyword">long</span>) <span class="built_in"><span class="keyword">sizeof</span></span>(skv_store_item);</span><br><span class="line">    store_hdr-&gt;item_section.sec2_offset = offset;</span><br><span class="line">    offset += key_count * (<span class="keyword">long</span>) <span class="built_in"><span class="keyword">sizeof</span></span>(skv_store_item);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  initialize cache key section</span></span><br><span class="line">    store_hdr-&gt;key_section.size = SKV_KEY_AVERAGE_LEN * key_count;</span><br><span class="line">    store_hdr-&gt;key_section.used = <span class="number">0</span>;</span><br><span class="line">    store_hdr-&gt;key_section.id = SKV_STORE_SECTION_ONE;</span><br><span class="line">    store_hdr-&gt;key_section.sec1_offset = offset;</span><br><span class="line">    offset += key_count * SKV_KEY_AVERAGE_LEN;</span><br><span class="line">    store_hdr-&gt;key_section.sec2_offset = offset;</span><br><span class="line">    offset += key_count * SKV_KEY_AVERAGE_LEN;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  initialize cache value section</span></span><br><span class="line">    store_hdr-&gt;value_section.size = value_size * key_count;</span><br><span class="line">    store_hdr-&gt;value_section.used = <span class="number">0</span>;</span><br><span class="line">    store_hdr-&gt;value_section.id = SKV_STORE_SECTION_ONE;</span><br><span class="line">    store_hdr-&gt;value_section.sec1_offset = offset;</span><br><span class="line">    offset += key_count * value_size;</span><br><span class="line">    store_hdr-&gt;value_section.sec2_offset = offset;</span><br><span class="line">    offset += key_count * value_size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> offset;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="store-get">Store Get</h2>
<h3 id="struct">Struct</h3>
<p>这部分代码里面<code>store_item_wrapper</code>是非常令人费解的设计，这个数据结构是计算某一个item数据结构相对于共享内存的偏移量。
但是无论是set还是get都是增量信息，没有必要搞这样的操作。
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  这里的设计逻辑是在共享内存外存在一个数据，</span></span><br><span class="line"><span class="comment">//  使用数据结构skv_store_item表示，</span></span><br><span class="line"><span class="comment">//  并且添加这个数据结构相对于共享内存的偏移量</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    skv_store_item store_item;</span><br><span class="line">    skv_ctx *ctx;</span><br><span class="line">    <span class="keyword">size_t</span> key_offset;</span><br><span class="line">&#125; skv_store_item_wrapper;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  todo:操作共享内存外的数据，以共享内存为首位置坐标计算偏移量?</span></span><br><span class="line">store_item_wrapper.ctx = ctx;</span><br><span class="line">store_item_wrapper.key_offset = (key-&gt;data - (<span class="keyword">char</span> *) ctx-&gt;store_hdr);</span><br><span class="line">store_item_wrapper.store_item.key_len = key-&gt;len + <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<h3 id="bsearch">bsearch</h3>
<ul>
<li><a
href="https://www.runoob.com/cprogramming/c-function-bsearch.html">bsearch</a></li>
</ul>
<p><code>Get</code>的查找功能使用C语言基础的<code>bsearch</code>函数实现
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">bsearch</span><span class="params">(<span class="keyword">const</span> <span class="keyword">void</span> *key,</span></span></span><br><span class="line"><span class="params"><span class="function">              <span class="keyword">const</span> <span class="keyword">void</span> *base,</span></span></span><br><span class="line"><span class="params"><span class="function">              <span class="keyword">size_t</span> nitems,</span></span></span><br><span class="line"><span class="params"><span class="function">              <span class="keyword">size_t</span> size,</span></span></span><br><span class="line"><span class="params"><span class="function">              <span class="keyword">int</span> (*compar)(<span class="keyword">const</span> <span class="keyword">void</span> *, <span class="keyword">const</span> <span class="keyword">void</span> *))</span></span>;</span><br></pre></td></tr></table></figure> * <code>key</code> -- 指向要查找的元素的指针，类型转换为
<code>void *</code>。<br />
* <code>base</code> -- 指向进行查找的数组的第一个对象的指针，类型转换为
<code>void *</code>。<br />
* <code>nitems</code> -- base 所指向的数组中元素的个数。<br />
* <code>size</code> -- 数组中每个元素的大小，以字节为单位。<br />
* <code>compar</code> -- 用来比较两个元素的函数。</p>
<h3 id="memcmp">memcmp</h3>
<ul>
<li><a
href="https://www.runoob.com/cprogramming/c-function-memcmp.html">memcmp</a></li>
</ul>
<p><code>memcmp</code>把存储区 str1 和存储区 str2 的前 n 个字节进行比较
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">memcmp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">void</span> *str1, <span class="keyword">const</span> <span class="keyword">void</span> *str2, <span class="keyword">size_t</span> n)</span></span>;</span><br></pre></td></tr></table></figure></p>
<h3 id="offsetof">offsetof</h3>
<ul>
<li><a
href="https://www.runoob.com/cprogramming/c-macro-offsetof.html">offsetof</a></li>
</ul>
<p><code>offsetof(type, member-designator)</code> 会生成一个类型为
<code>size_t</code>
的整型常量，它是一个结构成员相对于结构开头的字节偏移量。成员是由
<code>member-designator</code>给定的，结构的名称是在 <code>type</code>
中给定的。</p>
<h3 id="get">get</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">skv_store_item_compare_</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">void</span> *p1,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">void</span> *p2,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">void</span> *arg)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret;</span><br><span class="line">    <span class="keyword">char</span> *store_hdr = <span class="literal">nullptr</span>;</span><br><span class="line">    skv_store_item_wrapper *store_item_wrapper = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    ret = (<span class="keyword">int</span>) ((skv_store_item *) p1)-&gt;key_len - (<span class="keyword">int</span>) ((skv_store_item *) p2)-&gt;key_len;</span><br><span class="line">    <span class="keyword">if</span> (ret != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    store_item_wrapper = (skv_store_item_wrapper *) arg;</span><br><span class="line">    store_hdr = (<span class="keyword">char</span> *) store_item_wrapper-&gt;ctx-&gt;store_hdr;</span><br><span class="line">    <span class="keyword">if</span> (store_item_wrapper-&gt;key_offset == <span class="number">0</span>) &#123;</span><br><span class="line">        ret = <span class="built_in">memcmp</span>(store_hdr + ((skv_store_item *) p1)-&gt;key_offset,</span><br><span class="line">                        store_hdr + ((skv_store_item *) p2)-&gt;key_offset,</span><br><span class="line">                        ((skv_store_item *) p1)-&gt;key_len);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        ret = <span class="built_in">memcmp</span>(store_hdr + store_item_wrapper-&gt;key_offset,</span><br><span class="line">                        store_hdr + ((skv_store_item *) p2)-&gt;key_offset,</span><br><span class="line">                        ((skv_store_item *) p1)-&gt;key_len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">skv_store_item_key_compare</span><span class="params">(<span class="keyword">const</span> <span class="keyword">void</span> *p1,</span></span></span><br><span class="line"><span class="params"><span class="function">                                        <span class="keyword">const</span> <span class="keyword">void</span> *p2)</span> </span>&#123;</span><br><span class="line">    skv_store_item_wrapper *p_store_item_wrapper = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="comment">// todo： 这里通过偏移量的方式，通过p1获取结构体指针skv_store_item_wrapper的首位置</span></span><br><span class="line">    <span class="comment">// p1 is the target value, P2 is each value in the array.</span></span><br><span class="line">    p_store_item_wrapper = (skv_store_item_wrapper *) ((<span class="keyword">char</span> *) p1 - <span class="built_in">offsetof</span>(skv_store_item_wrapper, store_item));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">skv_store_item_compare_</span>((<span class="keyword">void</span> *) p1, p2, p_store_item_wrapper);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">skv_store_get</span><span class="params">(skv_ctx *ctx,</span></span></span><br><span class="line"><span class="params"><span class="function">                            skv_str *key,</span></span></span><br><span class="line"><span class="params"><span class="function">                            skv_str *value)</span> </span>&#123;</span><br><span class="line">    skv_store_item *p_cache_item = <span class="literal">nullptr</span>;</span><br><span class="line">    skv_store_item *p_store_item = <span class="literal">nullptr</span>;</span><br><span class="line">    skv_store_section *p_item_section = <span class="literal">nullptr</span>;</span><br><span class="line">    skv_store_item_wrapper store_item_wrapper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取当前读取操作正在使用的buffer（buffer-1或buffer-2）的内存首位置</span></span><br><span class="line">    p_store_item = (skv_store_item *) <span class="built_in">SKV_STORE_GET_ADDRESS</span>(</span><br><span class="line">            ctx-&gt;store_hdr, ctx-&gt;store_hdr-&gt;item_section);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  todo:操作共享内存外的数据，以共享内存为首位置坐标计算偏移量?</span></span><br><span class="line">    store_item_wrapper.ctx = ctx;</span><br><span class="line">    store_item_wrapper.key_offset = (key-&gt;data - (<span class="keyword">char</span> *) ctx-&gt;store_hdr);</span><br><span class="line">    store_item_wrapper.store_item.key_len = key-&gt;len + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    p_item_section = &amp;ctx-&gt;store_hdr-&gt;item_section;</span><br><span class="line">    p_cache_item = <span class="keyword">static_cast</span>&lt;skv_store_item *&gt;(<span class="built_in">bsearch</span>(&amp;store_item_wrapper.store_item,</span><br><span class="line">                                                            p_store_item,</span><br><span class="line">                                                            p_item_section-&gt;used,</span><br><span class="line">                                                            <span class="built_in"><span class="keyword">sizeof</span></span>(skv_store_item),</span><br><span class="line">                                                            skv_store_item_key_compare));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (p_cache_item == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;Not found key: %.*s&quot;</span>, key-&gt;len, key-&gt;data);</span><br><span class="line">        <span class="keyword">return</span> SKV_NOT_FOUND;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (p_cache_item-&gt;key_len == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;The length of the key (%.*s) is invalid.&quot;</span>, key-&gt;len, key-&gt;data);</span><br><span class="line">        <span class="keyword">return</span> SKV_ERROR;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    value-&gt;data = (<span class="keyword">char</span> *) ctx-&gt;store_hdr + p_cache_item-&gt;value_offset;</span><br><span class="line">    value-&gt;len = p_cache_item-&gt;value_len;</span><br><span class="line">    <span class="keyword">return</span> SKV_OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="store-set">Store Set</h2>
<h3 id="make_snapshot">make_snapshot</h3>
<p>每次set操作都是在操作item的snapshot快照。set操作里面，双buffer的切换操作每次切换的是item的双buffer，
key和value的双buffer是在写满数据之后才进行切换，不跟随set操作切换buffer。</p>
<ul>
<li>make item snapshot<br />
</li>
<li>bsearch， add or replace<br />
</li>
<li>change item section id（原子操作，lock-free read）</li>
</ul>
<p>创建snapshot，每次set操作都是在snapshot中操作，然后再切换id指向。<br />
* todo：
这里直接使用下一个函数的方式创建snapshot的方式直接管理内存应该更好？for循环memcpy和直接大内存memcpy性能差别有多少？
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">pupa_store_item_make_snapshot</span><span class="params">(skv_ctx *ctx)</span> </span>&#123;</span><br><span class="line">    skv_store_item *p_cache_items = <span class="literal">NULL</span>;</span><br><span class="line">    skv_store_item *p_store_items = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    p_cache_items = (skv_store_item *) <span class="built_in">SKV_STORE_GET_SNAPSHOT_ADDRESS</span>(</span><br><span class="line">            ctx-&gt;store_hdr, ctx-&gt;store_hdr-&gt;item_section);</span><br><span class="line"></span><br><span class="line">    p_store_items = (skv_store_item *) <span class="built_in">SKV_STORE_GET_ADDRESS</span>(</span><br><span class="line">            ctx-&gt;store_hdr, ctx-&gt;store_hdr-&gt;item_section);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ctx-&gt;store_hdr-&gt;item_section.used) &#123;</span><br><span class="line">        <span class="built_in">memcpy</span>(p_cache_items, p_store_items,</span><br><span class="line">               <span class="built_in"><span class="keyword">sizeof</span></span>(skv_store_item) * ctx-&gt;store_hdr-&gt;item_section.used);</span><br><span class="line">    &#125;</span><br><span class="line">    ctx-&gt;store_items_snapshot = p_cache_items;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h3 id="free-memory-and-change-section-id">free memory and change
section id</h3>
<p>在set操作中，add or
replace都是直接在内存地址的末尾copy新的内容，这样会造成前面的内存中的内容并没有删除，只是修改了指针导致内存空间没有回收利用。
当空间填满的时候需要重新排序copy内容，释放没有item指向的内存空间。<br />
*
这个库这里设计会产生一个类似于gc的操作，导致set写入时间不稳定。另外set和get使用bsearch操作也会导致操作时间不稳定，随着size变化。
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 注意这里重新构建snapshot了，从store重新构建snapshot</span></span><br><span class="line"><span class="comment">// 构建完成之后，切换snapshot和store，原子操作</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">skv_store_key_compaction</span><span class="params">(skv_ctx *ctx,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    skv_string *key,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    <span class="keyword">char</span> **address)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">char</span> *p = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">size_t</span> used_size;</span><br><span class="line">    <span class="keyword">size_t</span> offset;</span><br><span class="line">    skv_store_item *p_cache_item = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    p = <span class="built_in">SKV_STORE_GET_SNAPSHOT_ADDRESS</span>(ctx-&gt;store_hdr, ctx-&gt;store_hdr-&gt;key_section);</span><br><span class="line">    offset = <span class="built_in">SKV_STORE_GET_SNAPSHOT_OFFSET</span>(ctx-&gt;store_hdr-&gt;key_section);</span><br><span class="line"></span><br><span class="line">    used_size = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; ctx-&gt;store_hdr-&gt;item_section.used; i++) &#123;</span><br><span class="line">        p_cache_item = &amp;ctx-&gt;store_items_snapshot[i];</span><br><span class="line">        <span class="built_in">memcpy</span>(p + used_size,</span><br><span class="line">               (<span class="keyword">char</span> *) ctx-&gt;store_hdr + p_cache_item-&gt;key_offset,</span><br><span class="line">               p_cache_item-&gt;key_len);</span><br><span class="line">        p_cache_item-&gt;key_offset = offset + used_size;</span><br><span class="line">        used_size += p_cache_item-&gt;key_len;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ((key-&gt;len + <span class="number">1</span> + used_size) &gt; ctx-&gt;store_hdr-&gt;key_section.size) &#123;</span><br><span class="line">        <span class="keyword">return</span> SKV_OVERFLOW;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    *address = p;</span><br><span class="line">    ctx-&gt;store_hdr-&gt;key_section.used = used_size;</span><br><span class="line">    ctx-&gt;store_hdr-&gt;key_section.id = <span class="built_in">SKV_STORE_GET_SEC_SNAPSHOT_ID</span>(</span><br><span class="line">            ctx-&gt;store_hdr-&gt;key_section);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> SKV_OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">skv_store_value_compaction</span><span class="params">(skv_ctx *ctx,</span></span></span><br><span class="line"><span class="params"><span class="function">                                      skv_string *value,</span></span></span><br><span class="line"><span class="params"><span class="function">                                      <span class="keyword">char</span> **address)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">char</span> *p = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">size_t</span> used_size;</span><br><span class="line">    <span class="keyword">size_t</span> offset;</span><br><span class="line">    skv_store_item *p_cache_item;</span><br><span class="line"></span><br><span class="line">    p = <span class="built_in">SKV_STORE_GET_SNAPSHOT_ADDRESS</span>(ctx-&gt;store_hdr,</span><br><span class="line">                                       ctx-&gt;store_hdr-&gt;value_section);</span><br><span class="line"></span><br><span class="line">    offset = <span class="built_in">SKV_STORE_GET_SNAPSHOT_OFFSET</span>(ctx-&gt;store_hdr-&gt;value_section);</span><br><span class="line"></span><br><span class="line">    used_size = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; ctx-&gt;store_hdr-&gt;item_section.used; i++) &#123;</span><br><span class="line">        p_cache_item = &amp;ctx-&gt;store_items_snapshot[i];</span><br><span class="line">        <span class="built_in">memcpy</span>(p + used_size,</span><br><span class="line">               (<span class="keyword">char</span> *) ctx-&gt;store_hdr + p_cache_item-&gt;value_offset,</span><br><span class="line">               p_cache_item-&gt;value_len);</span><br><span class="line">        p_cache_item-&gt;value_offset = offset + used_size;</span><br><span class="line">        used_size += p_cache_item-&gt;value_len;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ((value-&gt;len + <span class="number">1</span> + used_size) &gt; ctx-&gt;store_hdr-&gt;value_section.size) &#123;</span><br><span class="line">        <span class="keyword">return</span> SKV_OVERFLOW;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    *address = p + used_size;</span><br><span class="line">    ctx-&gt;store_hdr-&gt;value_section.used = used_size;</span><br><span class="line">    ctx-&gt;store_hdr-&gt;value_section.id =</span><br><span class="line">            <span class="built_in">SKV_STORE_GET_SEC_SNAPSHOT_ID</span>(ctx-&gt;store_hdr-&gt;value_section);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> SKV_OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="add-kv">add kv</h3>
<p>item add key value，新增数据在store末尾新增<br />
* 如果发现key data
section空间内还有足够的剩余空间，直接在store最后位置添加新增的key数据，char格式copy进去。
* 如果发现key data
section空间内不够，重新创建一个snapshot（减少失去item指向的无效空间），然后将snapshot与store互换之后重复上一步操作。<br />
*
~<del>因为这个时候没有增加key-used数据，所以在get操作里面是看不到这个在末尾新增的数据块的</del>~，这步骤想错了，注意set是创建item的双buffer每次set切换，但是key和value的双buffer只有在写满数据的时候才切换。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">skv_store_item_add</span><span class="params">(skv_ctx *ctx,</span></span></span><br><span class="line"><span class="params"><span class="function">                                skv_store_item *store_item,</span></span></span><br><span class="line"><span class="params"><span class="function">                                skv_str *key,</span></span></span><br><span class="line"><span class="params"><span class="function">                                skv_str *value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret;</span><br><span class="line">    <span class="keyword">size_t</span> offset;</span><br><span class="line">    <span class="keyword">char</span> *p = <span class="literal">nullptr</span>;</span><br><span class="line">    skv_store_hdr *store_hdr = ctx-&gt;store_hdr;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (store_hdr-&gt;item_section.used == store_hdr-&gt;item_section.size) &#123;</span><br><span class="line">        <span class="keyword">return</span> SKV_OVERFLOW;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//* 如果发现key data section空间内还有足够的剩余空间，直接在store最后位置添加新增的key数据，char格式copy进去。</span></span><br><span class="line">    <span class="comment">// 因为这个时候没有增加item里面used数据，所以在get操作里面是看不到这个在末尾新增的数据块的。</span></span><br><span class="line">    <span class="comment">//* 如果发现key data section空间内不够，重新创建一个snapshot（减少失去item指向的无效空间），然后将snapshot与store互换之后重复上一步操作。</span></span><br><span class="line">    <span class="keyword">if</span> ((store_hdr-&gt;key_section.used + (key-&gt;len + <span class="number">1</span>)) &gt;</span><br><span class="line">        store_hdr-&gt;key_section.size) &#123;</span><br><span class="line">        <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;Start to compact the key section.&quot;</span>);</span><br><span class="line"></span><br><span class="line">        offset = <span class="built_in">SKV_STORE_GET_SNAPSHOT_OFFSET</span>(store_hdr-&gt;key_section);</span><br><span class="line">        ret = <span class="built_in">skv_store_key_compaction</span>(ctx, key, &amp;p);</span><br><span class="line">        <span class="keyword">if</span> (ret != SKV_OK) &#123;</span><br><span class="line">            <span class="keyword">return</span> ret;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        p = <span class="built_in">SKV_STORE_GET_FREE_ADDRESS</span>(store_hdr, store_hdr-&gt;key_section);</span><br><span class="line">        offset = <span class="built_in">SKV_STORE_GET_OFFSET</span>(store_hdr-&gt;key_section);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  copy the data of the key to the cache</span></span><br><span class="line">    store_item-&gt;key_len = key-&gt;len + <span class="number">1</span>;</span><br><span class="line">    store_item-&gt;key_offset = offset + store_hdr-&gt;key_section.used;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 字符串末尾添加 \0结尾</span></span><br><span class="line">    <span class="built_in">memcpy</span>(p, key-&gt;data, key-&gt;len);</span><br><span class="line">    p += key-&gt;len;</span><br><span class="line">    *p = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    store_hdr-&gt;key_section.used += store_item-&gt;key_len;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  copy the data of the value to the cache</span></span><br><span class="line">    p = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ((store_hdr-&gt;value_section.used + (value-&gt;len + <span class="number">1</span>)) &gt;</span><br><span class="line">        store_hdr-&gt;value_section.size) &#123;</span><br><span class="line">        <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;Start to compact the value section.&quot;</span>);</span><br><span class="line"></span><br><span class="line">        offset = <span class="built_in">SKV_STORE_GET_SNAPSHOT_OFFSET</span>(store_hdr-&gt;value_section);</span><br><span class="line"></span><br><span class="line">        ret = <span class="built_in">skv_store_value_compaction</span>(ctx, value, &amp;p);</span><br><span class="line">        <span class="keyword">if</span> (ret != SKV_OK) &#123;</span><br><span class="line">            <span class="keyword">return</span> ret;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        p = <span class="built_in">SKV_STORE_GET_FREE_ADDRESS</span>(store_hdr, store_hdr-&gt;value_section);</span><br><span class="line">        offset = <span class="built_in">SKV_STORE_GET_OFFSET</span>(store_hdr-&gt;value_section);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    store_item-&gt;value_offset = offset + store_hdr-&gt;value_section.used;</span><br><span class="line">    store_item-&gt;value_len = value-&gt;len + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memcpy</span>(p, value-&gt;data, value-&gt;len);</span><br><span class="line">    p += value-&gt;len;</span><br><span class="line">    *p = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    store_hdr-&gt;value_section.used += store_item-&gt;value_len;</span><br><span class="line">    <span class="keyword">return</span> SKV_OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="replace-kv">replace kv</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">skv_store_item_replace</span><span class="params">(skv_ctx *ctx,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    skv_store_item *store_item,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    skv_str *value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *p = <span class="literal">nullptr</span>;</span><br><span class="line">    skv_store_hdr *store_hdr = ctx-&gt;store_hdr;</span><br><span class="line">    <span class="keyword">size_t</span> offset;</span><br><span class="line">    <span class="keyword">int</span> ret;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用snapshot重建的store内包含一组重复，重复最新输入的这组key-value</span></span><br><span class="line">    <span class="keyword">if</span> ((store_hdr-&gt;value_section.used + (value-&gt;len + <span class="number">1</span>)) &gt;</span><br><span class="line">        store_hdr-&gt;value_section.size) &#123;</span><br><span class="line">        <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;Start to compact the value section.&quot;</span>);</span><br><span class="line"></span><br><span class="line">        offset = <span class="built_in">SKV_STORE_GET_SNAPSHOT_OFFSET</span>(store_hdr-&gt;value_section);</span><br><span class="line"></span><br><span class="line">        ret = <span class="built_in">skv_store_value_compaction</span>(ctx, value, &amp;p);</span><br><span class="line">        <span class="keyword">if</span> (ret != SKV_OK) &#123;</span><br><span class="line">            <span class="keyword">return</span> ret;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        p = <span class="built_in">SKV_STORE_GET_FREE_ADDRESS</span>(store_hdr, store_hdr-&gt;value_section);</span><br><span class="line">        offset = <span class="built_in">SKV_STORE_GET_OFFSET</span>(store_hdr-&gt;value_section);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  copy the data of the value to the cache</span></span><br><span class="line">    store_item-&gt;value_offset = offset + store_hdr-&gt;value_section.used;</span><br><span class="line">    store_item-&gt;value_len = value-&gt;len + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//    字符串末尾添加 \0结尾</span></span><br><span class="line">    <span class="built_in">memcpy</span>(p, value-&gt;data, value-&gt;len);</span><br><span class="line">    p += value-&gt;len;</span><br><span class="line">    *p = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    store_hdr-&gt;value_section.used += store_item-&gt;value_len;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> SKV_OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="item-sort">item sort</h3>
<p>因为二分法的原因，需要整个item序列是有序的（根据key的内容）。<br />
* key的长度<br />
* key的内容</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 递归算法实现二分法排序</span></span><br><span class="line"><span class="comment">// 递归算法实现二分法排序</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">skv_item_qsort_for_b_search</span><span class="params">(<span class="keyword">void</span> *elt,</span></span></span><br><span class="line"><span class="params"><span class="function">                                        <span class="keyword">void</span> *arg,</span></span></span><br><span class="line"><span class="params"><span class="function">                                        <span class="keyword">void</span> *base,</span></span></span><br><span class="line"><span class="params"><span class="function">                                        <span class="keyword">size_t</span> size,</span></span></span><br><span class="line"><span class="params"><span class="function">                                        <span class="keyword">int</span> low,</span></span></span><br><span class="line"><span class="params"><span class="function">                                        <span class="keyword">int</span> high,</span></span></span><br><span class="line"><span class="params"><span class="function">                                        <span class="keyword">int</span> (*cmp)(<span class="keyword">const</span> <span class="keyword">void</span> *ptr_a, <span class="keyword">const</span> <span class="keyword">void</span> *ptr_b, <span class="keyword">void</span> *arg))</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret, mid;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (high &lt;= low) &#123;</span><br><span class="line">        ret = <span class="built_in">cmp</span>(elt, (<span class="keyword">char</span> *) base + low * size, arg);</span><br><span class="line">        <span class="keyword">if</span> (ret &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> low + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> low;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    mid = (low + high) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">cmp</span>(elt, (<span class="keyword">char</span> *) base + mid * size, arg);</span><br><span class="line">    <span class="keyword">if</span> (ret == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> mid + <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ret &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">skv_item_qsort_for_b_search</span>(elt, arg, base, size, mid + <span class="number">1</span>, high, cmp);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">skv_item_qsort_for_b_search</span>(elt, arg, base, size, low, mid - <span class="number">1</span>, cmp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bsearch二分法索引配套的算法</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">skv_item_sort</span><span class="params">(<span class="keyword">void</span> *base,</span></span></span><br><span class="line"><span class="params"><span class="function">                            <span class="keyword">size_t</span> n,</span></span></span><br><span class="line"><span class="params"><span class="function">                            <span class="keyword">size_t</span> size,</span></span></span><br><span class="line"><span class="params"><span class="function">                            <span class="keyword">void</span> *arg,</span></span></span><br><span class="line"><span class="params"><span class="function">                            <span class="keyword">int</span> (*cmp)(<span class="keyword">const</span> <span class="keyword">void</span> *ptr_a, <span class="keyword">const</span> <span class="keyword">void</span> *ptr_b, <span class="keyword">void</span> *arg))</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *p;</span><br><span class="line">    <span class="keyword">int</span> pos, count;</span><br><span class="line"></span><br><span class="line">    count = (<span class="keyword">int</span>) (n) <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    p = (<span class="keyword">char</span> *) <span class="built_in">malloc</span>(size);</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// take the last element to compare to the previous one</span></span><br><span class="line">    <span class="built_in">memcpy</span>(p, (<span class="keyword">char</span> *) base + count * size, size);</span><br><span class="line"></span><br><span class="line">    pos = <span class="built_in">skv_item_qsort_for_b_search</span>(p, arg, base, size, <span class="number">0</span>, count, cmp);</span><br><span class="line">    <span class="keyword">if</span> (pos &lt; count) &#123;</span><br><span class="line">        <span class="built_in">memmove</span>((<span class="keyword">char</span> *) base + (pos + <span class="number">1</span>) * size, (<span class="keyword">char</span> *) base + pos * size, (count - pos) * size);</span><br><span class="line">        <span class="built_in">memcpy</span>((<span class="keyword">char</span> *) base + pos * size, p, size);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// item 本身进行排序，根据key的值</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">store_item_qsort_compare</span><span class="params">(<span class="keyword">const</span> <span class="keyword">void</span> *p1,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    <span class="keyword">const</span> <span class="keyword">void</span> *p2,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    <span class="keyword">void</span> *arg)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret;</span><br><span class="line">    <span class="keyword">char</span> *store_hdr;</span><br><span class="line">    skv_store_item_wrapper *store_item_wrapper;</span><br><span class="line"></span><br><span class="line">    ret = (<span class="keyword">int</span>) ((skv_store_item *) p1)-&gt;key_len - (<span class="keyword">int</span>) ((skv_store_item *) p2)-&gt;key_len;</span><br><span class="line">    <span class="keyword">if</span> (ret != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    store_item_wrapper = (skv_store_item_wrapper *) arg;</span><br><span class="line">    store_hdr = (<span class="keyword">char</span> *) store_item_wrapper-&gt;ctx-&gt;store_hdr;</span><br><span class="line">    <span class="keyword">if</span> (store_item_wrapper-&gt;key_offset == <span class="number">0</span>) &#123;</span><br><span class="line">        ret = <span class="built_in">memcmp</span>(store_hdr + ((skv_store_item *) p1)-&gt;key_offset,</span><br><span class="line">                        store_hdr + ((skv_store_item *) p2)-&gt;key_offset,</span><br><span class="line">                        ((skv_store_item *) p1)-&gt;key_len);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        ret = <span class="built_in">memcmp</span>(store_hdr + store_item_wrapper-&gt;key_offset,</span><br><span class="line">                        store_hdr + ((skv_store_item *) p2)-&gt;key_offset,</span><br><span class="line">                        ((skv_store_item *) p1)-&gt;key_len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="set">set</h3>
<p>注意 set操作里面，双buffer的切换操作每次切换的是item的双buffer，
key和value的双buffer是在写满数据之后才进行切换，不跟随set操作切换buffer</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 注意 set操作里面，双buffer的切换操作每次切换的是item的双buffer， key和value的双buffer是在写满数据之后才进行切换，不跟随set操作切换buffer</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">skv_store_set</span><span class="params">(skv_ctx *ctx,</span></span></span><br><span class="line"><span class="params"><span class="function">                            skv_str *key,</span></span></span><br><span class="line"><span class="params"><span class="function">                            skv_str *value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret;</span><br><span class="line">    skv_store_item *p_cache_item = <span class="literal">nullptr</span>;</span><br><span class="line">    skv_store_section *p_item_section;</span><br><span class="line">    skv_store_item_wrapper store_item_wrapper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  generate the snapshot of the cache items</span></span><br><span class="line">    <span class="built_in">skv_store_item_make_snapshot</span>(ctx);</span><br><span class="line">    p_item_section = &amp;ctx-&gt;store_hdr-&gt;item_section;</span><br><span class="line"></span><br><span class="line">    store_item_wrapper.ctx = ctx;</span><br><span class="line">    store_item_wrapper.key_offset =</span><br><span class="line">            (<span class="keyword">int64_t</span>) (key-&gt;data - (<span class="keyword">char</span> *) ctx-&gt;store_hdr);</span><br><span class="line">    store_item_wrapper.store_item.key_len = key-&gt;len + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// search snapshot</span></span><br><span class="line">    p_cache_item = <span class="keyword">static_cast</span>&lt;skv_store_item *&gt;(<span class="built_in">bsearch</span>(&amp;store_item_wrapper.store_item,</span><br><span class="line">                                                            ctx-&gt;store_items_snapshot,</span><br><span class="line">                                                            p_item_section-&gt;used,</span><br><span class="line">                                                            <span class="built_in"><span class="keyword">sizeof</span></span>(skv_store_item),</span><br><span class="line">                                                            skv_store_item_key_compare));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (p_cache_item == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;Add key : %.*s - %.*s&quot;</span>, key-&gt;len, key-&gt;data, value-&gt;len, value-&gt;data);</span><br><span class="line">        ret = <span class="built_in">skv_store_item_add</span>(ctx, ctx-&gt;store_items_snapshot + p_item_section-&gt;used, key, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;Replace key(%.*s) with (%.*s)&quot;</span>, key-&gt;len, key-&gt;data,</span><br><span class="line">                    value-&gt;len, value-&gt;data);</span><br><span class="line">        ret = <span class="built_in">skv_store_item_replace</span>(ctx, p_cache_item, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ret != SKV_OK) &#123;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Switch the cache item section if this key doesn&#x27;t exist</span></span><br><span class="line">    <span class="keyword">if</span> (p_cache_item == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        p_item_section-&gt;used++;</span><br><span class="line">        store_item_wrapper.key_offset = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">skv_item_sort</span>(ctx-&gt;store_items_snapshot,</span><br><span class="line">                        ctx-&gt;store_hdr-&gt;item_section.used,</span><br><span class="line">                        <span class="built_in"><span class="keyword">sizeof</span></span>(skv_store_item),</span><br><span class="line">                        &amp;store_item_wrapper,</span><br><span class="line">                        store_item_qsort_compare);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// item的buffer切换 实现lock-free</span></span><br><span class="line">    p_item_section-&gt;id = <span class="built_in">SKV_STORE_GET_SEC_SNAPSHOT_ID</span>(ctx-&gt;store_hdr-&gt;item_section);</span><br><span class="line">    <span class="keyword">return</span> SKV_OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="store-del">Store Del</h2>
<ul>
<li>删除的是最后一个item，直接item.used--<br />
</li>
<li>删除的不是最后一个item，直接将下一个item至最后全部进一位<br />
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">skv_store_del</span><span class="params">(skv_ctx *ctx,</span></span></span><br><span class="line"><span class="params"><span class="function">                            skv_str *key)</span> </span>&#123;</span><br><span class="line">    skv_store_item *p_cache_item = <span class="literal">nullptr</span>;</span><br><span class="line">    skv_store_section *p_item_section = <span class="literal">nullptr</span>;</span><br><span class="line">    skv_store_item_wrapper store_item_wrapper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  generate the snapshot of the cache items</span></span><br><span class="line">    <span class="built_in">skv_store_item_make_snapshot</span>(ctx);</span><br><span class="line"></span><br><span class="line">    p_item_section = &amp;ctx-&gt;store_hdr-&gt;item_section;</span><br><span class="line"></span><br><span class="line">    store_item_wrapper.ctx = ctx;</span><br><span class="line">    store_item_wrapper.key_offset =</span><br><span class="line">            (<span class="keyword">int64_t</span>) (key-&gt;data - (<span class="keyword">char</span> *) ctx-&gt;store_hdr);</span><br><span class="line">    store_item_wrapper.store_item.key_len = key-&gt;len + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    p_cache_item = <span class="keyword">static_cast</span>&lt;skv_store_item *&gt;(<span class="built_in">bsearch</span>(&amp;store_item_wrapper.store_item,</span><br><span class="line">                                                            ctx-&gt;store_items_snapshot,</span><br><span class="line">                                                            p_item_section-&gt;used,</span><br><span class="line">                                                            <span class="built_in"><span class="keyword">sizeof</span></span>(skv_store_item),</span><br><span class="line">                                                            skv_store_item_key_compare));</span><br><span class="line">    <span class="keyword">if</span> (p_cache_item == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;Not found key: %.*s&quot;</span>, key-&gt;len, key-&gt;data);</span><br><span class="line">        <span class="keyword">return</span> SKV_NOT_FOUND;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ((p_cache_item - ctx-&gt;store_items_snapshot + <span class="number">1</span>) &lt; p_item_section-&gt;used) &#123;</span><br><span class="line">        <span class="built_in">memcpy</span>(p_cache_item, p_cache_item + <span class="number">1</span>,</span><br><span class="line">                <span class="built_in"><span class="keyword">sizeof</span></span>(skv_store_item) * (p_item_section-&gt;used -</span><br><span class="line">                                            (p_cache_item - ctx-&gt;store_items_snapshot) + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    p_item_section-&gt;id = <span class="built_in">SKV_STORE_GET_SEC_SNAPSHOT_ID</span>(ctx-&gt;store_hdr-&gt;item_section);</span><br><span class="line">    p_item_section-&gt;used--;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> SKV_OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="interface">Interface</h2>
<p>在接口类添加了<code>process_lock</code>和<code>thread_lock</code>的功能，实现低性能的锁安全的多写多读功能。
对于高性能的多写多读功能可以在<code>set</code>函数前置<code>scmp</code>的消息队列实现。
* <a
href="https://github.com/MengRao/MPSC_Queue#mpsc_queue">MPSC_Queue</a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ShmKV</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    skv_ctx ctx&#123;&#125;;</span><br><span class="line">    CProcessMutex *ptr_process_mutex = <span class="literal">nullptr</span>;</span><br><span class="line">    std::mutex ptr_thread_lock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init_disk_file</span><span class="params">(<span class="keyword">const</span> std::string &amp;path,</span></span></span><br><span class="line"><span class="params"><span class="function">                                <span class="keyword">const</span> <span class="keyword">bool</span> &amp;write_mode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (write_mode) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">remove</span>(<span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(path.<span class="built_in">c_str</span>())) == <span class="number">0</span>)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;Removed %s succeeded.\n&quot;</span>, <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(path.<span class="built_in">c_str</span>()));</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;Removed %s failed.\n&quot;</span>, <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(path.<span class="built_in">c_str</span>()));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">init_mmap</span><span class="params">(<span class="keyword">const</span> std::string &amp;path,</span></span></span><br><span class="line"><span class="params"><span class="function">                    <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;key_count,</span></span></span><br><span class="line"><span class="params"><span class="function">                    <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;value_size,</span></span></span><br><span class="line"><span class="params"><span class="function">                    <span class="keyword">const</span> <span class="keyword">bool</span> &amp;write_mode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret;</span><br><span class="line">        <span class="keyword">if</span> (write_mode) &#123;</span><br><span class="line">            ret = <span class="built_in">skv_init</span>(&amp;ctx, <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(path.<span class="built_in">c_str</span>()), key_count, value_size, SKV_OP_TYPE_RW);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ret = <span class="built_in">skv_init</span>(&amp;ctx, <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(path.<span class="built_in">c_str</span>()), key_count, value_size, SKV_OP_TYPE_RO);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (ret != SKV_OK) &#123;</span><br><span class="line">            <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;Failed to initialize skv.\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> ret;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ShmKV</span>(<span class="keyword">const</span> std::string &amp;path,</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;count,</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;value_size,</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">bool</span> &amp;write_mode,</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">bool</span> &amp;init_disk,</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">bool</span> &amp;thread_lock = <span class="literal">false</span>,</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">bool</span> &amp;process_lock = <span class="literal">false</span>,</span><br><span class="line">            <span class="keyword">const</span> std::string &amp;process_mutex = <span class="string">&quot;process_mutex&quot;</span>) &#123;</span><br><span class="line">        <span class="built_in">init_disk_file</span>(path, init_disk);</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="built_in">init_mmap</span>(path, count, value_size, write_mode);</span><br><span class="line">        <span class="keyword">if</span> (ret != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;SKV初始化失败！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (process_lock &amp; thread_lock) &#123;</span><br><span class="line">            <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;error config, process_lock true, thread_lock true!&quot;</span>);</span><br><span class="line">            <span class="built_in">exit</span>(SKV_ERROR);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (process_lock) &#123;</span><br><span class="line">            ptr_process_mutex = <span class="keyword">new</span> <span class="built_in">CProcessMutex</span>(process_mutex.<span class="built_in">c_str</span>());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">ShmKV</span>() &#123;</span><br><span class="line">        <span class="built_in">skv_finish</span>(&amp;ctx);</span><br><span class="line">        <span class="keyword">delete</span> ptr_process_mutex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">set</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *key,</span></span></span><br><span class="line"><span class="params"><span class="function">                <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;key_len,</span></span></span><br><span class="line"><span class="params"><span class="function">                <span class="keyword">const</span> <span class="keyword">char</span> *value,</span></span></span><br><span class="line"><span class="params"><span class="function">                <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;value_len)</span> </span>&#123;</span><br><span class="line">        skv_str skv_key, skv_value;</span><br><span class="line">        skv_key.len = key_len;</span><br><span class="line">        skv_key.data = <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(key);</span><br><span class="line">        skv_value.len = value_len;</span><br><span class="line">        skv_value.data = <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(value);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ret = <span class="built_in">skv_set</span>(&amp;ctx, &amp;skv_key, &amp;skv_value);</span><br><span class="line">        <span class="keyword">if</span> (ret != SKV_OK) &#123;</span><br><span class="line">            <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;Failed to set %.*s.\n&quot;</span>, skv_key.len, skv_key.data);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">set_process_mutex</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *key,</span></span></span><br><span class="line"><span class="params"><span class="function">                            <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;key_len,</span></span></span><br><span class="line"><span class="params"><span class="function">                            <span class="keyword">const</span> <span class="keyword">char</span> *value,</span></span></span><br><span class="line"><span class="params"><span class="function">                            <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;value_len)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">bool</span> lock = ptr_process_mutex-&gt;<span class="built_in">Lock</span>();</span><br><span class="line">        <span class="keyword">if</span> (lock) &#123;</span><br><span class="line">            <span class="keyword">bool</span> ret = <span class="built_in">set</span>(key, key_len, value, value_len);</span><br><span class="line">            lock = ptr_process_mutex-&gt;<span class="built_in">UnLock</span>();</span><br><span class="line">            <span class="keyword">return</span> ret;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">set_thread_mutex</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *key,</span></span></span><br><span class="line"><span class="params"><span class="function">                            <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;key_len,</span></span></span><br><span class="line"><span class="params"><span class="function">                            <span class="keyword">const</span> <span class="keyword">char</span> *value,</span></span></span><br><span class="line"><span class="params"><span class="function">                            <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;value_len)</span> </span>&#123;</span><br><span class="line">        ptr_thread_lock.<span class="built_in">lock</span>();</span><br><span class="line">        <span class="keyword">bool</span> ret = <span class="built_in">set</span>(key, key_len, value, value_len);</span><br><span class="line">        ptr_thread_lock.<span class="built_in">unlock</span>();</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">get</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *key,</span></span></span><br><span class="line"><span class="params"><span class="function">                <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;key_len,</span></span></span><br><span class="line"><span class="params"><span class="function">                skv_str *skv_value)</span> </span>&#123;</span><br><span class="line">        skv_str skv_key;</span><br><span class="line">        skv_key.len = key_len;</span><br><span class="line">        skv_key.data = <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(key);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ret = <span class="built_in">skv_get</span>(&amp;ctx, &amp;skv_key, skv_value);</span><br><span class="line">        <span class="keyword">if</span> (ret != SKV_OK) &#123;</span><br><span class="line">            <span class="built_in">DEBUG_LOG</span>(<span class="string">&quot;Failed to get %.*s.\n&quot;</span>, skv_key.len, skv_key.data);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">del</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *key,</span></span></span><br><span class="line"><span class="params"><span class="function">                <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;key_len)</span> </span>&#123;</span><br><span class="line">        skv_str skv_key;</span><br><span class="line">        skv_key.len = key_len;</span><br><span class="line">        skv_key.data = <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(key);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ret = <span class="built_in">skv_del</span>(&amp;ctx, &amp;skv_key);</span><br><span class="line">        <span class="keyword">if</span> (ret != SKV_OK) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="pybind11封装">Pybind11封装</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PyShmKV</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    ots::shmkv::ShmKV *p;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">PyShmKV</span>(<span class="keyword">const</span> std::string &amp;path,</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;count,</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;value_size,</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">bool</span> &amp;write_mode,</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">bool</span> &amp;init_disk,</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">bool</span> &amp;thread_lock = <span class="literal">false</span>,</span><br><span class="line">            <span class="keyword">const</span> <span class="keyword">bool</span> &amp;process_lock = <span class="literal">false</span>,</span><br><span class="line">            <span class="keyword">const</span> std::string &amp;process_mutex = <span class="string">&quot;process_mutex&quot;</span>) &#123;</span><br><span class="line">        p = <span class="keyword">new</span> ots::shmkv::<span class="built_in">ShmKV</span>(path, count, value_size, write_mode, init_disk, thread_lock, process_lock, process_mutex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">PyShmKV</span>() &#123;</span><br><span class="line">        <span class="keyword">delete</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">set</span><span class="params">(<span class="keyword">const</span> std::string &amp;k,</span></span></span><br><span class="line"><span class="params"><span class="function">             <span class="keyword">const</span> std::string &amp;v,</span></span></span><br><span class="line"><span class="params"><span class="function">             <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;value_len)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">bool</span> ret = p-&gt;<span class="built_in">set</span>(<span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(k.<span class="built_in">c_str</span>()),</span><br><span class="line">                          <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(k.<span class="built_in">length</span>()),</span><br><span class="line">                          v.<span class="built_in">c_str</span>(),</span><br><span class="line">                          value_len);</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">set_process_mutex</span><span class="params">(<span class="keyword">const</span> std::string &amp;k,</span></span></span><br><span class="line"><span class="params"><span class="function">                           <span class="keyword">const</span> std::string &amp;v,</span></span></span><br><span class="line"><span class="params"><span class="function">                           <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;value_len)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">bool</span> ret = p-&gt;<span class="built_in">set_process_mutex</span>(<span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(k.<span class="built_in">c_str</span>()),</span><br><span class="line">                                        <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(k.<span class="built_in">length</span>()),</span><br><span class="line">                                        v.<span class="built_in">c_str</span>(),</span><br><span class="line">                                        value_len);</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">set_thread_mutex</span><span class="params">(<span class="keyword">const</span> std::string &amp;k,</span></span></span><br><span class="line"><span class="params"><span class="function">                          <span class="keyword">const</span> std::string &amp;v,</span></span></span><br><span class="line"><span class="params"><span class="function">                          <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;value_len)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">bool</span> ret = p-&gt;<span class="built_in">set_thread_mutex</span>(<span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(k.<span class="built_in">c_str</span>()),</span><br><span class="line">                                       <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(k.<span class="built_in">length</span>()),</span><br><span class="line">                                       v.<span class="built_in">c_str</span>(),</span><br><span class="line">                                       value_len);</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function">py::tuple <span class="title">get</span><span class="params">(<span class="keyword">const</span> std::string &amp;k)</span> </span>&#123;</span><br><span class="line">        ots::shmkv::skv_str skv_value;</span><br><span class="line">        <span class="keyword">bool</span> ret = p-&gt;<span class="built_in">get</span>(<span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(k.<span class="built_in">c_str</span>()),</span><br><span class="line">                          <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(k.<span class="built_in">length</span>()),</span><br><span class="line">                          &amp;skv_value);</span><br><span class="line">        <span class="keyword">if</span> (ret) &#123;</span><br><span class="line">            <span class="keyword">return</span> py::<span class="built_in">make_tuple</span>(<span class="literal">true</span>, <span class="string">&quot;null&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        std::string str = skv_value.data;</span><br><span class="line">        <span class="keyword">return</span> py::<span class="built_in">make_tuple</span>(<span class="literal">false</span>, str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">del</span><span class="params">(<span class="keyword">const</span> std::string &amp;k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">bool</span> ret = p-&gt;<span class="built_in">del</span>(<span class="keyword">const_cast</span>&lt;<span class="keyword">char</span> *&gt;(k.<span class="built_in">c_str</span>()),</span><br><span class="line">                          <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(k.<span class="built_in">length</span>()));</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">PYBIND11_MODULE</span>(pyshmkv, m) &#123;</span><br><span class="line">    py::class_&lt;PyShmKV&gt;(m, <span class="string">&quot;PyShmKV&quot;</span>)</span><br><span class="line">            .<span class="built_in">def</span>(py::init&lt;<span class="keyword">const</span> std::string &amp;,</span><br><span class="line">                          <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;,</span><br><span class="line">                          <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;,</span><br><span class="line">                          <span class="keyword">const</span> <span class="keyword">bool</span> &amp;,</span><br><span class="line">                          <span class="keyword">const</span> <span class="keyword">bool</span> &amp;,</span><br><span class="line">                          <span class="keyword">const</span> <span class="keyword">bool</span> &amp;,</span><br><span class="line">                          <span class="keyword">const</span> <span class="keyword">bool</span> &amp;,</span><br><span class="line">                          <span class="keyword">const</span> std::string &amp;&gt;())</span><br><span class="line">            .<span class="built_in">def</span>(<span class="string">&quot;set&quot;</span>, &amp;PyShmKV::set)</span><br><span class="line">            .<span class="built_in">def</span>(<span class="string">&quot;set_process_mutex&quot;</span>, &amp;PyShmKV::set_process_mutex)</span><br><span class="line">            .<span class="built_in">def</span>(<span class="string">&quot;set_thread_mutex&quot;</span>, &amp;PyShmKV::set_thread_mutex)</span><br><span class="line">            .<span class="built_in">def</span>(<span class="string">&quot;get&quot;</span>, &amp;PyShmKV::get)</span><br><span class="line">            .<span class="built_in">def</span>(<span class="string">&quot;del_void&quot;</span>, &amp;PyShmKV::del);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="python封装">Python封装</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pickle <span class="keyword">import</span> dumps, loads</span><br><span class="line"><span class="keyword">from</span> pyshmkv <span class="keyword">import</span> PyShmKV <span class="keyword">as</span> _PyShmKV</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PyShmKV</span>(<span class="params">_PyShmKV</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,</span></span></span><br><span class="line"><span class="params"><span class="function">                 path: <span class="built_in">str</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                 count: <span class="built_in">int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                 value_size: <span class="built_in">int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                 write_mode: <span class="built_in">bool</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                 init_disk: <span class="built_in">bool</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                 thread_lock: <span class="built_in">bool</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                 process_lock: <span class="built_in">bool</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                 process_mutex: <span class="built_in">str</span> = <span class="string">&quot;process_mutex&quot;</span></span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param path:</span></span><br><span class="line"><span class="string">        :param count:</span></span><br><span class="line"><span class="string">        :param value_size:</span></span><br><span class="line"><span class="string">        :param write_mode:</span></span><br><span class="line"><span class="string">        :param init_disk:</span></span><br><span class="line"><span class="string">        :param thread_lock:</span></span><br><span class="line"><span class="string">        :param process_lock:</span></span><br><span class="line"><span class="string">        :param process_mutex:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(path, count, value_size, write_mode, init_disk, thread_lock, process_lock, process_mutex)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_data</span>(<span class="params">self, key: <span class="built_in">str</span>, value:<span class="built_in">any</span></span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        任意数据通过pickle转换为二进制数据</span></span><br><span class="line"><span class="string">        :param key:</span></span><br><span class="line"><span class="string">        :param value:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        bin_data = dumps(value, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> self.<span class="built_in">set</span>(key, bin_data, <span class="built_in">len</span>(bin_data)+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_data_thread_mutex</span>(<span class="params">self, key: <span class="built_in">str</span>, value</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        任意数据通过pickle转换为二进制数据</span></span><br><span class="line"><span class="string">        :param key:</span></span><br><span class="line"><span class="string">        :param value:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        bin_data = dumps(value, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> self.set_thread_mutex(key, bin_data, <span class="built_in">len</span>(bin_data))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_data_process_mutex</span>(<span class="params">self, key: <span class="built_in">str</span>, value</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        任意数据通过pickle转换为二进制数据</span></span><br><span class="line"><span class="string">        :param key:</span></span><br><span class="line"><span class="string">        :param value:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        bin_data = dumps(value, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> self.set_process_mutex(key, bin_data, <span class="built_in">len</span>(bin_data))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_data</span>(<span class="params">self, key: <span class="built_in">str</span></span>):</span></span><br><span class="line">        ret, bin_data = self.get(key)</span><br><span class="line">        <span class="keyword">if</span> ret:</span><br><span class="line">            <span class="keyword">return</span> ret, <span class="literal">None</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> ret, loads(bin_data.encode())</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">del_data</span>(<span class="params">self, key</span>):</span></span><br><span class="line">        self.del_void(key)</span><br></pre></td></tr></table></figure>
<h2 id="任意数据写入测试">任意数据写入测试</h2>
<p>Python任意数据类型写入读取测试 <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> DataFrame</span><br><span class="line">data = DataFrame(data=[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], columns=[<span class="string">&quot;test&quot;</span>])</span><br><span class="line">bin_data = dumps(data, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(bin_data))</span><br><span class="line"></span><br><span class="line">shm.set_data(<span class="string">&quot;test1&quot;</span>, data)</span><br><span class="line"><span class="built_in">print</span>(shm.get_data(<span class="string">&quot;test1&quot;</span>))</span><br></pre></td></tr></table></figure></p>
<hr />
<h2 id="参考">参考</h2>
<ul>
<li><a
href="https://stackoverflow.com/questions/873454/how-to-truncate-a-file-in-c">How
to truncate a file in C?</a></li>
<li><a href="https://github.com/alitrack/mman-win32">mman-win32</a></li>
<li><a
href="https://blog.csdn.net/zhao888789/article/details/79186619">C语言qsort函数用法</a></li>
<li><a
href="https://blog.csdn.net/www_dong/article/details/108743363">bsearch(二分法查找)</a></li>
<li><a href="https://github.com/agile6v/pupa">pupa key-value
library</a></li>
<li><a
href="https://www.cnblogs.com/jiangwang2013/p/3726097.html">多进程之间的互斥信号量实现(Linux和windows跨平台)</a></li>
<li><a
href="https://leohsiao.com/Python/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/pybind11.html">如果将
C++ 输出的字符串转换为 py::bytes 对象，则会被 pybind11 当做 bytes
类型直接传递</a></li>
<li><a
href="https://blog.csdn.net/yingms/article/details/53188974">关于堆栈的讲解</a></li>
<li><a
href="https://juejin.cn/post/6844904102632112142">C++中数组的最大长度</a></li>
<li><a
href="https://docs.microsoft.com/zh-cn/cpp/c-language/initializing-strings?view=msvc-170">在
Microsoft C 中，字符串文本的长度最大为 2048 个字节</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>shmkv</tag>
        <tag>ipc</tag>
      </tags>
  </entry>
  <entry>
    <title>三次样条（cubic spline）插值</title>
    <url>/2022/11/18/spline/</url>
    <content><![CDATA[<ul>
<li><a href="https://zhuanlan.zhihu.com/p/62860859">三次样条（cubic
spline）插值</a></li>
<li><a href="https://github.com/ttk592/spline">spline</a></li>
<li><a href="https://kluge.in-chemnitz.de/opensource/spline/">Cubic
Spline interpolation in C++</a></li>
</ul>
]]></content>
      <categories>
        <category>Math</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title>博客设置备忘录</title>
    <url>/2021/12/04/start-blog/</url>
    <content><![CDATA[<h2 id="npm设置淘宝源">Npm设置淘宝源</h2>
<ul>
<li><p>安装node.js http://nodejs.cn/download/</p></li>
<li><p>设置淘宝源</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm config set registry http://registry.npm.taobao.org/</span><br></pre></td></tr></table></figure></li>
<li><p>检查是否更换成功</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm config get registry</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="安装hexo">安装Hexo</h2>
<ul>
<li><p>安装hexo</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></li>
<li><p>建站初始化</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo init myblog</span><br><span class="line">cd myblog</span><br><span class="line">npm install</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="安装-next">安装 NexT</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>
<ul>
<li><p>调整Scheme Settings</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Schemes</span><br><span class="line"># scheme: Muse</span><br><span class="line">scheme: Mist</span><br><span class="line"># scheme: Pisces</span><br><span class="line"># scheme: Gemini</span><br></pre></td></tr></table></figure></li>
<li><p>设置语言</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">language: zh-Hans</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="让-hexo-next-v8.0.0-支持-latex-数学公式">让 Hexo Next (v8.0.0)
支持 LaTeX 数学公式</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">brew install pandoc</span><br><span class="line">npm un hexo-renderer-marked</span><br><span class="line">npm i hexo-renderer-pandoc</span><br></pre></td></tr></table></figure>
<h2 id="hexo博客添加搜索功能">Hexo博客添加搜索功能</h2>
<ul>
<li><a
href="https://xinyufeng.net/2020/09/25/Hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/">Hexo博客添加搜索功能</a></li>
</ul>
<h2 id="显示图片">显示图片</h2>
<ul>
<li>安装插件:
在博客的根目录下执行：<code>npm install hexo-asset-image --save</code>
或<code>npm install hexo-asset-image --g</code></li>
<li>修改站点配置文件_config.yml： 找到
<code>post_asset_folder</code>，把值改成
true，这样在执行<code>hexo new page</code>
的时候，会在source/_posts文件夹下生成一个和page同名的文件夹，可以存放该page中用到的图片</li>
<li>插入本地图片<code>&lt;img src="image.png" width="100%" height="100%" title="demo" alt="demo"/&gt;</code></li>
</ul>
<h2 id="嵌入html文件">嵌入Html文件</h2>
<p>在markdown中使用iframe，同样和插入图片方式大同小异我们创建一个和md文件一模一样名字的文件夹,把要插入的html文件放入其中就行,不需要绝对路径。</p>
<p><code>&lt;iframe src="filename.html" width="700" height="800"&gt;&lt;/iframe&gt;</code></p>
<p>但是这时候就有一个问题,hexo会自动扫描所有_source文件夹中的文件,那么html文件就会被扫描到从而被渲染后上传到博客里,我们不希望有重复的内容,那么应该如何让hexo跳过扫描呢?</p>
<p>在根目录下的<code>_config.yml</code>配置过滤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 跳过文件夹下所有文件</span><br><span class="line">skip_render: </span><br><span class="line">  - &quot;文件夹名/*&quot;</span><br></pre></td></tr></table></figure>
<ul>
<li><a
href="https://www.guojingde.cn/2020/01/26/Hexo%20如何优雅的加入Rmarkdown生成的html文件/">Hexo
如何优雅的加入Rmarkdown生成的html/pdf文件</a></li>
<li><a
href="https://amnesia-f.github.io/posts/ecc2/">Hexo博客技巧：添加自定义html页面
| Amnesia's blog</a></li>
</ul>
<h2 id="解决hexo文章更新时间问题">解决Hexo文章更新时间问题</h2>
<p><a
href="https://sqiang.net/post/2792803495.html">解决Hexo文章更新时间问题</a></p>
<hr />
<ul>
<li><a
href="https://www.jianshu.com/p/d43e59280084">npm设置淘宝源</a></li>
<li><a href="https://hexo.io/zh-cn/docs/">Hexo</a></li>
<li><a href="http://theme-next.iissnan.com/">Next使用文档</a></li>
<li><a
href="https://dog.wtf/tech/making-hexo-next-theme-latex-math-equation-supported/">让
Hexo Next (v8.0.0) 支持 LaTeX 数学公式</a></li>
<li><a href="https://iamlay.com/2020/03/24/HexoNextTheme/">Next主题 -
图片设置</a></li>
<li><a
href="https://blog.csdn.net/wugenqiang/article/details/89057323">Hexo文章中图片点击实现全屏查看</a></li>
<li><a
href="https://xinyufeng.net/2020/09/25/Hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/">Hexo博客添加搜索功能</a></li>
<li><a
href="https://shukangzhang.com/hexo-tian-jia-pdf/">hexo添加pdf预览-谈谈现有教程遗漏的地方</a></li>
</ul>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>blog</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>主要指数分析</title>
    <url>/2022/09/06/stock-index/</url>
    <content><![CDATA[<p><img src="fig1.png" width="50%" height="50%" title="指数成分股权重占比" alt="指数成分股权重占比"/></p>
<p><a
href="https://www.csindex.com.cn/#/indices/family/detail?indexCode=000016">上证50指数</a>以上证180指数样本为样本空间，挑选上海证券市场规模大、流动性好的最具代表性的50只证券作为样本，综合反映上海证券市场最具市场影响力的一批龙头企业的整体表现。</p>
<p><a
href="https://www.csindex.com.cn/#/indices/family/detail?indexCode=000300">沪深300指数</a>由沪深市场中规模大、流动性好的最具代表性的300只证券组成，于2005年4月8日正式发布，以反映沪深市场上市公司证券的整体表现。</p>
<p><a
href="https://www.csindex.com.cn/#/indices/family/detail?indexCode=000905">中证500指数</a>在样本空间中剔除沪深
300 指数样本以及过去一年日均总市值排名 前 300
的证券；对样本空间内剩余证券按照过去一年日均成交金额由高到低排名，
剔除排名后
20%的证券；将剩余证券按照过去一年日均总市值由高到低进行排名，选取排名 前
500 的证券作为指数样本。</p>
<p><a
href="https://www.csindex.com.cn/#/indices/family/detail?indexCode=000852">中证1000指数
(000852)</a>
中证1000指数选取中证800指数样本以外的规模偏小且流动性好的1000只证券作为指数样本，与沪深300和中证500等指数形成互补。</p>
<p><a
href="http://www.cnindex.com.cn/module/index-detail.html?act_menu=1&amp;indexCode=399311">国证1000指数(399311)</a>国证1000指数由A股市场中市值大、流动性好的1000只股票构成，反映A股市场大中盘股票的价格变动趋势。</p>
<p><a
href="http://www.cnindex.com.cn/module/index-detail.html?act_menu=1&amp;indexCode=399303">国证2000指数(399303)</a>
国证2000由扣除总市值排名前1000只证券后市值大、流动性好的2000只证券组成，反映沪深市场小型证券的价格变动趋势。</p>
]]></content>
      <categories>
        <category>Stock</category>
      </categories>
      <tags>
        <tag>TA</tag>
      </tags>
  </entry>
  <entry>
    <title>为什么底层 C/C++ 代码的 char[] 比 string 多很多？</title>
    <url>/2022/09/23/struct/</url>
    <content><![CDATA[<ul>
<li>https://www.zhihu.com/question/361487567/answer/939487994</li>
</ul>
<p>网络通信用char[]比string要更常见。以下两个结构体一个用char[]一个用string：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">PackageA</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">    <span class="keyword">int</span> b;</span><br><span class="line">    <span class="keyword">int</span> buff_len;</span><br><span class="line">    <span class="keyword">char</span> buff[<span class="number">100</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">PackageB</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">    <span class="keyword">int</span> b;</span><br><span class="line">    string buff;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>两个都可以达到要求，但是用起来PackageA其实更简单，因为PackageA是POD，整个结构体的数据是在一块内存中，可以用memset清零，可以用memcpy来拷贝，甚至可以将整个PackageA的内容通过socket发送到另一台机器上去（后台开发可以这样），省掉打包和解包的过程。而且对于多个PackageA，可以非常简单地使用mempool，因为内存连续。</p>
<p>但是对于PackageB就不行，string存储的内容和其它成员的内容在内存布局上不是在一起，不能整块拷贝和清零，需要为结构体定义构造函数和析构函数，由于多了string的构造函数和析构函数的调用，性能肯定比不上PackageA，而且对于PackageB要使用内存池也更麻烦。</p>
<p>评论区有的人说变长就不行了。变长这样定义：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">PackageA</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">    <span class="keyword">int</span> b;</span><br><span class="line">    <span class="keyword">int</span> buff_len;</span><br><span class="line">    <span class="keyword">char</span> buff[<span class="number">0</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>这样你想要多长都可以。比如说你想要100G的长度，就这样用：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span>* buff = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">100</span>G + <span class="built_in"><span class="keyword">sizeof</span></span>(PackageA)];</span><br><span class="line">PackageA* p = (PackageA*)buff;</span><br><span class="line">p-&gt;buff_len = <span class="number">100</span>G;</span><br></pre></td></tr></table></figure>
<p>不过我自己在服务器编程多年用的都是定长，因为无论如何变长，长度都必须指定一个上限，用上限值作为定长buffer的长度即可。</p>
<h3 id="what-are-pod-types-in-c">What are POD types in C++?</h3>
<ul>
<li>https://stackoverflow.com/questions/146452/what-are-pod-types-in-c</li>
</ul>
<p>POD stands for Plain Old Data - that is, a class (whether defined
with the keyword struct or the keyword class) without constructors,
destructors and virtual members functions. Wikipedia's article on POD
goes into a bit more detail and defines it as:</p>
<blockquote>
<p>A Plain Old Data Structure in C++ is an aggregate class that contains
only PODS as members, has no user-defined destructor, no user-defined
copy assignment operator, and no nonstatic members of pointer-to-member
type.</p>
</blockquote>
<p>Greater detail can be found in this answer for C++98/03. C++11
changed the rules surrounding POD, relaxing them greatly, thus
necessitating a follow-up answer here.</p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>struct</tag>
      </tags>
  </entry>
  <entry>
    <title>Stochastic Volatility Inspired</title>
    <url>/2021/07/13/svi/</url>
    <content><![CDATA[<p>The SVI is simply a function (empirically fit to the data) which
given a maturity and a strike price <span
class="math inline">\(K\)</span>, computes a BS implied volatility <span
class="math inline">\(\sigma\)</span>. Once you have that implied
volatility you can plug it into a Black Scholes routine which can
compute the BS price and the Black Scholes Greeks. SVI/SVI-JW are used
to describe <strong>one slice</strong> (single tenor) at the time;
<strong>Surface SVI</strong> (SSVI) is used to fit the whole surface
(multiple tenors).</p>
<span id="more"></span>
<h2 id="the-svi-parameterization">The SVI parameterization</h2>
<p>Implied variance is always linear in <span
class="math inline">\(k\)</span> as <span class="math inline">\(|k| \to
+\infty\)</span>. If we want a parameterization of the implied variance
surface, it needs to be linear in the wings and it needs to be curved in
the middle as many conventional parameterizations of the volatility
surface are quadratic for example.</p>
<p><span class="math display">\[
{\rm var}(k; a,b,\sigma,\rho, m) = a+b(\rho(k-m) +
\sqrt{(k-m)^2+\sigma^2})
\]</span></p>
<ul>
<li><span class="math inline">\(a\)</span> gives the overall level of
variance，<span
class="math inline">\(a\)</span>增加时，波动率曲线整体向上平移。</li>
<li><span class="math inline">\(b\)</span> gives the angle between the
left and right asymptotes，<span
class="math inline">\(b\)</span>增加时两翼之间的夹角变小 。</li>
<li><span class="math inline">\(\sigma\)</span> determines how smooth
the vertex is, reduces ATM curvature of the smile</li>
<li><span class="math inline">\(\rho\)</span> determines the orientation
of the graph，rho负右偏，rho正左偏</li>
<li>changing <span class="math inline">\(m\)</span> translates the
graph，m增加，右移</li>
<li>SVI线性模型拟合方差，对iv-slice实质上是亚线性模型。</li>
</ul>
<h2 id="slopes-and-minimum">Slopes and minimum</h2>
<p>The left and right asymptotes are respectively <span
class="math display">\[\begin{equation}
\begin{aligned}
\sigma_{L}^2(x) &amp;= a - b(1-\rho)(x-m)\\
\sigma_{R}^2 &amp;= a + b(1+\rho)(x-m)
\end{aligned}
\end{equation}\]</span></p>
<p><img src="fig1.png" width="75%" height="75%" title="fig1" alt="fig1"/></p>
<ul>
<li>Variance increases linearly with |k| for k very positive or very
negative</li>
<li>Intuition is that the more out-of-the-money an option is, the more
volatility convexity it has.</li>
</ul>
<p>在实际应用中SVI表达式对极大极小值线性近似几乎没有实际影响，设<span
class="math inline">\(S=3\)</span>, <span
class="math inline">\(K=range(2, 4,
0.1)\)</span>则moneyness对应的SVI拟合曲线如下图，并未达到极端值区间。其中left和right为左右渐近线。</p>
<p><img src="svi-linear.png" width="75%" height="75%" title="svi-linear" alt="svi-linear"/></p>
<h2 id="arbitrage-free-conditions">Arbitrage-Free Conditions</h2>
<h3 id="vertical-spread-arbitrage-free">Vertical Spread
Arbitrage-Free</h3>
<p><span class="math display">\[
b(1+|\rho|) \leq \frac{4}{T}
\]</span></p>
<h3 id="calendar-spread-arbitrage-free">Calendar Spread
Arbitrage-Free</h3>
<p>Keeping the moneyness constant, option prices are non-decreasing in
time to expiration. Let <span class="math inline">\(\omega_t =
\sigma_{BS}(k,t)^2t\)</span> for fixed <span
class="math inline">\(k\)</span>, we must have the total implied
variance non-decreasing with respect to time to expiration.</p>
<h2 id="quasi-explicit-calibration">Quasi-Explicit Calibration</h2>
<p>Quasi-Explicit
Calibration通过两步法循环优化将对5个变量损失函数的优化过程降维到2个变量，
提高了校正的速度和参数稳定性。 使用整体方差<span
class="math inline">\({\rm tv} = \sigma_{\rm implied} ^2 T\)</span>
替换方差<span class="math inline">\({\rm var}\)</span> <span
class="math display">\[
{\rm var} \cdot T = (a+b(\rho(k-m) + \sqrt{(k-m)^2+\sigma^2})) \cdot T
\]</span> <span class="math display">\[
{\rm tv} = a T+b T(\rho(k-m) + \sqrt{(k-m)^2+\sigma^2})
\]</span> 令<span class="math inline">\(y = \frac{k-m}{\sigma}\)</span>
则原始的SVI模型转换为 <span class="math display">\[
{\rm tv} = aT+b\sigma T(\rho y + \sqrt{y^2+1})
\]</span> 令 <span class="math display">\[
c = b\sigma T\\
d = \rho b \sigma T\\
\widetilde{a} = aT
\]</span> 则 <span class="math display">\[
{\rm tv} =\widetilde v(y) =\widetilde{a} + dy+c\sqrt{y^2+1}
\]</span> 校准的目标函数从5个参数转换为2个参数<span
class="math inline">\(m\)</span>和<span
class="math inline">\(\sigma\)</span>的损失函数 <span
class="math display">\[
f_{y,{\rm tv} } (c,d,\widetilde{a}) = \sum((\widetilde a + dy +
c\sqrt{y^2+1}) - \widetilde v(y))^2
\]</span> 即最优化 <span class="math display">\[
(P_{m,\sigma}) = {\rm min}_{(c,d,\widetilde{a}) \in D} f_{y,{\rm tv} }
(c,d,\widetilde{a})
\]</span> 函数<span class="math inline">\(f_{y,{\rm tv} }
(c,d,\widetilde{a})\)</span>是固定参数<span
class="math inline">\(m\)</span>和<span
class="math inline">\(\sigma\)</span>对应<span
class="math inline">\(c,d,a\)</span>的损失函数 <span
class="math display">\[
f_{y,{\rm tv} } (c,d,\widetilde{a})=\sum^{n}_{i=1} (\widetilde{a} + dy_i
+ c\sqrt{y^2+1}- v(y))^2
\]</span> 约束域<span class="math inline">\(D\)</span>为 <span
class="math display">\[
0\leq c\leq 4\sigma\\
\]</span> <span class="math display">\[
|d|\leq c \ {\rm and} \ |d|\leq 4\sigma - c\\
\]</span> <span class="math display">\[
0\leq \widetilde{a} \leq {\rm max } \{ {\widetilde v_i} \}
\]</span>
至此，SVI模型的优化过程变成一个两步优化过程，外层循环使用Nelder-Mead估算<span
class="math inline">\(m\)</span>和<span
class="math inline">\(\sigma\)</span>两个参数，内层使用梯度下降法令梯度算子为0直接获得<span
class="math inline">\(a,b,
\rho\)</span>三个参数。对于超出边界的情况使用凸优化域边界值为三个未知变量<span
class="math inline">\(a,d,c\)</span>赋值，计算在边界条件时候的loss函数，选择loss最小的一组<span
class="math inline">\(a,d,c\)</span>值作为<span
class="math inline">\(m,\sigma\)</span>在网格参数扫描对应参数的loss。</p>
<p><strong>优化算法</strong></p>
<ul>
<li>step-1 参数<span class="math inline">\(m,\sigma\)</span>对应的<span
class="math inline">\(c,d,a\)</span>直接解线性方程组，检测函数<code>acceptable</code>判断是否在域内，如果<span
class="math inline">\(c,d,a\)</span>参数取值在域内直接采用。
对变量为<span class="math inline">\(a,b,
\rho\)</span>的方程组使用GBD算法优化的最小值在梯度<span
class="math inline">\(\nabla f =0\)</span>的位置，即 <span
class="math display">\[
\frac{1}{2}\nabla f(c,d,\widetilde a) = A \begin{Bmatrix} c \\ d \\a
\end{Bmatrix} - b = 0
\]</span></li>
</ul>
<p><span class="math display">\[
A= \begin{Bmatrix} n+Y_2 &amp;&amp; Y_4 &amp;&amp; Y_3 \\ Y_4 &amp;&amp;
Y_2 &amp;&amp; Y_1 \\ Y_3 &amp;&amp; Y_1 &amp;&amp; n \end{Bmatrix}
\]</span></p>
<p><span class="math display">\[
b =\begin{Bmatrix} vY_2\\ vY \\v \end{Bmatrix}
\]</span></p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
Y_1 &amp;= \sum_i y_i\\
Y_2 &amp;= \sum_i y_i^2 \\
Y_3 &amp;= \sum_i \sqrt{y_i^2+1}\\
Y_4 &amp;= \sum_i y_i \sqrt{y_i^2+1}\\
\end{aligned}
\end{equation}\]</span></p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
vY_2 &amp;= \sum_i \widetilde v_i \sqrt{y_i^2+1}\\
vY &amp;= \sum_i \widetilde v_i y_i\\
v &amp;= \sum_i \widetilde v_i \\
\end{aligned}
\end{equation}\]</span></p>
<p>程序实现中修改算法为 <span class="math display">\[
\begin{Bmatrix} y_5 &amp;&amp; y_4 &amp;&amp; y_3 \\ y_4 &amp;&amp; y_2
&amp;&amp; y_1 \\ y_3 &amp;&amp; y_1 &amp;&amp; w \end{Bmatrix}
\begin{Bmatrix} c \\ d \\a \end{Bmatrix} = \begin{Bmatrix} vy_2\\ vY \\v
\end{Bmatrix}
\]</span></p>
<ul>
<li>使用mean取代sum消除不同batch-size可能导致的数量级影响</li>
<li>使用 vega /
vega.max()的winsorize方式对loss-function中不同合约添加权重</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">vega /= vega.<span class="built_in">max</span>()  <span class="comment"># winsorize</span></span><br><span class="line">w = vega.mean()  <span class="comment"># weight replace n, n = tiv.shape[0]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># scale</span></span><br><span class="line">y = (k - m) / sigma</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2020-04-10 sum -&gt; mean 消除batch-size 数量级对epsilon影响,</span></span><br><span class="line"><span class="comment"># vega adjusted the weight of tail contracts in loss function</span></span><br><span class="line">y1 = (vega * y).mean()</span><br><span class="line">y2 = (vega * y * y).mean()</span><br><span class="line">y3 = (vega * sqrt(y * y + <span class="number">1</span>)).mean()</span><br><span class="line">y4 = (vega * y * sqrt(y * y + <span class="number">1</span>)).mean()</span><br><span class="line">y5 = (vega * (y * y + <span class="number">1</span>)).mean()</span><br><span class="line"></span><br><span class="line">vy2 = (vega * tiv * sqrt(y * y + <span class="number">1</span>)).mean()</span><br><span class="line">vy = (vega * tiv * y).mean()</span><br><span class="line">v = (vega * tiv).mean()</span><br></pre></td></tr></table></figure>
<ul>
<li>step-2
如果不在域内，使用边界条件的极值计算。分别假设一个变量取极值、两个变量取极值的loss-function，选择最小的loss对应的<span
class="math inline">\(c,d,a\)</span> 和loss作为<span
class="math inline">\(m,\sigma\)</span>对应的最优化。 例如对<span
class="math inline">\(a = 0\)</span> 约束域修改对比</li>
</ul>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
0 \leq c \leq 4\sigma \\
|d| \leq c \ and \ |d| \leq4\sigma - c \\
0 \leq \widetilde a \leq max_{i}\{\widetilde v_i \} \\
\end{aligned}
\end{equation}\]</span></p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
0 \leq c \leq 4\sigma  \\
|d| \leq c \ and \ |d| \leq4\sigma - c  \\
a = 0\\
\end{aligned}
\end{equation}\]</span></p>
<p><span class="math display">\[
\begin{Bmatrix} y_5 &amp;&amp; y_4 &amp;&amp; y_3 \\ y_4 &amp;&amp; y_2
&amp;&amp; y_1 \\ y_3 &amp;&amp; y_1 &amp;&amp; w \end{Bmatrix}
\begin{Bmatrix} c \\ d \\a \end{Bmatrix} = \begin{Bmatrix} vy_2\\ vY \\v
\end{Bmatrix}
\]</span></p>
<p><span class="math display">\[
\begin{Bmatrix} y_5 &amp;&amp; y_4 &amp;&amp; y_3 \\ y_4 &amp;&amp; y_2
&amp;&amp; y_1 \\ 0 &amp;&amp; 0 &amp;&amp; 1 \end{Bmatrix}
\begin{Bmatrix} c \\ d \\a \end{Bmatrix} = \begin{Bmatrix} vy_2\\ vY \\0
\end{Bmatrix}
\]</span></p>
<ul>
<li><strong>注</strong> 对<span
class="math inline">\(c,d,a\)</span>取边界条件进行参数扫描的时候 <span
class="math inline">\(c = 0, c=4\sigma\)</span> 隐含约束<span
class="math inline">\(d = 0\)</span> 。</li>
</ul>
<h3 id="梯度下降法展开">梯度下降法展开</h3>
<p>目标函数 <span class="math display">\[
f_{y,{\rm tv} } (c,d,\widetilde{a})=\sum^{n}_{i=1} (\widetilde{a} + dy_i
+ c\sqrt{y_i^2+1}- v(y_i))^2
\]</span> 调整符号和顺序 <span class="math display">\[
f (c,d,a)=\sum^{n}_{i=1} (\sqrt{y_i^2+1}\cdot c + y_i\cdot d  +
\widetilde{a}- \widetilde{v}_i)^2
\]</span></p>
<p>梯度下降，凸优化损失函数极值在梯度算子为0的位置<span
class="math inline">\(\nabla f =0\)</span> 对参数<span
class="math inline">\(c\)</span></p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
\frac{\partial f}{\partial c} &amp;= \sum 2 \sqrt{y_i^2+1}
(\sqrt{y_i^2+1}\cdot c + y_i\cdot d  + \widetilde{a}- \widetilde{v}_i)
\\
&amp;=\sum 2((y_i^2+1)c + \sqrt{y_i^2+1} y_i d + \sqrt{y_i^2+1}a) -
2\sum \sqrt{y_i^2+1} \cdot \widetilde{v}_i\\
&amp;= 0
\end{aligned}
\end{equation}\]</span></p>
<p>即 <span class="math display">\[
\sum(y_i^2+1) \cdot c + \sum\sqrt{y_i^2+1} y_i \cdot d + \sum
\sqrt{y_i^2+1} \cdot a - \sum \sqrt{y_i^2+1} \cdot \widetilde{v}_i= 0
\]</span></p>
<p>对参数<span class="math inline">\(d\)</span> <span
class="math display">\[
\frac{\partial f}{\partial d} = \sum 2 y_i (\sqrt{y_i^2+1}\cdot c +
y_i\cdot d  + \widetilde{a}- \widetilde{v}_i) = 0
\]</span> 即 <span class="math display">\[
\sum y_i \sqrt{y_i^2+1} \cdot c + \sum y_i^2 \cdot d +\sum y_i \cdot a -
\sum y_i \cdot \widetilde{v}_i = 0
\]</span></p>
<p>对参数<span class="math inline">\(a\)</span> <span
class="math display">\[
\frac{\partial f}{\partial a} = \sum 2  (\sqrt{y^2+1}\cdot c + y_i\cdot
d  + \widetilde{a}- \widetilde{v}_i) = 0
\]</span> 即 <span class="math display">\[
\sum \sqrt{y^2+1}\cdot c + \sum  y_i\cdot d  + \sum 1 \cdot
\widetilde{a}- \sum 1 \cdot \widetilde{v}_i = 0
\]</span></p>
<p>即求解如下行列式 <span class="math display">\[
\begin{Bmatrix} n+Y_2 &amp;&amp; Y_4 &amp;&amp; Y_3 \\ Y_4 &amp;&amp;
Y_2 &amp;&amp; Y_1 \\ Y_3 &amp;&amp; Y_1 &amp;&amp; n \end{Bmatrix}
\begin{Bmatrix} c \\ d \\ \widetilde{a} \end{Bmatrix} = \begin{Bmatrix}
vY_2\\ vY \\v \end{Bmatrix}
\]</span></p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
Y_1 &amp;= \sum_i y_i\\
Y_2 &amp;= \sum_i y_i^2 \\
Y_3 &amp;= \sum_i \sqrt{y_i^2+1}\\
Y_4 &amp;= \sum_i y_i \sqrt{y_i^2+1}\\
\end{aligned}
\end{equation}\]</span></p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
vY_2 &amp;= \sum_i \widetilde v_i \sqrt{y_i^2+1}\\
vY &amp;= \sum_i \widetilde v_i y_i\\
v &amp;= \sum_i \widetilde v_i \\
\end{aligned}
\end{equation}\]</span></p>
<h2 id="the-svi-jump-wings-svi-jw-parameterization">The SVI Jump-Wings
(SVI-JW) parameterization</h2>
<blockquote>
<p>Neither the raw SVI nor the natural SVI parameterizations are
intuitive to traders in the sense that a trader cannot be expected to
carry around the typical value of these parameters in his head.
Moreover, there is no reason to expect these parameters to be
particularly stable. The SVI-Jump-Wings (SVI-JW) parameterization of the
implied variance v (rather than the implied total variance w) was
inspired by a similar parameterization attributed to Tim Klassen, then
at Goldman Sachs. For a given time to expiry <span
class="math inline">\(t &gt;0\)</span> and a parameter set <span
class="math inline">\(\xi_J:=\{v_t,\psi_t,p_t,c_t,\tilde{v_t}\}\)</span>
the SVI-JW parametrization is given in raw SVI parameters:</p>
</blockquote>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
v_t &amp;= \frac{a+b\left(-\rho m+\sqrt{m^2+\sigma^2}\right)}{t}\\
\psi_t
&amp;=\frac{b}{2\sqrt{w_t}}\left(-\frac{m}{\sqrt{m^2+\sigma^2}}+\rho\right)\\
p_t &amp;= \frac{b}{\sqrt{w_t}}(1-\rho)\\
c_t &amp;= \frac{b}{\sqrt{w_t}}(1+\rho)\\
\tilde{v_t} &amp;= \frac{1}{t}\left(a+b\sigma\sqrt{1-\rho^2}\right)\\
\end{aligned}
\end{equation}\]</span></p>
<p>where <span class="math inline">\(w_t:=v_tt\)</span>.</p>
<ul>
<li><span class="math inline">\(v_t\)</span> gives the ATM
variance;</li>
<li><span class="math inline">\(\psi_t\)</span> gives the ATM skew;</li>
<li><span class="math inline">\(p_t\)</span> gives the slope of the left
(put) wing;</li>
<li><span class="math inline">\(c_t\)</span> gives the slope of the
right (call) wing;</li>
<li><span class="math inline">\(\tilde{v_t}\)</span> is the minimum
implied variance.</li>
</ul>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="http://faculty.baruch.cuny.edu/jgatheral/madrid2004.pdf">A
parsimonious arbitrage-free implied volatility parameterization with
application to the valuation of volatility derivatives</a></li>
<li><a
href="https://github.com/bramjochems/MyExcelLib/blob/master/BJExcelLib/Finance.SVI.fs">MyExcelLib</a></li>
<li><a
href="https://github.com/remis-thoughts/svi-zeliade">svi-zeliade</a></li>
<li><a
href="https://zhuanlan.zhihu.com/p/36902908">理解梯度下降法</a></li>
<li><a
href="https://www.cnblogs.com/pinard/p/5970503.html">梯度下降（Gradient
Descent）小结</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/38128785/">最小二乘法（least
sqaure method）</a></li>
<li><a
href="https://zeliade.com/wp-content/uploads/whitepapers/zwp-0005-SVICalibration.pdf">Quasi-Explicit
Calibration of Gatheral’s SVI model</a></li>
<li><a
href="https://mfe.baruch.cuny.edu/wp-content/uploads/2013/01/OsakaSVI2012.pdf">Arbitrage-free
SVI volatility surfaces</a></li>
<li><a href="https://arxiv.org/pdf/1204.0646.pdf">Arbitrage-free SVI
volatility surfaces</a></li>
<li><a
href="https://www.math.kth.se/matstat/seminarier/reports/M-exjobb14/140909.pdf">The
SVI implied volatility model and its calibration</a></li>
<li><a
href="https://github.com/wangys96/SVI-Volatility-Surface-Calibration/blob/master/svi.py">SVI-Volatility-Surface-Calibration</a></li>
</ul>
<h2 id="quasi-explicit-calibration-code">Quasi-Explicit Calibration
Code</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time    : 2020/4/3 12:59 PM</span></span><br><span class="line"><span class="comment"># @Author  : 稻草人</span></span><br><span class="line"><span class="comment"># @contact : aidabloc@163.com</span></span><br><span class="line"><span class="comment"># @File    : svi.py</span></span><br><span class="line"><span class="comment"># @Desc    :</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> (power, sign, maximum, <span class="built_in">round</span>, argmin, sqrt, <span class="built_in">abs</span>, array, clip, minimum, nan_to_num, ndarray)</span><br><span class="line"><span class="keyword">from</span> numpy.linalg <span class="keyword">import</span> solve</span><br><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> minimize</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseSVI</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">svi_raw</span>(<span class="params">k, a, b, m, rho, sigma</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;raw SVI parameterization</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param k: log-moneyness at which to evaluate the total implied variance</span></span><br><span class="line"><span class="string">        :param a: level of variance</span></span><br><span class="line"><span class="string">        :param b: gives the angle between the left and right asymptotes</span></span><br><span class="line"><span class="string">        :param m: translates smile to right</span></span><br><span class="line"><span class="string">        :param rho: counter-clockwise rotation of smile</span></span><br><span class="line"><span class="string">        :param sigma: determines how smooth the vertex is，reduces ATM curvature of the smile</span></span><br><span class="line"><span class="string">        :return: estimated total variance at k</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># make sure that parameter restrictions are satisfied</span></span><br><span class="line">        <span class="keyword">assert</span> b &gt;= <span class="number">0</span>, <span class="string">&#x27;b has to be non-negative&#x27;</span></span><br><span class="line">        <span class="keyword">assert</span> <span class="built_in">abs</span>(rho) &lt;= <span class="number">1</span>, <span class="string">&#x27;|rho| has to be smaller than 1&#x27;</span></span><br><span class="line">        <span class="keyword">assert</span> sigma &gt;= <span class="number">0</span>, <span class="string">&#x27;sigma has to be positive&#x27;</span></span><br><span class="line">        <span class="keyword">assert</span> a + b * sigma * sqrt(<span class="number">1</span> - rho ** <span class="number">2</span>) &gt;= <span class="number">0</span>, <span class="string">&#x27;a + b sigma (1-rho^2)^0.5 has to be non-negative&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> a + b * (rho * (k - m) + sqrt(power(k - m, <span class="number">2</span>) + power(sigma, <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">asymptotes</span>(<span class="params">k, a, b, m, rho</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        raw SVI parameterization left and right asymptotes</span></span><br><span class="line"><span class="string">        :param k:</span></span><br><span class="line"><span class="string">        :param a:</span></span><br><span class="line"><span class="string">        :param b:</span></span><br><span class="line"><span class="string">        :param m:</span></span><br><span class="line"><span class="string">        :param rho:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        left = a - b * (<span class="number">1</span> - rho) * (k - m)</span><br><span class="line">        right = a + b * (<span class="number">1</span> + rho) * (k - m)</span><br><span class="line">        <span class="keyword">return</span> left, right</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">svi_natural</span>(<span class="params">k, delta, mu, rho, omega, zeta</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;natural SVI parameterization</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param k: log-moneyness at which to evaluate the total implied variance</span></span><br><span class="line"><span class="string">        :param delta: level of variance</span></span><br><span class="line"><span class="string">        :param mu: slope of wings</span></span><br><span class="line"><span class="string">        :param rho: translates smile to right</span></span><br><span class="line"><span class="string">        :param omega: counter-clockwise rotation of smile</span></span><br><span class="line"><span class="string">        :param zeta: reduces ATM curvature of the smile</span></span><br><span class="line"><span class="string">        :return: estimated total variance at k</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># make sure that parameter restrictions are satisfied</span></span><br><span class="line">        <span class="keyword">assert</span> omega &gt;= <span class="number">0</span>, <span class="string">&#x27;omega has to be non-negative&#x27;</span></span><br><span class="line">        <span class="keyword">assert</span> <span class="built_in">abs</span>(rho) &lt; <span class="number">1</span>, <span class="string">&#x27;|rho| has to be smaller than 1&#x27;</span></span><br><span class="line">        <span class="keyword">assert</span> zeta &gt; <span class="number">0</span>, <span class="string">&#x27;zeta has to be positive&#x27;</span></span><br><span class="line">        <span class="keyword">assert</span> delta + omega * (<span class="number">1</span> - rho ** <span class="number">2</span>) &gt;= <span class="number">0</span>, <span class="string">&#x27;delta + omega (1-rho^2) has to be non-negative&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> delta + omega / <span class="number">2</span> * (<span class="number">1</span> + zeta * rho * (k - mu) + sqrt((zeta * (k - mu) + rho) ** <span class="number">2</span> + (<span class="number">1</span> - rho ** <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">svi_jump_wing</span>(<span class="params">cls, k, tau, v, psi, p, c, vt</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;jump-wing SVI parameterization</span></span><br><span class="line"><span class="string">        This function implements the jump-wings formulation.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param k: moneyness at which to evaluate the surface</span></span><br><span class="line"><span class="string">        :param tau:</span></span><br><span class="line"><span class="string">        :param v: ATM variance</span></span><br><span class="line"><span class="string">        :param psi: ATM skew</span></span><br><span class="line"><span class="string">        :param p: slope of left/put wing</span></span><br><span class="line"><span class="string">        :param c: slope of right/call wing</span></span><br><span class="line"><span class="string">        :param vt: minimum implied variance</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># make sure that parameter restrictions are satisfied</span></span><br><span class="line">        <span class="keyword">assert</span> v &gt;= <span class="number">0</span>, <span class="string">&#x27;v has to be non-negative&#x27;</span></span><br><span class="line">        <span class="keyword">assert</span> p &gt;= <span class="number">0</span>, <span class="string">&#x27;p has to be non-negative&#x27;</span></span><br><span class="line">        <span class="keyword">assert</span> c &gt;= <span class="number">0</span>, <span class="string">&#x27;c has to be non-negative&#x27;</span></span><br><span class="line">        <span class="keyword">assert</span> vt &gt;= <span class="number">0</span>, <span class="string">&#x27;vt has to be non-negative&#x27;</span></span><br><span class="line"></span><br><span class="line">        a, b, m, rho, sigma = cls.convert_param_from_jump_wing_to_raw(tau, v, psi, p, c, vt)</span><br><span class="line">        <span class="keyword">return</span> cls.svi_raw(k, a, b, m, rho, sigma)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">convert_param_from_raw_to_natural</span>(<span class="params">a, b, m, rho, sigma</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param a:</span></span><br><span class="line"><span class="string">        :param b:</span></span><br><span class="line"><span class="string">        :param m:</span></span><br><span class="line"><span class="string">        :param rho:</span></span><br><span class="line"><span class="string">        :param sigma:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        omega = <span class="number">2</span> * b * sigma / sqrt(<span class="number">1</span> - rho ** <span class="number">2</span>)</span><br><span class="line">        delta = a - omega / <span class="number">2</span> * (<span class="number">1</span> - rho ** <span class="number">2</span>)</span><br><span class="line">        mu = m + rho * sigma / sqrt(<span class="number">1</span> - rho ** <span class="number">2</span>)</span><br><span class="line">        zeta = sqrt(<span class="number">1</span> - rho ** <span class="number">2</span>) / sigma</span><br><span class="line">        <span class="keyword">return</span> delta, mu, rho, omega, zeta</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">convert_param_from_raw_to_jump_wing</span>(<span class="params">tau, a, b, m, rho, sigma</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param tau:</span></span><br><span class="line"><span class="string">        :param a:</span></span><br><span class="line"><span class="string">        :param b:</span></span><br><span class="line"><span class="string">        :param m:</span></span><br><span class="line"><span class="string">        :param rho:</span></span><br><span class="line"><span class="string">        :param sigma:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        w = a + b * (-rho * m + sqrt(m ** <span class="number">2</span> + sigma ** <span class="number">2</span>))</span><br><span class="line">        v = w / tau</span><br><span class="line">        psi = <span class="number">1</span> / sqrt(w) * b / <span class="number">2</span> * (-m / sqrt(m ** <span class="number">2</span> + sigma ** <span class="number">2</span>) + rho)</span><br><span class="line">        p = <span class="number">1</span> / sqrt(w) * b * (<span class="number">1</span> - rho)</span><br><span class="line">        c = <span class="number">1</span> / sqrt(w) * b * (<span class="number">1</span> + rho)</span><br><span class="line">        vt = <span class="number">1</span> / tau * (a + b * sigma * sqrt(<span class="number">1</span> - rho ** <span class="number">2</span>))</span><br><span class="line">        <span class="keyword">return</span> v, psi, p, c, vt</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">convert_param_from_natural_to_raw</span>(<span class="params">delta, mu, rho, omega, zeta</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param delta:</span></span><br><span class="line"><span class="string">        :param mu:</span></span><br><span class="line"><span class="string">        :param rho:</span></span><br><span class="line"><span class="string">        :param omega:</span></span><br><span class="line"><span class="string">        :param zeta:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        a = delta + omega / <span class="number">2</span> * (<span class="number">1</span> - rho ** <span class="number">2</span>)</span><br><span class="line">        b = omega * zeta / <span class="number">2</span></span><br><span class="line">        m = mu - rho / zeta</span><br><span class="line">        sigma = sqrt(<span class="number">1</span> - rho ** <span class="number">2</span>) / zeta</span><br><span class="line">        <span class="keyword">return</span> a, b, m, rho, sigma</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">convert_param_from_jump_wing_to_raw</span>(<span class="params">tau, v, psi, p, c, vt</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param tau:</span></span><br><span class="line"><span class="string">        :param v:</span></span><br><span class="line"><span class="string">        :param psi:</span></span><br><span class="line"><span class="string">        :param p:</span></span><br><span class="line"><span class="string">        :param c:</span></span><br><span class="line"><span class="string">        :param vt:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        w = v * tau</span><br><span class="line"></span><br><span class="line">        b = sqrt(w) / <span class="number">2</span> * (c + p)</span><br><span class="line">        rho = <span class="number">1</span> - p * sqrt(w) / b</span><br><span class="line">        beta = rho - <span class="number">2</span> * psi * sqrt(w) / b</span><br><span class="line">        alpha = sign(beta) * sqrt(<span class="number">1</span> / beta ** <span class="number">2</span> - <span class="number">1</span>)</span><br><span class="line">        m = (v - vt) * tau / (b * (-rho + sign(alpha) * sqrt(<span class="number">1</span> + alpha ** <span class="number">2</span>) - alpha * sqrt(<span class="number">1</span> - rho ** <span class="number">2</span>)))</span><br><span class="line">        <span class="keyword">if</span> m == <span class="number">0</span>:</span><br><span class="line">            sigma = (vt * tau - w) / b / (sqrt(<span class="number">1</span> - rho ** <span class="number">2</span>) - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            sigma = alpha * m</span><br><span class="line">        a = vt * tau - b * sigma * sqrt(<span class="number">1</span> - rho ** <span class="number">2</span>)</span><br><span class="line">        sigma = maximum(sigma, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> a, b, m, rho, sigma</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">convert_param_from_natural_to_jump_wing</span>(<span class="params">cls, tau, delta, mu, rho, omega, zeta</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param tau:</span></span><br><span class="line"><span class="string">        :param delta:</span></span><br><span class="line"><span class="string">        :param mu:</span></span><br><span class="line"><span class="string">        :param rho:</span></span><br><span class="line"><span class="string">        :param omega:</span></span><br><span class="line"><span class="string">        :param zeta:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        a, b, m, rho, sigma = cls.convert_param_from_natural_to_raw(delta, mu, rho, omega, zeta)</span><br><span class="line">        <span class="keyword">return</span> cls.convert_param_from_raw_to_jump_wing(tau, a, b, m, rho, sigma)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">convert_param_from_jump_wing_to_natural</span>(<span class="params">cls, tau, v, psi, p, c, vt</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param tau:</span></span><br><span class="line"><span class="string">        :param v:</span></span><br><span class="line"><span class="string">        :param psi:</span></span><br><span class="line"><span class="string">        :param p:</span></span><br><span class="line"><span class="string">        :param c:</span></span><br><span class="line"><span class="string">        :param vt:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        a, b, m, rho, sigma = cls.convert_param_from_jump_wing_to_raw(tau, v, psi, p, c, vt)</span><br><span class="line">        <span class="keyword">return</span> cls.convert_param_from_raw_to_natural(a, b, m, rho, sigma)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">convert_param_from_surface_to_jump_wing</span>(<span class="params">tau, theta, rho, phi</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param tau:</span></span><br><span class="line"><span class="string">        :param theta:</span></span><br><span class="line"><span class="string">        :param rho:</span></span><br><span class="line"><span class="string">        :param phi:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        v = theta / tau</span><br><span class="line">        psi = <span class="number">0.5</span> * rho * sqrt(theta) * phi</span><br><span class="line">        p = <span class="number">0.5</span> * sqrt(theta) * phi * (<span class="number">1</span> - rho)</span><br><span class="line">        c = p + <span class="number">2</span> * psi</span><br><span class="line">        vt = v * (<span class="number">4</span> * p * c) / ((p + c) ** <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> v, psi, p, c, vt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SVI</span>(<span class="params">BaseSVI</span>):</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loss</span>(<span class="params">tiv: ndarray, vega: ndarray, y: ndarray, c: <span class="built_in">float</span>, d: <span class="built_in">float</span>, a: <span class="built_in">float</span></span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;object function</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param tiv: total implied variance</span></span><br><span class="line"><span class="string">        :param vega:</span></span><br><span class="line"><span class="string">        :param y:</span></span><br><span class="line"><span class="string">        :param c:</span></span><br><span class="line"><span class="string">        :param d:</span></span><br><span class="line"><span class="string">        :param a:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        diff = tiv - (a + d * y + c * sqrt(y * y + <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> (vega * diff * diff).mean()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">acceptable</span>(<span class="params">tiv: ndarray, sigma: <span class="built_in">float</span>, c: <span class="built_in">float</span>, d: <span class="built_in">float</span>, a: <span class="built_in">float</span></span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;convex domain (a parallelepipedon), parameter boundary check</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param tiv:total implied variance</span></span><br><span class="line"><span class="string">        :param sigma:</span></span><br><span class="line"><span class="string">        :param c: b * sigma * T</span></span><br><span class="line"><span class="string">        :param d: rho * b * sigma * T</span></span><br><span class="line"><span class="string">        :param a: a * T</span></span><br><span class="line"><span class="string">        :param eps: float extreme limit</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        eps = sys.float_info.epsilon</span><br><span class="line">        con1 = -eps &lt; c &lt; <span class="number">4</span> * sigma + eps</span><br><span class="line">        con2 = <span class="built_in">abs</span>(d) - eps &lt; minimum(c, <span class="number">4</span> * sigma - c) + eps</span><br><span class="line">        con3 = -eps &lt; a &lt; minimum(tiv.<span class="built_in">max</span>(), <span class="number">1e6</span>) + eps</span><br><span class="line">        <span class="keyword">return</span> con1 <span class="keyword">and</span> con2 <span class="keyword">and</span> con3</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calibration</span>(<span class="params">cls, tiv: ndarray, vega: ndarray, k: ndarray, m: <span class="built_in">float</span>, sigma: <span class="built_in">float</span></span>) -&gt; [<span class="built_in">float</span>, <span class="built_in">float</span>, <span class="built_in">float</span>,</span></span><br><span class="line"><span class="function">                                                                                              <span class="built_in">float</span>]:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Quasi-Explicit Calibration of Gatheral’s SVI model</span></span><br><span class="line"><span class="string">        Step 1. find the global minimizer of f, solving the linear system ∇f = 0. If the output belongs to D, then stop;</span></span><br><span class="line"><span class="string">        Step 2. if Step 1 yields a global minimum outside D, then look for min partial Df.</span></span><br><span class="line"><span class="string">        :param tiv:</span></span><br><span class="line"><span class="string">        :param vega:</span></span><br><span class="line"><span class="string">        :param k:</span></span><br><span class="line"><span class="string">        :param m:</span></span><br><span class="line"><span class="string">        :param sigma:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        vega /= vega.<span class="built_in">max</span>()  <span class="comment"># winsorize</span></span><br><span class="line">        w = vega.mean()  <span class="comment"># weight replace n, n = tiv.shape[0]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># scale</span></span><br><span class="line">        y = (k - m) / sigma</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 2020-04-10 sum -&gt; mean 消除batch-size 数量级对epsilon影响,</span></span><br><span class="line">        <span class="comment"># vega adjusted the weight of tail contracts in loss function</span></span><br><span class="line">        y1 = (vega * y).mean()</span><br><span class="line">        y2 = (vega * y * y).mean()</span><br><span class="line">        y3 = (vega * sqrt(y * y + <span class="number">1</span>)).mean()</span><br><span class="line">        y4 = (vega * y * sqrt(y * y + <span class="number">1</span>)).mean()</span><br><span class="line">        y5 = (vega * (y * y + <span class="number">1</span>)).mean()</span><br><span class="line"></span><br><span class="line">        vy2 = (vega * tiv * sqrt(y * y + <span class="number">1</span>)).mean()</span><br><span class="line">        vy = (vega * tiv * y).mean()</span><br><span class="line">        v = (vega * tiv).mean()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Step 1. find the global minimizer of f, solving the linear system ∇f = 0. If the output belongs to D, then stop;</span></span><br><span class="line">        matrix = [</span><br><span class="line">            [y5, y4, y3],</span><br><span class="line">            [y4, y2, y1],</span><br><span class="line">            [y3, y1, w]</span><br><span class="line">        ]</span><br><span class="line">        vector = [vy2, vy, v]</span><br><span class="line">        c, d, a, = solve(array(matrix), array(vector))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># check if parameters in free-arbitrage constraints</span></span><br><span class="line">        <span class="keyword">if</span> cls.acceptable(tiv, sigma, c, d, a):</span><br><span class="line">            loss = cls.loss(tiv, vega, y, c, d, a)</span><br><span class="line">            <span class="keyword">return</span> c, d, a, loss</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Step 2. if Step 1 yields a global minimum outside D, then look for min partial Df.</span></span><br><span class="line">        matrix_list = []</span><br><span class="line">        vector_list = []</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Finds the solutions for which one of the three parameters is at its bounds</span></span><br><span class="line">        <span class="comment"># system for a = 0</span></span><br><span class="line">        matrix = [</span><br><span class="line">            [y5, y4, y3],</span><br><span class="line">            [y4, y2, y1],</span><br><span class="line">            [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">        ]</span><br><span class="line">        vector = [vy2, vy, <span class="number">0</span>]</span><br><span class="line">        matrix_list.append(matrix)</span><br><span class="line">        vector_list.append(vector)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># system for a = max of total implied variance</span></span><br><span class="line">        <span class="comment"># note the optimal fit cannot be systematically greater than the largest observed variance.</span></span><br><span class="line">        matrix = [</span><br><span class="line">            [y5, y4, y3],</span><br><span class="line">            [y4, y2, y1],</span><br><span class="line">            [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">        ]</span><br><span class="line">        vector = [vy2, vy, tiv.<span class="built_in">max</span>()]</span><br><span class="line">        matrix_list.append(matrix)</span><br><span class="line">        vector_list.append(vector)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># system for d = c or d = -c =&gt; c+d=0 c-d=0</span></span><br><span class="line">        matrix = [</span><br><span class="line">            [y5, y4, y3],</span><br><span class="line">            [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">            [y3, y1, w]</span><br><span class="line">        ]</span><br><span class="line">        vector = [vy2, <span class="number">0</span>, v]</span><br><span class="line">        matrix_list.append(matrix)</span><br><span class="line">        vector_list.append(vector)</span><br><span class="line"></span><br><span class="line">        matrix = [</span><br><span class="line">            [y5, y4, y3],</span><br><span class="line">            [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">            [y3, y1, w]</span><br><span class="line">        ]</span><br><span class="line">        vector = [vy2, <span class="number">0</span>, v]</span><br><span class="line">        matrix_list.append(matrix)</span><br><span class="line">        vector_list.append(vector)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># system part for |d| = 4*sigma-c =&gt; |d| + c = 4 * sigma</span></span><br><span class="line">        matrix = [</span><br><span class="line">            [y5, y4, y3],</span><br><span class="line">            [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">            [y3, y1, w]</span><br><span class="line">        ]</span><br><span class="line">        vector = [vy2, <span class="number">4</span> * sigma, v]</span><br><span class="line">        matrix_list.append(matrix)</span><br><span class="line">        vector_list.append(vector)</span><br><span class="line"></span><br><span class="line">        matrix = [</span><br><span class="line">            [y5, y4, y3],</span><br><span class="line">            [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">            [y3, y1, w]</span><br><span class="line">        ]</span><br><span class="line">        vector = [vy2, <span class="number">4</span> * sigma, v]</span><br><span class="line">        matrix_list.append(matrix)</span><br><span class="line">        vector_list.append(vector)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># # system for c = 0</span></span><br><span class="line">        <span class="comment"># matrix = [</span></span><br><span class="line">        <span class="comment">#     [1, 0, 0],</span></span><br><span class="line">        <span class="comment">#     [y4, y2, y1],</span></span><br><span class="line">        <span class="comment">#     [y3, y1, w]</span></span><br><span class="line">        <span class="comment"># ]</span></span><br><span class="line">        <span class="comment"># vector = [0, vy, v]</span></span><br><span class="line">        <span class="comment"># matrix_list.append(matrix)</span></span><br><span class="line">        <span class="comment"># vector_list.append(vector)</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># # system for c = 4*sigma</span></span><br><span class="line">        <span class="comment"># matrix = [</span></span><br><span class="line">        <span class="comment">#     [1, 0, 0],</span></span><br><span class="line">        <span class="comment">#     [y4, y2, y1],</span></span><br><span class="line">        <span class="comment">#     [y3, y1, w]</span></span><br><span class="line">        <span class="comment"># ]</span></span><br><span class="line">        <span class="comment"># vector = [4*sigma, vy, v]</span></span><br><span class="line">        <span class="comment"># matrix_list.append(matrix)</span></span><br><span class="line">        <span class="comment"># vector_list.append(vector)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Finds the solution for which two of the three parameters are at its bounds.</span></span><br><span class="line">        <span class="comment"># The Zeliade whitepaper speaks about doing one-dimensinal search to find the minimum,</span></span><br><span class="line">        <span class="comment"># but since fixing 2 out of the three parameters just leads to a quadratic equation in the third,</span></span><br><span class="line">        <span class="comment"># finding the global minimum and then cutting it off if it falls outside the  valid boundaries, works.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># c = 0, implies d = 0, find optimal a</span></span><br><span class="line">        matrix = [</span><br><span class="line">            [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">            [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">            [y3, y1, w]</span><br><span class="line">        ]</span><br><span class="line">        vector = [<span class="number">0</span>, <span class="number">0</span>, v]</span><br><span class="line">        matrix_list.append(matrix)</span><br><span class="line">        vector_list.append(vector)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># c = 4*sigma, implied d = 0, find optimal a</span></span><br><span class="line">        matrix = [</span><br><span class="line">            [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">            [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">            [y3, y1, w]</span><br><span class="line">        ]</span><br><span class="line">        vector = [<span class="number">4</span> * sigma, <span class="number">0</span>, v]</span><br><span class="line">        matrix_list.append(matrix)</span><br><span class="line">        vector_list.append(vector)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># a = 0, d = c, find optimal c</span></span><br><span class="line">        matrix = [</span><br><span class="line">            [y5, y4, y3],</span><br><span class="line">            [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">            [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">        ]</span><br><span class="line">        vector = [vy2, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">        matrix_list.append(matrix)</span><br><span class="line">        vector_list.append(vector)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># a = 0, d = -c, find optimal c</span></span><br><span class="line">        matrix = [</span><br><span class="line">            [y5, y4, y3],</span><br><span class="line">            [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">            [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">        ]</span><br><span class="line">        vector = [vy2, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">        matrix_list.append(matrix)</span><br><span class="line">        vector_list.append(vector)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># a = 0, d = 4*sigma-c, find optimal c =&gt; d+c=4*sigma</span></span><br><span class="line">        matrix = [</span><br><span class="line">            [y5, y4, y3],</span><br><span class="line">            [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">            [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">        ]</span><br><span class="line">        vector = [vy2, <span class="number">4</span> * sigma, <span class="number">0</span>]</span><br><span class="line">        matrix_list.append(matrix)</span><br><span class="line">        vector_list.append(vector)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># a = 0, d = c-4s, find optimal c =&gt; c-d = 4*sigma</span></span><br><span class="line">        matrix = [</span><br><span class="line">            [y5, y4, y3],</span><br><span class="line">            [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">            [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">        ]</span><br><span class="line">        vector = [vy2, <span class="number">4</span> * sigma, <span class="number">0</span>]</span><br><span class="line">        matrix_list.append(matrix)</span><br><span class="line">        vector_list.append(vector)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># optimizer, solve</span></span><br><span class="line">        params = []</span><br><span class="line">        <span class="keyword">for</span> matrix, vector <span class="keyword">in</span> <span class="built_in">zip</span>(matrix_list, vector_list):</span><br><span class="line">            c, d, a = solve(array(matrix), array(vector))</span><br><span class="line"></span><br><span class="line">            <span class="comment"># clip make params in convex domain</span></span><br><span class="line">            c = clip(c, <span class="number">0</span>, maximum(<span class="number">0</span>, <span class="number">4</span> * sigma))</span><br><span class="line">            a = clip(a, <span class="number">0</span>, maximum(tiv.<span class="built_in">max</span>(), <span class="number">0</span>))</span><br><span class="line">            d_ub = minimum(maximum(c, <span class="number">0</span>), maximum(<span class="number">4</span> * sigma - c, <span class="number">0</span>))</span><br><span class="line">            d_lb = maximum(-maximum(c, <span class="number">0</span>), -maximum(<span class="number">4</span> * sigma - c, <span class="number">0</span>))</span><br><span class="line">            d = clip(d, d_lb, d_ub)</span><br><span class="line"></span><br><span class="line">            loss = cls.loss(tiv, vega, y, c, d, a)</span><br><span class="line">            <span class="keyword">if</span> cls.acceptable(tiv, sigma, c, d, a):</span><br><span class="line">                params.append([c, d, a, loss])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理sigma 值为负数的情况</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(params) == <span class="number">0</span>:</span><br><span class="line">            loss = maximum(nan_to_num(loss), <span class="number">1e-6</span>) * <span class="number">1e6</span></span><br><span class="line">            <span class="keyword">return</span> c, d, a, loss</span><br><span class="line"></span><br><span class="line">        params = array(params)</span><br><span class="line">        min_idx = argmin(params[:, -<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> params[min_idx]</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_score</span>(<span class="params">cls, param: <span class="built_in">tuple</span>, tiv: ndarray, vega: ndarray, k: ndarray</span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param param: sigma, m</span></span><br><span class="line"><span class="string">        :param tiv:</span></span><br><span class="line"><span class="string">        :param vega:</span></span><br><span class="line"><span class="string">        :param k:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        (sigma, m) = param</span><br><span class="line">        <span class="keyword">return</span> cls.calibration(tiv, vega, k, m, sigma)[<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span>(<span class="params">cls, tiv: ndarray, vega: ndarray, k: ndarray, tau: <span class="built_in">float</span> = <span class="literal">None</span>, m: <span class="built_in">float</span> = <span class="number">0</span>, sigma: <span class="built_in">float</span> = <span class="number">0.1</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">            epsilon: <span class="built_in">float</span> = <span class="number">1e-16</span></span>) -&gt; [<span class="built_in">float</span>, <span class="built_in">float</span>, <span class="built_in">float</span>, <span class="built_in">float</span>, <span class="built_in">float</span>]:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;implied total variance if tau is None, else implied variance.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param tiv: total implied variance, iv * iv * t</span></span><br><span class="line"><span class="string">        :param vega:</span></span><br><span class="line"><span class="string">        :param k: moneyness</span></span><br><span class="line"><span class="string">        :param tau: time to expiry</span></span><br><span class="line"><span class="string">        :param m:</span></span><br><span class="line"><span class="string">        :param sigma:</span></span><br><span class="line"><span class="string">        :param epsilon:</span></span><br><span class="line"><span class="string">        :return: svi_demo params to generate implied total variance if tau is None, else implied variance.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> tau <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            tau = <span class="number">1.</span></span><br><span class="line"></span><br><span class="line">        residual = minimize(cls._score, array([sigma, m]), args=(tiv, vega, k),</span><br><span class="line">                            bounds=[(<span class="number">0.001</span>, <span class="literal">None</span>), (<span class="literal">None</span>, <span class="literal">None</span>)], tol=epsilon,</span><br><span class="line">                            method=<span class="string">&quot;Nelder-Mead&quot;</span>)</span><br><span class="line">        <span class="keyword">assert</span> residual.success</span><br><span class="line">        sigma, m = residual.x</span><br><span class="line"></span><br><span class="line">        c, d, a, loss = cls.calibration(tiv, vega, k, m, sigma)</span><br><span class="line">        <span class="keyword">if</span> c != <span class="number">0</span>:</span><br><span class="line">            a, rho, b = a / tau, d / c, c / (sigma * tau)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            a, rho, b = a / tau, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">assert</span> tau &gt;= <span class="number">0</span> <span class="keyword">and</span> sigma &gt;= <span class="number">0</span> <span class="keyword">and</span> <span class="built_in">abs</span>(rho) &lt;= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">round</span>([a, b, m, rho, sigma], <span class="number">4</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>ivs</tag>
        <tag>svi</tag>
      </tags>
  </entry>
  <entry>
    <title>SSH笔记整理</title>
    <url>/2022/07/12/ssh/</url>
    <content><![CDATA[<h1 id="ssh-基本知识">SSH 基本知识</h1>
<p>SSH（Secure Shell
的缩写）是一种网络协议，用于加密两台计算机之间的通信，并且支持各种身份验证机制。</p>
<p>实务中，它主要用于保证远程登录和远程通信的安全，任何网络服务都可以用这个协议来加密。</p>
<h2 id="ssh-是什么">SSH 是什么</h2>
<p>历史上，网络主机之间的通信是不加密的，属于明文通信。这使得通信很不安全，一个典型的例子就是服务器登录。登录远程服务器的时候，需要将用户输入的密码传给服务器，如果这个过程是明文通信，就意味着传递过程中，线路经过的中间计算机都能看到密码，这是很可怕的。</p>
<p>SSH
就是为了解决这个问题而诞生的，它能够加密计算机之间的通信，保证不被窃听或篡改。它还能对操作者进行认证（authentication）和授权（authorization）。明文的网络协议可以套用在它里面，从而实现加密。</p>
<h2 id="历史">历史</h2>
<p>1995年，芬兰赫尔辛基工业大学的研究员 Tatu Ylönen 设计了 SSH
协议的第一个版本（现称为 SSH 1），同时写出了第一个实现（称为
SSH1）。</p>
<p>当时，他所在的大学网络一直发生密码嗅探攻击，他不得不为服务器设计一个更安全的登录方式。写完以后，他就把这个工具公开了，允许其他人免费使用。</p>
<p>SSH 可以替换 rlogin、TELNET、FTP 和 rsh
这些不安全的协议，所以大受欢迎，用户快速增长，1995年底已经发展到五十个国家的20,000个用户。SSH
1 协议也变成 IETF 的标准文档。</p>
<p>1995年12月，由于客服需求越来越大，Tatu Ylönen 就成立了一家公司
SCS，专门销售和开发
SSH。这个软件的后续版本，逐渐从免费软件变成了专有的商业软件。</p>
<p>SSH 1 协议存在一些安全漏洞，所以1996年又提出了 SSH 2 协议（或者称为
SSH
2.0）。这个协议与1.0版不兼容，在1997年进行了标准化，1998年推出了软件实现
SSH2。但是，官方的 SSH2 软件是一个专有软件，不能免费使用，而且 SSH1
的有些功能也没有提供。</p>
<p>1999年，OpenBSD 的开发人员决定写一个 SSH 2 协议的开源实现，这就是
OpenSSH 项目。该项目最初是基于 SSH 1.2.12 版本，那是当时 SSH1
最后一个开源版本。但是，OpenSSH
很快就完全摆脱了原始的官方代码，在许多开发者的参与下，按照自己的路线发展。OpenSSH
随 OpenBSD 2.6 版本一起提供，以后又移植到其他操作系统，成为最流行的 SSH
实现。目前，Linux 的所有发行版几乎都自带 OpenSSH。</p>
<p>现在，SSH-2 有多种实现，既有免费的，也有收费的。本书的内容主要是针对
OpenSSH。</p>
<h2 id="ssh-架构">SSH 架构</h2>
<p>SSH 的软件架构是服务器-客户端模式（Server -
Client）。在这个架构中，SSH
软件分成两个部分：向服务器发出请求的部分，称为客户端（client），OpenSSH
的实现为 ssh；接收客户端发出的请求的部分，称为服务器（server），OpenSSH
的实现为 sshd。</p>
<p>本教程约定，大写的 SSH 表示协议，小写的 ssh 表示客户端软件。</p>
<p>另外，OpenSSH 还提供一些辅助工具软件（比如 ssh-keygen
、ssh-agent）和专门的客户端工具（比如 scp 和
sftp），这个教程也会予以介绍。</p>
<hr />
<h1 id="ssh-证书登录">SSH 证书登录</h1>
<p>SSH 是服务器登录工具，一般情况下都采用密码登录或密钥登录。</p>
<p>但是，SSH
还有第三种登录方法，那就是证书登录。某些情况下，它是更合理、更安全的登录方法，本文就介绍这种登录方法。</p>
<h2 id="非证书登录的缺点">非证书登录的缺点</h2>
<p>密码登录和密钥登录，都有各自的缺点。</p>
<p>密码登录需要输入服务器密码，这非常麻烦，也不安全，存在被暴力破解的风险。</p>
<p>密钥登录需要服务器保存用户的公钥，也需要用户保存服务器公钥的指纹。这对于多用户、多服务器的大型机构很不方便，如果有员工离职，需要将他的公钥从每台服务器删除。</p>
<h2 id="证书登录是什么">证书登录是什么？</h2>
<p>证书登录就是为了解决上面的缺点而设计的。它引入了一个证书颁发机构（Certificate
Authority，简称
CA），对信任的服务器颁发服务器证书，对信任的用户颁发用户证书。</p>
<p>登录时，用户和服务器不需要提前知道彼此的公钥，只需要交换各自的证书，验证是否可信即可。</p>
<p>证书登录的主要优点有两个：（1）用户和服务器不用交换公钥，这更容易管理，也具有更好的可扩展性。（2）证书可以设置到期时间，而公钥没有到期时间。针对不同的情况，可以设置有效期很短的证书，进一步提高安全性。</p>
<h2 id="证书登录的流程">证书登录的流程</h2>
<p>SSH
证书登录之前，如果还没有证书，需要生成证书。具体方法是：（1）用户和服务器都将自己的公钥，发给
CA；（2）CA 使用服务器公钥，生成服务器证书，发给服务器；（3）CA
使用用户的公钥，生成用户证书，发给用户。</p>
<p>有了证书以后，用户就可以登录服务器了。整个过程都是 SSH
自动处理，用户无感知。</p>
<p>第一步，用户登录服务器时，SSH 自动将用户证书发给服务器。</p>
<p>第二步，服务器检查用户证书是否有效，以及是否由可信的 CA
颁发。证实以后，就可以信任用户。</p>
<p>第三步，SSH 自动将服务器证书发给用户。</p>
<p>第四步，用户检查服务器证书是否有效，以及是否由信任的 CA
颁发。证实以后，就可以信任服务器。</p>
<p>第五步，双方建立连接，服务器允许用户登录。</p>
<h2 id="生成-ca-的密钥">生成 CA 的密钥</h2>
<p>证书登录的前提是，必须有一个 CA，而 CA
本质上就是一对密钥，跟其他密钥没有不同，CA 就用这对密钥去签发证书。</p>
<p>虽然 CA
可以用同一对密钥签发用户证书和服务器证书，但是出于安全性和灵活性，最好用不同的密钥分别签发。所以，CA
至少需要两对密钥，一对是签发用户证书的密钥，假设叫做<code>user_ca</code>，另一对是签发服务器证书的密钥，假设叫做<code>host_ca</code>。</p>
<p>使用下面的命令，生成<code>user_ca</code>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 生成 CA 签发用户证书的密钥</span></span><br><span class="line">$ ssh-keygen -t rsa -b 4096 -f ~/.ssh/user_ca -C user_ca</span><br></pre></td></tr></table></figure>
<p>上面的命令会在<code>~/.ssh</code>目录生成一对密钥：<code>user_ca</code>（私钥）和<code>user_ca.pub</code>（公钥）。</p>
<p>这个命令的各个参数含义如下。</p>
<ul>
<li><code>-t rsa</code>：指定密钥算法 RSA。</li>
<li><code>-b 4096</code>：指定密钥的位数是4096位。安全性要求不高的场合，这个值可以小一点，但是不应小于1024。</li>
<li><code>-f ~/.ssh/user_ca</code>：指定生成密钥的位置和文件名。</li>
<li><code>-C user_ca</code>：指定密钥的识别字符串，相当于注释，可以随意设置。</li>
</ul>
<p>使用下面的命令，生成<code>host_ca</code>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 生成 CA 签发服务器证书的密钥</span></span><br><span class="line">$ ssh-keygen -t rsa -b 4096 -f host_ca -C host_ca</span><br></pre></td></tr></table></figure>
<p>上面的命令会在<code>~/.ssh</code>目录生成一对密钥：<code>host_ca</code>（私钥）和<code>host_ca.pub</code>（公钥）。</p>
<p>现在，<code>~/.ssh</code>目录应该至少有四把密钥。</p>
<ul>
<li><code>~/.ssh/user_ca</code></li>
<li><code>~/.ssh/user_ca.pub</code></li>
<li><code>~/.ssh/host_ca</code></li>
<li><code>~/.ssh/host_ca.pub</code></li>
</ul>
<h2 id="ca-签发服务器证书">CA 签发服务器证书</h2>
<p>有了 CA 以后，就可以签发服务器证书了。</p>
<p>签发证书，除了 CA 的密钥以外，还需要服务器的公钥。一般来说，SSH
服务器（通常是<code>sshd</code>）安装时，已经生成密钥<code>/etc/ssh/ssh_host_rsa_key</code>了。如果没有的话，可以用下面的命令生成。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo ssh-keygen -f /etc/ssh/ssh_host_rsa_key -b 4096 -t rsa</span><br></pre></td></tr></table></figure>
<p>上面命令会在<code>/etc/ssh</code>目录，生成<code>ssh_host_rsa_key</code>（私钥）和<code>ssh_host_rsa_key.pub</code>（公钥）。然后，需要把服务器公钥<code>ssh_host_rsa_key.pub</code>，复制或上传到
CA 所在的服务器。</p>
<p>上传以后，CA
就可以使用密钥<code>host_ca</code>为服务器的公钥<code>ssh_host_rsa_key.pub</code>签发服务器证书。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -s host_ca -I host.example.com -h -n host.example.com -V +52w ssh_host_rsa_key.pub</span><br></pre></td></tr></table></figure>
<p>上面的命令会生成服务器证书<code>ssh_host_rsa_key-cert.pub</code>（服务器公钥名字加后缀<code>-cert</code>）。这个命令各个参数的含义如下。</p>
<ul>
<li><code>-s</code>：指定 CA 签发证书的密钥。</li>
<li><code>-I</code>：身份字符串，可以随便设置，相当于注释，方便区分证书，将来可以使用这个字符串撤销证书。</li>
<li><code>-h</code>：指定该证书是服务器证书，而不是用户证书。</li>
<li><code>-n host.example.com</code>：指定服务器的域名，表示证书仅对该域名有效。如果有多个域名，则使用逗号分隔。用户登录该域名服务器时，SSH
通过证书的这个值，分辨应该使用哪张证书发给用户，用来证明服务器的可信性。</li>
<li><code>-V +52w</code>：指定证书的有效期，这里为52周（一年）。默认情况下，证书是永远有效的。建议使用该参数指定有效期，并且有效期最好短一点，最长不超过52周。</li>
<li><code>ssh_host_rsa_key.pub</code>：服务器公钥。</li>
</ul>
<p>生成证书以后，可以使用下面的命令，查看证书的细节。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -L -f ssh_host_rsa_key-cert.pub</span><br></pre></td></tr></table></figure>
<p>最后，为证书设置权限。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ chmod 600 ssh_host_rsa_key-cert.pub</span><br></pre></td></tr></table></figure>
<h2 id="ca-签发用户证书">CA 签发用户证书</h2>
<p>下面，再用 CA
签发用户证书。这时需要用户的公钥，如果没有的话，客户端可以用下面的命令生成一对密钥。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -f ~/.ssh/user_key -b 4096 -t rsa</span><br></pre></td></tr></table></figure>
<p>上面命令会在<code>~/.ssh</code>目录，生成<code>user_key</code>（私钥）和<code>user_key.pub</code>（公钥）。</p>
<p>然后，将用户公钥<code>user_key.pub</code>，上传或复制到 CA
服务器。接下来，就可以使用 CA
的密钥<code>user_ca</code>为用户公钥<code>user_key.pub</code>签发用户证书。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -s user_ca -I user@example.com -n user -V +1d user_key.pub</span><br></pre></td></tr></table></figure>
<p>上面的命令会生成用户证书<code>user_key-cert.pub</code>（用户公钥名字加后缀<code>-cert</code>）。这个命令各个参数的含义如下。</p>
<ul>
<li><code>-s</code>：指定 CA 签发证书的密钥</li>
<li><code>-I</code>：身份字符串，可以随便设置，相当于注释，方便区分证书，将来可以使用这个字符串撤销证书。</li>
<li><code>-n user</code>：指定用户名，表示证书仅对该用户名有效。如果有多个用户名，使用逗号分隔。用户以该用户名登录服务器时，SSH
通过这个值，分辨应该使用哪张证书，证明自己的身份，发给服务器。</li>
<li><code>-V +1d</code>：指定证书的有效期，这里为1天，强制用户每天都申请一次证书，提高安全性。默认情况下，证书是永远有效的。</li>
<li><code>user_key.pub</code>：用户公钥。</li>
</ul>
<p>生成证书以后，可以使用下面的命令，查看证书的细节。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -L -f user_key-cert.pub</span><br></pre></td></tr></table></figure>
<p>最后，为证书设置权限。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ chmod 600 user_key-cert.pub</span><br></pre></td></tr></table></figure>
<h2 id="服务器安装证书">服务器安装证书</h2>
<p>CA
生成服务器证书<code>ssh_host_rsa_key-cert.pub</code>以后，需要将该证书发回服务器，可以使用下面的<code>scp</code>命令，将证书拷贝过去。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp ~/.ssh/ssh_host_rsa_key-cert.pub root@host.example.com:/etc/ssh/</span><br></pre></td></tr></table></figure>
<p>然后，将下面一行添加到服务器配置文件<code>/etc/ssh/sshd_config</code>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">HostCertificate /etc/ssh/ssh_host_rsa_key-cert.pub</span><br></pre></td></tr></table></figure>
<p>上面的代码告诉 sshd，服务器证书是哪一个文件。</p>
<p>重新启动 sshd。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo systemctl restart sshd.service</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">$ sudo service sshd restart</span><br></pre></td></tr></table></figure>
<h2 id="服务器安装-ca-公钥">服务器安装 CA 公钥</h2>
<p>为了让服务器信任用户证书，必须将 CA
签发用户证书的公钥<code>user_ca.pub</code>，拷贝到服务器。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp ~/.ssh/user_ca.pub root@host.example.com:/etc/ssh/</span><br></pre></td></tr></table></figure>
<p>上面的命令，将 CA 签发用户证书的公钥<code>user_ca.pub</code>，拷贝到
SSH 服务器的<code>/etc/ssh</code>目录。</p>
<p>然后，将下面一行添加到服务器配置文件<code>/etc/ssh/sshd_config</code>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">TrustedUserCAKeys /etc/ssh/user_ca.pub</span><br></pre></td></tr></table></figure>
<p>上面的做法是将<code>user_ca.pub</code>加到<code>/etc/ssh/sshd_config</code>，这会产生全局效果，即服务器的所有账户都会信任<code>user_ca</code>签发的所有用户证书。</p>
<p>另一种做法是将<code>user_ca.pub</code>加到服务器某个账户的<code>~/.ssh/authorized_keys</code>文件，只让该账户信任<code>user_ca</code>签发的用户证书。具体方法是打开<code>~/.ssh/authorized_keys</code>，追加一行，开头是<code>@cert-authority principals="..."</code>，然后后面加上<code>user_ca.pub</code>的内容，大概是下面这个样子。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@cert-authority principals=<span class="string">&quot;user&quot;</span> ssh-rsa AAAAB3Nz...XNRM1EX2gQ==</span><br></pre></td></tr></table></figure>
<p>上面代码中，<code>principals="user"</code>指定用户登录的服务器账户名，一般就是<code>authorized_keys</code>文件所在的账户。</p>
<p>重新启动 sshd。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo systemctl restart sshd.service</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">$ sudo service sshd restart</span><br></pre></td></tr></table></figure>
<p>至此，SSH 服务器已配置为信任<code>user_ca</code>签发的证书。</p>
<h2 id="客户端安装证书">客户端安装证书</h2>
<p>客户端安装用户证书很简单，就是从 CA
将用户证书<code>user_key-cert.pub</code>复制到客户端，与用户的密钥<code>user_key</code>保存在同一个目录即可。</p>
<h2 id="客户端安装-ca-公钥">客户端安装 CA 公钥</h2>
<p>为了让客户端信任服务器证书，必须将 CA
签发服务器证书的公钥<code>host_ca.pub</code>，加到客户端的<code>/etc/ssh/ssh_known_hosts</code>文件（全局级别）或者<code>~/.ssh/known_hosts</code>文件（用户级别）。</p>
<p>具体做法是打开<code>ssh_known_hosts</code>或<code>known_hosts</code>文件，追加一行，开头为<code>@cert-authority *.example.com</code>，然后将<code>host_ca.pub</code>文件的内容（即公钥）粘贴在后面，大概是下面这个样子。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@cert-authority *.example.com ssh-rsa AAAAB3Nz...XNRM1EX2gQ==</span><br></pre></td></tr></table></figure>
<p>上面代码中，<code>*.example.com</code>是域名的模式匹配，表示只要服务器符合该模式的域名，且签发服务器证书的
CA
匹配后面给出的公钥，就都可以信任。如果没有域名限制，这里可以写成<code>*</code>。如果有多个域名模式，可以使用逗号分隔；如果服务器没有域名，可以用主机名（比如<code>host1,host2,host3</code>）或者
IP 地址（比如<code>11.12.13.14,21.22.23.24</code>）。</p>
<p>然后，就可以使用证书，登录远程服务器了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -i ~/.ssh/user_key user@host.example.com</span><br></pre></td></tr></table></figure>
<p>上面命令的<code>-i</code>参数用来指定用户的密钥。如果证书与密钥在同一个目录，则连接服务器时将自动使用该证书。</p>
<h2 id="废除证书">废除证书</h2>
<p>废除证书的操作，分成用户证书的废除和服务器证书的废除两种。</p>
<p>服务器证书的废除，用户需要在<code>known_hosts</code>文件里面，修改或删除对应的<code>@cert-authority</code>命令的那一行。</p>
<p>用户证书的废除，需要在服务器新建一个<code>/etc/ssh/revoked_keys</code>文件，然后在配置文件<code>sshd_config</code>添加一行，内容如下。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">RevokedKeys /etc/ssh/revoked_keys</span><br></pre></td></tr></table></figure>
<p><code>revoked_keys</code>文件保存不再信任的用户公钥，由下面的命令生成。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -kf /etc/ssh/revoked_keys -z 1 ~/.ssh/user1_key.pub</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>-z</code>参数用来指定用户公钥保存在<code>revoked_keys</code>文件的哪一行，这个例子是保存在第1行。</p>
<p>如果以后需要废除其他的用户公钥，可以用下面的命令保存在第2行。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -ukf /etc/ssh/revoked_keys -z 2 ~/.ssh/user2_key.pub</span><br></pre></td></tr></table></figure>
<h2 id="参考链接">参考链接</h2>
<ul>
<li><a href="https://smallstep.com/blog/ssh-emergency-access/">SSH
Emergency Access</a>, Carl Tashian</li>
<li><a
href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/sec-using_openssh_certificate_authentication">Using
OpenSSH Certificate Authentication</a>, Red Hat Enterprise Linux
Deployment Guide</li>
<li><a href="https://gravitational.com/blog/how-to-ssh-properly/">How to
SSH Properly</a>, Gus Luxton</li>
</ul>
<hr />
<h1 id="ssh-服务器">SSH 服务器</h1>
<h2 id="简介">简介</h2>
<p>SSH 的架构是服务器/客户端模式，两端运行的软件是不一样的。OpenSSH
的客户端软件是 ssh，服务器软件是 sshd。本章介绍 sshd 的各种知识。</p>
<p>如果没有安装 sshd，可以用下面的命令安装。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Debian</span></span><br><span class="line">$ sudo aptitude install openssh-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># Red Hat</span></span><br><span class="line">$ sudo yum install openssh-server</span><br></pre></td></tr></table></figure>
<p>一般来说，sshd 安装后会跟着系统一起启动。如果当前 sshd
没有启动，可以用下面的命令启动。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sshd</span><br></pre></td></tr></table></figure>
<p>上面的命令运行后，如果提示“sshd re-exec requires execution with an
absolute
path”，就需要使用绝对路径来启动。这是为了防止有人出于各种目的，放置同名软件在<code>$PATH</code>变量指向的目录中，代替真正的
sshd。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Centos、Ubuntu、OS X</span></span><br><span class="line">$ /usr/sbin/sshd</span><br></pre></td></tr></table></figure>
<p>上面的命令运行以后，sshd
自动进入后台，所以命令后面不需要加上<code>&amp;</code>。</p>
<p>除了直接运行可执行文件，也可以通过 Systemd 启动 sshd。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 启动</span></span><br><span class="line">$ sudo systemctl start sshd.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># 停止</span></span><br><span class="line">$ sudo systemctl stop sshd.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启</span></span><br><span class="line">$ sudo systemctl restart sshd.service</span><br></pre></td></tr></table></figure>
<p>下面的命令让 sshd 在计算机下次启动时自动运行。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo systemctl <span class="built_in">enable</span> sshd.service</span><br></pre></td></tr></table></figure>
<h2 id="sshd-配置文件">sshd 配置文件</h2>
<p>sshd
的配置文件在<code>/etc/ssh</code>目录，主配置文件是<code>sshd_config</code>，此外还有一些安装时生成的密钥。</p>
<ul>
<li><code>/etc/ssh/sshd_config</code>：配置文件</li>
<li><code>/etc/ssh/ssh_host_ecdsa_key</code>：ECDSA 私钥。</li>
<li><code>/etc/ssh/ssh_host_ecdsa_key.pub</code>：ECDSA 公钥。</li>
<li><code>/etc/ssh/ssh_host_key</code>：用于 SSH 1 协议版本的 RSA
私钥。</li>
<li><code>/etc/ssh/ssh_host_key.pub</code>：用于 SSH 1 协议版本的 RSA
公钥。</li>
<li><code>/etc/ssh/ssh_host_rsa_key</code>：用于 SSH 2 协议版本的 RSA
私钥。</li>
<li><code>/etc/ssh/ssh_host_rsa_key.pub</code>：用于 SSH 2 协议版本的
RSA 公钥。</li>
<li><code>/etc/pam.d/sshd</code>：PAM 配置文件。</li>
</ul>
<p>注意，如果重装 sshd，上面这些密钥都会重新生成，导致客户端重新 ssh
连接服务器时，会跳出警告，拒绝连接。为了避免这种情况，可以在重装 sshd
时，先备份<code>/etc/ssh</code>目录，重装后再恢复这个目录。</p>
<p>配置文件<code>sshd_config</code>的格式是，每个命令占据一行。每行都是配置项和对应的值，配置项的大小写不敏感，与值之间使用空格分隔。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Port 2034</span><br></pre></td></tr></table></figure>
<p>上面的配置命令指定，配置项<code>Port</code>的值是<code>2034</code>。<code>Port</code>写成<code>port</code>也可。</p>
<p>配置文件还有另一种格式，就是配置项与值之间有一个等号，等号前后的空格可选。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Port = 2034</span><br></pre></td></tr></table></figure>
<p>配置文件里面，<code>#</code>开头的行表示注释。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 这是一行注释</span></span><br></pre></td></tr></table></figure>
<p>注意，注释只能放在一行的开头，不能放在一行的结尾。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Port 2034 <span class="comment"># 此处不允许注释</span></span><br></pre></td></tr></table></figure>
<p>上面的写法是错误的。</p>
<p>另外，空行等同于注释。</p>
<p>sshd
启动时会自动读取默认的配置文件。如果希望使用其他的配置文件，可以用 sshd
命令的<code>-f</code>参数指定。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sshd -f /usr/<span class="built_in">local</span>/ssh/my_config</span><br></pre></td></tr></table></figure>
<p>上面的命令指定 sshd 使用另一个配置文件<code>my_config</code>。</p>
<p>修改配置文件以后，可以用 sshd
命令的<code>-t</code>（test）检查有没有语法错误。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sshd -t</span><br></pre></td></tr></table></figure>
<p>配置文件修改以后，并不会自动生效，必须重新启动 sshd。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo systemctl restart sshd.service</span><br></pre></td></tr></table></figure>
<h2 id="sshd-密钥">sshd 密钥</h2>
<p>sshd
有自己的一对或多对密钥。它使用密钥向客户端证明自己的身份。所有密钥都是公钥和私钥成对出现，公钥的文件名一般是私钥文件名加上后缀<code>.pub</code>。</p>
<p>DSA
格式的密钥文件默认为<code>/etc/ssh/ssh_host_dsa_key</code>（公钥为<code>ssh_host_dsa_key.pub</code>），RSA
格式的密钥为<code>/etc/ssh/ssh_host_rsa_key</code>（公钥为<code>ssh_host_rsa_key.pub</code>）。如果需要支持
SSH 1 协议，则必须有密钥<code>/etc/ssh/ssh_host_key</code>。</p>
<p>如果密钥不是默认文件，那么可以通过配置文件<code>sshd_config</code>的<code>HostKey</code>配置项指定。默认密钥的<code>HostKey</code>设置如下。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># HostKey for protocol version 1</span></span><br><span class="line"><span class="comment"># HostKey /etc/ssh/ssh_host_key</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># HostKeys for protocol version 2</span></span><br><span class="line"><span class="comment"># HostKey /etc/ssh/ssh_host_rsa_key</span></span><br><span class="line"><span class="comment"># HostKey /etc/ssh/ssh_host_dsa_ke</span></span><br></pre></td></tr></table></figure>
<p>上面命令前面的<code>#</code>表示这些行都是注释，因为这是默认值，有没有这几行都一样。</p>
<p>如果要修改密钥，就要去掉行首的<code>#</code>，指定其他密钥。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">HostKey /usr/<span class="built_in">local</span>/ssh/my_dsa_key</span><br><span class="line">HostKey /usr/<span class="built_in">local</span>/ssh/my_rsa_key</span><br><span class="line">HostKey /usr/<span class="built_in">local</span>/ssh/my_old_ssh1_key</span><br></pre></td></tr></table></figure>
<h2 id="sshd-配置项">sshd 配置项</h2>
<p>以下是<code>/etc/ssh/sshd_config</code>文件里面的配置项。</p>
<p><strong>AcceptEnv</strong></p>
<p><code>AcceptEnv</code>指定允许接受客户端通过<code>SendEnv</code>命令发来的哪些环境变量，即允许客户端设置服务器的环境变量清单，变量名之间使用空格分隔（<code>AcceptEnv PATH TERM</code>）。</p>
<p><strong>AllowGroups</strong></p>
<p><code>AllowGroups</code>指定允许登录的用户组（<code>AllowGroups groupName</code>，多个组之间用空格分隔。如果不使用该项，则允许所有用户组登录。</p>
<p><strong>AllowUsers</strong></p>
<p><code>AllowUsers</code>指定允许登录的用户，用户名之间使用空格分隔（<code>AllowUsers user1 user2</code>），也可以使用多行<code>AllowUsers</code>命令指定，用户名支持使用通配符。如果不使用该项，则允许所有用户登录。该项也可以使用<code>用户名@域名</code>的格式（比如<code>AllowUsers jones@example.com</code>）。</p>
<p><strong>AllowTcpForwarding</strong></p>
<p><code>AllowTcpForwarding</code>指定是否允许端口转发，默认值为<code>yes</code>（<code>AllowTcpForwarding yes</code>），<code>local</code>表示只允许本地端口转发，<code>remote</code>表示只允许远程端口转发。</p>
<p><strong>AuthorizedKeysFile</strong></p>
<p><code>AuthorizedKeysFile</code>指定储存用户公钥的目录，默认是用户主目录的<code>ssh/authorized_keys</code>目录（<code>AuthorizedKeysFile .ssh/authorized_keys</code>）。</p>
<p><strong>Banner</strong></p>
<p><code>Banner</code>指定用户登录后，sshd
向其展示的信息文件（<code>Banner /usr/local/etc/warning.txt</code>），默认不展示任何内容。</p>
<p><strong>ChallengeResponseAuthentication</strong></p>
<p><code>ChallengeResponseAuthentication</code>指定是否使用“键盘交互”身份验证方案，默认值为<code>yes</code>（<code>ChallengeResponseAuthentication yes</code>）。</p>
<p>从理论上讲，“键盘交互”身份验证方案可以向用户询问多重问题，但是实践中，通常仅询问用户密码。如果要完全禁用基于密码的身份验证，请将<code>PasswordAuthentication</code>和<code>ChallengeResponseAuthentication</code>都设置为<code>no</code>。</p>
<p><strong>Ciphers</strong></p>
<p><code>Ciphers</code>指定 sshd
可以接受的加密算法（<code>Ciphers 3des-cbc</code>），多个算法之间使用逗号分隔。</p>
<p><strong>ClientAliveCountMax</strong></p>
<p><code>ClientAliveCountMax</code>指定建立连接后，客户端失去响应时，服务器尝试连接的次数（<code>ClientAliveCountMax 8</code>）。</p>
<p><strong>ClientAliveInterval</strong></p>
<p><code>ClientAliveInterval</code>指定允许客户端发呆的时间，单位为秒（<code>ClientAliveInterval 180</code>）。如果这段时间里面，客户端没有发送任何信号，SSH
连接将关闭。</p>
<p><strong>Compression</strong></p>
<p><code>Compression</code>指定客户端与服务器之间的数据传输是否压缩。默认值为<code>yes</code>（<code>Compression yes</code>）</p>
<p><strong>DenyGroups</strong></p>
<p><code>DenyGroups</code>指定不允许登录的用户组（<code>DenyGroups groupName</code>）。</p>
<p><strong>DenyUsers</strong></p>
<p><code>DenyUsers</code>指定不允许登录的用户（<code>DenyUsers user1</code>），用户名之间使用空格分隔，也可以使用多行<code>DenyUsers</code>命令指定。</p>
<p><strong>FascistLogging</strong></p>
<p>SSH 1 版本专用，指定日志输出全部 Debug
信息（<code>FascistLogging yes</code>）。</p>
<p><strong>HostKey</strong></p>
<p><code>HostKey</code>指定 sshd 服务器的密钥，详见前文。</p>
<p><strong>KeyRegenerationInterval</strong></p>
<p><code>KeyRegenerationInterval</code>指定 SSH 1
版本的密钥重新生成时间间隔，单位为秒，默认是3600秒（<code>KeyRegenerationInterval 3600</code>）。</p>
<p><strong>ListenAddress</strong></p>
<p><code>ListenAddress</code>指定 sshd 监听的本机 IP 地址，即 sshd
启用的 IP 地址，默认是
0.0.0.0（<code>ListenAddress 0.0.0.0</code>）表示在本机所有网络接口启用。可以改成只在某个网络接口启用（比如<code>ListenAddress 192.168.10.23</code>），也可以指定某个域名启用（比如<code>ListenAddress server.example.com</code>）。</p>
<p>如果要监听多个指定的 IP
地址，可以使用多行<code>ListenAddress</code>命令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ListenAddress 172.16.1.1</span><br><span class="line">ListenAddress 192.168.0.1</span><br></pre></td></tr></table></figure>
<p><strong>LoginGraceTime</strong></p>
<p><code>LoginGraceTime</code>指定允许客户端登录时发呆的最长时间，比如用户迟迟不输入密码，连接就会自动断开，单位为秒（<code>LoginGraceTime 60</code>）。如果设为<code>0</code>，就表示没有限制。</p>
<p><strong>LogLevel</strong></p>
<p><code>LogLevel</code>指定日志的详细程度，可能的值依次为<code>QUIET</code>、<code>FATAL</code>、<code>ERROR</code>、<code>INFO</code>、<code>VERBOSE</code>、<code>DEBUG</code>、<code>DEBUG1</code>、<code>DEBUG2</code>、<code>DEBUG3</code>，默认为<code>INFO</code>（<code>LogLevel INFO</code>）。</p>
<p><strong>MACs</strong></p>
<p><code>MACs</code>指定sshd
可以接受的数据校验算法（<code>MACs hmac-sha1</code>），多个算法之间使用逗号分隔。</p>
<p><strong>MaxAuthTries</strong></p>
<p><code>MaxAuthTries</code>指定允许 SSH
登录的最大尝试次数（<code>MaxAuthTries 3</code>），如果密码输入错误达到指定次数，SSH
连接将关闭。</p>
<p><strong>MaxStartups</strong></p>
<p><code>MaxStartups</code>指定允许同时并发的 SSH
连接数量（MaxStartups）。如果设为<code>0</code>，就表示没有限制。</p>
<p>这个属性也可以设为<code>A:B:C</code>的形式，比如<code>MaxStartups 10:50:20</code>，表示如果达到10个并发连接，后面的连接将有50%的概率被拒绝；如果达到20个并发连接，则后面的连接将100%被拒绝。</p>
<p><strong>PasswordAuthentication</strong></p>
<p><code>PasswordAuthentication</code>指定是否允许密码登录，默认值为<code>yes</code>（<code>PasswordAuthentication yes</code>），建议改成<code>no</code>（禁止密码登录，只允许密钥登录）。</p>
<p><strong>PermitEmptyPasswords</strong></p>
<p><code>PermitEmptyPasswords</code>指定是否允许空密码登录，即用户的密码是否可以为空，默认为<code>yes</code>（<code>PermitEmptyPasswords yes</code>），建议改成<code>no</code>（禁止无密码登录）。</p>
<p><strong>PermitRootLogin</strong></p>
<p><code>PermitRootLogin</code>指定是否允许根用户登录，默认为<code>yes</code>（<code>PermitRootLogin yes</code>），建议改成<code>no</code>（禁止根用户登录）。</p>
<p>还有一种写法是写成<code>prohibit-password</code>，表示 root
用户不能用密码登录，但是可以用密钥登录。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PermitRootLogin prohibit-password</span><br></pre></td></tr></table></figure>
<p><strong>PermitUserEnvironment</strong></p>
<p><code>PermitUserEnvironment</code>指定是否允许 sshd
加载客户端的<code>~/.ssh/environment</code>文件和<code>~/.ssh/authorized_keys</code>文件里面的<code>environment= options</code>环境变量设置。默认值为<code>no</code>（<code>PermitUserEnvironment no</code>）。</p>
<p><strong>Port</strong></p>
<p><code>Port</code>指定 sshd
监听的端口，即客户端连接的端口，默认是22（<code>Port 22</code>）。出于安全考虑，可以改掉这个端口（比如<code>Port 8822</code>）。</p>
<p>配置文件可以使用多个<code>Port</code>命令，同时监听多个端口。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Port 22</span><br><span class="line">Port 80</span><br><span class="line">Port 443</span><br><span class="line">Port 8080</span><br></pre></td></tr></table></figure>
<p>上面的示例表示同时监听4个端口。</p>
<p><strong>PrintMotd</strong></p>
<p><code>PrintMotd</code>指定用户登录后，是否向其展示系统的
motd（Message of the the
day）的信息文件<code>/etc/motd</code>。该文件用于通知所有用户一些重要事项，比如系统维护时间、安全问题等等。默认值为<code>yes</code>（<code>PrintMotd yes</code>），由于
Shell 一般会展示这个信息文件，所以这里可以改为<code>no</code>。</p>
<p><strong>PrintLastLog</strong></p>
<p><code>PrintLastLog</code>指定是否打印上一次用户登录时间，默认值为<code>yes</code>（<code>PrintLastLog yes</code>）。</p>
<p><strong>Protocol</strong></p>
<p><code>Protocol</code>指定 sshd
使用的协议。<code>Protocol 1</code>表示使用 SSH 1
协议，建议改成<code>Protocol 2</code>（使用 SSH 2
协议）。<code>Protocol 2,1</code>表示同时支持两个版本的协议。</p>
<p><strong>PubKeyAuthentication</strong></p>
<p><code>PubKeyAuthentication</code>指定是否允许公钥登录，默认值为<code>yes</code>（<code>PubKeyAuthentication yes</code>）。</p>
<p><strong>QuietMode</strong></p>
<p>SSH 1
版本专用，指定日志只输出致命的错误信息（<code>QuietMode yes</code>）。</p>
<p><strong>RSAAuthentication</strong></p>
<p><code>RSAAuthentication</code>指定允许 RSA
认证，默认值为<code>yes</code>（<code>RSAAuthentication yes</code>）。</p>
<p><strong>ServerKeyBits</strong></p>
<p><code>ServerKeyBits</code>指定 SSH 1
版本的密钥重新生成时的位数，默认是768（<code>ServerKeyBits 768</code>）。</p>
<p><strong>StrictModes</strong></p>
<p><code>StrictModes</code>指定 sshd
是否检查用户的一些重要文件和目录的权限。默认为<code>yes</code>（<code>StrictModes yes</code>），即对于用户的
SSH 配置文件、密钥文件和所在目录，SSH
要求拥有者必须是根用户或用户本人，用户组和其他人的写权限必须关闭。</p>
<p><strong>SyslogFacility</strong></p>
<p><code>SyslogFacility</code>指定 Syslog 如何处理 sshd 的日志，默认是
Auth（<code>SyslogFacility AUTH</code>）。</p>
<p><strong>TCPKeepAlive</strong></p>
<p><code>TCPKeepAlive</code>指定打开 sshd 跟客户端 TCP 连接的 keepalive
参数（<code>TCPKeepAlive yes</code>）。</p>
<p><strong>UseDNS</strong></p>
<p><code>UseDNS</code>指定用户 SSH 登录一个域名时，服务器是否使用
DNS，确认该域名对应的 IP
地址包含本机（<code>UseDNS yes</code>）。打开该选项意义不大，而且如果
DNS 更新不及时，还有可能误判，建议关闭。</p>
<p><strong>UseLogin</strong></p>
<p><code>UseLogin</code>指定用户认证内部是否使用<code>/usr/bin/login</code>替代
SSH 工具，默认为<code>no</code>（<code>UseLogin no</code>）。</p>
<p><strong>UserPrivilegeSeparation</strong></p>
<p><code>UserPrivilegeSeparation</code>指定用户认证通过以后，使用另一个子线程处理用户权限相关的操作，这样有利于提高安全性。默认值为<code>yes</code>（<code>UsePrivilegeSeparation yes</code>）。</p>
<p><strong>VerboseMode</strong></p>
<p>SSH 2 版本专用，指定日志输出详细的 Debug
信息（<code>VerboseMode yes</code>）。</p>
<p><strong>X11Forwarding</strong></p>
<p><code>X11Forwarding</code>指定是否打开 X window 的转发，默认值为
no（<code>X11Forwarding no</code>）。</p>
<p>修改配置文件以后，可以使用下面的命令验证，配置文件是否有语法错误。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sshd -t</span><br></pre></td></tr></table></figure>
<p>新的配置文件生效，必须重启 sshd。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo systemctl restart sshd</span><br></pre></td></tr></table></figure>
<h2 id="sshd-的命令行配置项">sshd 的命令行配置项</h2>
<p>sshd
命令有一些配置项。这些配置项在调用时指定，可以覆盖配置文件的设置。</p>
<p>（1）<code>-d</code></p>
<p><code>-d</code>参数用于显示 debug 信息。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sshd -d</span><br></pre></td></tr></table></figure>
<p>（2）<code>-D</code></p>
<p><code>-D</code>参数指定 sshd 不作为后台守护进程运行。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sshd -D</span><br></pre></td></tr></table></figure>
<p>（3）<code>-e</code></p>
<p><code>-e</code>参数将 sshd 写入系统日志 syslog
的内容导向标准错误（standard error）。</p>
<p>（4）<code>-f</code></p>
<p><code>-f</code>参数指定配置文件的位置。</p>
<p>（5）<code>-h</code></p>
<p><code>-h</code>参数用于指定密钥。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sshd -h /usr/<span class="built_in">local</span>/ssh/my_rsa_key</span><br></pre></td></tr></table></figure>
<p>（6）<code>-o</code></p>
<p><code>-o</code>参数指定配置文件的一个配置项和对应的值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sshd -o <span class="string">&quot;Port 2034&quot;</span></span><br></pre></td></tr></table></figure>
<p>配置项和对应值之间，可以使用等号。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sshd -o <span class="string">&quot;Port = 2034&quot;</span></span><br></pre></td></tr></table></figure>
<p>如果省略等号前后的空格，也可以不使用引号。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sshd -o Port=2034</span><br></pre></td></tr></table></figure>
<p><code>-o</code>参数可以多个一起使用，用来指定多个配置关键字。</p>
<p>（7）<code>-p</code></p>
<p><code>-p</code>参数指定 sshd 的服务端口。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sshd -p 2034</span><br></pre></td></tr></table></figure>
<p>上面命令指定 sshd 在<code>2034</code>端口启动。</p>
<p><code>-p</code>参数可以指定多个端口。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sshd -p 2222 -p 3333</span><br></pre></td></tr></table></figure>
<p>（8）<code>-t</code></p>
<p><code>-t</code>参数检查配置文件的语法是否正确。</p>
<hr />
<h1 id="ssh-客户端">SSH 客户端</h1>
<h2 id="简介-1">简介</h2>
<p>OpenSSH 的客户端是二进制程序 ssh。它在 Linux/Unix
系统的位置是<code>/usr/local/bin/ssh</code>，Windows
系统的位置是<code>\Program Files\OpenSSH\bin\ssh.exe</code>。</p>
<p>Linux 系统一般都自带 ssh，如果没有就需要安装。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Ubuntu 和 Debian</span></span><br><span class="line">$ sudo apt install openssh-client</span><br><span class="line"></span><br><span class="line"><span class="comment"># CentOS 和 Fedora</span></span><br><span class="line">$ sudo dnf install openssh-clients</span><br></pre></td></tr></table></figure>
<p>安装以后，可以使用<code>-V</code>参数输出版本号，查看一下是否安装成功。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -V</span><br></pre></td></tr></table></figure>
<h2 id="基本用法">基本用法</h2>
<p>ssh 最常见的用途就是登录服务器，这要求服务器安装并正在运行 SSH
服务器软件。</p>
<p>ssh 登录服务器的命令如下。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh hostname</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>hostname</code>是主机名，它可以是域名，也可能是 IP
地址或局域网内部的主机名。不指定用户名的情况下，将使用客户端的当前用户名，作为远程服务器的登录用户名。如果要指定用户名，可以采用下面的语法。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh user@hostname</span><br></pre></td></tr></table></figure>
<p>上面的命令中，用户名和主机名写在一起了，之间使用<code>@</code>分隔。</p>
<p>用户名也可以使用<code>ssh</code>的<code>-l</code>参数指定，这样的话，用户名和主机名就不用写在一起了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -l username host</span><br></pre></td></tr></table></figure>
<p>ssh 默认连接服务器的22端口，<code>-p</code>参数可以指定其他端口。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -p 8821 foo.com</span><br></pre></td></tr></table></figure>
<p>上面命令连接服务器<code>foo.com</code>的8821端口。</p>
<h2 id="连接流程">连接流程</h2>
<p>ssh
连接远程服务器后，首先有一个验证过程，验证远程服务器是否为陌生地址。</p>
<p>如果是第一次连接某一台服务器，命令行会显示一段文字，表示不认识这台机器，提醒用户确认是否需要连接。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">The authenticity of host <span class="string">&#x27;foo.com (192.168.121.111)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:Vybt22mVXuNuB5unE++yowF7lgA/9/2bLSiO3qmYWBY.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no)?</span></span><br></pre></td></tr></table></figure>
<p>上面这段文字告诉用户，<code>foo.com</code>这台服务器的指纹是陌生的，让用户选择是否要继续连接（输入
yes 或 no）。</p>
<p>所谓“服务器指纹”，指的是 SSH 服务器公钥的哈希值。每台 SSH
服务器都有唯一一对密钥，用于跟客户端通信，其中公钥的哈希值就可以用来识别服务器。</p>
<p>下面的命令可以查看某个公钥的指纹。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -l -f /etc/ssh/ssh_host_ecdsa_key.pub</span><br><span class="line">256 da:24:43:0b:2e:c1:3f:a1:84:13:92:01:52:b4:84:ff   (ECDSA)</span><br></pre></td></tr></table></figure>
<p>上面的例子中，<code>ssh-keygen -l -f</code>命令会输出公钥<code>/etc/ssh/ssh_host_ecdsa_key.pub</code>的指纹。</p>
<p>ssh
会将本机连接过的所有服务器公钥的指纹，都储存在本机的<code>~/.ssh/known_hosts</code>文件中。每次连接服务器时，通过该文件判断是否为陌生主机（陌生公钥）。</p>
<p>在上面这段文字后面，输入<code>yes</code>，就可以将当前服务器的指纹也储存在本机<code>~/.ssh/known_hosts</code>文件中，并显示下面的提示。以后再连接的时候，就不会再出现警告了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Warning: Permanently added <span class="string">&#x27;foo.com (192.168.121.111)&#x27;</span> (RSA) to the list of known hosts</span><br></pre></td></tr></table></figure>
<p>然后，客户端就会跟服务器建立连接。接着，ssh
就会要求用户输入所要登录账户的密码。用户输入并验证密码正确以后，就能登录远程服务器的
Shell 了。</p>
<h2 id="服务器密钥变更">服务器密钥变更</h2>
<p>服务器指纹可以防止有人恶意冒充远程主机。如果服务器的密钥发生变更（比如重装了
SSH
服务器），客户端再次连接时，就会发生公钥指纹不吻合的情况。这时，客户端就会中断连接，并显示一段警告信息。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span><br><span class="line">@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @</span><br><span class="line">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span><br><span class="line">IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!</span><br><span class="line">Someone could be eavesdropping on you right now (man-in-the-middle attack)!</span><br><span class="line">It is also possible that the RSA host key has just been changed.</span><br><span class="line">The fingerprint <span class="keyword">for</span> the RSA key sent by the remote host is</span><br><span class="line">77:a5:69:81:9b:eb:40:76:7b:13:04:a9:6c:f4:9c:5d.</span><br><span class="line">Please contact your system administrator.</span><br><span class="line">Add correct host key <span class="keyword">in</span> /home/me/.ssh/known_hosts to get rid of this message.</span><br><span class="line">Offending key <span class="keyword">in</span> /home/me/.ssh/known_hosts:36</span><br></pre></td></tr></table></figure>
<p>上面这段文字的意思是，该主机的公钥指纹跟<code>~/.ssh/known_hosts</code>文件储存的不一样，必须处理以后才能连接。这时，你需要确认是什么原因，使得公钥指纹发生变更，到底是恶意劫持，还是管理员变更了
SSH 服务器公钥。</p>
<p>如果新的公钥确认可以信任，需要继续执行连接，你可以执行下面的命令，将原来的公钥指纹从<code>~/.ssh/known_hosts</code>文件删除。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -R hostname</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>hostname</code>是发生公钥变更的主机名。</p>
<p>除了使用上面的命令，你也可以手工修改<code>known_hosts</code>文件，将公钥指纹删除。</p>
<p>删除了原来的公钥指纹以后，重新执行 ssh
命令连接远程服务器，将新的指纹加入<code>known_hosts</code>文件，就可以顺利连接了。</p>
<h2 id="执行远程命令">执行远程命令</h2>
<p>SSH
登录成功后，用户就进入了远程主机的命令行环境，所看到的提示符，就是远程主机的提示符。这时，你就可以输入想要在远程主机执行的命令。</p>
<p>另一种执行远程命令的方法，是将命令直接写在<code>ssh</code>命令的后面。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh username@hostname <span class="built_in">command</span></span><br></pre></td></tr></table></figure>
<p>上面的命令会使得 SSH
在登录成功后，立刻在远程主机上执行命令<code>command</code>。</p>
<p>下面是一个例子。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh foo@server.example.com cat /etc/hosts</span><br></pre></td></tr></table></figure>
<p>上面的命令会在登录成功后，立即远程执行命令<code>cat /etc/hosts</code>。</p>
<p>采用这种语法执行命令时，ssh 客户端不会提供互动式的 Shell
环境，而是直接远程命令的执行结果输出在命令行。但是，有些命令需要互动式的
Shell 环境，这时就要使用<code>-t</code>参数。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 报错</span></span><br><span class="line">$ ssh remote.server.com emacs</span><br><span class="line">emacs: standard input is not a tty</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不报错</span></span><br><span class="line">$ ssh -t server.example.com emacs</span><br></pre></td></tr></table></figure>
<p>上面代码中，<code>emacs</code>命令需要一个互动式
Shell，所以报错。只有加上<code>-t</code>参数，ssh 才会分配一个互动式
Shell。</p>
<h2 id="加密参数">加密参数</h2>
<p>SSH 连接的握手阶段，客户端必须跟服务端约定加密参数集（cipher
suite）。</p>
<p>加密参数集包含了若干不同的加密参数，它们之间使用下划线连接在一起，下面是一个例子。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">TLS_RSA_WITH_AES_128_CBC_SHA</span><br></pre></td></tr></table></figure>
<p>它的含义如下。</p>
<ul>
<li>TLS：协议</li>
<li>RSA：密钥交换算法</li>
<li>AES：加密算法</li>
<li>128：加密强度</li>
<li>CBC：加密模式</li>
<li>SHA：数字签名的 Hash 函数</li>
</ul>
<p>下面是一个例子，客户端向服务器发出的握手信息。</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">Handshake protocol: ClientHello</span><br><span class="line">    Version: TLS 1.2</span><br><span class="line">    Random</span><br><span class="line">        Client time: May 22, 2030 02:43:46 GMT</span><br><span class="line">        Random bytes: b76b0e61829557eb4c611adfd2d36eb232dc1332fe29802e321ee871</span><br><span class="line">    Session ID: (empty)</span><br><span class="line">    Cipher Suites</span><br><span class="line">        Suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256”</span><br><span class="line">        Suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256</span><br><span class="line">        Suite: TLS_RSA_WITH_AES_128_GCM_SHA256</span><br><span class="line">        Suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</span><br><span class="line">        Suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA</span><br><span class="line">        Suite: TLS_RSA_WITH_AES_128_CBC_SHA</span><br><span class="line">        Suite: TLS_RSA_WITH_3DES_EDE_CBC_SHA</span><br><span class="line">        Suite: TLS_RSA_WITH_RC4_128_SHA</span><br><span class="line">    Compression methods</span><br><span class="line">        Method: null</span><br><span class="line">    Extensions</span><br><span class="line">        Extension: server_name</span><br><span class="line">            Hostname: www.feistyduck.com</span><br><span class="line">        Extension: renegotiation_info</span><br><span class="line">        Extension: elliptic_curves</span><br><span class="line">            Named curve: secp256r1</span><br><span class="line">            Named curve: secp384r1</span><br><span class="line">        Extension: signature_algorithms</span><br><span class="line">            Algorithm: sha1/rsa</span><br><span class="line">            Algorithm: sha256/rsa</span><br><span class="line">            Algorithm: sha1/ecdsa</span><br><span class="line">            Algorithm: sha256/ecdsa”</span><br></pre></td></tr></table></figure>
<p>上面的握手信息（ClientHello）之中，<code>Cipher Suites</code>字段就是客户端列出可选的加密参数集，服务器在其中选择一个自己支持的参数集。</p>
<p>服务器选择完毕之后，向客户端发出回应。</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">Handshake protocol: ServerHello</span><br><span class="line">    Version: TLS 1.2</span><br><span class="line">    Random</span><br><span class="line">        Server time: Mar 10, 2059 02:35:57 GMT”</span><br><span class="line">        Random bytes: 8469b09b480c1978182ce1b59290487609f41132312ca22aacaf5012</span><br><span class="line">    Session ID: 4cae75c91cf5adf55f93c9fb5dd36d19903b1182029af3d527b7a42ef1c32c80</span><br><span class="line">    Cipher Suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</span><br><span class="line">    Compression method: null</span><br><span class="line">    Extensions</span><br><span class="line">        Extension: server_name</span><br><span class="line">        Extension: renegotiation_info”</span><br></pre></td></tr></table></figure>
<p>上面的回应信息（ServerHello）中，<code>Cipher Suite</code>字段就是服务器最终选定的加密参数。</p>
<h2 id="ssh-命令行配置项">ssh 命令行配置项</h2>
<p>ssh 命令有很多配置项，修改它的默认行为。</p>
<p><strong>-c</strong></p>
<p><code>-c</code>参数指定加密算法。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -c blowfish,3des server.example.com</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">$ ssh -c blowfish -c 3des server.example.com</span><br></pre></td></tr></table></figure>
<p>上面命令指定使用加密算法<code>blowfish</code>或<code>3des</code>。</p>
<p><strong>-C</strong></p>
<p><code>-C</code>参数表示压缩数据传输。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -C server.example.com</span><br></pre></td></tr></table></figure>
<p><strong>-d</strong></p>
<p><code>-d</code>参数设置打印的 debug
信息级别，数值越高，输出的内容越详细。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh –d 1 foo.com</span><br></pre></td></tr></table></figure>
<p><strong>-D</strong></p>
<p><code>-D</code>参数指定本机的 Socks
监听端口，该端口收到的请求，都将转发到远程的 SSH
主机，又称动态端口转发，详见《端口转发》一章。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -D 1080 server</span><br></pre></td></tr></table></figure>
<p>上面命令将本机 1080
端口收到的请求，都转发到服务器<code>server</code>。</p>
<p><strong>-f</strong></p>
<p><code>-f</code>参数表示 SSH 连接在后台运行。</p>
<p><strong>-F</strong></p>
<p><code>-F</code>参数指定配置文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -F /usr/<span class="built_in">local</span>/ssh/other_config</span><br></pre></td></tr></table></figure>
<p>上面命令指定使用配置文件<code>other_config</code>。</p>
<p><strong>-i</strong></p>
<p><code>-i</code>参数用于指定私钥，意为“identity_file”，默认值为<code>~/.ssh/id_dsa</code>。注意，对应的公钥必须存放到服务器，详见《密钥登录》一章。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -i my-key server.example.com</span><br></pre></td></tr></table></figure>
<p><strong>-l</strong></p>
<p><code>-l</code>参数指定远程登录的账户名。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -l sally server.example.com</span><br><span class="line"><span class="comment"># 等同于</span></span><br><span class="line">$ ssh sally@server.example.com</span><br></pre></td></tr></table></figure>
<p><strong>-L</strong></p>
<p><code>-L</code>参数设置本地端口转发，详见《端口转发》一章。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh  -L 9999:targetServer:80 user@remoteserver</span><br></pre></td></tr></table></figure>
<p>上面命令中，所有发向本地<code>9999</code>端口的请求，都会经过<code>remoteserver</code>发往
targetServer 的 80 端口，这就相当于直接连上了 targetServer 的 80
端口。</p>
<p><strong>-m</strong></p>
<p><code>-m</code>参数指定校验数据完整性的算法（message authentication
code，简称 MAC）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -m hmac-sha1,hmac-md5 server.example.com</span><br></pre></td></tr></table></figure>
<p>上面命令指定数据校验算法为<code>hmac-sha1</code>或<code>hmac-md5</code>。</p>
<p><strong>-o</strong></p>
<p><code>-o</code>参数用来指定一个配置命令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -o <span class="string">&quot;Keyword Value&quot;</span></span><br></pre></td></tr></table></figure>
<p>举例来说，配置文件里面有如下内容。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">User sally</span><br><span class="line">Port 220</span><br></pre></td></tr></table></figure>
<p>通过<code>-o</code>参数，可以把上面两个配置命令从命令行传入。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -o <span class="string">&quot;User sally&quot;</span> -o <span class="string">&quot;Port 220&quot;</span> server.example.com</span><br></pre></td></tr></table></figure>
<p>使用等号时，配置命令可以不用写在引号里面，但是等号前后不能有空格。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -o User=sally -o Port=220 server.example.com</span><br></pre></td></tr></table></figure>
<p><strong>-p</strong></p>
<p><code>-p</code>参数指定 SSH 客户端连接的服务器端口。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -p 2035 server.example.com</span><br></pre></td></tr></table></figure>
<p>上面命令连接服务器的2035端口。</p>
<p><strong>-q</strong></p>
<p><code>-q</code>参数表示安静模式（quiet），不向用户输出任何警告信息。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh –q foo.com</span><br><span class="line">root’s password:</span><br></pre></td></tr></table></figure>
<p>上面命令使用<code>-q</code>参数，只输出要求用户输入密码的提示。</p>
<p><strong>-R</strong></p>
<p><code>-R</code>参数指定远程端口转发，详见《端口转发》一章。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -R 9999:targetServer:902 <span class="built_in">local</span></span><br></pre></td></tr></table></figure>
<p>上面命令需在跳板服务器执行，指定本地计算机<code>local</code>监听自己的
9999 端口，所有发向这个端口的请求，都会转向 targetServer 的 902
端口。</p>
<p><strong>-t</strong></p>
<p><code>-t</code>参数在 ssh 直接运行远端命令时，提供一个互动式
Shell。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -t server.example.com emacs</span><br></pre></td></tr></table></figure>
<p><strong>-v</strong></p>
<p><code>-v</code>参数显示详细信息。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -v server.example.com</span><br></pre></td></tr></table></figure>
<p><code>-v</code>可以重复多次，表示信息的详细程度，比如<code>-vv</code>和<code>-vvv</code>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -vvv server.example.com</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">$ ssh -v -v -v server.example.com</span><br></pre></td></tr></table></figure>
<p>上面命令会输出最详细的连接信息。</p>
<p><strong>-V</strong></p>
<p><code>-V</code>参数输出 ssh 客户端的版本。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh –V</span><br><span class="line">ssh: SSH Secure Shell 3.2.3 (non-commercial version) on i686-pc-linux-gnu</span><br></pre></td></tr></table></figure>
<p>上面命令输出本机 ssh
客户端版本是<code>SSH Secure Shell 3.2.3</code>。</p>
<p><strong>-X</strong></p>
<p><code>-X</code>参数表示打开 X 窗口转发。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -X server.example.com</span><br></pre></td></tr></table></figure>
<p><strong>-1，-2</strong></p>
<p><code>-1</code>参数指定使用 SSH 1 协议。</p>
<p><code>-2</code>参数指定使用 SSH 2 协议。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ ssh -2 server.example.com</span><br></pre></td></tr></table></figure>
<p><strong>-4，-6</strong></p>
<p><code>-4</code>指定使用 IPv4 协议，这是默认值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -4 server.example.com</span><br></pre></td></tr></table></figure>
<p><code>-6</code>指定使用 IPv6 协议。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -6 server.example.com</span><br></pre></td></tr></table></figure>
<h2 id="客户端配置文件">客户端配置文件</h2>
<h3 id="位置">位置</h3>
<p>SSH
客户端的全局配置文件是<code>/etc/ssh/ssh_config</code>，用户个人的配置文件在<code>~/.ssh/config</code>，优先级高于全局配置文件。</p>
<p>除了配置文件，<code>~/.ssh</code>目录还有一些用户个人的密钥文件和其他文件。下面是其中一些常见的文件。</p>
<ul>
<li><code>~/.ssh/id_ecdsa</code>：用户的 ECDSA 私钥。</li>
<li><code>~/.ssh/id_ecdsa.pub</code>：用户的 ECDSA 公钥。</li>
<li><code>~/.ssh/id_rsa</code>：用于 SSH 协议版本2 的 RSA 私钥。</li>
<li><code>~/.ssh/id_rsa.pub</code>：用于SSH 协议版本2 的 RSA 公钥。</li>
<li><code>~/.ssh/identity</code>：用于 SSH 协议版本1 的 RSA 私钥。</li>
<li><code>~/.ssh/identity.pub</code>：用于 SSH 协议版本1 的 RSA
公钥。</li>
<li><code>~/.ssh/known_hosts</code>：包含 SSH 服务器的公钥指纹。</li>
</ul>
<h3 id="主机设置">主机设置</h3>
<p>用户个人的配置文件<code>~/.ssh/config</code>，可以按照不同服务器，列出各自的连接参数，从而不必每一次登录都输入重复的参数。下面是一个例子。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Host *</span><br><span class="line">     Port 2222</span><br><span class="line"></span><br><span class="line">Host remoteserver</span><br><span class="line">     HostName remote.example.com</span><br><span class="line">     User neo</span><br><span class="line">     Port 2112</span><br></pre></td></tr></table></figure>
<p>上面代码中，<code>Host *</code>表示对所有主机生效，后面的<code>Port 2222</code>表示所有主机的默认连接端口都是2222，这样就不用在登录时特别指定端口了。这里的缩进并不是必需的，只是为了视觉上，易于识别针对不同主机的设置。</p>
<p>后面的<code>Host remoteserver</code>表示，下面的设置只对主机<code>remoteserver</code>生效。<code>remoteserver</code>只是一个别名，具体的主机由<code>HostName</code>命令指定，<code>User</code>和<code>Port</code>这两项分别表示用户名和端口。这里的<code>Port</code>会覆盖上面<code>Host *</code>部分的<code>Port</code>设置。</p>
<p>以后，登录<code>remote.example.com</code>时，只要执行<code>ssh remoteserver</code>命令，就会自动套用
config 文件里面指定的参数。 单个主机的配置格式如下。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh remoteserver</span><br><span class="line"><span class="comment"># 等同于</span></span><br><span class="line">$ ssh -p 2112 neo@remote.example.com</span><br></pre></td></tr></table></figure>
<p><code>Host</code>命令的值可以使用通配符，比如<code>Host *</code>表示对所有主机都有效的设置，<code>Host *.edu</code>表示只对一级域名为<code>.edu</code>的主机有效的设置。它们的设置都可以被单个主机的设置覆盖。</p>
<h3 id="配置命令的语法">配置命令的语法</h3>
<p>ssh
客户端配置文件的每一行，就是一个配置命令。配置命令与对应的值之间，可以使用空格，也可以使用等号。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Compression yes</span><br><span class="line"><span class="comment"># 等同于</span></span><br><span class="line">Compression = yes</span><br></pre></td></tr></table></figure>
<p><code>#</code>开头的行表示注释，会被忽略。空行等同于注释。</p>
<h3 id="主要配置命令">主要配置命令</h3>
<p>下面是 ssh 客户端的一些主要配置命令，以及它们的范例值。</p>
<ul>
<li><code>AddressFamily inet</code>：表示只使用 IPv4
协议。如果设为<code>inet6</code>，表示只使用 IPv6 协议。</li>
<li><code>BindAddress 192.168.10.235</code>：指定本机的 IP
地址（如果本机有多个 IP 地址）。</li>
<li><code>CheckHostIP yes</code>：检查 SSH 服务器的 IP
地址是否跟公钥数据库吻合。</li>
<li><code>Ciphers blowfish,3des</code>：指定加密算法。</li>
<li><code>Compression yes</code>：是否压缩传输信号。</li>
<li><code>ConnectionAttempts 10</code>：客户端进行连接时，最大的尝试次数。</li>
<li><code>ConnectTimeout 60</code>：客户端进行连接时，服务器在指定秒数内没有回复，则中断连接尝试。</li>
<li><code>DynamicForward 1080</code>：指定动态转发端口。</li>
<li><code>GlobalKnownHostsFile /users/smith/.ssh/my_global_hosts_file</code>：指定全局的公钥数据库文件的位置。</li>
<li><code>Host server.example.com</code>：指定连接的域名或 IP
地址，也可以是别名，支持通配符。<code>Host</code>命令后面的所有配置，都是针对该主机的，直到下一个<code>Host</code>命令为止。</li>
<li><code>HostKeyAlgorithms ssh-dss,ssh-rsa</code>：指定密钥算法，优先级从高到低排列。</li>
<li><code>HostName myserver.example.com</code>：在<code>Host</code>命令使用别名的情况下，<code>HostName</code>指定域名或
IP 地址。</li>
<li><code>IdentityFile keyfile</code>：指定私钥文件。</li>
<li><code>LocalForward 2001 localhost:143</code>：指定本地端口转发。</li>
<li><code>LogLevel QUIET</code>：指定日志详细程度。如果设为<code>QUIET</code>，将不输出大部分的警告和提示。</li>
<li><code>MACs hmac-sha1,hmac-md5</code>：指定数据校验算法。</li>
<li><code>NumberOfPasswordPrompts 2</code>：密码登录时，用户输错密码的最大尝试次数。</li>
<li><code>PasswordAuthentication no</code>：指定是否支持密码登录。不过，这里只是客户端禁止，真正的禁止需要在
SSH 服务器设置。</li>
<li><code>Port 2035</code>：指定客户端连接的 SSH 服务器端口。</li>
<li><code>PreferredAuthentications publickey,hostbased,password</code>：指定各种登录方法的优先级。</li>
<li><code>Protocol 2</code>：支持的 SSH
协议版本，多个版本之间使用逗号分隔。</li>
<li><code>PubKeyAuthentication yes</code>：是否支持密钥登录。这里只是客户端设置，还需要在
SSH 服务器进行相应设置。</li>
<li><code>RemoteForward 2001 server:143</code>：指定远程端口转发。</li>
<li><code>SendEnv COLOR</code>：SSH
客户端向服务器发送的环境变量名，多个环境变量之间使用空格分隔。环境变量的值从客户端当前环境中拷贝。</li>
<li><code>ServerAliveCountMax 3</code>：如果没有收到服务器的回应，客户端连续发送多少次<code>keepalive</code>信号，才断开连接。该项默认值为3。</li>
<li><code>ServerAliveInterval 300</code>：客户端建立连接后，如果在给定秒数内，没有收到服务器发来的消息，客户端向服务器发送<code>keepalive</code>消息。如果不希望客户端发送，这一项设为<code>0</code>。</li>
<li><code>StrictHostKeyChecking yes</code>：<code>yes</code>表示严格检查，服务器公钥为未知或发生变化，则拒绝连接。<code>no</code>表示如果服务器公钥未知，则加入客户端公钥数据库，如果公钥发生变化，不改变客户端公钥数据库，输出一条警告，依然允许连接继续进行。<code>ask</code>（默认值）表示询问用户是否继续进行。</li>
<li><code>TCPKeepAlive yes</code>：客户端是否定期向服务器发送<code>keepalive</code>信息。</li>
<li><code>User userName</code>：指定远程登录的账户名。</li>
<li><code>UserKnownHostsFile /users/smith/.ssh/my_local_hosts_file</code>：指定当前用户的<code>known_hosts</code>文件（服务器公钥指纹列表）的位置。</li>
<li><code>VerifyHostKeyDNS yes</code>：是否通过检查 SSH 服务器的 DNS
记录，确认公钥指纹是否与<code>known_hosts</code>文件保存的一致。</li>
</ul>
<hr />
<h1 id="ssh-密钥登录">SSH 密钥登录</h1>
<p>SSH
默认采用密码登录，这种方法有很多缺点，简单的密码不安全，复杂的密码不容易记忆，每次手动输入也很麻烦。密钥登录是更好的解决方案。</p>
<h2 id="密钥是什么">密钥是什么</h2>
<p>密钥（key）是一个非常大的数字，通过加密算法得到。对称加密只需要一个密钥，非对称加密需要两个密钥成对使用，分为公钥（public
key）和私钥（private key）。</p>
<p>SSH
密钥登录采用的是非对称加密，每个用户通过自己的密钥登录。其中，私钥必须私密保存，不能泄漏；公钥则是公开的，可以对外发送。它们的关系是，公钥和私钥是一一对应的，每一个私钥都有且仅有一个对应的公钥，反之亦然。</p>
<p>如果数据使用公钥加密，那么只有使用对应的私钥才能解密，其他密钥都不行；反过来，如果使用私钥加密（这个过程一般称为“签名”），也只有使用对应的公钥解密。</p>
<h2 id="密钥登录的过程">密钥登录的过程</h2>
<p>SSH 密钥登录分为以下的步骤。</p>
<p>预备步骤，客户端通过<code>ssh-keygen</code>生成自己的公钥和私钥。</p>
<p>第一步，手动将客户端的公钥放入远程服务器的指定位置。</p>
<p>第二步，客户端向服务器发起 SSH 登录的请求。</p>
<p>第三步，服务器收到用户 SSH
登录的请求，发送一些随机数据给用户，要求用户证明自己的身份。</p>
<p>第四步，客户端收到服务器发来的数据，使用私钥对数据进行签名，然后再发还给服务器。</p>
<p>第五步，服务器收到客户端发来的加密签名后，使用对应的公钥解密，然后跟原始数据比较。如果一致，就允许用户登录。</p>
<h2 id="ssh-key命令生成密钥"><code>ssh-key</code>命令：生成密钥</h2>
<h3 id="基本用法-1">基本用法</h3>
<p>密钥登录时，首先需要生成公钥和私钥。OpenSSH
提供了一个工具程序<code>ssh-keygen</code>命令，用来生成密钥。</p>
<p>直接输入<code>ssh-keygen</code>，程序会询问一系列问题，然后生成密钥。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen</span><br></pre></td></tr></table></figure>
<p>通常做法是使用<code>-t</code>参数，指定密钥的加密算法。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t dsa</span><br></pre></td></tr></table></figure>
<p>上面示例中，<code>-t</code>参数用来指定密钥的加密算法，一般会选择<code>dsa</code>算法或<code>rsa</code>算法。注意，这个参数没有默认值。</p>
<p>输入上面的命令以后，<code>ssh-keygen</code>会要求用户回答一些问题。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t dsa</span><br><span class="line">Generating public/private dsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/home/username/.ssh/id_dsa):  press ENTER</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): ********</span><br><span class="line">Enter same passphrase again: ********</span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /home/username/.ssh/id_dsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /home/username/.ssh/id_dsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">14:ba:06:98:a8:98:ad:27:b5:ce:55:85:ec:64:37:19 username@shell.isp.com</span><br></pre></td></tr></table></figure>
<p>上面示例中，执行<code>ssh-keygen</code>命令以后，会出现第一个问题，询问密钥保存的文件名，默认是<code>~/.ssh/id_dsa</code>文件，这个是私钥的文件名，对应的公钥文件<code>~/.ssh/id_dsa.pub</code>是自动生成的。用户的密钥一般都放在主目录的<code>.ssh</code>目录里面。</p>
<p>如果选择<code>rsa</code>算法，生成的密钥文件默认就会是<code>~/.ssh/id_rsa</code>（私钥）和<code>~/.ssh/id_rsa.pub</code>（公钥）。</p>
<p>接着，就会是第二个问题，询问是否要为私钥文件设定密码保护（passphrase）。这样的话，即使入侵者拿到私钥，还是需要破解密码。如果为了方便，不想设定密码保护，可以直接按回车键，密码就会为空。后面还会让你再输入一次密码，两次输入必须一致。注意，这里“密码”的英文单词是
passphrase，这是为了避免与 Linux 账户的密码单词 password
混淆，表示这不是用户系统账户的密码。</p>
<p>最后，就会生成私钥和公钥，屏幕上还会给出公钥的指纹，以及当前的用户名和主机名作为注释，用来识别密钥的来源。</p>
<p>公钥文件和私钥文件都是文本文件，可以用文本编辑器看一下它们的内容。公钥文件的内容类似下面这样。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAIEAvpB4lUbAaEbh9u6HLig7amsfywD4fqSZq2ikACIUBn3GyRPfeF93l/</span><br><span class="line">weQh702ofXbDydZAKMcDvBJqRhUotQUwqV6HJxqoqPDlPGUUyo8RDIkLUIPRyq</span><br><span class="line">ypZxmK9aCXokFiHoGCXfQ9imUP/w/jfqb9ByDtG97tUJF6nFMP5WzhM= username@shell.isp.com</span><br></pre></td></tr></table></figure>
<p>上面示例中，末尾的<code>username@shell.isp.com</code>是公钥的注释，用来识别不同的公钥，表示这是哪台主机（<code>shell.isp.com</code>）的哪个用户（<code>username</code>）的公钥，不是必需项。</p>
<p>注意，公钥只有一行。因为它太长了，所以上面分成三行显示。</p>
<p>下面的命令可以列出用户所有的公钥。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ls -l ~/.ssh/id_*.pub</span><br></pre></td></tr></table></figure>
<p>生成密钥以后，建议修改它们的权限，防止其他人读取。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ chmod 600 ~/.ssh/id_rsa</span><br><span class="line">$ chmod 600 ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
<h3 id="配置项">配置项</h3>
<p><code>ssh-keygen</code>的命令行配置项，主要有下面这些。</p>
<p><strong>（1）<code>-b</code></strong></p>
<p><code>-b</code>参数指定密钥的二进制位数。这个参数值越大，密钥就越不容易破解，但是加密解密的计算开销也会加大。</p>
<p>一般来说，<code>-b</code>至少应该是<code>1024</code>，更安全一些可以设为<code>2048</code>或者更高。</p>
<p><strong>（2）<code>-C</code></strong></p>
<p><code>-C</code>参数可以为密钥文件指定新的注释，格式为<code>username@host</code>。</p>
<p>下面命令生成一个4096位 RSA
加密算法的密钥对，并且给出了用户名和主机名。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -b 4096 -C <span class="string">&quot;your_email@domain.com&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>（3）<code>-f</code></strong></p>
<p><code>-f</code>参数指定生成的私钥文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t dsa -f mykey</span><br></pre></td></tr></table></figure>
<p>上面命令会在当前目录生成私钥文件<code>mykey</code>和公钥文件<code>mykey.pub</code>。</p>
<p><strong>（4）<code>-F</code></strong></p>
<p><code>-F</code>参数检查某个主机名是否在<code>known_hosts</code>文件里面。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -F example.com</span><br></pre></td></tr></table></figure>
<p><strong>（5）<code>-N</code></strong></p>
<p><code>-N</code>参数用于指定私钥的密码（passphrase）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t dsa -N secretword</span><br></pre></td></tr></table></figure>
<p><strong>（6）<code>-p</code></strong></p>
<p><code>-p</code>参数用于重新指定私钥的密码（passphrase）。它与<code>-N</code>的不同之处在于，新密码不在命令中指定，而是执行后再输入。ssh
先要求输入旧密码，然后要求输入两遍新密码。</p>
<p><strong>（7）<code>-R</code></strong></p>
<p><code>-R</code>参数将指定的主机公钥指纹移出<code>known_hosts</code>文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -R example.com</span><br></pre></td></tr></table></figure>
<p><strong>（8）<code>-t</code></strong></p>
<p><code>-t</code>参数用于指定生成密钥的加密算法，一般为<code>dsa</code>或<code>rsa</code></p>
<h2 id="手动上传公钥">手动上传公钥</h2>
<p>生成密钥以后，公钥必须上传到服务器，才能使用公钥登录。</p>
<p>OpenSSH
规定，用户公钥保存在服务器的<code>~/.ssh/authorized_keys</code>文件。你要以哪个用户的身份登录到服务器，密钥就必须保存在该用户主目录的<code>~/.ssh/authorized_keys</code>文件。只要把公钥添加到这个文件之中，就相当于公钥上传到服务器了。每个公钥占据一行。如果该文件不存在，可以手动创建。</p>
<p>用户可以手动编辑该文件，把公钥粘贴进去，也可以在本机计算机上，执行下面的命令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ cat ~/.ssh/id_rsa.pub | ssh user@host <span class="string">&quot;mkdir -p ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys&quot;</span></span><br></pre></td></tr></table></figure>
<p>上面示例中，<code>user@host</code>要替换成你所要登录的用户名和主机名。</p>
<p>注意，<code>authorized_keys</code>文件的权限要设为<code>644</code>，即只有文件所有者才能写。如果权限设置不对，SSH
服务器可能会拒绝读取该文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ chmod 644 ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>
<p>只要公钥上传到服务器，下次登录时，OpenSSH
就会自动采用密钥登录，不再提示输入密码。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -l username shell.isp.com</span><br><span class="line">Enter passphrase <span class="keyword">for</span> key <span class="string">&#x27;/home/you/.ssh/id_dsa&#x27;</span>: ************</span><br><span class="line">Last login: Mon Mar 24 02:17:27 2014 from ex.ample.com</span><br><span class="line">shell.isp.com&gt;</span><br></pre></td></tr></table></figure>
<p>上面例子中，SSH
客户端使用私钥之前，会要求用户输入密码（passphrase），用来解开私钥。</p>
<h2 id="ssh-copy-id-命令自动上传公钥">ssh-copy-id
命令：自动上传公钥</h2>
<p>OpenSSH
自带一个<code>ssh-copy-id</code>命令，可以自动将公钥拷贝到远程服务器的<code>~/.ssh/authorized_keys</code>文件。如果<code>~/.ssh/authorized_keys</code>文件不存在，<code>ssh-copy-id</code>命令会自动创建该文件。</p>
<p>用户在本地计算机执行下面的命令，就可以把本地的公钥拷贝到服务器。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-copy-id -i key_file user@host</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>-i</code>参数用来指定公钥文件，<code>user</code>是所要登录的账户名，<code>host</code>是服务器地址。如果省略用户名，默认为当前的本机用户名。执行完该命令，公钥就会拷贝到服务器。</p>
<p>注意，公钥文件可以不指定路径和<code>.pub</code>后缀名，<code>ssh-copy-id</code>会自动在<code>~/.ssh</code>目录里面寻找。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-copy-id -i id_rsa user@host</span><br></pre></td></tr></table></figure>
<p>上面命令中，公钥文件会自动匹配到<code>~/.ssh/id_rsa.pub</code>。</p>
<p><code>ssh-copy-id</code>会采用密码登录，系统会提示输入远程服务器的密码。</p>
<p>注意，<code>ssh-copy-id</code>是直接将公钥添加到<code>authorized_keys</code>文件的末尾。如果<code>authorized_keys</code>文件的末尾不是一个换行符，会导致新的公钥添加到前一个公钥的末尾，两个公钥连在一起，使得它们都无法生效。所以，如果<code>authorized_keys</code>文件已经存在，使用<code>ssh-copy-id</code>命令之前，务必保证<code>authorized_keys</code>文件的末尾是换行符（假设该文件已经存在）。</p>
<h2 id="ssh-agent-命令ssh-add-命令">ssh-agent 命令，ssh-add 命令</h2>
<h3 id="基本用法-2">基本用法</h3>
<p>私钥设置了密码以后，每次使用都必须输入密码，有时让人感觉非常麻烦。比如，连续使用<code>scp</code>命令远程拷贝文件时，每次都要求输入密码。</p>
<p><code>ssh-agent</code>命令就是为了解决这个问题而设计的，它让用户在整个
Bash 对话（session）之中，只在第一次使用 SSH
命令时输入密码，然后将私钥保存在内存中，后面都不需要再输入私钥的密码了。</p>
<p>第一步，使用下面的命令新建一次命令行对话。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-agent bash</span><br></pre></td></tr></table></figure>
<p>上面命令中，如果你使用的命令行环境不是 Bash，可以用其他的 Shell
命令代替。比如<code>zsh</code>和<code>fish</code>。</p>
<p>如果想在当前对话启用<code>ssh-agent</code>，可以使用下面的命令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">eval</span> `ssh-agent`</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>ssh-agent</code>会先自动在后台运行，并将需要设置的环境变量输出在屏幕上，类似下面这样。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-agent</span><br><span class="line">SSH_AUTH_SOCK=/tmp/ssh-barrett/ssh-22841-agent; <span class="built_in">export</span> SSH_AUTH_SOCK;</span><br><span class="line">SSH_AGENT_PID=22842; <span class="built_in">export</span> SSH_AGENT_PID;</span><br><span class="line"><span class="built_in">echo</span> Agent pid 22842;</span><br></pre></td></tr></table></figure>
<p><code>eval</code>命令的作用，就是运行上面的<code>ssh-agent</code>命令的输出，设置环境变量。</p>
<p>第二步，在新建的 Shell
对话里面，使用<code>ssh-add</code>命令添加默认的私钥（比如<code>~/.ssh/id_rsa</code>，或<code>~/.ssh/id_dsa</code>，或<code>~/.ssh/id_ecdsa</code>，或<code>~/.ssh/id_ed25519</code>）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-add</span><br><span class="line">Enter passphrase <span class="keyword">for</span> /home/you/.ssh/id_dsa: ********</span><br><span class="line">Identity added: /home/you/.ssh/id_dsa (/home/you/.ssh/id_dsa)</span><br></pre></td></tr></table></figure>
<p>上面例子中，添加私钥时，会要求输入密码。以后，在这个对话里面再使用密钥时，就不需要输入私钥的密码了，因为私钥已经加载到内存里面了。</p>
<p>如果添加的不是默认私钥，<code>ssh-add</code>命令需要显式指定私钥文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-add my-other-key-file</span><br></pre></td></tr></table></figure>
<p>上面的命令中，<code>my-other-key-file</code>就是用户指定的私钥文件。</p>
<p>第三步，使用 ssh 命令正常登录远程服务器。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh remoteHost</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>remoteHost</code>是远程服务器的地址，ssh
使用的是默认的私钥。这时如果私钥设有密码，ssh
将不再询问密码，而是直接取出内容里面的私钥。</p>
<p>如果要使用其他私钥登录服务器，需要使用 ssh
命令的<code>-i</code>参数指定私钥文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh –i OpenSSHPrivateKey remoteHost</span><br></pre></td></tr></table></figure>
<p>最后，如果要退出<code>ssh-agent</code>，可以直接退出子 Shell（按下
Ctrl + d），也可以使用下面的命令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-agent -k</span><br></pre></td></tr></table></figure>
<h3 id="ssh-add命令"><code>ssh-add</code>命令</h3>
<p><code>ssh-add</code>命令用来将私钥加入<code>ssh-agent</code>，它有如下的参数。</p>
<p><strong>（1）<code>-d</code></strong></p>
<p><code>-d</code>参数从内存中删除指定的私钥。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-add -d name-of-key-file</span><br></pre></td></tr></table></figure>
<p><strong>（2）<code>-D</code></strong></p>
<p><code>-D</code>参数从内存中删除所有已经添加的私钥。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-add -D</span><br></pre></td></tr></table></figure>
<p><strong>（3）<code>-l</code></strong></p>
<p><code>-l</code>参数列出所有已经添加的私钥。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-add -l</span><br></pre></td></tr></table></figure>
<h2 id="关闭密码登录">关闭密码登录</h2>
<p>为了安全性，启用密钥登录之后，最好关闭服务器的密码登录。</p>
<p>对于 OpenSSH，具体方法就是打开服务器 sshd
的配置文件<code>/etc/ssh/sshd_config</code>，将<code>PasswordAuthentication</code>这一项设为<code>no</code>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PasswordAuthentication no</span><br></pre></td></tr></table></figure>
<p>修改配置文件以后，不要忘了重新启动 sshd，否则不会生效。</p>
<hr />
<h1 id="ssh-端口转发">SSH 端口转发</h1>
<h2 id="简介-2">简介</h2>
<p>SSH
除了登录服务器，还有一大用途，就是作为加密通信的中介，充当两台服务器之间的通信加密跳板，使得原本不加密的通信变成加密通信。这个功能称为端口转发（port
forwarding），又称 SSH 隧道（tunnel）。</p>
<p>端口转发有两个主要作用：</p>
<p>（1）将不加密的数据放在 SSH
安全连接里面传输，使得原本不安全的网络服务增加了安全性，比如通过端口转发访问
Telnet、FTP 等明文服务，数据传输就都会加密。</p>
<p>（2）作为数据通信的加密跳板，绕过网络防火墙。</p>
<p>端口转发有三种使用方法：动态转发，本地转发，远程转发。下面逐一介绍。</p>
<h2 id="动态转发">动态转发</h2>
<p>动态转发指的是，本机与 SSH
服务器之间创建了一个加密连接，然后本机内部针对某个端口的通信，都通过这个加密连接转发。它的一个使用场景就是，访问所有外部网站，都通过
SSH 转发。</p>
<p>动态转发需要把本地端口绑定到 SSH 服务器。至于 SSH
服务器要去访问哪一个网站，完全是动态的，取决于原始通信，所以叫做动态转发。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -D local-port tunnel-host -N</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>-D</code>表示动态转发，<code>local-port</code>是本地端口，<code>tunnel-host</code>是
SSH 服务器，<code>-N</code>表示这个 SSH 连接只进行端口转发，不登录远程
Shell，不能执行远程命令，只能充当隧道。</p>
<p>举例来说，如果本地端口是<code>2121</code>，那么动态转发的命令就是下面这样。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -D 2121 tunnel-host -N</span><br></pre></td></tr></table></figure>
<p>注意，这种转发采用了 SOCKS5 协议。访问外部网站时，需要把 HTTP
请求转成 SOCKS5 协议，才能把本地端口的请求转发出去。</p>
<p>下面是 SSH 隧道建立后的一个使用实例。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ curl -x socks5://localhost:2121 http://www.example.com</span><br></pre></td></tr></table></figure>
<p>上面命令中，curl 的<code>-x</code>参数指定代理服务器，即通过 SOCKS5
协议的本地<code>2121</code>端口，访问<code>http://www.example.com</code>。</p>
<p>如果经常使用动态转发，可以将设置写入 SSH
客户端的用户个人配置文件（<code>~/.ssh/config</code>）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">DynamicForward tunnel-host:local-port</span><br></pre></td></tr></table></figure>
<h2 id="本地转发">本地转发</h2>
<p>本地转发（local forwarding）指的是，SSH
服务器作为中介的跳板机，建立本地计算机与特定目标网站之间的加密连接。本地转发是在本地计算机的
SSH 客户端建立的转发规则。</p>
<p>它会指定一个本地端口（local-port），所有发向那个端口的请求，都会转发到
SSH 跳板机（tunnel-host），然后 SSH
跳板机作为中介，将收到的请求发到目标服务器（target-host）的目标端口（target-port）。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">$ ssh -L local-port:target-host:target-port tunnel-host</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>-L</code>参数表示本地转发，<code>local-port</code>是本地端口，<code>target-host</code>是你想要访问的目标服务器，<code>target-port</code>是目标服务器的端口，<code>tunnel-host</code>是
SSH 跳板机。</p>
<p>举例来说，现在有一台 SSH
跳板机<code>tunnel-host</code>，我们想要通过这台机器，在本地<code>2121</code>端口与目标网站<code>www.example.com</code>的80端口之间建立
SSH 隧道，就可以写成下面这样。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -L 2121:www.example.com:80 tunnel-host -N</span><br></pre></td></tr></table></figure>
<p>然后，访问本机的<code>2121</code>端口，就是访问<code>www.example.com</code>的80端口。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ curl http://localhost:2121</span><br></pre></td></tr></table></figure>
<p>注意，本地端口转发采用 HTTP 协议，不用转成 SOCKS5 协议。</p>
<p>另一个例子是加密访问邮件获取协议 POP3。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -L 1100:mail.example.com:110 mail.example.com</span><br></pre></td></tr></table></figure>
<p>上面命令将本机的1100端口，绑定邮件服务器<code>mail.example.com</code>的110端口（POP3
协议的默认端口）。端口转发建立以后，POP3
邮件客户端只需要访问本机的1100端口，请求就会通过 SSH
跳板机（这里是<code>mail.example.com</code>），自动转发到<code>mail.example.com</code>的110端口。</p>
<p>上面这种情况有一个前提条件，就是<code>mail.example.com</code>必须运行
SSH 服务器。否则，就必须通过另一台 SSH
服务器中介，执行的命令要改成下面这样。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -L 1100:mail.example.com:110 other.example.com</span><br></pre></td></tr></table></figure>
<p>上面命令中，本机的1100端口还是绑定<code>mail.example.com</code>的110端口，但是由于<code>mail.example.com</code>没有运行
SSH 服务器，所以必须通过<code>other.example.com</code>中介。本机的 POP3
请求通过1100端口，先发给<code>other.example.com</code>的22端口（sshd
默认端口），再由后者转给<code>mail.example.com</code>，得到数据以后再原路返回。</p>
<p>注意，采用上面的中介方式，只有本机到<code>other.example.com</code>的这一段是加密的，<code>other.example.com</code>到<code>mail.example.com</code>的这一段并不加密。</p>
<p>这个命令最好加上<code>-N</code>参数，表示不在 SSH
跳板机执行远程命令，让 SSH
只充当隧道。另外还有一个<code>-f</code>参数表示 SSH 连接在后台运行。</p>
<p>如果经常使用本地转发，可以将设置写入 SSH
客户端的用户个人配置文件（<code>~/.ssh/config</code>）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Host test.example.com</span><br><span class="line">LocalForward client-IP:client-port server-IP:server-port</span><br></pre></td></tr></table></figure>
<h2 id="远程转发">远程转发</h2>
<p>远程端口指的是在远程 SSH 服务器建立的转发规则。</p>
<p>这种场景比较特殊，主要针对内网的情况。本地计算机在外网，SSH
跳板机和目标服务器都在内网，而且本地计算机无法访问内网之中的 SSH
跳板机，但是 SSH 跳板机可以访问本机计算机。</p>
<p>由于本机无法访问内网 SSH 跳板机，就无法从外网发起 SSH
隧道，建立端口转发。必须反过来，从 SSH
跳板机发起隧道，建立端口转发，这时就形成了远程端口转发。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -R local-port:target-host:target-port -N <span class="built_in">local</span></span><br></pre></td></tr></table></figure>
<p>上面的命令，首先需要注意，不是在本机执行的，而是在 SSH
跳板机执行的，从跳板机去连接本地计算机。<code>-R</code>参数表示远程端口转发，<code>local-port</code>是本地计算机的端口，<code>target-host</code>和<code>target-port</code>是目标服务器及其端口，<code>local</code>是本地计算机。</p>
<p>显然，远程端口转发要求本地计算机也安装了 SSH 服务器，这样才能接受 SSH
跳板机的远程登录。</p>
<p>比如，跳板机执行下面的命令，绑定本地计算机的<code>2121</code>端口，去访问<code>www.example.com:80</code>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -R 2121:www.example.com:80 <span class="built_in">local</span> -N</span><br></pre></td></tr></table></figure>
<p>执行上面的命令以后，跳板机到本地计算机的隧道已经建立了。然后，就可以从本机访问目标服务器了，即在本机执行下面的命令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ curl http://localhost:2121</span><br></pre></td></tr></table></figure>
<p>执行上面的命令以后，命令就会输出服务器<code>www.example.com</code>的80端口返回的内容。</p>
<p>如果经常执行远程端口转发，可以将设置写入 SSH
客户端的用户个人配置文件（<code>~/.ssh/config</code>）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Host test.example.com</span><br><span class="line">RemoteForward local-IP:local-port target-ip:target-port</span><br></pre></td></tr></table></figure>
<h2 id="实例">实例</h2>
<p>下面看两个端口转发的实例。</p>
<h3 id="简易-vpn">简易 VPN</h3>
<p>VPN
用来在外网与内网之间建立一条加密通道。内网的服务器不能从外网直接访问，必须通过一个跳板机，如果本机可以访问跳板机，就可以使用
SSH 本地转发，简单实现一个 VPN。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -L 2080:corp-server:80 -L 2443:corp-server:443 tunnel-host -N</span><br></pre></td></tr></table></figure>
<p>上面命令通过 SSH
跳板机，将本机的<code>2080</code>端口绑定内网服务器的<code>80</code>端口，本机的<code>2443</code>端口绑定内网服务器的<code>443</code>端口。</p>
<h3 id="两级跳板">两级跳板</h3>
<p>端口转发可以有多级，比如新建两个 SSH
隧道，第一个隧道转发给第二个隧道，第二个隧道才能访问目标服务器。</p>
<p>首先，在本机新建第一级隧道。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -L 7999:localhost:2999 tunnel1-host</span><br></pre></td></tr></table></figure>
<p>上面命令在本地<code>7999</code>端口与<code>tunnel1-host</code>之间建立一条隧道，隧道的出口是<code>tunnel1-host</code>的<code>localhost:2999</code>，也就是<code>tunnel1-host</code>收到本机的请求以后，转发给自己的<code>2999</code>端口。</p>
<p>然后，在第一台跳板机（<code>tunnel1-host</code>）执行下面的命令，新建第二级隧道。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -L 2999:target-host:7999 tunnel2-host -N</span><br></pre></td></tr></table></figure>
<p>上面命令将第一台跳板机<code>tunnel1-host</code>的<code>2999</code>端口，通过第二台跳板机<code>tunnel2-host</code>，连接到目标服务器<code>target-host</code>的<code>7999</code>端口。</p>
<p>最终效果就是，访问本机的<code>7999</code>端口，就会转发到<code>target-host</code>的<code>7999</code>端口。</p>
<h2 id="参考链接-1">参考链接</h2>
<ul>
<li><a
href="https://solitum.net/posts/an-illustrated-guide-to-ssh-tunnels/">An
Illustrated Guide to SSH Tunnels</a>, Scott Wiersdorf</li>
</ul>
<hr />
<h1 id="rsync-命令">rsync 命令</h1>
<h2 id="简介-3">简介</h2>
<p>rsync 是一个常用的 Linux 应用程序，用于文件同步。</p>
<p>它可以在本地计算机与远程计算机之间，或者两个本地目录之间同步文件（但不支持两台远程计算机之间的同步）。它也可以当作文件复制工具，替代<code>cp</code>和<code>mv</code>命令。</p>
<p>它名称里面的<code>r</code>指的是 remote，rsync
其实就是“远程同步”（remote sync）的意思。与其他文件传输工具（如 FTP 或
scp）不同，rsync
的最大特点是会检查发送方和接收方已有的文件，仅传输有变动的部分（默认规则是文件大小或修改时间有变动）。</p>
<p>虽然 rsync 不是 SSH
工具集的一部分，但因为也涉及到远程操作，所以放在这里一起介绍。</p>
<h2 id="安装">安装</h2>
<p>如果本机或者远程计算机没有安装 rsync，可以用下面的命令安装。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Debian</span></span><br><span class="line">$ sudo apt-get install rsync</span><br><span class="line"></span><br><span class="line"><span class="comment"># Red Hat</span></span><br><span class="line">$ sudo yum install rsync</span><br><span class="line"></span><br><span class="line"><span class="comment"># Arch Linux</span></span><br><span class="line">$ sudo pacman -S rsync</span><br></pre></td></tr></table></figure>
<p>注意，传输的双方都必须安装 rsync。</p>
<h2 id="基本用法-3">基本用法</h2>
<p>rsync
可以用于本地计算机的两个目录之间的同步。下面就用本地同步举例，顺便讲解
rsync 几个主要参数的用法。</p>
<h3 id="r参数"><code>-r</code>参数</h3>
<p>本机使用 rsync
命令时，可以作为<code>cp</code>和<code>mv</code>命令的替代方法，将源目录拷贝到目标目录。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -r <span class="built_in">source</span> destination</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>-r</code>表示递归，即包含子目录。注意，<code>-r</code>是必须的，否则
rsync
运行不会成功。<code>source</code>目录表示源目录，<code>destination</code>表示目标目录。上面命令执行以后，目标目录下就会出现<code>destination/source</code>这个子目录。</p>
<p>如果有多个文件或目录需要同步，可以写成下面这样。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -r source1 source2 destination</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>source1</code>、<code>source2</code>都会被同步到<code>destination</code>目录。</p>
<h3 id="a参数"><code>-a</code>参数</h3>
<p><code>-a</code>参数可以替代<code>-r</code>，除了可以递归同步以外，还可以同步元信息（比如修改时间、权限等）。由于
rsync
默认使用文件大小和修改时间决定文件是否需要更新，所以<code>-a</code>比<code>-r</code>更有用。下面的用法才是常见的写法。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -a <span class="built_in">source</span> destination</span><br></pre></td></tr></table></figure>
<p>目标目录<code>destination</code>如果不存在，rsync
会自动创建。执行上面的命令后，源目录<code>source</code>被完整地复制到了目标目录<code>destination</code>下面，即形成了<code>destination/source</code>的目录结构。</p>
<p>如果只想同步源目录<code>source</code>里面的内容到目标目录<code>destination</code>，则需要在源目录后面加上斜杠。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -a <span class="built_in">source</span>/ destination</span><br></pre></td></tr></table></figure>
<p>上面命令执行后，<code>source</code>目录里面的内容，就都被复制到了<code>destination</code>目录里面，并不会在<code>destination</code>下面创建一个<code>source</code>子目录。</p>
<h3 id="n参数"><code>-n</code>参数</h3>
<p>如果不确定 rsync
执行后会产生什么结果，可以先用<code>-n</code>或<code>--dry-run</code>参数模拟执行的结果。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -anv <span class="built_in">source</span>/ destination</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>-n</code>参数模拟命令执行的结果，并不真的执行命令。<code>-v</code>参数则是将结果输出到终端，这样就可以看到哪些内容会被同步。</p>
<h3 id="delete参数"><code>--delete</code>参数</h3>
<p>默认情况下，rsync
只确保源目录的所有内容（明确排除的文件除外）都复制到目标目录。它不会使两个目录保持相同，并且不会删除文件。如果要使得目标目录成为源目录的镜像副本，则必须使用<code>--delete</code>参数，这将删除只存在于目标目录、不存在于源目录的文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av --delete <span class="built_in">source</span>/ destination</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>--delete</code>参数会使得<code>destination</code>成为<code>source</code>的一个镜像。</p>
<h2 id="排除文件">排除文件</h2>
<h3 id="exclude参数"><code>--exclude</code>参数</h3>
<p>有时，我们希望同步时排除某些文件或目录，这时可以用<code>--exclude</code>参数指定排除模式。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av --exclude=<span class="string">&#x27;*.txt&#x27;</span> <span class="built_in">source</span>/ destination</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">$ rsync -av --exclude <span class="string">&#x27;*.txt&#x27;</span> <span class="built_in">source</span>/ destination</span><br></pre></td></tr></table></figure>
<p>上面命令排除了所有 TXT 文件。</p>
<p>注意，rsync
会同步以“点”开头的隐藏文件，如果要排除隐藏文件，可以这样写<code>--exclude=".*"</code>。</p>
<p>如果要排除某个目录里面的所有文件，但不希望排除目录本身，可以写成下面这样。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av --exclude <span class="string">&#x27;dir1/*&#x27;</span> <span class="built_in">source</span>/ destination</span><br></pre></td></tr></table></figure>
<p>多个排除模式，可以用多个<code>--exclude</code>参数。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av --exclude <span class="string">&#x27;file1.txt&#x27;</span> --exclude <span class="string">&#x27;dir1/*&#x27;</span> <span class="built_in">source</span>/ destination</span><br></pre></td></tr></table></figure>
<p>多个排除模式也可以利用 Bash
的大扩号的扩展功能，只用一个<code>--exclude</code>参数。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av --exclude=&#123;<span class="string">&#x27;file1.txt&#x27;</span>,<span class="string">&#x27;dir1/*&#x27;</span>&#125; <span class="built_in">source</span>/ destination</span><br></pre></td></tr></table></figure>
<p>如果排除模式很多，可以将它们写入一个文件，每个模式一行，然后用<code>--exclude-from</code>参数指定这个文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av --exclude-from=<span class="string">&#x27;exclude-file.txt&#x27;</span> <span class="built_in">source</span>/ destination</span><br></pre></td></tr></table></figure>
<h3 id="include参数"><code>--include</code>参数</h3>
<p><code>--include</code>参数用来指定必须同步的文件模式，往往与<code>--exclude</code>结合使用。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av --include=<span class="string">&quot;*.txt&quot;</span> --exclude=<span class="string">&#x27;*&#x27;</span> <span class="built_in">source</span>/ destination</span><br></pre></td></tr></table></figure>
<p>上面命令指定同步时，排除所有文件，但是会包括 TXT 文件。</p>
<h2 id="远程同步">远程同步</h2>
<h3 id="ssh-协议">SSH 协议</h3>
<p>rsync
除了支持本地两个目录之间的同步，也支持远程同步。它可以将本地内容，同步到远程服务器。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av <span class="built_in">source</span>/ username@remote_host:destination</span><br></pre></td></tr></table></figure>
<p>也可以将远程内容同步到本地。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av username@remote_host:<span class="built_in">source</span>/ destination</span><br></pre></td></tr></table></figure>
<p>rsync 默认使用 SSH 进行远程登录和数据传输。</p>
<p>由于早期 rsync 不使用 SSH
协议，需要用<code>-e</code>参数指定协议，后来才改的。所以，下面<code>-e ssh</code>可以省略。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av -e ssh <span class="built_in">source</span>/ user@remote_host:/destination</span><br></pre></td></tr></table></figure>
<p>但是，如果 ssh
命令有附加的参数，则必须使用<code>-e</code>参数指定所要执行的 SSH
命令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av -e <span class="string">&#x27;ssh -p 2234&#x27;</span> <span class="built_in">source</span>/ user@remote_host:/destination</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>-e</code>参数指定 SSH 使用2234端口。</p>
<h3 id="rsync-协议">rsync 协议</h3>
<p>除了使用 SSH，如果另一台服务器安装并运行了 rsync
守护程序，则也可以用<code>rsync://</code>协议（默认端口873）进行传输。具体写法是服务器与目标目录之间使用双冒号分隔<code>::</code>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av <span class="built_in">source</span>/ 192.168.122.32::module/destination</span><br></pre></td></tr></table></figure>
<p>注意，上面地址中的<code>module</code>并不是实际路径名，而是 rsync
守护程序指定的一个资源名，由管理员分配。</p>
<p>如果想知道 rsync 守护程序分配的所有 module
列表，可以执行下面命令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync rsync://192.168.122.32</span><br></pre></td></tr></table></figure>
<p>rsync
协议除了使用双冒号，也可以直接用<code>rsync://</code>协议指定地址。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -av <span class="built_in">source</span>/ rsync://192.168.122.32/module/destination</span><br></pre></td></tr></table></figure>
<h2 id="增量备份">增量备份</h2>
<p>rsync
的最大特点就是它可以完成增量备份，也就是默认只复制有变动的文件。</p>
<p>除了源目录与目标目录直接比较，rsync
还支持使用基准目录，即将源目录与基准目录之间变动的部分，同步到目标目录。</p>
<p>具体做法是，第一次同步是全量备份，所有文件在基准目录里面同步一份。以后每一次同步都是增量备份，只同步源目录与基准目录之间有变动的部分，将这部分保存在一个新的目标目录。这个新的目标目录之中，也是包含所有文件，但实际上，只有那些变动过的文件是存在于该目录，其他没有变动的文件都是指向基准目录文件的硬链接。</p>
<p><code>--link-dest</code>参数用来指定同步时的基准目录。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -a --delete --link-dest /compare/path /<span class="built_in">source</span>/path /target/path</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>--link-dest</code>参数指定基准目录<code>/compare/path</code>，然后源目录<code>/source/path</code>跟基准目录进行比较，找出变动的文件，将它们拷贝到目标目录<code>/target/path</code>。那些没变动的文件则会生成硬链接。这个命令的第一次备份时是全量备份，后面就都是增量备份了。</p>
<p>下面是一个脚本示例，备份用户的主目录。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A script to perform incremental backups using rsync</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -o errexit</span><br><span class="line"><span class="built_in">set</span> -o nounset</span><br><span class="line"><span class="built_in">set</span> -o pipefail</span><br><span class="line"></span><br><span class="line"><span class="built_in">readonly</span> SOURCE_DIR=<span class="string">&quot;<span class="variable">$&#123;HOME&#125;</span>&quot;</span></span><br><span class="line"><span class="built_in">readonly</span> BACKUP_DIR=<span class="string">&quot;/mnt/data/backups&quot;</span></span><br><span class="line"><span class="built_in">readonly</span> DATETIME=<span class="string">&quot;<span class="subst">$(date &#x27;+%Y-%m-%d_%H:%M:%S&#x27;)</span>&quot;</span></span><br><span class="line"><span class="built_in">readonly</span> BACKUP_PATH=<span class="string">&quot;<span class="variable">$&#123;BACKUP_DIR&#125;</span>/<span class="variable">$&#123;DATETIME&#125;</span>&quot;</span></span><br><span class="line"><span class="built_in">readonly</span> LATEST_LINK=<span class="string">&quot;<span class="variable">$&#123;BACKUP_DIR&#125;</span>/latest&quot;</span></span><br><span class="line"></span><br><span class="line">mkdir -p <span class="string">&quot;<span class="variable">$&#123;BACKUP_DIR&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">rsync -av --delete \</span><br><span class="line">  <span class="string">&quot;<span class="variable">$&#123;SOURCE_DIR&#125;</span>/&quot;</span> \</span><br><span class="line">  --link-dest <span class="string">&quot;<span class="variable">$&#123;LATEST_LINK&#125;</span>&quot;</span> \</span><br><span class="line">  --exclude=<span class="string">&quot;.cache&quot;</span> \</span><br><span class="line">  <span class="string">&quot;<span class="variable">$&#123;BACKUP_PATH&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">rm -rf <span class="string">&quot;<span class="variable">$&#123;LATEST_LINK&#125;</span>&quot;</span></span><br><span class="line">ln -s <span class="string">&quot;<span class="variable">$&#123;BACKUP_PATH&#125;</span>&quot;</span> <span class="string">&quot;<span class="variable">$&#123;LATEST_LINK&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>上面脚本中，每一次同步都会生成一个新目录<code>$&#123;BACKUP_DIR&#125;/$&#123;DATETIME&#125;</code>，并将软链接<code>$&#123;BACKUP_DIR&#125;/latest</code>指向这个目录。下一次备份时，就将<code>$&#123;BACKUP_DIR&#125;/latest</code>作为基准目录，生成新的备份目录。最后，再将软链接<code>$&#123;BACKUP_DIR&#125;/latest</code>指向新的备份目录。</p>
<h2 id="配置项-1">配置项</h2>
<p><code>-a</code>、<code>--archive</code>参数表示存档模式，保存所有的元数据，比如修改时间（modification
time）、权限、所有者等，并且软链接也会同步过去。</p>
<p><code>--append</code>参数指定文件接着上次中断的地方，继续传输。</p>
<p><code>--append-verify</code>参数跟<code>--append</code>参数类似，但会对传输完成后的文件进行一次校验。如果校验失败，将重新发送整个文件。</p>
<p><code>-b</code>、<code>--backup</code>参数指定在删除或更新目标目录已经存在的文件时，将该文件更名后进行备份，默认行为是删除。更名规则是添加由<code>--suffix</code>参数指定的文件后缀名，默认是<code>~</code>。</p>
<p><code>--backup-dir</code>参数指定文件备份时存放的目录，比如<code>--backup-dir=/path/to/backups</code>。</p>
<p><code>--bwlimit</code>参数指定带宽限制，默认单位是
KB/s，比如<code>--bwlimit=100</code>。</p>
<p><code>-c</code>、<code>--checksum</code>参数改变<code>rsync</code>的校验方式。默认情况下，rsync
只检查文件的大小和最后修改日期是否发生变化，如果发生变化，就重新传输；使用这个参数以后，则通过判断文件内容的校验和，决定是否重新传输。</p>
<p><code>--delete</code>参数删除只存在于目标目录、不存在于源目标的文件，即保证目标目录是源目标的镜像。</p>
<p><code>-e</code>参数指定使用 SSH 协议传输数据。</p>
<p><code>--exclude</code>参数指定排除不进行同步的文件，比如<code>--exclude="*.iso"</code>。</p>
<p><code>--exclude-from</code>参数指定一个本地文件，里面是需要排除的文件模式，每个模式一行。</p>
<p><code>--existing</code>、<code>--ignore-non-existing</code>参数表示不同步目标目录中不存在的文件和目录。</p>
<p><code>-h</code>参数表示以人类可读的格式输出。</p>
<p><code>-h</code>、<code>--help</code>参数返回帮助信息。</p>
<p><code>-i</code>参数表示输出源目录与目标目录之间文件差异的详细情况。</p>
<p><code>--ignore-existing</code>参数表示只要该文件在目标目录中已经存在，就跳过去，不再同步这些文件。</p>
<p><code>--include</code>参数指定同步时要包括的文件，一般与<code>--exclude</code>结合使用。</p>
<p><code>--link-dest</code>参数指定增量备份的基准目录。</p>
<p><code>-m</code>参数指定不同步空目录。</p>
<p><code>--max-size</code>参数设置传输的最大文件的大小限制，比如不超过200KB（<code>--max-size='200k'</code>）。</p>
<p><code>--min-size</code>参数设置传输的最小文件的大小限制，比如不小于10KB（<code>--min-size=10k</code>）。</p>
<p><code>-n</code>参数或<code>--dry-run</code>参数模拟将要执行的操作，而并不真的执行。配合<code>-v</code>参数使用，可以看到哪些内容会被同步过去。</p>
<p><code>-P</code>参数是<code>--progress</code>和<code>--partial</code>这两个参数的结合。</p>
<p><code>--partial</code>参数允许恢复中断的传输。不使用该参数时，<code>rsync</code>会删除传输到一半被打断的文件；使用该参数后，传输到一半的文件也会同步到目标目录，下次同步时再恢复中断的传输。一般需要与<code>--append</code>或<code>--append-verify</code>配合使用。</p>
<p><code>--partial-dir</code>参数指定将传输到一半的文件保存到一个临时目录，比如<code>--partial-dir=.rsync-partial</code>。一般需要与<code>--append</code>或<code>--append-verify</code>配合使用。</p>
<p><code>--progress</code>参数表示显示进展。</p>
<p><code>-r</code>参数表示递归，即包含子目录。</p>
<p><code>--remove-source-files</code>参数表示传输成功后，删除发送方的文件。</p>
<p><code>--size-only</code>参数表示只同步大小有变化的文件，不考虑文件修改时间的差异。</p>
<p><code>--suffix</code>参数指定文件名备份时，对文件名添加的后缀，默认是<code>~</code>。</p>
<p><code>-u</code>、<code>--update</code>参数表示同步时跳过目标目录中修改时间更新的文件，即不同步这些有更新的时间戳的文件。</p>
<p><code>-v</code>参数表示输出细节。<code>-vv</code>表示输出更详细的信息，<code>-vvv</code>表示输出最详细的信息。</p>
<p><code>--version</code>参数返回 rsync 的版本。</p>
<p><code>-z</code>参数指定同步时压缩数据。</p>
<h2 id="参考链接-2">参考链接</h2>
<ul>
<li><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-rsync-to-sync-local-and-remote-directories-on-a-vps">How
To Use Rsync to Sync Local and Remote Directories on a VPS</a>, Justin
Ellingwood</li>
<li><a href="https://www.howtoforge.com/mirroring_with_rsync">Mirror
Your Web Site With rsync</a>, Falko Timme</li>
<li><a
href="https://linuxconfig.org/examples-on-how-to-use-rsync-for-local-and-remote-data-backups-and-synchonization">Examples
on how to use Rsync</a>, Egidio Docile</li>
<li><a
href="https://linuxconfig.org/how-to-create-incremental-backups-using-rsync-on-linux">How
to create incremental backups using rsync on Linux</a>, Egidio
Docile</li>
</ul>
<hr />
<h1 id="scp-命令">scp 命令</h1>
<p><code>scp</code>是 SSH
提供的一个客户端程序，用来在两台主机之间加密传送文件（即复制文件）。</p>
<h2 id="简介-4">简介</h2>
<p><code>scp</code>是 secure copy 的缩写，相当于<code>cp</code>命令 +
SSH。它的底层是 SSH
协议，默认端口是22，相当于先使用<code>ssh</code>命令登录远程主机，然后再执行拷贝操作。</p>
<p><code>scp</code>主要用于以下三种复制操作。</p>
<ul>
<li>本地复制到远程。</li>
<li>远程复制到本地。</li>
<li>两个远程系统之间的复制。</li>
</ul>
<p>使用<code>scp</code>传输数据时，文件和密码都是加密的，不会泄漏敏感信息。</p>
<h2 id="基本语法">基本语法</h2>
<p><code>scp</code>的语法类似<code>cp</code>的语法。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp <span class="built_in">source</span> destination</span><br></pre></td></tr></table></figure>
<p>上面命令中，<code>source</code>是文件当前的位置，<code>destination</code>是文件所要复制到的位置。它们都可以包含用户名和主机名。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp user@host:foo.txt bar.txt</span><br></pre></td></tr></table></figure>
<p>上面命令将远程主机（<code>user@host</code>）用户主目录下的<code>foo.txt</code>，复制为本机当前目录的<code>bar.txt</code>。可以看到，主机与文件之间要使用冒号（<code>:</code>）分隔。</p>
<p><code>scp</code>会先用 SSH
登录到远程主机，然后在加密连接之中复制文件。客户端发起连接后，会提示用户输入密码，这部分是跟
SSH 的用法一致的。</p>
<p>用户名和主机名都是可以省略的。用户名的默认值是本机的当前用户名，主机名默认为当前主机。注意，<code>scp</code>会使用
SSH
客户端的配置文件<code>.ssh/config</code>，如果配置文件里面定义了主机的别名，这里也可以使用别名连接。</p>
<p><code>scp</code>支持一次复制多个文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp source1 source2 destination</span><br></pre></td></tr></table></figure>
<p>上面命令会将<code>source1</code>和<code>source2</code>两个文件，复制到<code>destination</code>。</p>
<p>注意，如果所要复制的文件，在目标位置已经存在同名文件，<code>scp</code>会在没有警告的情况下覆盖同名文件。</p>
<h2 id="用法示例">用法示例</h2>
<p><strong>（1）本地文件复制到远程</strong></p>
<p>复制本机文件到远程系统的用法如下。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line">$ scp SourceFile user@host:directory/TargetFile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例</span></span><br><span class="line">$ scp file.txt remote_username@10.10.0.2:/remote/directory</span><br></pre></td></tr></table></figure>
<p>下面是复制整个目录的例子。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 将本机的 documents 目录拷贝到远程主机，</span></span><br><span class="line"><span class="comment"># 会在远程主机创建 documents 目录</span></span><br><span class="line">$ scp -r documents username@server_ip:/path_to_remote_directory</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将本机整个目录拷贝到远程目录下</span></span><br><span class="line">$ scp -r localmachine/path_to_the_directory username@server_ip:/path_to_remote_directory/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将本机目录下的所有内容拷贝到远程目录下</span></span><br><span class="line">$ scp -r localmachine/path_to_the_directory/* username@server_ip:/path_to_remote_directory/</span><br></pre></td></tr></table></figure>
<p><strong>（2）远程文件复制到本地</strong></p>
<p>从远程主机复制文件到本地的用法如下。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line">$ scp user@host:directory/SourceFile TargetFile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例</span></span><br><span class="line">$ scp remote_username@10.10.0.2:/remote/file.txt /<span class="built_in">local</span>/directory</span><br></pre></td></tr></table></figure>
<p>下面是复制整个目录的例子。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 拷贝一个远程目录到本机目录下</span></span><br><span class="line">$ scp -r username@server_ip:/path_to_remote_directory local-machine/path_to_the_directory/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拷贝远程目录下的所有内容，到本机目录下</span></span><br><span class="line">$ scp -r username@server_ip:/path_to_remote_directory/* local-machine/path_to_the_directory/</span><br><span class="line">$ scp -r user@host:directory/SourceFolder TargetFolder</span><br></pre></td></tr></table></figure>
<p><strong>（3）两个远程系统之间的复制</strong></p>
<p>本机发出指令，从远程主机 A 拷贝到远程主机 B 的用法如下。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line">$ scp user@host1:directory/SourceFile user@host2:directory/SourceFile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例</span></span><br><span class="line">$ scp user1@host1.com:/files/file.txt user2@host2.com:/files</span><br></pre></td></tr></table></figure>
<p>系统将提示你输入两个远程帐户的密码。数据将直接从一个远程主机传输到另一个远程主机。</p>
<h2 id="配置项-2">配置项</h2>
<p><strong>（1）<code>-c</code></strong></p>
<p><code>-c</code>参数用来指定文件拷贝数据传输的加密算法。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp -c blowfish some_file your_username@remotehost.edu:~</span><br></pre></td></tr></table></figure>
<p>上面代码指定加密算法为<code>blowfish</code>。</p>
<p><strong>（2）<code>-C</code></strong></p>
<p><code>-C</code>参数表示是否在传输时压缩文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp -c blowfish -C local_file your_username@remotehost.edu:~</span><br></pre></td></tr></table></figure>
<p><strong>（3）<code>-F</code></strong></p>
<p><code>-F</code>参数用来指定 ssh_config 文件，供 ssh 使用。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp -F /home/pungki/proxy_ssh_config Label.pdf root@172.20.10.8:/root</span><br></pre></td></tr></table></figure>
<p><strong>（4）<code>-i</code></strong></p>
<p><code>-i</code>参数用来指定密钥。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp -vCq -i private_key.pem ~/test.txt root@192.168.1.3:/some/path/test.txt</span><br></pre></td></tr></table></figure>
<p><strong>（5）<code>-l</code></strong></p>
<p><code>-l</code>参数用来限制传输数据的带宽速率，单位是
Kbit/sec。对于多人分享的带宽，这个参数可以留出一部分带宽供其他人使用。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp -l 80 yourusername@yourserver:/home/yourusername/* .</span><br></pre></td></tr></table></figure>
<p>上面代码中，<code>scp</code>命令占用的带宽限制为每秒 80K
比特位，即每秒 10K 字节。</p>
<p><strong>（6）<code>-p</code></strong></p>
<p><code>-p</code>参数用来保留修改时间（modification
time）、访问时间（access time）、文件状态（mode）等原始文件的信息。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp -p ~/test.txt root@192.168.1.3:/some/path/test.txt</span><br></pre></td></tr></table></figure>
<p><strong>（7）<code>-P</code></strong></p>
<p><code>-P</code>参数用来指定远程主机的 SSH
端口。如果远程主机使用默认端口22，可以不用指定，否则需要用<code>-P</code>参数在命令中指定。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp -P 2222 user@host:directory/SourceFile TargetFile</span><br></pre></td></tr></table></figure>
<p><strong>（8）<code>-q</code></strong></p>
<p><code>-q</code>参数用来关闭显示拷贝的进度条。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp -q Label.pdf mrarianto@202.x.x.x:.</span><br></pre></td></tr></table></figure>
<p><strong>（9）<code>-r</code></strong></p>
<p><code>-r</code>参数表示是否以递归方式复制目录。</p>
<p><strong>（10）<code>-v</code></strong></p>
<p><code>-v</code>参数用来显示详细的输出。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scp -v ~/test.txt root@192.168.1.3:/root/help2356.txt</span><br></pre></td></tr></table></figure>
<hr />
<h1 id="sftp-命令">sftp 命令</h1>
<p><code>sftp</code>是 SSH 提供的一个客户端应用程序，主要用来安全地访问
FTP。因为 FTP 是不加密协议，很不安全，<code>sftp</code>就相当于将 FTP
放入了 SSH。</p>
<p>下面的命令连接 FTP 主机。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sftp username@hostname</span><br></pre></td></tr></table></figure>
<p>执行上面的命令，会要求输入 FTP 的密码。密码验证成功以后，就会出现 FTP
的提示符<code>sftp&gt;</code>，下面是一个例子。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sftp USER@penguin.example.com</span><br><span class="line">USER@penguin.example.com<span class="string">&#x27;s password:</span></span><br><span class="line"><span class="string">Connected to penguin.example.com.</span></span><br><span class="line"><span class="string">sftp&gt;</span></span><br></pre></td></tr></table></figure>
<p>FTP 的提示符下面，就可以输入各种 FTP 命令了，这部分完全跟传统的 FTP
用法完全一样。</p>
<ul>
<li><code>ls [directory]</code>：列出一个远程目录的内容。如果没有指定目标目录，则默认列出当前目录。</li>
<li><code>cd directory</code>：从当前目录改到指定目录。</li>
<li><code>mkdir directory</code>：创建一个远程目录。</li>
<li><code>rmdir path</code>：删除一个远程目录。</li>
<li><code>put localfile [remotefile]</code>：本地文件传输到远程主机。</li>
<li><code>get remotefile [localfile]</code>：远程文件传输到本地。</li>
<li><code>help</code>：显示帮助信息。</li>
<li><code>bye</code>：退出 sftp。</li>
<li><code>quit</code>：退出 sftp。</li>
<li><code>exit</code>：退出 sftp。</li>
</ul>
]]></content>
      <categories>
        <category>SSH</category>
      </categories>
      <tags>
        <tag>SSH</tag>
      </tags>
  </entry>
  <entry>
    <title>技术分析</title>
    <url>/2022/08/31/ta/</url>
    <content><![CDATA[<h2 id="bull-and-bear-index-bbi">Bull And Bear Index (BBI)</h2>
<p>BBI是多空分界线。当股价位于BBI指标线之上，表明股价处于多头行情，当股价位于BBI指标线之下，表明股价处于空头行情。当股价对BBI形成突破时，就是市场多空转换的时候。</p>
<p>当股价向上突破BBI指标时，市场由空头转向多头，为看涨信号。当股价向下跌破BBI指标时，市场由多头转向空头，为看跌信号。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">BBI = (MA3 + MA6 + MA12 + MA24) / 4</span><br></pre></td></tr></table></figure>
<p><img style="margin: auto;" src="fig1.png" width="40%" height="40%"/></p>
<ul>
<li><a
href="https://zhuanlan.zhihu.com/p/34505138">极少人知道的BBI指标，学会这个方法，精准买卖从不例外</a></li>
</ul>
<h2 id="relative-strength-index-rsi">Relative Strength Index (RSI)</h2>
<p><span class="math display">\[
{\rm RSI} = 100 - 100/(1+{\rm RS})
\]</span></p>
<p><span class="math display">\[
{\rm RS} = \frac{\rm RU}{\rm RD}
\]</span></p>
<p><span class="math display">\[
{\rm RSI} = 100\frac{\rm RU}{\rm RU + RD}
\]</span></p>
<hr />
<p><span class="math display">\[
{\rm RU} = \frac{1}{n} \sum_{i=1}^{n} \max({\rm Ret},0 )
\]</span></p>
<p><span class="math display">\[
{\rm RD} = -\frac{1}{n}\sum_{i=1}^{n} \min({\rm Ret},0)
\]</span></p>
<hr />
<p><span class="math display">\[
{\rm RSI} =100\frac{\rm RS}{1+{\rm RS}}=100\frac{\rm RU}{\rm RU + RD}
\]</span></p>
<p><span class="math display">\[
{\rm RSI} = 100\frac{\frac{1}{n} \sum_{i=1}^{n} \max({\rm
Ret},0)}{\frac{1}{n} \sum_{i=1}^{n} \max ( {\rm Ret},0 )
-\frac{1}{n}\sum_{i=1}^{n} \min ( {\rm Ret},0)}
\]</span></p>
<p><span class="math display">\[
{\rm RSI} =100\frac{\sum_{i=1}^{n} \max({\rm Ret},0)}
{\sum_{i=1}^{n}{\rm \mid Ret \mid}}
\]</span></p>
<p>这就是国内交易软件上面的算法</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LC:=REF(CLOSE,1);</span><br><span class="line">RSI1:SMA(MAX(CLOSE-LC,0),N1,1)/SMA(ABS(CLOSE-LC),N1,1)*100;</span><br><span class="line">RSI2:SMA(MAX(CLOSE-LC,0),N2,1)/SMA(ABS(CLOSE-LC),N2,1)*100;</span><br><span class="line">RSI3:SMA(MAX(CLOSE-LC,0),N3,1)/SMA(ABS(CLOSE-LC),N3,1)*100;</span><br></pre></td></tr></table></figure>
<hr />
<blockquote>
<p>其实核心内容就是，<strong>网上广泛流传的方法，都是断章取义</strong>，那只是计算第一天RSI的方法。而随后的RSI值，不再按照网上的公式累计每天的涨跌幅。而是通过前一天计算得到的平均涨幅A，和平均跌幅B，分别乘以N-1，得到前N-1天的涨跌幅，而不再依次累加计算。最后再考虑今天是涨还是跌，进行计算。</p>
</blockquote>
<ul>
<li><a
href="https://www.joinquant.com/view/community/detail/a26aa9a7019f6551c4abc8f729627fae">RSI计算方式研究</a></li>
</ul>
<hr />
<p>Welles Wilder JR. <span class="math display">\[
{\rm RU}_t = \frac{(n-1) {\rm RU}_{t-1} + {\rm Ret}}{n}
\]</span></p>
<p><span class="math display">\[
{\rm RD}_t = \frac{(n-1) {\rm RD}_{t-1} + {\rm Ret}}{n}
\]</span></p>
<p><span class="math display">\[
{\rm RSI} =100\frac{\rm RU}{\rm RU + RD}
\]</span></p>
<p>EMA</p>
<p><span class="math display">\[
{\rm RSI} = 100 \frac{ {\rm EMA} (\max ({\rm Ret},0)) }{ {\rm EMA}
(\max({\rm Ret},0))  - {\rm EMA}(\min({\rm Ret},0))}
\]</span></p>
<p>Culter's RSI</p>
<p><span class="math display">\[
{\rm RSI} = 100 \frac{ {\rm SMA} (\max ({\rm Ret},0)) }{ {\rm SMA}
(\max({\rm Ret},0))  - {\rm SMA}(\min({\rm Ret},0))}
\]</span></p>
<p><span class="math display">\[
{\rm RSI} =100\frac{\sum_{i=1}^{n} \max({\rm Ret},0)}
{\sum_{i=1}^{n}{\rm \mid Ret \mid}}
\]</span></p>
<h2 id="bollinger-bands-boll">Bollinger Bands (BOLL)</h2>
<p>该工具结合了移动平均和标准差的概念，其基本的型态是由三条轨道线组成的带状通道（中轨和上、下轨各一条）。“中轨”为股价的平均成本，“上轨”和“下轨”可分别视为股价的压力线和支撑线。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">中轨 = N时间段的简单移动平均线</span><br><span class="line">上轨 = 中轨 + K × N时间段的标准差</span><br><span class="line">下轨 = 中轨 − K × N时间段的标准差</span><br></pre></td></tr></table></figure>
<p>一般情况下，设定N=20和K=2。在日线图里，N=20其实就是“月均线”（MA20）。依照正态分布规则，约有95%的数值会分布在距离平均值有正负2个标准差<span
class="math inline">\({\pm 2 \sigma}\)</span>的范围内。</p>
<h2 id="relative-signed-jump-rsj">Relative Signed Jump (RSJ)</h2>
<p>RV (Realized Variance)</p>
<p><span class="math display">\[
\begin{equation}
\begin{aligned}
{\rm RV} &amp;= \sum^{n}_{i=1} r^2_i\\
{\rm RV^+} &amp;= \sum^{n}_{i=1} r^2_iI(r&gt;0)\\
{\rm RV^-} &amp;= \sum^{n}_{i=1} r^2_iI(r&lt;0)\\
{\rm RSJ} &amp;= \frac{RV^+ - RV^-}{RV}
\end{aligned}
\end{equation}
\]</span></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//ZERO:0;</span><br><span class="line"></span><br><span class="line">RET:=LN(CLOSE/REF(CLOSE,1));</span><br><span class="line"></span><br><span class="line">RV1:=SUM(RET*RET, SHORT);</span><br><span class="line">RVU1:=SUM(RET*IF(RET&gt;0, RET, 0),SHORT);</span><br><span class="line">RVD1:=SUM(RET*IF(RET&lt;0, RET, 0), SHORT);</span><br><span class="line">RSJ1: 100 *(RVU1-RVD1)/RV1;</span><br><span class="line"></span><br><span class="line">RV2:=SUM(RET*RET,MIDDLE);</span><br><span class="line">RVU2:=SUM(RET*IF(RET&gt;0, RET, 0),MIDDLE);</span><br><span class="line">RVD2:=SUM(RET*IF(RET&lt;0, RET, 0), MIDDLE);</span><br><span class="line">RSJ2: 100 *(RVU2-RVD2)/RV2;</span><br><span class="line"></span><br><span class="line">RV3:=SUM(RET*RET,LONG);</span><br><span class="line">RVU3:=SUM(RET*IF(RET&gt;0, RET, 0),LONG);</span><br><span class="line">RVD3:=SUM(RET*IF(RET&lt;0, RET, 0), LONG);</span><br><span class="line">RSJ3: 100 *(RVU3-RVD3)/RV3;</span><br><span class="line"></span><br><span class="line">//RSU: 100 * RVU/RV;</span><br><span class="line">//RSD: 100 * RVD/RV;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RET:=100 * LN(CLOSE/REF(CLOSE,1));</span><br><span class="line">RV:=SUM(RET*RET, N);</span><br><span class="line">RVU:=SUM(RET*IF(RET&gt;0, RET, 0), N);</span><br><span class="line">RVD:=SUM(RET*IF(RET&lt;0, RET, 0),  N);</span><br><span class="line">//RSJ: RVU-RVD;</span><br><span class="line">RSU: RVU;</span><br><span class="line">RSD: -RVD;</span><br></pre></td></tr></table></figure>
<ul>
<li>其中I(...)就是条件判断函数，当括号内条件成立时函数值为1，不成立时数值为0。</li>
</ul>
<p>RSJ可以很好地反映上涨下跌的情绪变化，当RSJ大于0时，说明证券的上行波动率大于下行波动率，涨势明显；当RSJ小于0时，说明证券的下行波动率大于上行波动率，跌势显著。</p>
<ul>
<li><a
href="https://www.zhihu.com/question/529940339/answer/2654515678">在量化交易公司做因子研究进入瓶颈，找不到新因子怎么办？
- quantkoala的回答- 知乎</a></li>
</ul>
<h2 id="moving-average-convergence-divergence-macd">Moving Average
Convergence Divergence (MACD)</h2>
<p>EMA <span class="math display">\[
{\rm EMA}=
\begin{cases}
{\rm Price}(t), t=0 \\
{\rm Price}(t)\times k + {\rm EMA}(y) \times(1-k), t&gt;0
\end{cases}
\]</span></p>
<ul>
<li>t, today</li>
<li>y, yesterday</li>
<li>N, number of days in EMA</li>
<li>k, 2 / (N+1)</li>
</ul>
<p>Expanding out EMA each time results in the following power series,
showing how the weighting factor on each datum <em>p</em>1, <em>p</em>2,
etc., decreases exponentially: <span class="math display">\[
{\rm EMA} = k[p_1 + (1-k)p_2 + (1-k)^2p3 + (1-k)^3p_4 + \cdots]
\]</span></p>
<ul>
<li><span class="math inline">\(p_1\)</span>, price today</li>
<li><span class="math inline">\(p_2\)</span>, price yesterday</li>
</ul>
<p>MACD</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DIF:EMA(CLOSE,12)-EMA(CLOSE,26);</span><br><span class="line">DEA:EMA(DIF,9);</span><br><span class="line">MACD:(DIF-DEA)*2;</span><br></pre></td></tr></table></figure>
<p>如下图，DIF与EMA的区别是DIF在时间序列上面存在负权重。</p>
<p><img style="margin: auto;" src="fig2.png" width="100%" height="100%"/></p>
<p>DIF、DEA与MACD的在时间序列权重对比</p>
<p><img style="margin: auto;" src="fig3.png" width="100%" height="100%"/></p>
<p>使用蒙特卡洛仿真生成股票路径分析MACD的表现</p>
<p><img style="margin: auto;" src="fig4.png" width="100%" height="100%"/></p>
<p><img style="margin: auto;" src="fig5.png" width="100%" height="100%"/></p>
<p><img style="margin: auto;" src="fig6.png" width="100%" height="100%"/></p>
<ul>
<li><p><a
href="https://www.investopedia.com/ask/answers/122314/what-exponential-moving-average-ema-formula-and-how-ema-calculated.asp">How
Is the Exponential Moving Average (EMA) Formula Calculated?</a></p></li>
<li><p><a href="https://en.wikipedia.org/wiki/Moving_average">Moving
average</a></p></li>
</ul>
<h2 id="微思策略">微思策略</h2>
<h3 id="上涨趋势-绿巨柱">上涨趋势-绿巨柱</h3>
<p>首先，量价指标肯定是有用的，比如我经常提到的“绿巨柱”，是在高位放巨量，成交量呈绿色，基本算是见顶信号。就像乐山电力，最近出现了三个“绿巨柱”，其中有两个就是顶。根据这个指标，我们可以避开很多大坑。</p>
<p><img style="margin: auto;" src="fig7.png" width="100%" height="100%"/></p>
<h3 id="上涨趋势-下跌缩量">上涨趋势-下跌缩量</h3>
<p>其次，当某只股票沿着5日均线上升时，<strong>下跌时的缩量</strong>，就是一个很好的上车时机，比如闽东电力、恒源煤电等。但要注意的是，缩量下跌的时候，一定不要跌破5日均线，而且量缩得越狠越好。反之，如果当某只股出现了下跌趋势，比如沿着5日均线下跌，这种缩量是没用的，反而放量会更好一些。</p>
<p><img style="margin: auto;" src="fig9.png" width="100%" height="100%"/></p>
<h3 id="下跌趋势-缩量">下跌趋势-缩量</h3>
<p>反之，如果当某只股出现了下跌趋势，比如沿着5日均线下跌，这种缩量是没用的，反而放量会更好一些。同样是看闽东电力，当它的下跌趋势形成后，后面三个缩量下跌都没止跌，最后在两个暴跌后，<strong>稍稍放量</strong>便迎来了V型反转。这里需要说明的是，下跌底部的量都比较小，很少出现底部放巨量的。而且在底部反转初期，即使是红柱的成交量，也不可能突然放大，都是一个循序渐进的过程。所以，在股价上升的过程中，不要等到放巨量才进场，巨量的后面不是暴涨就是暴跌（暴跌居多），一般人是受不了的。</p>
<p><img style="margin: auto;" src="fig8.png" width="100%" height="100%"/></p>
<ul>
<li><a
href="https://mp.weixin.qq.com/s/De--QW0s8IELhjv4xdleQw">聊点玄的！！！</a></li>
</ul>
]]></content>
      <categories>
        <category>Stock</category>
      </categories>
      <tags>
        <tag>TA</tag>
      </tags>
  </entry>
  <entry>
    <title>多元函数的泰勒展开式</title>
    <url>/2021/05/20/taylor/</url>
    <content><![CDATA[<p>实际优化问题的目标函数往往比较复杂。为了使问题简化，通常将目标函数在某点附近展开为泰勒(Taylor)多项式来逼近原函数。</p>
<span id="more"></span>
<ul>
<li><strong>一元函数在点<span
class="math inline">\(x_k\)</span>处的泰勒展开式为：</strong></li>
</ul>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
f(x) &amp;=
f(x_k)+(x-x_k)f&#39;(x_k)+\frac{1}{2!}(x-x_k)^2f&#39;&#39;(x_k)+o^n
\end{aligned}
\end{equation}\]</span></p>
<ul>
<li><strong>二元函数在点<span
class="math inline">\((x_k,y_k)\)</span>处的泰勒展开式为：</strong></li>
</ul>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
f(x,y) &amp;=
f(x_k,y_k)+(x-x_k)f&#39;_x(x_k,y_k)+(y-y_k)f&#39;_y(x_k,y_k) \\
  &amp;+ \frac1{2!}(x-x_k)^2f&#39;&#39;_{xx}(x_k,y_k) \\
  &amp;+ \frac1{2!}(x-x_k)(y-y_k)f&#39;&#39;_{xy}(x_k,y_k) \\
  &amp;+ \frac1{2!}(x-x_k)(y-y_k)f&#39;&#39;_{yx}(x_k,y_k) \\
  &amp;+ \frac1{2!}(y-y_k)^2f&#39;&#39;_{yy}(x_k,y_k) \\
  &amp;+ o^n \\
\end{aligned}
\end{equation}\]</span></p>
<ul>
<li><strong>多元函数(n)在点<span
class="math inline">\(x_k\)</span>处的泰勒展开式为：</strong></li>
</ul>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
f(x^1,x^2,\ldots,x^n) &amp;= f(x^1_k,x^2_k,\ldots,x^n_k)\\
  &amp;+ \sum_{i=1}^n(x^i-x_k^i)f&#39;_{x^i}(x^1_k,x^2_k,\ldots,x^n_k)\\
  &amp;+
\frac1{2!}\sum_{i,j=1}^n(x^i-x_k^i)(x^j-x_k^j)f&#39;&#39;_{ij}(x^1_k,x^2_k,\ldots,x^n_k)\\
  &amp;+ o^n \\
\end{aligned}
\end{equation}\]</span></p>
<ul>
<li><strong>把Taylor展开式写成矩阵的形式：</strong> <span
class="math display">\[
f(\mathbf x) = f(\mathbf x_k)+[\nabla f(\mathbf x_k)]^T(\mathbf
x-\mathbf x_k)+\frac1{2!}[\mathbf x-\mathbf x_k]^TH(\mathbf x_k)[\mathbf
x-\mathbf x_k]+o^n
\]</span></li>
</ul>
<p><span class="math display">\[
H(\mathbf x_k)=
\left[
\begin{matrix}
\frac{\partial^2f(x_k)}{\partial x_1^2} &amp;
\frac{\partial^2f(x_k)}{\partial x_1\partial x_2} &amp; \cdots &amp;
\frac{\partial^2f(x_k)}{\partial x_1\partial x_n}  \\
\frac{\partial^2f(x_k)}{\partial x_2 \partial x_1} &amp;
\frac{\partial^2f(x_k)}{\partial x_2^2} &amp; \cdots &amp;
\frac{\partial^2f(x_k)}{\partial x_2\partial x_n} \\
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
\frac{\partial^2f(x_k)}{\partial x_n\partial x_1} &amp;
\frac{\partial^2f(x_k)}{\partial x_n\partial x_2} &amp; \cdots &amp;
\frac{\partial^2f(x_k)}{\partial x_n^2} \\
\end{matrix}
\right]
\]</span></p>
]]></content>
      <categories>
        <category>Math</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title>Tick数据在技术上究竟是什么东西</title>
    <url>/2022/08/15/tick/</url>
    <content><![CDATA[<p>很详细的解释了国外的TickData和处理方法,而因为国内的交易所都只发送切片信息,而不是真实的Tick信息,所以还是有一定差别的,我来补充说下国内交易所一般所说的Tick数据。</p>
<p>国内交易所的order
book的数据维护都是实时进行的，但是和国外交易所不同，并不是每个动作都会实时推送到市场上来，而是根据<strong>指定的时间间隔进行一次检查</strong>，<strong>如果该时间段内有动作，则生成一次快照并且推送出来，数据的推送充其量只能算做OnTime，而不能叫做OnTick</strong>（被动触发还是主动检测对用户没有区别，此处为了方便说明而取前一种方式）</p>
<p>以切片间隔时间为500ms的五档行情举例，上图来说明：</p>
<p>插入图片
<img src="fig1.png" width="100%" height="100%" title="TickData" alt="TickData"/></p>
<p>在11时05分03秒200毫秒的时候，有人以4500的价格卖出3手，系统将其价格与买一价进行匹配，发现符合撮合条件，则撮合之，以价格4500成交3手，最新成交价为4500，总成交量为3手，而此时因为未到切片时间，所以不会推送数据出来。</p>
<p>在11时05分03秒300毫秒，又有人以价格5000买入5手并成交，最新成交价变为5000，总成交量为8手，此时仍未到切片时间，仍不会推送数据。</p>
<p>一直等到11时05分03秒500毫秒，系统判断在11:05:03.000-10:05:03.500这个时间段内有数据变化，则将盘口的买卖信息以及汇总的成交信息——最新成交价5000，总成交量8手——生成一份快照，并推送出来，这就是我们能够接收到的Tick
Data。</p>
<p>我们可以发现，因为是一段时间内的交易信息汇总，所以我们<strong>只能得到最新的成交价和总的成交量</strong>，相比每次变化都会及时推送的Tick
Data，丢失了不少信息。</p>
<p>此机制会产生一些值得注意的现象</p>
<p>一、信息的丢失</p>
<p>按上图流程所示，如果4500是当日的最低价，则可能会出现<strong>因为信息丢失而导致无法根据tick获取到当日<a
href="https://www.zhihu.com/search?q=最低成交价&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A40635266%7D">最低成交价</a></strong>的情况,所以国内交易所都会单独推送一份当日最高最低价以弥补。</p>
<p>二、信息的延迟</p>
<p>如果是做时间间隔小于500ms的高频交易的话，因为无法及时获取市场信息，在这500ms内基本等于是在摸黑前进，增加了不少交易风险</p>
<p>作者：keyword
链接：https://www.zhihu.com/question/26950456/answer/40635266 来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>option</tag>
        <tag>trading-system</tag>
      </tags>
  </entry>
  <entry>
    <title>时间序列</title>
    <url>/2022/08/19/time-series/</url>
    <content><![CDATA[<h3 id="时间序列">时间序列</h3>
<ul>
<li><a
href="https://mp.weixin.qq.com/s/iusTb9UwKybwJBqd2kSvUA">时间序列聚类相关知识的总结与梳理</a></li>
<li><a
href="https://reeeeeeeeeein.github.io/2020/06/06/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%9B%B8%E4%BC%BC%E5%BA%A6/">时间序列相似度</a></li>
<li><a
href="https://zr9558.com/2018/03/09/timeseriesclusteringthree/">时间序列的相似性</a></li>
<li><a href="https://github.com/wannesm/dtaidistance">Time Series
Distances</a></li>
</ul>
<h3 id="语音识别">语音识别</h3>
<ul>
<li><a href="https://github.com/kaldi-asr/kaldi">Kaldi Speech
Recognition Toolkit</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/444867152">kaldi 入门</a></li>
<li><a
href="https://speech.xmu.edu.cn/2020/0630/c18207a406063/page.htm">语音识别：原理与应用</a></li>
</ul>
]]></content>
      <categories>
        <category>Math</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title>Tesnor-Ridge-Regression</title>
    <url>/2021/05/20/tesnor_ridge_regression/</url>
    <content><![CDATA[<ul>
<li><a
href="https://github.com/dybeta2021/dyblog/tree/main/Tensor%20Ridge%20Regression">Tensor
Ridge Regression</a></li>
</ul>
<p>本文先简单归纳《A Tensor-Based Information Framework for Predicting
the Stock Market
》中介绍的一种探索多维数组（张量）表征多因子并计算不同因子抽象关系并降低维度的方法，然后归纳《Tensor
Learning for Regression 》中介绍的Tesnor Ridge
Regression算法，通过CP分解张量降低需要估计回归系数（因子收益率）的数量。</p>
<p>股票趋势受各种高度相关信息的强烈影响，这通常涵盖经济学、政治学和心理学等多方面研究。传统的有效市场假说（EMH）指出，股价总是由“理性”的投资者驱动，股价等于公司预期未来现金流的理性现值。与市场有关的新信息可能会改变投资者的期望，并导致股价波动，这种对信息反应的分歧导致股价的实际价格与内在价值之间的差异。竞争市场参与者导致股价波动周围的股价内在价值，即新信息对股价产生复杂的影响。然而，股价并不严格遵循随机游走，行为金融研究将股票趋势的非随机性归结为投资者由于认知和情绪偏见的对不利消息的过度反应。虽然传统金融和行为金融均认为新的信息对股票趋势产生复杂影响。</p>
<p>A股市场刨除内幕等操作方法为，一般分为基本面分析和技术分析两类。基本面分析通常通过构建经济、商业和市场行业等多信息源的数据与股票未来走势之间的关系来预测股票趋势，即国家整体经济，行业条件，公司的财务状况和管理层能力等因素，可以深度拆解股价未来走势。技术分析通过历史股票趋势预测股价未来走势，技术分析流派认为股价市场是周期性或者类周期性的，并且具有特定的模式，这些模式随着时间的推移而重复出现。</p>
<p>受到移动互联网的影响，股票信息迅速更新并以前所未有的速度传播，并且通常在正式统计报告之前向投资者对投资者产生影响。用户参与社交媒体（包括评论，评分和投票）的变化可以更快速地互动交换信息。这种情况可能导致群体投资行为，因为投资者的决策倾向于受同行的情绪影响。目前常见的做法是使用NLP量化新闻和社交网络的新信息提供定性信息，如舆情指数。影响股票趋势的信息是多方面的且互相影响的，反映到因子数据方面就是存在多重共线性。</p>
<p>传统的线性回归将多个信息源（模式）的特征（无量纲因子）连接到一个复合特征的向量中处理。由于维度灾难和多重共线性，这种做法限制了多因子模型囊括因子数量。此外使用马赛克拼接(mosaic
approach)通常包含各种信息源的混合和交互，但级联向量假设每个信息膜是是相互独立的。如下图这里，矩阵用于建模简化的投资信息源，其中每行代表一种信息模式，如企业信息、事件信息或情绪信息。根据马赛克拼接信息结构，特征模式可以存在于不同信息源（行）或不同模式之间。</p>
<p><img src="mosaic.png" width="100%" height="100%" title="mosaic" alt="mosaic"/></p>
<p>如图右所示，删除马赛克信息结构并将各种信息模式的特征连接成一个复合特征向量，级联向量方法忽略了各种信息模式之间的固有链路导致明显的相似性的出现。除了在一个信息矩阵中捕获各种模式之间的这些静态互连之外，重要的是在一系列信息矩阵之间识别和强调各种模式之间的动态连接。例如，在不同时间发布的两篇新闻文章可能是文本上不相似的，但两者可能包含有关相同股价的有利信息。此外，在这两个时间点的相应的企业特定数据可能相似，可能表明良好的投资机会。在这种情况下，可以通过相应的基本面数据的相似性来增强不同文本信息处理、舆情指数相似性。捕捉，推论和加强各种信息模式之间的动态关系将有利于提高对股票趋势的预测能力。</p>
<p>此文中应用基于张量的信息框架来捕捉新信息与股票走势之间的非线性关系。该框架使用全局维数降低算法和基于张量的回归获取多信息源之前的非线性关系，并研究这些信息源对股票趋势的影响。影响股票走势的各种信息因素，在过去已被广泛研究。
传统金融主要集中在企业特定因素的长期影响上，而现代行为金融主要集中在公众情绪和当前事件造成的短期影响。此文试图通过建立多维度模型处理各种信息源对股票趋势的共同影响。这里将信息按照信息源分成三类：(a)
企业特定模型信息模式：主要指企业的基本面和量价因子；(b)
事件特定模式：主要指新闻资讯对股价走势的影响，受新信息的影响，股票投资者不断更新他们公司经营情况等基本面及股价走势的看法或非理性投资者的情绪。具体来说，可以对相关新闻文章使用词向量表示，其中每个条目是名词和情感词的加权。(c)
情绪特定模式：发达的社交媒体使一部分投资者潜意识群体和情绪的影响，这可能导致投资者的群体性行为。</p>
<p><img src="%E5%BC%A0%E9%87%8F%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%84%E5%9B%BE.PNG" width="100%" height="100%" title="张量预测结构图" alt="张量预测结构图"/></p>
<p>可以使用张量处理多信息源信息的相互关联特性，这里使用三阶张量表示三种不同的信息模式。将三种不同信息源的信息（因子）填入张量不同维度（形成一个稀疏张量），如下图，应用张量分解和重构来降低维度，加强不同信息模式的内在联系。通过使用张量分解子空间中的因子矩阵来实现从张量序列的几何结构中识别出几个信息源之间的深层关联。使用<span
class="math inline">\(Tucker\)</span>分解因子张量<span
class="math inline">\(\mathcal{X}_i = \mathcal{C}_i \times_1 U^{i_1}
\times_2 U^{i}_2 \times_3U^{i}_3\)</span>
使用GDR算法计算因子矩阵修正矩阵并重新合成信息因子张量<span
class="math inline">\(\bar{\mathcal{X}_i} = \mathcal{C}_i \times_1(V^T_1
U^{i_1}) \times_2 (V^T_2 U^{i}_2) \times_3(V^T_3U^{i}_3)\)</span>
。这样多信息源的原始因子稀疏张量转化为低维度的密集因子张量。<span
class="math inline">\(\mathcal{X}\in\mathbb{R}^{I_1 \times I_2 \times
I_3} \to \bar{\mathcal{X}} \in \mathbb{R}^{J_1 \times J_2 \times
J_3}\)</span></p>
<p><img src="%E5%9B%A0%E5%AD%90%E5%BC%A0%E9%87%8F%E5%88%86%E8%A7%A3%E9%87%8D%E6%9E%84.PNG" width="100%" height="100%" title="因子张量分解重构" alt="因子张量分解重构"/></p>
<p>尽管通过前述步骤分解-重构技术可以大大压缩稀疏的因子张量的体积规模，然而使用传统的方法如张量向量化估计张量回归权重系数依然具有较大的难度。例如对形状为[30,
30,
10]因子张量进行回归，张量向量化的处理方法导致权重系数张量需要估计<span
class="math inline">\(30 \times 30 \times 10 = 9000\)</span>
个权重参数（标量），对于传统多因子模型这显然是不实用。可以通过使用张量分解的方法（如CP分解）大幅度降低所需估计的权重系数的数量，从而将张量回归方法嵌入传统多因子体系中。例如在《Tensor
Learning for Regression 》介绍的tensor ridge
regression。对上面的假设，使用CP分解权重张量之后，例如分解为4个坐标基（秩一张量）累加和则只需要估计<span
class="math inline">\((30 + 30 +10) \times 4 =280\)</span>
个权重参数。</p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
y_i &amp;= \left&lt;\mathcal{X},\mathcal{W} \right &gt; + b\\
&amp;=\left&lt; \mathcal{X},  \sum\limits^R_{r=1} u^{(1)}_r \circ
u^{(2)}_r \circ \cdots \circ u^{(M)}_r \right&gt; + b\\
&amp;=\sum\limits^R_{r=1} \left&lt; \mathcal{X},   u^{(1)}_r \circ
u^{(2)}_r \circ \cdots \circ u^{(M)}_r \right&gt; + b\\
&amp;=\sum \limits ^{R} _{r=1} \mathcal{X} \prod^{M_{k=1}} \times_k
u^{(k)}_r
\end{aligned}
\end{equation}\]</span></p>
<p>对一组给定的有标签训练集<span class="math inline">\(\{\mathcal{X}_i
,y_i \}^N_{i=1}\)</span> 其中<span class="math inline">\(\mathcal{X}_i =
\mathbb{R}^{I_1 \times \cdots I_M}\)</span> 为<span
class="math inline">\(M-mode\)</span> 张量，<span
class="math inline">\(y_i\)</span>
为对应的标量标签。评估权重参数的目标函数可以写作</p>
<p><span class="math display">\[\mathcal{L} (\mathcal{W},b) =
\frac{1}{2} \sum\limits^{N}_{i=1} l(y_i, f(\mathcal{X}_i, \Theta)) +
\frac{1}{2} \psi(\Theta)\]</span></p>
<p><span class="math inline">\(l(\cdot)\)</span> 偏差损失函数，<span
class="math inline">\(\psi (\cdot)\)</span>
惩罚函数。当使用响应变量和标签差最小平方和作为损失函数的时候就是张量形式的最小二乘估计，添加2范数作为惩罚函数便得到张量形式的岭回归。在不使用惩罚项修正权重参数的时候，即张量形式的最小二乘回归中偏置<span
class="math inline">\(b\)</span> 直接使用上式得出，在使用<span
class="math inline">\(L2-norm\)</span>
修正权重参数的时候由于偏置权重参数同时被修正，这导致常数偏置项的错误。所以TRR的常数偏置应该使用无偏置回归的残差平均值获得，也就是使用无偏置回归模型的残差平均值计算偏置，但哑变量表示的行业收益率可以直接计算。</p>
<h1 id="附录">附录</h1>
<h2 id="向量-线性回归">1、向量-线性回归</h2>
<h3 id="符号">1.1、符号</h3>
<p><span class="math inline">\(x\)</span> 列向量</p>
<p><span class="math inline">\(x^T\)</span> 行向量</p>
<p><span class="math inline">\(X\)</span> 矩阵</p>
<p><span class="math inline">\(I\)</span> 单位矩阵</p>
<p><span class="math inline">\(\mathcal{X}\)</span> 张量</p>
<p><span class="math inline">\(||\cdot||_2\)</span> L2范数</p>
<h3 id="least-squares-regression">1.2、Least Squares Regression</h3>
<p>传统线性回归模型可以写作：</p>
<p><span class="math inline">\(y = f(X) + \varepsilon\)</span></p>
<p>使用线性模型拟合得到的估计值模型为:</p>
<p><span class="math inline">\(\hat{ y} = f(X) = X \beta = \beta_0 1 +
\beta_1 x_1 +\cdots + \beta_k x_k\)</span></p>
<p>其中</p>
<p><span class="math inline">\(y \in \mathbb{R}^n\)</span></p>
<p><span class="math inline">\(X \in \mathbb{R}^{n \times (k
+1)}\)</span></p>
<p><span class="math inline">\(\varepsilon \in \mathbb{R}\)</span></p>
<p><span class="math inline">\(\beta \in \mathbb{R}^{k+1}\)</span></p>
<p>注：下文<span class="math inline">\(k+1\)</span>简写为<span
class="math inline">\(k\)</span></p>
<p>使用最小二乘损失函数获取权重参数</p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
\mathcal{L} &amp;=Loss\ Function \\
&amp;=RSS(\beta) \\
&amp;= ||y-X\beta||^2_2  \\
&amp;= (y-X\beta)^T(y-X\beta)\\
&amp;=y^T y -(X\beta)^Ty-y^TX\beta + (X\beta)^T(X\beta)\\
&amp;=(X\beta)^T(X\beta) - 2(X\beta)^Ty + y^Ty\\
&amp;=\beta^TX^TX\beta - 2 \beta^T X^T y + y^Ty
\end{aligned}
\end{equation}\]</span></p>
<p>其中 <span class="math inline">\(y^TX\beta = scalar = (X\beta
)^Ty\)</span></p>
<p>令<span class="math inline">\(A = X^TX \in \mathbb{R}^{k\times
k}\)</span></p>
<p><span
class="math inline">\(\frac{\partial{\beta^TX^TX\beta}}{\partial{\beta}}=\frac{\partial{\beta^TA\beta}}{\partial{\beta}}\\
= (A + A^T)\beta\\ = (X^TX + (X^TX)^T)\beta\\=2X^TX\beta\)</span></p>
<p><span
class="math inline">\(\frac{\partial{\beta^TX^Ty}}{\partial{\beta}}
=\\\frac{\partial{\beta^T}}{\partial{\beta}}(X^Ty) + \beta^T
\frac{\partial{X^Ty}}{\partial{y}}\\=I(X^Ty +
\beta^T0)\\=X^Ty\)</span></p>
<p><span class="math inline">\(\frac{\partial{\mathcal{L}
}}{\partial{\beta}} = 2X^TX\beta - 2X^Ty\)</span></p>
<p>由于这是凸优化问题，令<span
class="math inline">\(\frac{\partial{J}}{\partial{\beta}}=0\)</span>
，则得到权重参数<span class="math inline">\(\beta\)</span> 的估计值</p>
<p><span class="math inline">\(\hat{\beta} =
(X^TX)^{-1}X^Ty\)</span></p>
<p>最小二乘回归根据预测变量拟合响应变量为</p>
<p><span class="math inline">\(\hat{y} = X\hat{\beta} = X
(X^TX)^{-1}X^Ty\)</span></p>
<h3 id="proof-fracpartialbetatabetapartialbeta-a-atbeta">1.3、 Proof:
<span
class="math inline">\(\frac{\partial{\beta^TA\beta}}{\partial{\beta}} =
(A + A^T)\beta\)</span></h3>
<ul>
<li>微分法</li>
</ul>
<p>设<span class="math inline">\(u(\beta)=\beta^TA\beta, \ \ h=\Delta
\beta\)</span></p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
u(\beta+h)&amp;=(\beta+h)^TA(\beta+h)\\
&amp;=\beta^TA\beta+h^TA\beta+\beta^TAh+h^TAh\\
&amp;=u(\beta)+\beta^T(A+A^T)h+u(h) \\
&amp;=u(\beta) + h^T(A+A^T)\beta +u(h)
\end{aligned}
\end{equation}\]</span></p>
<p>其中<span class="math inline">\(h^TA\beta= 1\times1 \ matrix=
scalar=\beta^TA^Th\)</span></p>
<p>设<span class="math inline">\(r_\beta(h)=u(h)=h^TAh\)</span>
，当<span class="math inline">\(h\to0\)</span> 则<span
class="math inline">\(r_\beta(h)=o(\|h\|)\)</span> 这证明<span
class="math inline">\(u\)</span>在<span
class="math inline">\(\beta\)</span>处的微分是线性函数。则</p>
<p><span class="math inline">\(\because \ u(\beta+\Delta \beta) -
u(\beta)= h^T(A+A^T)\beta +u(h)\)</span></p>
<p><span class="math inline">\(\therefore \ \nabla u(\beta) = I (A +
A^T)\beta + o(\|h\|)\)</span></p>
<p>即 <span
class="math inline">\(\frac{\partial{\beta^TA\beta}}{\partial{\beta}} =
(A + A^T)\beta\)</span></p>
<ul>
<li>元素法</li>
</ul>
<p>设<span class="math inline">\(A\in \mathbb{R}^{k\times k}\)</span> 即
<span class="math inline">\(A = [a_{i,j}]\)</span> , <span
class="math inline">\(\beta \in \mathbb{R}^k\)</span></p>
<p><span class="math inline">\(u =\beta^T A \beta = \sum \limits
^k_{i=1} \sum \limits ^k_{j=1} a_{i,j} \beta_i \beta_j\)</span></p>
<p>根据元素对列向量求导规则</p>
<p><span class="math inline">\(\frac{\partial{y_p}}{\partial{x}} =
[\frac{\partial{y_p}}{\partial{x_1}}, \cdots
,\frac{\partial{y_p}}{\partial{x_k}}]^T\)</span></p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
\frac{\partial{u}}{\partial{\beta_p}}&amp;=\frac{\sum\limits ^k_{i=1}
\sum\limits^{k}_{j=1} \partial{a_{i,j}\beta_i
\beta_j}}{\partial{\beta_p}}\\
&amp;=\frac{\sum\limits ^k_{i=1, i\neq p} \sum\limits^{k}_{j=1}
\partial{a_{i,j}\beta_i \beta_j}}{\partial{\beta_p}} +
\frac{\sum\limits^{k}_{j=1} \partial{a_{p,j}\beta_p
\beta_j}}{\partial{\beta_p}}\\
&amp;=\frac{\sum\limits ^k_{i=1, i\neq p} \sum\limits^{k}_{j=1, j\neq p}
\partial{a_{i,j}\beta_i \beta_j}}{\partial{\beta_p}} + \frac{\sum\limits
^k_{i=1, i\neq p}  \partial{a_{i,p}\beta_i \beta_p}}{\partial{\beta_p}}
+ \frac{\sum\limits^{k}_{j=1,j\neq p} \partial{a_{p,j}\beta_p
\beta_j}}{\partial{\beta_p}} + \frac{\partial{a_{p,p}\beta_p
\beta_p}}{\partial{\beta_p}}\\
&amp;=0 + \sum \limits ^{k}_{i=1,i\neq p} a_{i,p} \beta_i + \sum \limits
^k _{j=1, j\neq p} a_{p,j} \beta_j + 2a_{p,p}\beta_p \\
&amp;= \sum \limits^k_{i=1}a_{i,p}\beta_i + \sum
\limits^k_{j=1}a_{p,j}\beta_j \\
&amp;= (\beta^TA)_p + (A\beta)_p\\
&amp;=(A^T\beta)_p + (A\beta)_p
\end{aligned}
\end{equation}\]</span></p>
<p>其中<span class="math inline">\((\beta^TA)_p\)</span> 是行向量<span
class="math inline">\(\beta^TA\)</span>的第<span
class="math inline">\(p\)</span>个分量,<span
class="math inline">\((A\beta)_p\)</span> 是列向量<span
class="math inline">\(A\beta\)</span>的第<span
class="math inline">\(p\)</span>的元素。</p>
<h3 id="ridge-regression">1.4、Ridge Regression</h3>
<p>当输入因子共线性严重的时候适用岭回归，岭回归是对最小二乘回归的一种补充，它损失了无偏性，来换取高的数值稳定性，从而得到较高的计算精度。</p>
<p>在最小二乘回归中最小化损失函数</p>
<p><span class="math inline">\(\mathcal{L} = \sum (y-(\beta_0 +
\sum\limits^k_{i=1} \beta_i x_i))^2\)</span></p>
<p>求得<span class="math inline">\(\beta\)</span>
权重系数。在岭回归中最小化目标函数则是</p>
<p><span class="math inline">\(\mathcal{L} = \sum (y-(\beta_0 +
\sum\limits^k_{i=1} \beta_i x_i))^2 + \alpha \sum \limits
^k_{i=1}\beta_i^2\)</span></p>
<p>通过添加对权重参数的2范数惩罚项，抑制<span
class="math inline">\(\beta\)</span>过大数值，即抑制响应变量对单个预测变量的敏感性。</p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
J^{ridge} &amp;=RSS(\beta^{ridge}) \\
&amp;= \min \limits_{\beta}\|y-X\beta\|^2 + \lambda\|W\|^2_2 \\
&amp;=(y-X\beta)^T(y-X\beta) + \lambda \beta^T\beta\\
&amp;=\beta^TX^TX\beta - 2 \beta^T X^T y + y^Ty + \lambda \beta^T\beta
\end{aligned}
\end{equation}\]</span></p>
<p>令<span
class="math inline">\(\frac{\partial{J^{ridge}}}{\partial{\beta}} =
2X^TX\beta - 2X^Ty +2\lambda \beta=0\)</span></p>
<p>则<span class="math inline">\(\hat{\beta}^{ridge} = (X^TX + \lambda
I)^{-1}X^Ty\)</span></p>
<p>对比 <span class="math inline">\(\hat{\beta}^{ols} =
(X^TX)^{-1}X^Ty\)</span></p>
<p>对<span class="math inline">\(OLS\)</span>当<span
class="math inline">\(X\)</span>不是列满秩（列满秩：因子矩阵列线性无关）或输入因子存在较强的多重共线性，<span
class="math inline">\(X^TX\)</span>的行列式接近于0，即<span
class="math inline">\(X^TX\)</span>接近奇异。计算<span
class="math inline">\((X^TX)^{-1}\)</span>误差较大。当<span
class="math inline">\(X^TX\)</span>的行列式接近于0时，ridge regression
将其主对角元素都加上一个<span
class="math inline">\(\lambda\)</span>数，可以降低矩阵奇异风险。当<span
class="math inline">\(\lambda\)</span>（收缩量或惩罚系数）增加时，偏差增加，方差减小。</p>
<p>常数项使用<span
class="math inline">\(L2\)</span>惩罚项将导致回归出现错误。将输入因子矩阵按列标准化之后，截距估计为<span
class="math inline">\(\beta_0 = \bar{y}\)</span> 。所以通常使用ridge
regression 回归的时候先对输入因子矩阵<span
class="math inline">\(X\)</span>
标准化处理，并不包含截距（偏置）输入。对于分类独立预测变量（哑变量），<span
class="math inline">\(ridge \ regression\)</span> 和<span
class="math inline">\(lass \ regression\)</span> 同样有效。</p>
<p>岭回归通过对权重系数的大小施加惩罚来规范线性回归。权重系数朝着零向彼此收缩，但是，当这种情况发生时，如果预测变量没有相同的尺度，那么收缩是不公平的。两个具有不同尺度的预测变量将对惩罚项有不同的贡献，因为惩罚项是所有系数的平方和。为了避免这种问题，很多时候，独立变量的中心和缩放是为了具有方差1。但是二进制变量（哑变量）不一定代表高斯/正态分布。当将它们转换为“normal”值，其中mean
= 0和std.dev =
1时，不会创建基本的正态分布，您可以应用可能不符合的假设。</p>
<h2 id="张量-线性回归">2、张量-线性回归</h2>
<h3 id="符号-1">2.1 符号</h3>
<p><span class="math inline">\(x_i\)</span> 标量</p>
<p><span class="math inline">\(x\)</span> 列向量</p>
<p><span class="math inline">\(x^T\)</span> 行向量</p>
<p><span class="math inline">\(X\)</span> 矩阵</p>
<p><span class="math inline">\(I\)</span> 单位矩阵</p>
<p>张量 <span class="math inline">\(\mathcal{X} = \mathbb{R}^{I_1 \times
\cdots I_M}\)</span></p>
<p>张量的d-mode矩阵 <span class="math inline">\(mat_d(\mathcal{X}) =
X_{(d)} \in \mathbb{R}^{I_d \times (I_1 \cdots I_{d-1}I_{d+1}\cdots
I_M)}\)</span></p>
<p>张量向量化<span class="math inline">\(vec(\mathcal{X})\)</span></p>
<h3 id="tensor-ridge-regression">2.2 Tensor Ridge Regression</h3>
<p>矢量空间中的经典线性预测器由下式给出</p>
<ul>
<li><span class="math inline">\(y_i = f(x) = \left&lt; x,\beta
\right&gt; +b\)</span></li>
</ul>
<p>这里是响应变量为标量的线性回归模型。将上述经典线性预测器从矢量空间扩展到张量空间</p>
<ul>
<li><span class="math inline">\(y_i = f(\mathcal{X}) =
\left&lt;\mathcal{X},\mathcal{W}\right&gt;+b\)</span></li>
</ul>
<p>当使用张量向量化处理如 <span class="math inline">\(\left&lt;
vec(\mathcal{X}, vec(\mathcal{W}))
\right&gt;\)</span>的时候上述两式完全相同，然而在向量预测器中对于多维度或者多信息源的预测变量将输入数据简单的拼接成向量，容易出现过拟合和高计算复杂度的问题。尽管可以通过使用无监督维度降低算法（如PCA）处理输入因子向量，但这通常导致难以建立明晰的预测变量对响应变量的解释。这里使用张量CP分解方法，通过将权重参数张量<span
class="math inline">\(\mathcal{W}\)</span>的分解为多个秩一张量相加来执行特征选择或权重系数的维数降低并同时捕获多维度预测变量之间的深层抽象关系。通过对权重张量的CP分解可以线性预测器可以改写为：</p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
y_i &amp;= \left&lt;\mathcal{X},\mathcal{W} \right &gt; + b\\
&amp;=\left&lt; \mathcal{X},  \sum\limits^R_{r=1} u^{(1)}_r \circ
u^{(2)}_r \circ \cdots \circ u^{(M)}_r \right&gt; + b\\
&amp;=\sum\limits^R_{r=1} \left&lt; \mathcal{X},   u^{(1)}_r \circ
u^{(2)}_r \circ \cdots \circ u^{(M)}_r \right&gt; + b\\
&amp;=\sum\limits^R_{r=1} \left&lt; \mathcal{X}, \mathcal{U}_r
\right&gt; +b
\end{aligned}
\end{equation}\]</span></p>
<p>这里使用CP分解将权重参数张量<span
class="math inline">\(\mathcal{W}\)</span>分解为R个秩一张量<span
class="math inline">\(\mathcal{U}_r\)</span>，如果将这R个秩一张量看做一组坐标基，则每个秩一张量都可以视为一个坐标基（如右手坐标系的一个维度），这样对R个秩一张量的累加和就可以看做类比于空间几何投影概念，也就是样本张量<span
class="math inline">\(\mathcal{X}\)</span>
投影到具有R个坐标基的空间中。类似于<span
class="math inline">\(PCA\)</span>
，使用多个投影的减少沿着一个方向进行投影时发生的信息丢失。</p>
<p>这种方法可以有效降低估计权重参数数量，
例如输入预测变量为的形状设定为[30, 30,
10]的形状，则对应的权重张量需要估计<span class="math inline">\(30 \times
30 \times 10 = 9000\)</span>
个权重参数（标量），使用CP分解权重张量之后，例如分解为4个坐标基（秩一张量）累加和则只需要估计<span
class="math inline">\((30 + 30 +10) \times 4 =280\)</span>
个权重参数。</p>
<h3 id="内积-inner-product">2.3 内积 Inner Product</h3>
<p>向量<span class="math inline">\(x,w \in \mathbb{R}^N\)</span></p>
<ul>
<li><span class="math inline">\(\left&lt; x, w\right&gt; =
\sum\limits^N_{i=1}x_iw_i=x^Tw\)</span></li>
</ul>
<p>矩阵 <span class="math inline">\(X,W \in
\mathbb{R}^{m,n}\)</span></p>
<ul>
<li><span class="math inline">\(\left&lt;X,W
\right&gt;\\=\sum\limits^{m}_{i=1}\sum\limits^{n}_{j=1}x_{i,j}w_{i,j}
\\= vec(X)^Tvec(W) \\=
vec(W)^Tvec(X)\\=\left&lt;vec(X),vec(W)\right&gt;\)</span></li>
</ul>
<p>张量<span class="math inline">\(\mathcal{X}, \mathcal{W} \in
\mathbb{R}^{I_1 \times \cdots \times I_M}\)</span></p>
<ul>
<li><span class="math inline">\(\left&lt; \mathcal{X},\mathcal{W}
\right&gt;\\ = \sum\limits^{I_1}
_{i_1=1}\cdots\sum\limits^{I_M}_{i_M=1}x_{i_1,\cdots,i_M}w_{i_1,\cdots,i_M}\\=vec(\mathcal{X})^Tvec(\mathcal(W)\\=\left&lt;vec(\mathcal{X},\mathcal{W})
\right&gt;\)</span></li>
</ul>
<p>根据元素计算可得</p>
<ul>
<li><span class="math inline">\(\left&lt; vec(\mathcal{X}),
vec(\mathcal{W})\right&gt; =\left&lt;X_{(d)}, W_{(d)}\right&gt; =
\left&lt; \mathcal{X},\mathcal{W} \right&gt;\)</span></li>
</ul>
<h3 id="矩阵内积与迹运算">2.4 矩阵内积与迹运算</h3>
<p>设<span class="math inline">\(A=(a_{ij})\in\mathbb{R}^{m,n}\)</span>
，<span class="math inline">\(B=(b_{ij})\in\mathbb{R}^{m,n}\)</span>
，<span
class="math inline">\(C=B^TA=(c_{ij})\in\mathbb{R}^{n,n}\)</span> 。</p>
<ul>
<li><span class="math inline">\((c)_{ij}=\sum_{k=1}^m
b_{ki}a_{kj}\)</span></li>
<li><span class="math inline">\(\mathrm{tr}(B^TA)=\sum_{i=1}^n
c_{ii}=\sum_{i=1}^n\sum_{k=1}^m b_{ki}a_{ki}\)</span></li>
</ul>
<p>则<span class="math inline">\(\mathrm{tr}(B^TA) =
\left&lt;A,B\right&gt;= \text{tr}((B^TA)^T)=\text{tr}(A^TB)\)</span></p>
<p>设<span class="math inline">\(A=(a_{ij})\in\mathbb{R}^{m,n}\)</span>
，<span class="math inline">\(B=(b_{ij})\in\mathbb{R}^{m,n}\)</span>
，<span
class="math inline">\(C=AB^T=(c_{ij})\in\mathbb{R}^{m,m}\)</span> 。</p>
<ul>
<li><span class="math inline">\((c)_{ij}=\sum\limits_{k=1}^n
b_{ki}a_{kj}\)</span></li>
<li><span class="math inline">\(\mathrm{tr}(AB^T)=\sum\limits_{i=1}^m
c_{ii}=\sum\limits_{i=1}^m\sum\limits_{k=1}^n b_{ki}a_{ki}\)</span></li>
</ul>
<p>则<span class="math inline">\(\langle A,B\rangle = \mathrm{tr}(B^TA)
= \text{tr}((B^TA)^T)=\text{tr}(A^TB)\\= \mathrm{tr}(AB^T) =
\text{tr}((AB^T)^T)=\text{tr}(AB^T)\)</span></p>
<h3 id="frobenius-norm">2.5 Frobenius norm</h3>
<ul>
<li><span class="math inline">\(\| A\| = \sqrt{\sum\limits^m_{i=1}
\sum\limits^m_{j=1}\| a_{i,j}\|^2}\)</span></li>
<li><span class="math inline">\(\| A\|^2 = \sum\limits^m_{i=1}
\sum\limits^m_{j=1}\| a_{i,j}\|^2= \left&lt;A,A\right&gt; =
trace(AA^T)\)</span></li>
</ul>
<h3 id="cp分解">2.6 CP分解</h3>
<p><strong>canonical polyadic decomposition</strong></p>
<p><img src="CP%E5%88%86%E8%A7%A31-1499064.png" width="100%" height="100%" title="canonical polyadic decomposition" alt="canonical polyadic decomposition"/></p>
<ul>
<li><span class="math inline">\(\mathcal{W}\\ \approx [[ U^{(1)},
U^{(2)},\cdots U^{(M)}]] \\ \triangleq \sum\limits^R_{r=1} u^{(1)}_r
\circ u^{(2)}_r \circ \cdots \circ u^{(M)}_r\)</span></li>
</ul>
<p>其中 <span class="math inline">\(U^{(K)} = [u^{(k)}_1, \cdots,
u^{(k)}_r ]\)</span> 对张量 <span
class="math inline">\(\mathcal{W}\)</span> 的 <span
class="math inline">\(mode-d\)</span>展开矩阵 <span
class="math inline">\(W_{(d)}\)</span>，CP分解转换为：</p>
<ul>
<li><span class="math inline">\(W_{(d)}=U^{(d)} U^{(-d)T}\)</span></li>
</ul>
<p>其中</p>
<ul>
<li><span class="math inline">\(U^{(d)} \in \mathbb{R}^{I_d\times
R}\)</span></li>
<li><span class="math inline">\(U^{(-d)} \in \mathbb{R}^{(I_1 \cdots\
I_{d-1} I_{d+1}\cdots I_{M}) \times R}=\mathbb{R}^{S \times
R}\)</span></li>
<li><span class="math inline">\(U^{(-k)} = (U^{M}\odot \cdots \odot
U^{(d+1)}\odot U^{(d-1)}\odot\cdots \odot U^{(1)})\)</span></li>
</ul>
<h3 id="trr目标函数">2.7 TRR目标函数</h3>
<p>对一组给定的有标签训练集<span class="math inline">\(\{ \mathcal{X}_i
,y_i \}^N_{i=1}\)</span> 其中<span class="math inline">\(\mathcal{X}_i =
\mathbb{R}^{I_1 \times \cdots I_M}\)</span> 为<span
class="math inline">\(M-mode\)</span> 张量，<span
class="math inline">\(y_i\)</span>
为对应的标量标签。评估权重参数的目标函数可以写作</p>
<ul>
<li><span class="math inline">\(\mathcal{L} (\mathcal{W},b) =
\frac{1}{2} \sum\limits^{N}_{i=1} l(y_i, f(\mathcal{X}_i, \Theta)) +
\frac{1}{2} \psi(\Theta)\)</span></li>
</ul>
<p><span class="math inline">\(l(\cdot)\)</span> 偏差损失函数，<span
class="math inline">\(\psi (\cdot)\)</span>
惩罚函数。当使用响应变量和标签差最小平方和作为损失函数的时候就是张量形式的最小二乘估计，添加2范数作为惩罚函数便得到张量形式的岭回归。</p>
<p>使用CP分解将权重参数张量转换为一组矩阵</p>
<ul>
<li><span class="math inline">\(\mathcal{W} \approx [[ U^{(1)},
U^{(2)},\cdots U^{(M)}]]\)</span></li>
</ul>
<p>则目标函数转换为</p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
\mathcal{L} (\mathcal{W},b) &amp;= \mathcal{L} (\{U^{(1)},\cdots,U^{(M)}
\},b)+ \Phi(\mathcal{W})\\
&amp;=\frac{1}{2} \sum\limits^N_{i=1}(y_i -
\left&lt;\mathcal{X}_i,[[U^{(1)},\cdots,U^{(M)}]] \right&gt;-b)^2 +
\frac{\lambda}{2}\| [[U^{(1)},\cdots,U^{(M)}]] \|^2_{Fro}
\end{aligned}
\end{equation}\]</span></p>
<p>使用坐标下降法最小化这个目标函数，在每次迭代中，固定除了<span
class="math inline">\(U^{(j)}\)</span>
之外的其他权重矩阵，解决相对于权重参数矩阵集的一个子集<span
class="math inline">\(U^{(j)}\)</span>的凸优化问题。在每次迭代中，求解与模式投影相关联的权重张量分解参数矩阵<span
class="math inline">\(U^{(j)}\)</span>，同时保持其它模式的投影对应的参数矩阵<span
class="math inline">\(\{ U^{(k)}\}|^M_{k=1,k\neq
j}\)</span>固定。也就是在每迭代步最小化如下子目标函数：</p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
\mathcal{L}_{d} (U^{(d)},b) &amp;=l_d(U^{(d)},b) + \Phi_d(U^{(d)})\\
&amp;=\frac{1}{2} \sum\limits^N_{i=1}(y_i - \left&lt; X_{i(d)},W_{(d)}
\right&gt;-b)^2 +\frac{\lambda}{2}\| W_{(d)} \|^2_{Fro} \\
&amp;=\frac{1}{2} \sum\limits^N_{i=1}(y_i - \left&lt;X_{i(d)},U^{(d)}
U^{(-d)T}\right&gt;-b)^2 + \frac{\lambda}{2}\left&lt;U^{(d)}U^{(-d)T},
U^{(d)}U^{(-d)T} \right&gt;\\
&amp;=\frac{1}{2} \sum\limits^N_{i=1}(y_i - \left&lt;U^{(d)}
U^{(-d)T},X_{i(d)}\right&gt;-b)^2 +
\frac{\lambda}{2}\left&lt;U^{(d)}U^{(-d)T}, U^{(d)}U^{(-d)T}
\right&gt;  \\
&amp;=\frac{1}{2} \sum\limits^N_{i=1}(y_i - \text{Tr}(U^{(d)}
U^{(-d)T}X_{i(d)}^T)-b)^2 +
\frac{\lambda}{2}\text{Tr}(U^{(d)}U^{(-d)T}U^{(-d)}U^{(d)T} )
\end{aligned}
\end{equation}\]</span></p>
<p>其中权重参数张量和CP分解矩阵关系为 <span
class="math inline">\(W_{(d)}=U^{(d)} U^{(-d)T}\)</span></p>
<p>将<span class="math inline">\(\mathcal{L}\)</span> 中的 <span
class="math inline">\(L2-norm\)</span> 范数惩罚项按<span
class="math inline">\(mode-d\)</span> 模式矩阵拆分，即将</p>
<ul>
<li><span class="math inline">\(\Phi(\mathcal{W})=\frac{\lambda}{2}\|
[[U^{(1)},\cdots,U^{(M)}]] \|^2_{Fro}\)</span></li>
</ul>
<p>修改为</p>
<ul>
<li><span
class="math inline">\(\Phi(\mathcal{W})=\frac{\lambda}{2}\sum\limits^M_{d=1}
\|U^{(d)}\|^2 _{Fro}\)</span></li>
<li><span class="math inline">\(\frac{\lambda}{2} \|U^{(d)}\|^2
_{Fro}=\frac{\lambda}{2}\|vec(U^{(d)})\|^2\)</span></li>
</ul>
<p>则</p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
\mathcal{L}_{d} (U^{(d)},b) &amp;= \frac{1}{2} \sum\limits^N_{i=1}(y_i -
\text{Tr}(U^{(d)} \tilde{X}_{i(d)}^T)-b)^2 + \frac{\lambda}{2}
\|U^{(d)}\|^2 _{Fro}\\
&amp;= \frac{1}{2} \sum\limits^N_{i=1}(y_i
-  vec(\tilde{X}_{i(d)})^Tvec(U^{(d)})
-b)^2+\frac{\lambda}{2}\|vec(U^{(d)})\|^2 \\
&amp;=\frac{1}{2} \|
y-[vec(\tilde{X}_{1(d)}),\cdots,vec(\tilde{X}_{N(d)} )]^T
vec(U^{(d)})-N*b\|^2+\frac{\lambda}{2}\|vec(U^{(d)})\|^2\\
&amp;=\frac{1}{2} \|
y-[b,vec(\tilde{X}_{1(d)}),\cdots,vec(\tilde{X}_{N(d)} )]^T
[1,vec(U^{(d)})^T]^T\|^2+\frac{\lambda}{2}\|vec(U^{(d)})\|^2\\
&amp;=\frac{1}{2} \|
y-\Phi\hat\beta^{(d)}\|^2+\frac{\lambda}{2}\|\hat\beta^{(d)}\|^2
\end{aligned}
\end{equation}\]</span></p>
<p>注：为了获得目标函数坐标下降法的封闭解，这里添加了对常数偏置项的惩罚，这样获得的偏置系数估计是不准确的，在使用的时候需要额外的处理。其中</p>
<ul>
<li><p><span class="math inline">\(\Phi=
[vec(\tilde{X}_{1(d)}),\cdots,vec(\tilde{X}_{N(d)} )]^T\in\mathbb{R}^{N
\times I_dR }\)</span></p></li>
<li><p><span class="math inline">\(\hat\beta^{(d)}= [1,vec(U^{(d)})^T]^T
\in \mathbb{R}^{I_dR+1}\)</span></p></li>
<li><p><span class="math inline">\(U^{(d)} \in \mathbb{R}^{I_d \times
R}\)</span></p></li>
<li><p><span class="math inline">\(U^{(-d)} \in \mathbb{R}^{S_d \times
R}\)</span></p></li>
<li><p><span class="math inline">\(X_{i(d)}U^{(-d)} \in \mathbb{R}^{I_d
\times S_d}\)</span></p></li>
<li><p><span class="math inline">\(\tilde{X}_{i(d)} = X_{i(d)}U^{(-d)}
\in \mathbb{R}^{I_d \times R}\)</span></p></li>
</ul>
<p>这样关于权重参数张量的对其使用CP分解的矩阵的目标函数就转换为标准的岭回归问题了，则</p>
<ul>
<li><span class="math inline">\(\hat\beta^{(d)} = (\Phi^T \Phi + \lambda
I)^{-1} \Phi^{T}y\)</span></li>
<li><span class="math inline">\(U^{(d)} = reshape (\hat\beta^{(d)},[-1,
R])\)</span></li>
<li>使用<span class="math inline">\([[ U^{(1)}, U^{(2)},\cdots
U^{(M)}]]\)</span>重构<span
class="math inline">\(\mathcal{W}\)</span></li>
</ul>
<p>在不使用惩罚项修正权重参数的时候，即张量形式的最小二乘回归中偏置<span
class="math inline">\(b\)</span> 直接使用上式得出，在使用<span
class="math inline">\(L2-norm\)</span>
修正权重参数的时候由于偏置权重参数同时被修正，这导致常数偏置项的错误。所以TRR的常数偏置应该使用无偏置回归的残差平均值获得，也就是使用无偏置回归模型的残差平均值计算偏置，即：</p>
<ul>
<li><span class="math inline">\(b = \frac{1}{N} (y_i - \langle
\mathcal{X},\mathcal{W} \rangle )\)</span></li>
</ul>
<h2 id="global-dimensionality-reduction">3、Global Dimensionality
Reduction</h2>
<h3 id="符号-2">3.1 符号</h3>
<p><span class="math inline">\(x_i\)</span> 标量</p>
<p><span class="math inline">\(x\)</span> 列向量</p>
<p><span class="math inline">\(x^T\)</span> 行向量</p>
<p><span class="math inline">\(X\)</span> 矩阵</p>
<p><span class="math inline">\(I\)</span> 单位矩阵</p>
<p>张量 <span class="math inline">\(\mathcal{X}\in \mathbb{R}^{I_1
\times I_2 \times I_3 }\)</span></p>
<h3 id="tensor-transformation">3.2 Tensor Transformation</h3>
<p>Tucker Decomposition</p>
<ul>
<li><span class="math inline">\(\mathcal{X}_i = \mathcal{C}_i \times_1
U^{i}_1 \times_2 U^{i}_2 \times U^i_3\)</span></li>
</ul>
<p>其中</p>
<p><span class="math inline">\(\mathcal{X}_i \in \mathbb{R}^{I_1 \times
I_2 \times I_3 }\)</span></p>
<p><span class="math inline">\(\mathcal{C}_i \in \mathbb{R}^{J_1 \times
J_2 \times J_3 }\)</span></p>
<p><span class="math inline">\(U_k^{i} \in \mathbb{R}^{I_k\times R_k
}\)</span></p>
<p>并假设每个因子矩阵<span
class="math inline">\(U^i_k\)</span>描述一个信息源或信息模式，如企业特定、事件特定和情绪特定。核心张量<span
class="math inline">\(\mathcal{C}_1\)</span>表示由张量<span
class="math inline">\(\mathcal{X}_i\)</span>三中模型之间的相关程度。在Tucker
分解之后，最小化如下目标函数获得用于修正<span
class="math inline">\(U^i_k\)</span>相关矩阵<span
class="math inline">\(V_k \in \mathbb{R}^{I_k \times J_k}\)</span></p>
<ul>
<li><span class="math inline">\(\min \limits _{V_k} J(V_k) =
\frac{\sum\limits^N_{i=1}\sum\limits^N_{j=i}\|V_k^TU^i_k - V^T_kU^j_k
\|^2w_{i,j}}{\sum\limits^{N}_{i=1}\|
V^T_kU^i_K\|^2d_{i,i}}\)</span></li>
</ul>
<p>其中 <span
class="math inline">\(W\)</span>是一个加权的上三角矩阵，捕获张量序列<span
class="math inline">\(\mathcal{X}_i\)</span>的多维关联，其中元素<span
class="math inline">\(w_{i,j}\)</span>表征两个相似收益率模式的训练集：</p>
<ul>
<li><span class="math inline">\(w_{i,j} = \begin{cases}1,\ if\ \ i \le j
\ and \ \|y_i -y_j \| \le 5\% \\0, \ otherwise \end{cases}\)</span></li>
</ul>
<p>在Tucker分解中，因子矩阵<span
class="math inline">\(U^i_k\)</span>仅保留张量<span
class="math inline">\(\mathcal{X_i}\)</span>内的各种信息模式之间的固有关联。
为了捕获各种模式间的动态关系，对目标函数<span
class="math inline">\(J(V_k)\)</span>进行优化，以确定校正因子<span
class="math inline">\(V_k\)</span>以调整<span
class="math inline">\(U_i^k|^N_{i=1}\)</span>。目标函数试图降低相似收益率的因子张量的<span
class="math inline">\(mode\ k\)</span>
因子矩阵差异，同时最大程度保留<span class="math inline">\(mode\
k\)</span> 因子矩阵的原始信息。<span class="math inline">\(\|V_k^TU^i_k
- V^T_kU^j_k \|^2w_{i,j}\)</span>
通过最小化具最大相似程度(95%)因子矩阵<span
class="math inline">\(U^i_k\)</span> 和<span
class="math inline">\(U^j_k\)</span>
的获得修正张量分解因子矩阵的修正矩阵<span
class="math inline">\(V_k^T\)</span>。使用<span
class="math inline">\(w_{i,j}\)</span> 定义收益率相似股票<span
class="math inline">\(y_i\)</span> 和 <span
class="math inline">\(y_j\)</span>之间的差异来决断因子矩阵<span
class="math inline">\(U^i_k\)</span> 和<span
class="math inline">\(U^j_k\)</span>
之间的差异。为了避免过度修正特性模式因子矩阵<span
class="math inline">\(U_k^i\)</span> 这里最大化因子矩阵的方差。</p>
<ul>
<li><span class="math inline">\(var(x) = \sum (x_i -\mu)^2
p_i\)</span></li>
<li><span class="math inline">\(\mu = \sum x_i p_i\)</span></li>
</ul>
<p>可以使用<strong>图谱论(Spectral Graph Theory)</strong>
从对角矩阵<span class="math inline">\(D\)</span>估计概率<span
class="math inline">\(p_i\)</span>
最大化方差可以进行如下改写，即目标函数的分母。</p>
<ul>
<li><span class="math inline">\(var(V^T_kU_k)= \sum\limits^{N}_{i=1}\|
V^T_kU^i_K\|^2d_{i,i}\)</span></li>
</ul>
<p>假设<span class="math inline">\(V^T_ k
U_k\)</span>是张量子空间中的一个均值为0随机变量矩阵，令<span
class="math inline">\(A^i = V^T_k U_k^i\)</span> 则信息模式<span
class="math inline">\(mode \ k\)</span>的目标函数改写为：</p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
J(V_k) &amp;= \frac{\sum\limits^N_{i=1}\sum\limits^N_{j=i}\|A^i - A^j
\|^2 w_{i,j}}{\sum\limits ^{N}_{i=1} \|A^i \|^2d_{i,i}}\\
&amp;=\frac{\sum\limits^N_{i=1}\sum\limits^N_{j=i}trace((A^i - A^j)(A^i
-A^j)^T) w_{i,j}}{\sum\limits ^{N}_{i=1} trace(A^i A^{iT})d_{i,i}}\\
&amp;=\frac{\sum\limits^N_{i=1}\sum\limits^N_{j=i}trace(A^iA^{iT}+A^jA^{jT}-A^iA^{jT}-A^jA^{iT}
)w_{i,j}}{\sum\limits ^{N}_{i=1} trace(A^i A^{iT})d_{i,i}}\\
&amp;=\frac{trace(\sum\limits^N_{i=1}A^iA^{iT}d_{i,i} -
\sum\limits^N_{i=1}\sum\limits^N_{j=1}A^iA^{jT}w_{i,j})}{trace(\sum\limits^N_{i}AA^{iT}d_{i,i})}
\end{aligned}
\end{equation}\]</span></p>
<p>其中<span class="math inline">\(\| A\|^2 = \sum\limits^m_{i=1}
\sum\limits^m_{j=1}\| a_{i,j}\|^2= \left&lt;A,A\right&gt; =
trace(AA^T)\)</span></p>
<p>令</p>
<ul>
<li><span class="math inline">\(D_U = \sum\limits
^N_{i=1}d_{i,i}U^{i}U^{iT}\)</span></li>
<li><span class="math inline">\(W_U =
\sum\limits^N_{i=1}\sum\limits^N_{j=i}w_{i,j}U^iU^{jT}\)</span></li>
</ul>
<p>则目标函数可以改写为：</p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
J(V_k)&amp;=\frac{trace(\sum\limits^N_{i=1}A^iA^{iT}d_{i,i} -
\sum\limits^N_{i=1}\sum\limits^N_{j=1}A^iA^{jT}w_{i,j})}{trace(\sum\limits^N_{i}AA^{iT}d_{i,i})}\\
&amp;= \frac{trace(\sum\limits^N_{i=1}V^T_kU^iU^{iT}V_kd_{i.i} -
\sum\limits^N_{i=1}\sum\limits^N_{j=i}V^T_kU^{i}U^{jT}V_kw_{i,j})}{trace(\sum\limits^N_{i}V^T_kU^iU^{iT}V_kd_{i,i})}\\
&amp;=\frac{trace(V^T_k(\sum\limits^N_{i=1}d_{i,i}U^iU^{iT})V_k -
V^T_k(\sum\limits^N_{i=1}\sum\limits^N_{j=1}w_{i,j}U^iU^{j,T})V_k)}{trace(V^T_k(\sum\limits^N_i
d_{i,i} U^i U^{iT})V_k)}\\
&amp;=\frac{trace (V^T_kD_UV_k-V^T_kW_UV_k)}{trace(V_k^TD_UV_k)}
\end{aligned}
\end{equation}\]</span></p>
<p>添加约束条件 <span class="math inline">\(trace(V^TD_UV)=1\)</span>
获得目标函数的唯一优化结果，这是获取因子矩阵对应的修正矩阵的优化问题转化为：</p>
<ul>
<li><span class="math inline">\(min\ J(V) =
trace(V^TD_UV-V^TW_UV)\)</span></li>
<li><span class="math inline">\(s.t. \ trace(V^TD_UV)=1\)</span></li>
</ul>
<p>通过如下算法即可获得修正矩阵，通过使用Tucker分解和修正矩阵将原始输入因子矩阵体积进行压缩</p>
<ul>
<li><p><span class="math inline">\(\mathcal{X}\in\mathbb{R}^{I_1 \times
I_2 \times I_3} \to \bar{\mathcal{X}} \in \mathbb{R}^{J_1 \times J_2
\times J_3}\)</span></p></li>
<li><p><span class="math inline">\(\bar{\mathcal{X}_i} = \mathcal{C}_i
\times_1 (V^T_1U^i_1) \times_2 (V^T_2U^i_2) \times_3
(V^T_3U^i_3)\)</span></p></li>
</ul>
<p><img src="GDR.PNG" width="100%" height="100%" title="GDR" alt="GDR"/></p>
<h3 id="sum-循环向量化">3.3 <span class="math inline">\(\sum\)</span>
循环向量化</h3>
<p><span class="math inline">\(U^i_k\in\mathbb{R}^{batch \times I_k
\times J_k}\)</span></p>
<p><span class="math inline">\(U^{iT}_k\in\mathbb{R}^{batch \times J_k
\times I_k}\)</span></p>
<p><span class="math inline">\(M^i_k = U^i_k U^{iT}_k\in
\mathbb{R}^{batch \times I_k \times I_k}\)</span></p>
<p><span class="math inline">\(M^i_{k(0)} \in \mathbb{R}^{batch \times
I_kI_k}\)</span></p>
<p>令 <span class="math inline">\(N = batch\)</span></p>
<ul>
<li><span class="math inline">\(D_{U_k} = \sum\limits
^N_{i=1}d_{i,i}U^{i}_kU^{iT}_k \\=\sum\limits ^N_{i=1}d_{i,i}M^i_k\\=
mat \{(vec(diag(D)))^T M_{k(0)}\}\)</span></li>
<li><span class="math inline">\(W_{U_k} = \sum\limits^N_{i=1}\sum\limits
^N_{j=1}w_{i,j}U^i_kU^{jT}_k\\= \sum\limits^N_{i=1}(\sum\limits
^N_{j=i}w_{i,j})U^i_kU^{jT}_k\\= \sum\limits^N_{i=1}(\sum\limits
^N_{j=i}w_{i,j})U^i_kU^{jT}_k\\=\sum\limits^N_{i=1}w_iU^i_kU^{jT}_k\\=\sum\limits^N_{i=1}w_i
M^i_{k}\\=mat\{w M_{k(0)} \}\)</span></li>
</ul>
<p>其中</p>
<ul>
<li><span class="math inline">\(w_{i,j} = \begin{cases}1,\ if\ \ i \le j
\ and \ \|y_i -y_j \| \le 5\% \\0, \ otherwise \end{cases}\)</span></li>
<li><span class="math inline">\(\sum\limits ^N_{j=1}w_{i,j} = w_i=
sum(w_{i,:}, axis=1)\)</span></li>
</ul>
<h1 id="引用">引用</h1>
<ul>
<li><p>Li X, Zhou H, Li L. Tucker tensor regression and neuroimaging
analysis[J]. arXiv preprint arXiv:1304.5637, 2013.</p></li>
<li><p>Petersen K B, Pedersen M S. The matrix cookbook[J]. Technical
University of Denmark, 2008, 7: 15.</p></li>
<li><p>Li Q, Jiang L L, Li P, et al. Tensor-Based Learning for
Predicting Stock Movements[C]//AAAI. 2015: 1784-1790.</p></li>
<li><p>Kolda T G, Bader B W. Tensor decompositions and applications[J].
SIAM review, 2009, 51(3): 455-500.</p></li>
<li><p>Guo W, Kotsia I, Patras I. Tensor learning for regression[J].
IEEE Transactions on Image Processing, 2012, 21(2): 816-827.</p></li>
<li><p>Tibshirani R. Modern regression 1: Ridge regression[C]//Data
Mining. 2013, 36: 462-662.</p></li>
<li><p>Figueiredo M A T. Lecture Notes on Linear Regression[J].</p></li>
<li><p>Nel D G. On matrix differentiation in statistics[J]. South
African Statistical Journal, 1980, 14(2): 137-193.</p></li>
<li><p>Dullemond K, Peeters K. Introduction to Tensor calculus[J]. Kees
Dullemond and Kasper Peeters, 1991.</p></li>
<li><p>Zhao Q, Caiafa C F, Mandic D P, et al. Higher order partial least
squares (HOPLS): a generalized multilinear regression method[J]. IEEE
transactions on pattern analysis and machine intelligence, 2013, 35(7):
1660-1673.</p></li>
<li><p>Li Q, Chen Y, Jiang L L, et al. A tensor-based information
framework for predicting the stock market[J]. ACM Transactions on
Information Systems (TOIS), 2016, 34(2): 11.</p></li>
</ul>
]]></content>
      <categories>
        <category>Math</category>
      </categories>
      <tags>
        <tag>MultiFactor</tag>
        <tag>LinearRegression</tag>
      </tags>
  </entry>
  <entry>
    <title>Vcpkg C++包管理</title>
    <url>/2022/04/13/vcpkg/</url>
    <content><![CDATA[<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/microsoft/vcpkg</span><br><span class="line">.\vcpkg\bootstrap-vcpkg.bat</span><br><span class="line">.\vcpkg\vcpkg integrate install</span><br></pre></td></tr></table></figure>
<p>vcpkg在Windows中默认编译并安装x86版本的库。
若要编译并安装x64版本，请执行:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">.\vcpkg\vcpkg install [package name]:x64-windows</span><br><span class="line">.\vcpkg\vcpkg install [packages to install] --triplet=x64-windows</span><br><span class="line">.\vcpkg\vcpkg install nng:x64-windows</span><br><span class="line">.\vcpkg\vcpkg install boost:x64-windows</span><br></pre></td></tr></table></figure>
<p>当您希望将vcpkg作为一个子模块加入到您的工程中时， 您可以在第一个
project() 调用之前将以下内容添加到 CMakeLists.txt 中， 而无需将
CMAKE_TOOLCHAIN_FILE 传递给cmake调用。 <figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(WIN32)</span><br><span class="line">    <span class="keyword">set</span>(CMAKE_TOOLCHAIN_FILE C:/Software/vcpkg/scripts/buildsystems/vcpkg.cmake  CACHE <span class="keyword">STRING</span> <span class="string">&quot;Vcpkg toolchain file&quot;</span>)</span><br><span class="line"><span class="keyword">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.22</span>)</span><br><span class="line"><span class="keyword">project</span>(yijinjing)</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_STANDARD <span class="number">23</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span>(Boost_USE_MULTITHREADED <span class="keyword">ON</span>)</span><br><span class="line"><span class="keyword">SET</span>(Boost_USE_STATIC_LIBS <span class="keyword">OFF</span>)</span><br><span class="line"><span class="keyword">SET</span>(Boost_USE_STATIC_RUNTIME <span class="keyword">OFF</span>)</span><br><span class="line"><span class="keyword">FIND_PACKAGE</span>(Boost COMPONENTS  filesystem system thread regex REQUIRED)</span><br><span class="line"><span class="keyword">INCLUDE_DIRECTORIES</span>(<span class="variable">$&#123;Boost_INCLUDE_DIR&#125;</span>)</span><br><span class="line"><span class="keyword">message</span>(<span class="variable">$&#123;Boost_INCLUDE_DIRS&#125;</span>)</span><br></pre></td></tr></table></figure></p>
<ul>
<li><a
href="https://github.com/microsoft/vcpkg/blob/master/README_zh_CN.md#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B-windows">Vcpkg</a></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>C++ Package</tag>
      </tags>
  </entry>
  <entry>
    <title>(未完)Event Driven Volatility Trading</title>
    <url>/2021/12/22/volatility-jump/</url>
    <content><![CDATA[<h2 id="forward-volatility-and-event-jump-volatility">Forward Volatility
And Event Jump Volatility</h2>
<p>When we sell options over such an event, it can be helpful to
calculate the jump in the underlying price that is being implied by the
option prices. To find the implied jump, we compare the ATM implied
volatilities of the front-month and second-month options. The assumption
is that just before the event, most of the difference will due to the
uncertainty because of the announcement. There may also be other reasons
for the difference, but we hope the event is the dominant one.</p>
<p>First note that if the front-month implied volatility is lower than
that of the second month, the event is not being projected to cause any
movement. If the front month is higher than the second month, we need to
first calculate the forward volatility, σ12, the volatility being
implied from the first expiration at T1 until the second expiration at
T2. This is</p>
<p><span class="math display">\[
\sigma_{12} = \sqrt{\frac{\sigma^2_2T_2 - \sigma_1^2T_1}{T_2-T_1}}
\]</span></p>
<ul>
<li><span class="math inline">\(\sigma_1\)</span> is the implied
volatility of the front month</li>
<li><span class="math inline">\(\sigma_2\)</span> is the implied
volatility of the second month</li>
</ul>
<p>The volatility attributed to the event, <span
class="math inline">\(\sigma_{E}\)</span>, is the difference of the
front-month volatility and the forward volatility. <span
class="math display">\[
\sigma_{\rm E} = \sqrt{T_1(\sigma_1^2 - \sigma_{12}^2)} =
\sqrt{(\sigma_1^2 - \sigma_{12}^2)\frac{T_1T_2}{T_2-T_1}}
\]</span> Now, we find that the expected absolute return (the jump) is
<span class="math display">\[
E(|R|) = \sqrt{\frac{2}{\pi}}\sigma_{\rm E}
\]</span> So we can find the expected jump from the front two implied
volatilities and compare this to our estimate of the actual move in the
underlying.</p>
<ul>
<li><a
href="https://www.wiley.com/en-us/Volatility+Trading%2C+%2B+Website%2C+2nd+Edition-p-9781118347133">Volatility
Trading, 2nd Edition Euan Sinclair ISBN: 978-1-118-34713-3</a></li>
</ul>
<hr />
<h2 id="附录">附录</h2>
<h3 id="日波动率">日波动率</h3>
<p>日波动率 = 收益率的平方求均值后开方</p>
<p>标准差定义为 <span class="math display">\[
s = \sqrt{\frac{1}{N} \sum^{N}_{t=1}(R_t)^2}
\]</span> 假设样本足够大，日波动率<span class="math inline">\(\sigma
=s\)</span></p>
<h3 id="日收益率">日收益率</h3>
<p>每日绝对收益率(去除方向)的均值表现 <span class="math display">\[
E(|R_t|) = \frac{1}{N}\sum^{N}_{t=1}|R_t|
\]</span>
前者是统计学的表达方式，很抽象，无法与现实的标的涨跌或者日收益率直接关联起来，后者则可以直接观察，日常的标的涨跌就能简单地换算成心中(期望)的绝对收益率。至于将日收益率与日波动率关联起来的公式
<span class="math display">\[
E(|R_t|) = \sqrt{\frac{2}{\pi}}\sigma
\]</span>
书中并没有提供相关的推导，我也困惑了一段时间，受到另一位知乎作者的启发，终于搞清楚了其中关联起来的数学逻辑，有了深刻的理解才能帮助更好地去运用它，这里也做分享。</p>
<h3 id="正态分布">正态分布</h3>
<p>若随机变量<span
class="math inline">\(X\)</span>服从一个位置参数为<span
class="math inline">\(\mu\)</span>、尺度参数为<span
class="math inline">\(\sigma\)</span>的正态分布，记为： <span
class="math display">\[
X \sim N(\mu, \sigma^2)
\]</span> 则其概率密度函数为 <span class="math display">\[
f(x) = \frac{1}{\sigma \sqrt{2\pi}} e^{-\frac{(x-\mu)^2}{2 \sigma^2}}
\]</span> 正态分布的数学期望值或期望值<span
class="math inline">\(\mu\)</span>等于位置参数，决定了分布的位置；其方差<span
class="math inline">\(\sigma^2\)</span>的开平方或标准差<span
class="math inline">\(\sigma\)</span>等于尺度参数，决定了分布的幅度。</p>
<ul>
<li><a
href="https://zh.wikipedia.org/wiki/%E6%AD%A3%E6%80%81%E5%88%86%E5%B8%83">正态分布</a></li>
<li><a
href="http://hongyitong.github.io/2016/11/13/%E4%BA%8C%E9%A1%B9%E5%88%86%E5%B8%83%E3%80%81%E6%B3%8A%E6%9D%BE%E5%88%86%E5%B8%83%E3%80%81%E6%AD%A3%E6%80%81%E5%88%86%E5%B8%83/">二项分布、泊松分布、正态分布的关系</a></li>
</ul>
<p>根据delta-hedging操作中日终不留敞口的逻辑，假设均值<span
class="math inline">\(\mu=0\)</span>，正态分布简化为 <span
class="math display">\[
f(x) = \frac{1}{\sigma \sqrt{2\pi}} e^{-\frac{x^2}{2 \sigma^2}}
\]</span></p>
<h3 id="转换推导">转换推导</h3>
<p>基础假设对数收益率符合正态分布，并且均值为0，这样绝对收益率的均值等于每项收益率乘以其分布概率，具体推导如下：</p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
E(|R_t|) &amp;= \int_{-\infty}^{+\infty} \left|x\right| \times
\frac{1}{\sigma \sqrt{2\pi}} e^{-\frac{x^2}{2 \sigma^2}} {\rm d}x\\
&amp;=\frac{1}{\sigma\sqrt{2\pi}}  \int_{-\infty}^{+\infty}
\left|x\right|e^{-\frac{x^2}{2 \sigma^2}}\\
&amp;=\frac{1}{\sigma\sqrt{2\pi}} \times 2\sigma^2\\
&amp;=\sqrt{\frac{2}{\pi}}\sigma
\end{aligned}
\end{equation}\]</span></p>
<p>以上<span
class="math inline">\(\sigma\)</span>为日波动率，转化为年化波动率，于是
<span class="math display">\[
E(|R_t|) = \frac{1}{\sqrt{252}} \sqrt{\frac{2}{\pi}} \sigma_{\rm 年化}
\approx \frac{\sigma_{\rm 年化}}{19.90}
\]</span></p>
<p><span class="math display">\[
E(|R_t|) = \frac{1}{\sqrt{243}} \sqrt{\frac{2}{\pi}} \sigma_{\rm 年化}
\approx \frac{\sigma_{\rm 年化}}{19.54}
\]</span></p>
<ul>
<li><a
href="https://www.zhihu.com/question/505788151/answer/2271071367">为什么日波动率1%对应年化波动率是20%而不是16%</a></li>
</ul>
<h3 id="定积分">定积分</h3>
<p><span class="math display">\[
\int_{-\infty}^{+\infty} \left|x\right|e^{-\frac{x^2}{2 \sigma^2}} =
\begin{cases} 2 \sigma^{2} &amp; \text{for}\: \frac{\pi}{2} &gt; 2
\left|{\arg{\left (\sigma \right )}}\right| \\\int_{-\infty}^{\infty}
e^{- \frac{x^{2}}{2 \sigma^{2}}} \left|{x}\right|\, dx &amp;
\text{otherwise} \end{cases}
\]</span></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sympy <span class="keyword">import</span> Symbol, exp, pi, oo, Integral</span><br><span class="line"><span class="keyword">from</span> sympy <span class="keyword">import</span> sqrt, integrate, simplify</span><br><span class="line"><span class="keyword">from</span> sympy <span class="keyword">import</span> latex, init_printing</span><br><span class="line">init_printing()</span><br><span class="line"></span><br><span class="line">sigma = Symbol(<span class="string">&quot;sigma&quot;</span>)</span><br><span class="line">x = Symbol(<span class="string">&quot;x&quot;</span>)</span><br><span class="line">f = x * exp(-x*x / (<span class="number">2</span>*sigma*sigma))</span><br><span class="line"><span class="built_in">print</span>(latex(f))</span><br><span class="line"></span><br><span class="line">f = Integral(f, (x, <span class="number">0</span>, oo))</span><br><span class="line"><span class="built_in">print</span>(latex(f))</span><br><span class="line"></span><br><span class="line">eq = integrate(f, (x, <span class="number">0</span>, oo))</span><br><span class="line"><span class="built_in">print</span>(latex(eq))</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>Event Volatility</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue3前端开发部署备忘录</title>
    <url>/2022/01/04/vue/</url>
    <content><![CDATA[<h2 id="docker开发环境">Docker开发环境</h2>
<h3 id="docker-ubuntu">Docker Ubuntu</h3>
<p>pull镜像</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull ubuntu</span><br><span class="line">docker run --name iubuntu -t -i -d ubuntu</span><br><span class="line">docker exec -t -i iubuntu /bin/bash</span><br></pre></td></tr></table></figure>
<p>安装配置ssh</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get dist-upgrade</span><br><span class="line">apt-get install -y vim</span><br><span class="line">apt-get install -y sudo vim git net-tools rsync sudo iputils-ping openssh-client openssh-server  xdg-utils xz-utils</span><br><span class="line"></span><br><span class="line">/etc/init.d/ssh start</span><br><span class="line">ps -e|grep ssh</span><br><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line">PermitRootLogin yes</span><br><span class="line">service ssh restart</span><br><span class="line">passwd root</span><br><span class="line">Lindao123456</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>
<p>清理缓存</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get clean</span><br><span class="line">apt-get autoclean</span><br><span class="line">apt-get autoremove</span><br></pre></td></tr></table></figure>
<h3 id="配置docker-ubuntu的中文环境">配置Docker-Ubuntu的中文环境</h3>
<ul>
<li><a
href="https://zhuanlan.zhihu.com/p/31078295">Docker容器中添加中文字符的支持</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">locale -a</span><br><span class="line">apt-get update</span><br><span class="line">apt-get install -y sudo</span><br><span class="line">apt-get install -y locales</span><br><span class="line">apt-get install -y language-pack-zh-hans</span><br><span class="line">locale-gen zh_CN</span><br><span class="line">locale-gen zh_CN.utf8</span><br><span class="line">locale-gen zh_CN.UTF-8</span><br><span class="line">locale-gen zh_CN.GB18030</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">看看当前启用的本地支持</span></span><br><span class="line">locale -a</span><br><span class="line">export LANG=zh_CN.UTF-8</span><br><span class="line">export LC_ALL=zh_CN.UTF-8</span><br><span class="line">export LANGUAGE=zh_CN.UTF-8</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">现在来看看当前的字符集</span></span><br><span class="line">locale</span><br><span class="line"></span><br><span class="line">sudo update-locale LANG=zh_CN.UTF-8 LC_ALL=zh_CN.UTF-8 LANGUAGE=zh_CN.UTF-8</span><br><span class="line">cat /etc/default/locale</span><br></pre></td></tr></table></figure>
<h3 id="vscode-web">vscode-web</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get install curl</span><br><span class="line">curl -fsSL https://code-server.dev/install.sh | sh</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">code-server --port 6001 --host 0.0.0.0 --auth password</span><br><span class="line">vim  ~/.config/code-server/config.yaml</span><br><span class="line"></span><br><span class="line">bind-addr: 0.0.0.0:6001</span><br><span class="line">auth: password</span><br><span class="line">password: 1234567890</span><br><span class="line">cert: false</span><br></pre></td></tr></table></figure>
<h3 id="node.js">Node.js</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd opt</span><br><span class="line">wget https://registry.npmmirror.com/-/binary/node/v16.14.2/node-v16.14.2-linux-x64.tar.xz</span><br><span class="line">tar -xvf node-v16.14.2-linux-x64.tar.xz</span><br><span class="line">rm -rf node-v16.14.2-linux-x64.tar.xz</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 软链接</span></span><br><span class="line">ln -s /opt/node-v16.14.2-linux-x64/bin/node /usr/local/bin</span><br><span class="line">ln -s /opt/node-v16.14.2-linux-x64/bin/npm /usr/local/bin</span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br><span class="line"><span class="meta">#</span><span class="bash"> 淘宝镜像</span></span><br><span class="line">npm config set registry https://registry.npm.taobao.org</span><br><span class="line">npm install -g npm@8.10.0</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> pnpm</span></span><br><span class="line">npm install -g pnpm@next-7</span><br><span class="line">ln -s /opt/node-v16.14.2-linux-x64/bin/pnpm /usr/local/bin</span><br><span class="line">ln -s /opt/node-v16.14.2-linux-x64/bin/pnpx /usr/local/bin</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npx npm-check-updates</span><br><span class="line">npx npm-check-updates -u</span><br></pre></td></tr></table></figure>
<h3 id="python-开发环境">Python 开发环境</h3>
<ul>
<li>https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</span><br><span class="line">bash Miniconda3-latest-Linux-x86_64.sh </span><br><span class="line">bash</span><br><span class="line">/opt/miniconda3</span><br><span class="line">conda config --set show_channel_urls yes</span><br><span class="line">vim ~/.condarc</span><br><span class="line"></span><br><span class="line">channels:</span><br><span class="line">  - defaults</span><br><span class="line">show_channel_urls: true</span><br><span class="line">default_channels:</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2</span><br><span class="line">custom_channels:</span><br><span class="line">  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch-lts: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line"></span><br><span class="line">conda update conda -y</span><br><span class="line">conda update python -y</span><br><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">pip install pip -U</span><br><span class="line"></span><br><span class="line">conda clean -p      //删除没有用的包（推荐）</span><br><span class="line">conda clean -t      //tar打包</span><br><span class="line">conda clean -y -all //删除全部的安装包及cache</span><br></pre></td></tr></table></figure>
<h3 id="生成镜像启动容器">生成镜像启动容器</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker commit iubuntu ubuntu-dev</span><br><span class="line">docker save ubuntu-dev &gt; ubuntu-dev.tar</span><br><span class="line">docker load &lt; ubuntu-dev.tar</span><br><span class="line">docker run --name web-dev -t -i -d -p 6000:22 -p 6001:6001 -p 6002:6002 -p 6003:6003 -p 6004:6004 ubuntu-dev /usr/sbin/sshd -D</span><br><span class="line">docker exec -t -i web-dev /bin/bash</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动 web-vue</span></span><br><span class="line">code-server --port 6001 --host 0.0.0.0 --auth password</span><br></pre></td></tr></table></figure>
<h3 id="docker-network">docker network</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker network create webnet</span><br><span class="line">docker network connect --alias mysql webnet mysql</span><br><span class="line">docker network connect --alias web-dev webnet web-dev</span><br><span class="line">docker network ls</span><br><span class="line">docker network inspect webnet</span><br><span class="line">docker inspect --format &#x27;&#123;&#123; .NetworkSettings.IPAddress &#125;&#125;&#x27; $(docker ps -q)</span><br></pre></td></tr></table></figure>
<h2 id="web部署">Web部署</h2>
<h3 id="falsk">Falsk</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install flask</span><br><span class="line">pip install flask_cors</span><br><span class="line">pip install python_dateutil</span><br><span class="line">pip install numpy</span><br><span class="line">pip install pandas</span><br><span class="line">pip install pymysql</span><br><span class="line">pip install scipy</span><br><span class="line">pip install pyjwt</span><br><span class="line">pip install pycryptodome</span><br><span class="line">pip install sqlalchemy</span><br></pre></td></tr></table></figure>
<h3 id="web-server-gateway-interface">Web Server Gateway Interface</h3>
<ul>
<li><a
href="https://xugaoxiang.com/2020/07/21/flask-12-deployment/">Flask生产环境部署</a></li>
</ul>
<blockquote>
<p>Web Server Gateway
Interface，即web服务器网关接口，是Web服务器和Web应用程序或框架之间的一种简单而通用的接口，它是一种协议，一种规范，专门用来解决众多Web服务器和Web应用程序或框架的兼容性问题。有了WSGI，你不用担心你写的Web应用程序只能运行在某一款Web服务器上。</p>
</blockquote>
<p>命令中的-w指的是处理请求的进程数，-b是指绑定本机ip，可以省略掉不写，使用的端口是5000，run:app指的是run.py中的flask
app。 浏览器中访问http://localhost:6003</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install gunicorn</span><br><span class="line">gunicorn -w 2 -b :6003 main:app</span><br></pre></td></tr></table></figure>
<h3 id="nginx">Nginx</h3>
<ul>
<li><a
href="https://cloud.tencent.com/developer/article/1886540">前后端分离nginx配置，同时解决跨域问题</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt-get install -y ufw nginx </span><br><span class="line">ps ax | grep nginx</span><br></pre></td></tr></table></figure>
<p>编辑配置文件/etc/nginx/sites-available/default，修改location
/如下</p>
<ul>
<li><p>Vue编译产生静态文件，访问端口需要修改成后台的公网ip地址</p></li>
<li><p>使用nginx替换路径请求，从统一的端口号分发到服务器实际运行的端口上面</p></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">	listen 6003 default_server;</span><br><span class="line">	listen [::]:6003 default_server;</span><br><span class="line"></span><br><span class="line">	root /var/www/html;</span><br><span class="line"></span><br><span class="line">	# Add index.php to the list if you are using PHP</span><br><span class="line">	index index.html index.htm index.nginx-debian.html;</span><br><span class="line"></span><br><span class="line">	server_name localhost;</span><br><span class="line"></span><br><span class="line">	location / &#123;</span><br><span class="line">		# First attempt to serve request as file, then</span><br><span class="line">		# as directory, then fall back to displaying a 404.</span><br><span class="line">		try_files $uri $uri/ =404;</span><br><span class="line"></span><br><span class="line">		# 前端代理</span><br><span class="line">		root /home/dist/frontend;</span><br><span class="line">		index index.html;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	location /backend &#123;</span><br><span class="line">		# 后端代理</span><br><span class="line">		proxy_pass http://localhost:6005;</span><br><span class="line">		# proxy_redirect off;</span><br><span class="line"></span><br><span class="line">		proxy_set_header Host $http_post;</span><br><span class="line">		proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>重启nginx服务</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo /etc/init.d/nginx restart</span><br><span class="line">sudo /etc/init.d/nginx stop</span><br></pre></td></tr></table></figure>
<h3 id="supervisor">Supervisor</h3>
<ul>
<li><a
href="https://xugaoxiang.com/2019/12/04/supervisor/">使用supervisor管理进程</a></li>
</ul>
<p>supervisor是一个用python语言编写的进程管理工具，它可以很方便的监听、启动、停止、重启一个或多个进程。
安装完毕，会生成3个系统命令supervisorctl、supervisord和echo_supervisord_conf</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install supervisor</span><br><span class="line">supervisord</span><br></pre></td></tr></table></figure>
<p>/etc/supervisor/conf.d/</p>
<p>https://kalacloud.com/blog/how-to-install-nginx-on-ubuntu-20-04/</p>
]]></content>
      <categories>
        <category>Web</category>
      </categories>
      <tags>
        <tag>vue.js</tag>
      </tags>
  </entry>
  <entry>
    <title>Volatility and Correlation</title>
    <url>/2021/06/19/volatility-and-correlation/</url>
    <content><![CDATA[<h2 id="波动率">波动率</h2>
<p>波动率(volatility)指的是资产价格的波动强弱程度，
类似于概率论中随机变量标准差的概念。 波动率不能直接观测，
可以从资产收益率中看出波动率的一些特征。</p>
<ul>
<li>存在波动率聚集(volatility clustering)</li>
<li>波动率随时间连续变化，一般不出现波动率的跳跃式变动（存疑）</li>
<li>波动率一般在固定的范围内变化，意味着动态的波动率是平稳的</li>
<li>在资产价格大幅上扬和大幅下跌两种情形下， 波动率的反映不同，
大幅下跌时波动率一般也更大， 这种现象称为杠杆效应（leverage
effect）</li>
</ul>
<p>通常波动率被分为两种，一种是回望型波动率(backward
looking)，另外一种是前瞻波动率(forward
looking)。前者是用历史数据算出来的波动率，后者是根据现在的期权市场报价用定价模型反推出来的波动率。前者是已经发生了的历史价格的波动，根据历史数据计算的一个波动率，后者是市场对未来标的价格的波动程度(波动率)的预测，通常不准确。</p>
<p>除此之外我认为还有两个概念经常被混淆，分别是实际波动率(Actual
Volatility)和理论波动率(Theory
Volatility)。实际波动率是对期权有效期内投资回报率波动程度的度量，对一个期权头寸组合而言，它的实际波动率应该指的是实盘交易中离散的动态对冲过程中delta敞口变化导致采样到的标的波动，这个概念通常与历史波动率混淆，即使用历史波动率来代替组合实际采样到的波动率。举例说明，假设标的<span
class="math inline">\(X\)</span>存在极端的日内波动，一个交易日内的振幅为<span
class="math inline">\(0\%, +r\%, -r\%, 0\%\)</span>
。对一个Gamma-Scalping的头寸组合存在如下几种对冲情况</p>
<ul>
<li>组合在标的振幅为<span class="math inline">\(+r\%, -r\%,
0\%\)</span>进行了全部对冲，则组合采样标的的当日的波动幅度为<span
class="math inline">\(r+2r+r\)</span></li>
<li>组合在标的振幅为<span class="math inline">\(+r\%, -r\%,
0\%\)</span>进行部分对冲，由于Greeks敞口的减少组合采样标的的当日的波动幅度小于<span
class="math inline">\(r+2r+r\)</span></li>
<li>组合在标的振幅为<span class="math inline">\(+0.5r\%, 0\%, -0.5r\%,
0\%\)</span>等位置（既不是在日内最高点、最低点）进行完全或部分对冲，由于Greeks敞口的减少组合采样标的的当日的波动幅度小于<span
class="math inline">\(r+2r+r\)</span></li>
<li>组合在当日未进行对冲，则在日终收盘组合采样到的波动幅度为<span
class="math inline">\(0\%\)</span></li>
</ul>
<p>理论波动率(Theory
Volatility)指的是“虚假理论定价模型”中假设的那个波动率。就如那个经典笑话中所讲的，面对一瓶红酒，经济学家假设存在一个开瓶器，这个开瓶器应该符合某些特征的一种存在，然后按图索骥。波动率这里被假设为一个符号参数（未知，但是假设存在并被使用），对简化抽象的的模型这个参数的嵌入使得模型在模型假设的世界里面逻辑自洽，再反向推导这个初始假设存在的参数。这样将理论波动率设定为波动率<span
class="math inline">\(\sigma\)</span>，这样不同的波动率算法计算的波动率都可以被近似认定为这个理论波动率的有偏差的数值，这样不同算法（假设）的波动率就可以进行比较了。例如历史波动率和隐含波动率，一个向后一个向前从含义上并不能进行比较，但是如果假设历史波动率是过去一段时间的波动率（理论波动率）数值，隐含波动率是未来一段时间的波动率的数值，在逻辑上就不会显得那么突兀别扭。或者可以直接理解为理论波动率是一个可以看到但是看不清楚的波动率，所有的波动率算法都是试图更小误差的观察这个波动率的工具。</p>
<h3 id="回望型波动率">回望型波动率</h3>
<p>历史波动率通常使用标的收盘价的对数收益率年化标准差计算 <span
class="math display">\[\begin{equation}
\begin{aligned}
r_t &amp;= {\rm log}(S_{t} / S_{t-1})\\  
\sigma_{\rm hv} &amp;= \sqrt{\frac{1}{n-1}\sum^{n}_{t=1}(r_i -
\overline{r})^2}
\end{aligned}
\end{equation}\]</span></p>
<p>对日线数据通常假设收益率均值为0，减少一个要估算的参数增加一个自由度，历史波动率算法修改为
<span class="math display">\[
\sigma_{\rm hv}^{\prime} = \sqrt{\frac{1}{n}\sum^{n}_{t=1}(r_i)^2}
\]</span></p>
<h3 id="exponential-decay-volatility">Exponential Decay Volatility</h3>
<p>波动率算法修改为一段时间内方差的均值，可以使用指数衰减的权重因子为时间序列靠后的数据赋予更高的权重，使当前的波动率受近期影响大于远期影响。塔勒布在《动态对冲》的Chapter-6
Volatility and
Correlation中通过设定证券的收益率序列均值为0，将单日收益率转换为单日的“波动率价格序列”，然后进行滤波平滑处理。</p>
<p><img src="test.png" width="100%" height="100%" title="test" alt="test"/>
<span class="math display">\[\begin{equation}
\begin{aligned}
\sigma_{\rm hv} &amp;= \sqrt{\frac{1}{\Omega}\sum^{n}_{t=1}
\lambda^{t}\cdot r^{2}_{t}}\\
\Omega &amp;= \sum^{n}_{t=1}\lambda^t = (\lambda +\lambda^2
+\lambda^3+\cdots+\lambda^{n})
\end{aligned}
\end{equation}\]</span></p>
<p>可以用递归函数计算波动率的时间序列 <span
class="math display">\[\begin{equation}
\begin{aligned}
\sigma^2 &amp;= \frac{\sum^{n}_{t=1} \lambda^{t}\cdot r^{2}_{t}}{\lambda
+\lambda^2 +\lambda^3+\cdots+\lambda^{n}}\\
&amp;=\frac{\sum^{n}_{t=1} \lambda^{t-1}\cdot r^{2}_{t}}{1+\lambda
+\lambda^2 +\cdots+\lambda^{n}}\\
&amp;=(1-\lambda)\sum^{n}_{t=1} \lambda^{t-1}\cdot r^{2}_{t}\\
&amp;=(1-\lambda)r^{2}_{t} + \lambda \sigma_{t-1}^2
\end{aligned}
\end{equation}\]</span></p>
<p>几何级数 <span class="math display">\[
\frac{1}{1-x} = \sum^{\infty}_{n=0}x^n = 1+x+x^2+\cdots+x^{n}+\cdots
\]</span> <span class="math display">\[
\forall x: \left|x \right|&lt;1
\]</span></p>
<p>令<span class="math inline">\(\alpha= 1-\lambda\)</span> 则 <span
class="math display">\[\begin{equation}
\begin{aligned}
\sigma^2 &amp;=\alpha r^{2}_{t} + (1-\alpha) \sigma_{t-1}^2\\
&amp;={\rm EMA}(r^2)\\
&amp;= \alpha\cdot r^{2}_{t} + (1-\alpha){\rm EMA}(r_{t-1}^2)
\end{aligned}
\end{equation}\]</span></p>
<p>修改了波动率算法为方差时间序列的均值之后可以直接使用常见的MA和EMA算法了</p>
<p>方差的MA计算波动率 <span class="math display">\[
\sigma_{\rm hv} = \sqrt{\rm MA(r^2)}\\
\]</span></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 麦语言</span><br><span class="line">RET:=CLOSE/REF(CLOSE,1);</span><br><span class="line">RETV:=LN(RET) * LN(RET);</span><br><span class="line">MA1:SQRT(MA(RETV, N) * 244)*100;</span><br></pre></td></tr></table></figure>
<p>方差的EMA计算波动率 <span class="math display">\[
\sigma_{\rm hv} = \sqrt{\rm EMA(r^2)}
\]</span> <span class="math display">\[
{\rm EMA}(r^2) = \alpha \cdot r^2_{t} + (1-\alpha)  {\rm EMA}(r_{t-1}^2)
\]</span> <span class="math display">\[
\alpha = \frac{2}{n+1}
\]</span></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 麦语言</span><br><span class="line">RET:=CLOSE/REF(CLOSE,1);</span><br><span class="line">RETV:=LN(RET) * LN(RET);</span><br><span class="line">EMA1:SQRT(EMA(RETV, N) * 244)*100;</span><br></pre></td></tr></table></figure>
<p>如下图，EMA算法要比MA算法对短期变动更敏感
<img src="hv_ema.png" width="100%" height="100%" title="hv_ema" alt="hv_ema"/></p>
<h2 id="相关性">相关性</h2>
<p>相关性是一个统计指标，表示两个变量线性相关（即它们以固定的比率一起变化）的程度。它是一个用于描述简单关系而没有陈述因果关系的常用工具。相关性可以检验两个变量之间的关系。但是相关性无法告诉我们在所探索的两个变量之外是否存在其他变量，或这些变量有何影响，即两个变量一起变动并不一定意味着我们知道是不是一个变量引起了另一个变量的变动。因此我们常说，“相关性并不意味着因果关系”。</p>
<p>通常使用无量纲的相关系数来描述相关性，相关系数 <span
class="math display">\[
\rho =
\frac{1}{n-1}\frac{\sum^{n}_{t=1}(x-\overline{x})(y_t-\overline{y})}{\sigma_x
\sigma_y}
\]</span> 忽略收益率时间序列的均值，两个资产的收益率相关性修改为 <span
class="math display">\[
\rho = \frac{1}{n}\frac{\sum^{n}_{t=1}x_t y_t}{\sigma_x^{\prime}
\sigma_y^{\prime}}
\]</span>
同样可以使用指数衰减调整相关系数调整长短期记忆，使相关性的时间序列对短期时间序列的变化更加敏感
<span class="math display">\[
\rho = \frac{1}{\Omega} \frac{\sum^{n}_{t=1}\lambda^{t} x_t
y_t}{\sigma_x \sigma_y}
\]</span></p>
<p><img src="correlation_coefficient.png" width="100%" height="100%" title="correlation_coefficient" alt="correlation_coefficient"/></p>
<p>相关性<span
class="math inline">\(\rho=1\)</span>不表示两个时间序列完全相同，两个时间序列相对自身的变化比率（收益率时间序列）环比相同的情况下，相关性同样为1。</p>
<p><img src="image-20210723135420391.png" width="100%" height="100%" title="相关系数" alt="相关系数"/></p>
<h2 id="what-is-the-beta-coefficient">What is the Beta Coefficient?</h2>
<p>Beta 系数是衡量证券或投资组合对整体市场变动的敏感性或相关性的指标。
我们可以通过将单个证券/投资组合的回报与整体市场的回报进行比较来推导出风险的统计度量，并确定可归因于市场的风险比例。</p>
<p>The Capital Asset Pricing Model (CAPM) <span
class="math display">\[{\rm R_e} - {\rm R_f} = \beta \times[{\rm R_m -
R_f}]\]</span></p>
<ul>
<li><span class="math inline">\({\rm R_e}\)</span> Stock Return</li>
<li><span class="math inline">\({\rm R_f}\)</span> Risk Free Rate</li>
<li><span class="math inline">\({\rm R_m}\)</span> Market Return</li>
<li><span class="math inline">\(\beta\)</span> Beta Coefficient</li>
</ul>
<p>How to Calculate the Beta Coefficient <span
class="math display">\[\beta=\frac{\rm Covariance (R_e, R_m)}{\rm
Variance(R_m)}\]</span></p>
<ul>
<li><p><span class="math inline">\({\rm Covariance (R_e, R_m)} = \sum
\frac{\rm (R_{e,n} - R_{e,avg}) (R_{m,n} - R_{m, avg})}{\rm
n-1}\)</span></p></li>
<li><p><span class="math inline">\({\rm Variance (R_m)} = \sum \frac{\rm
(R_{m,n} - R_{m,avg})^2}{n-1}\)</span></p></li>
</ul>
<p>Adjusted Beta Coefficient</p>
<ul>
<li><span class="math inline">\({\rm Covariance (R_e, R_m)} = \sum
\frac{\rm (R_{e,n} - 0) (R_{m,n} - 0)}{\rm n}\)</span></li>
<li><span class="math inline">\({\rm Variance (R_m)} = \sum \frac{\rm
(R_{m,n} - 0)^2}{n}\)</span></li>
</ul>
<h2 id="measuring-historical-volatility">Measuring Historical
Volatility</h2>
<p>除了使用标的资产价格的close-to-close计算波动率之外，还有几种算法被开发出来计算历史波动率</p>
<p>PARKINSON</p>
<blockquote>
<p>The first advanced volatility estimator was created by Parkinson in
1980, and instead of using closing prices it uses the high and low
price. One drawback of this estimator is that it assumes continuous
trading, hence it underestimates the volatility as potential movements
when the market is shut are ignored.</p>
</blockquote>
<p><span class="math display">\[
\sigma_{\rm p} = \sqrt{\frac{F}{N}}
\sqrt{\frac{1}{4Ln(2)}\sum^{N}_{i=1}(Ln(\frac{h_i}{l_i}))^2}
\]</span></p>
<ul>
<li><span class="math inline">\(F\)</span> 年化系数</li>
</ul>
<p>GARMAN-KLASS</p>
<blockquote>
<p>Later in 1980 the Garman-Klass volatility estimator was created. It
is an extension of Parkinson which includes opening and closing prices
(if opening prices are not available the close from the previous day can
be used instead). As overnight jumps are ignored the measure
underestimates the volatility.</p>
</blockquote>
<p><span class="math display">\[
\sigma_{\rm GK} = \sqrt{\frac{F}{N}}
\sqrt{\sum^{N}_{i=1}\frac{1}{2}(Ln(\frac{h_i}{l_i}))^2 - (2Ln(2) -
1)(Ln(\frac{c_i}{o_i}))^2}
\]</span></p>
<p>ROGERS-SATCHELL</p>
<blockquote>
<p>All of the previous advanced volatility measures assume the average
return (or drift) is zero. Securities which have a drift, or non-zero
mean, require a more sophisticated measure of volatility. The
Rogers-Satchell volatility created in the early 1990s is able to
properly measure the volatility for securities with non-zero mean. It
does not, however, handle jumps, hence it underestimates the
volatility.</p>
</blockquote>
<p><span class="math display">\[
\sigma_{\rm RS} = \sqrt{\frac{F}{N}}
\sqrt{\sum^{N}_{i=1}Ln(\frac{h_i}{c_i})Ln(\frac{h_i}{c_i}) +
Ln(\frac{l_i}{c_i})Ln(\frac{l_i}{c_i})}
\]</span></p>
<p>GARMAN-KLASS YANG-ZHANG EXTENSION</p>
<blockquote>
<p>Yang-Zhang modified the Garman-Klass volatility measure in order to
let it handle jumps. The measure does assume a zero drift, hence it will
overestimate the volatility if a security has a non-zero mean return. As
the effect of drift is small, the fact continuous prices are not
available usually means it underestimates the volatility (but by a
smaller amount than the previous alternative measures).</p>
</blockquote>
<p><span class="math display">\[
\sigma_{\rm GKYZ} =\sqrt{\frac{F}{N}} \sqrt{\sum^{N}_{i=1}
(Ln(\frac{o_i}{c_{i-1}}))^2 + \frac{1}{2}(Ln(\frac{h_i}{l_i}))^2 -
(2Ln(2)-1)(Ln(\frac{c_i}{o_i}))^2}
\]</span></p>
<p>YANG-ZHANG</p>
<blockquote>
<p>It is the sum of the overnight volatility (close-to-open volatility)
and a weighted average of the Rogers-Satchell volatility and the
open-to-close volatility. The assumption of continuous prices does mean
the measure tends to slightly underestimate the volatility.</p>
</blockquote>
<p><span class="math display">\[
\sigma_{\rm YZ} = \sqrt{F} \sqrt{\sigma^2_{\rm overnight \ volatility} +
\sigma^2_{\rm open \ to \ close \ volatility} + (1-k)\sigma_{RS}^2}
\]</span></p>
<p><span class="math display">\[
k = \frac{0.34}{1.34+ \frac{N+1}{N-1}}
\]</span></p>
<p><span class="math display">\[
\sigma^2_{\rm overnight \ volatility} = \frac{1}{N-1} \sum^{N}_{i=1}[Ln
(\frac{o_i}{c_{i-1}}) - \overline{Ln(\frac{o_i}{c_{i-1}})}]^2
\]</span></p>
<p><span class="math display">\[
\sigma^2_{\rm open \ to \ close \ volatility} = \frac{1}{N-1}
\sum^{N}_{i=1}[Ln (\frac{o_i}{c_{i}}) -
\overline{Ln(\frac{o_i}{c_{i}})}]^2
\]</span></p>
<p>衡量同一段时间内的HV，不同算法呈现数值差异较大</p>
<p><img src="hv.png" width="100%" height="100%" title="hv" alt="hv"/></p>
<p>粗糙的评估历史波动率收敛速度（算法有效性）可以使用GBM生成时间序列，观察不同算法在不同波动率水平下收敛到预定波动率参数需要的时间序列长度。
<span class="math display">\[
{\rm ln}S(t+\Delta t)- {\rm ln}S(t) = (\mu-\frac{\sigma^2}{2})\Delta t +
\sigma \varepsilon \sqrt{\Delta t}
\]</span>
将一个交易日的时间分割成多份生成当日的股价随机游走的路径图，将这个时间序列假设为当日真实的交易情况生成K线。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># params</span></span><br><span class="line">mu = <span class="number">1e-8</span></span><br><span class="line">sigma = <span class="number">0.2</span></span><br><span class="line">diff_time = <span class="number">1</span> / <span class="number">244.</span> / (<span class="number">4</span> * <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># path</span></span><br><span class="line">spot = <span class="number">5000</span></span><br><span class="line">size = <span class="number">201</span> * (<span class="number">4</span> * <span class="number">4</span> + <span class="number">1</span>) - <span class="number">1</span></span><br><span class="line">lns = (mu - sigma * sigma / <span class="number">2</span>) * diff_time + sigma * normal(<span class="number">0</span>, <span class="number">1</span>, size=size) * sqrt(diff_time)</span><br><span class="line">lns = insert(lns, <span class="number">0</span>, log(spot))</span><br><span class="line">lns = lns.cumsum()</span><br><span class="line"></span><br><span class="line"><span class="comment"># k-line</span></span><br><span class="line">lns = lns.reshape(-<span class="number">1</span>, <span class="number">17</span>)</span><br><span class="line">spot_path = exp(lns)</span><br><span class="line">open_s = spot_path[<span class="number">1</span>:, <span class="number">0</span>]</span><br><span class="line">high = spot_path.<span class="built_in">max</span>(axis=<span class="number">1</span>)[<span class="number">1</span>:]</span><br><span class="line">low = spot_path.<span class="built_in">min</span>(axis=<span class="number">1</span>)[<span class="number">1</span>:]</span><br><span class="line">close = spot_path[<span class="number">1</span>:, -<span class="number">1</span>]</span><br><span class="line">pre_close = spot_path[:-<span class="number">1</span>, -<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p><img src="newplot.png" width="100%" height="100%" title="k-line" alt="k-line"/></p>
<p>由于仿真数据使用<span class="math inline">\(\sigma =
0.2\)</span>生成，最接近<span
class="math inline">\(\sigma=0.2\)</span>的算法粗略的评估是最好的
<img src="hv20.png" width="100%" height="100%" title="hv20" alt="hv20"/>
<img src="hv60.png" width="100%" height="100%" title="hv60" alt="hv60"/></p>
<p>可以看到"先进算法"系统性低估波动率，而"原始算法"倾向于高估波动率，此外股价的路径严重影响波动率的计算。连续的单向移动会导致波动率的计算出现较大偏误，在这个问题上，强制假设日收益率为0（均值为0）会高估波动率，但是“先进算法”采样更多的数据点之后并没有降低漂移的影响，从长序列数据看呈现系统性低估的偏差。</p>
<p><img src="hv30.png" width="100%" height="100%" title="hv30" alt="hv30"/></p>
<p>由于实际交易不是连续时间交易上述算法中<code>PARKINSON</code>、<code>GARMAN-KLASS</code>和<code>ROGERS-SATCHELL</code>在实盘数据中只使用了当日K线数据，日间波动没有被计算，可以将上一个交易日的收盘价合并到当日的K线数据中重新生成K线进行调整。
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data = vstack([pre_close, open_s, high, low, close]).T</span><br><span class="line">adj_open_s = data[:, <span class="number">0</span>]</span><br><span class="line">adj_close = data[:, -<span class="number">1</span>]</span><br><span class="line">adj_high = data.<span class="built_in">max</span>(axis=<span class="number">1</span>)</span><br><span class="line">adj_low = data.<span class="built_in">min</span>(axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></p>
<p>调整之后波动率数据同比上升，但是不能观察到具有更好的收敛效果
<img src="hv20_1.png" width="100%" height="100%" title="hv20_1" alt="hv20_1"/>
<img src="hv60_1.png" width="100%" height="100%" title="hv60_1" alt="hv60_1"/></p>
<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>pk</th>
<th>gk</th>
<th>rs</th>
<th>adj-pk</th>
<th>adj-gk</th>
<th>adj-rs</th>
<th>pk</th>
<th>gk</th>
<th>rs</th>
<th>adj-pk</th>
<th>adj-gk</th>
<th>adj-rs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>count</td>
<td>300</td>
<td>300</td>
<td>300</td>
<td>300</td>
<td>300</td>
<td>300</td>
<td>300</td>
<td>300</td>
<td>300</td>
<td>300</td>
<td>300</td>
<td>300</td>
</tr>
<tr class="even">
<td>mean</td>
<td>0.1727</td>
<td>0.1581</td>
<td>0.1558</td>
<td>0.1789</td>
<td>0.1640</td>
<td>0.1611</td>
<td>0.1732</td>
<td>0.1583</td>
<td>0.1562</td>
<td>0.1794</td>
<td>0.1641</td>
<td>0.1610</td>
</tr>
<tr class="odd">
<td>std</td>
<td>0.0163</td>
<td>0.0115</td>
<td>0.0147</td>
<td>0.0164</td>
<td>0.0118</td>
<td>0.0128</td>
<td>0.0060</td>
<td>0.0041</td>
<td>0.0055</td>
<td>0.0065</td>
<td>0.0042</td>
<td>0.0053</td>
</tr>
<tr class="even">
<td>min</td>
<td>0.1388</td>
<td>0.1321</td>
<td>0.1223</td>
<td>0.1422</td>
<td>0.1376</td>
<td>0.1299</td>
<td>0.1614</td>
<td>0.1463</td>
<td>0.1426</td>
<td>0.1650</td>
<td>0.1551</td>
<td>0.1487</td>
</tr>
<tr class="odd">
<td>25%</td>
<td>0.1600</td>
<td>0.1506</td>
<td>0.1455</td>
<td>0.1672</td>
<td>0.1552</td>
<td>0.1524</td>
<td>0.1689</td>
<td>0.1548</td>
<td>0.1518</td>
<td>0.1745</td>
<td>0.1609</td>
<td>0.1569</td>
</tr>
<tr class="even">
<td>50%</td>
<td>0.1716</td>
<td>0.1579</td>
<td>0.1577</td>
<td>0.1777</td>
<td>0.1654</td>
<td>0.1616</td>
<td>0.1734</td>
<td>0.1587</td>
<td>0.1570</td>
<td>0.1797</td>
<td>0.1639</td>
<td>0.1616</td>
</tr>
<tr class="odd">
<td>75%</td>
<td>0.1864</td>
<td>0.1671</td>
<td>0.1659</td>
<td>0.1933</td>
<td>0.1726</td>
<td>0.1698</td>
<td>0.1774</td>
<td>0.1615</td>
<td>0.1607</td>
<td>0.1839</td>
<td>0.1675</td>
<td>0.1654</td>
</tr>
<tr class="even">
<td>max</td>
<td>0.2059</td>
<td>0.1862</td>
<td>0.1857</td>
<td>0.2109</td>
<td>0.1907</td>
<td>0.1926</td>
<td>0.1862</td>
<td>0.1669</td>
<td>0.1672</td>
<td>0.1919</td>
<td>0.1741</td>
<td>0.1721</td>
</tr>
</tbody>
</table>
<h2
id="trending-markets-imply-weekly-volatility-is-greater-than-daily-volatility">Trending
Markets Imply Weekly Volatility is Greater Than Daily Volatility</h2>
<blockquote>
<p>With 100% autocorrelation, returns are perfectly correlated (a
positive return is followed by a positive return, i.e. trending
markets). Should autocorrelation be -100% correlated then a positive
return is followed by a negative return (mean reverting or range trading
markets). If we assume markets are 100% daily correlated with a 1% daily
return, this means the weekly return is 5%. The daily volatility is
therefore c16% (1% × <span class="math inline">\(\sqrt{252}\)</span>)
while the weekly volatility of c35% (5% × <span
class="math inline">\(\sqrt{52}\)</span>) is more than twice as
large.</p>
</blockquote>
<p>这里是使用不同周期频率的HV评估标的价格时间序列自相关性的方法，例如对比5min的K线和日K线计算的HV，使用日线/5分钟线HV(1d)
/
HV(5min)，如果低频的HV高于高频的HV，说明这段时间内标的的价格存在正相关，也就是存在动量或趋势，对这种情景下的delta-hedging，日间对冲要比日内频繁对冲的预期P&amp;L高，如果小于1则存在负相关应该频繁的进行对冲，在1附近则是说明标的价格独立同分布，在这个计量区间内震荡为主。</p>
<p><img src="test1.png" width="100%" height="100%" title="test1" alt="test1"/></p>
<p>如上图，上证50的HV数据显示，对50指数在过去两年时间内，逐日进行delta-hedging的预期收益要强于日内频繁对冲，即逐日对冲会在对冲过程中捕捉到更高的波动率。</p>
<table style="width:17%;">
<colgroup>
<col style="width: 16%" />
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;">代码实现</td>
</tr>
<tr class="even">
<td style="text-align: left;"><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hv</span> = <span class="title">calc_hv_pk</span><span class="params">(high, low, size, factor)</span></span></span><br><span class="line">    array_length = <span class="built_in">length</span>(high);</span><br><span class="line">    hv = <span class="built_in">nan</span>(array_length,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx=<span class="number">1</span>:<span class="built_in">size</span><span class="number">-1</span></span><br><span class="line">        hv(idx) = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    shift = <span class="built_in">size</span> <span class="number">-1</span>;</span><br><span class="line">    const_num = <span class="number">4</span>*<span class="built_in">log</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">for</span> idx=<span class="built_in">size</span>:array_length</span><br><span class="line">        h = high(idx-shift:idx);</span><br><span class="line">        l = low(idx-shift:idx);</span><br><span class="line">        hv(idx) = <span class="built_in">sqrt</span>(sum(power(<span class="built_in">log</span>(h ./ l), <span class="number">2</span>)) / (const_num*<span class="built_in">size</span>)) .* <span class="built_in">factor</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hv</span> = <span class="title">calc_hv_rs</span><span class="params">(open, high, low, close, size, factor)</span></span></span><br><span class="line">    array_length = <span class="built_in">length</span>(high);</span><br><span class="line">    hv = <span class="built_in">nan</span>(array_length,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx=<span class="number">1</span>:<span class="built_in">size</span><span class="number">-1</span></span><br><span class="line">        hv(idx) = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    shift = <span class="built_in">size</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> idx=<span class="built_in">size</span>:array_length</span><br><span class="line">        o = open(idx-shift:idx);</span><br><span class="line">        h = high(idx-shift:idx);</span><br><span class="line">        l = low(idx-shift:idx);</span><br><span class="line">        c = close(idx-shift:idx);</span><br><span class="line">        hv(idx) = <span class="built_in">sqrt</span>(sum(<span class="built_in">log</span>(h ./ c) .* <span class="built_in">log</span>(h ./ o) + <span class="built_in">log</span>(l ./ c) .* <span class="built_in">log</span>(l ./ o)) ./ <span class="built_in">size</span>) .* <span class="built_in">factor</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hv</span> = <span class="title">calc_hv_gk</span><span class="params">(open, high, low, close, size, factor)</span></span></span><br><span class="line">    array_length = <span class="built_in">length</span>(high);</span><br><span class="line">    hv = <span class="built_in">nan</span>(array_length,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx=<span class="number">1</span>:<span class="built_in">size</span><span class="number">-1</span></span><br><span class="line">        hv(idx) = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    shift = <span class="built_in">size</span> <span class="number">-1</span>;</span><br><span class="line">    const_num = <span class="number">2</span> .* <span class="built_in">log</span>(<span class="number">2</span>) - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> idx=<span class="built_in">size</span>:array_length</span><br><span class="line">        o = open(idx-shift:idx);</span><br><span class="line">        h = high(idx-shift:idx);</span><br><span class="line">        l = low(idx-shift:idx);</span><br><span class="line">        c = close(idx-shift:idx);</span><br><span class="line">        hv(idx) = <span class="built_in">sqrt</span>(sum(<span class="number">0.5</span> .* power(<span class="built_in">log</span>(h ./ l), <span class="number">2</span>) - const_num * power(<span class="built_in">log</span>(c ./ o), <span class="number">2</span>)) ./ <span class="built_in">size</span>) * <span class="built_in">factor</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hv</span> = <span class="title">calc_hv_gkyz</span><span class="params">(open, high, low, close, pre_close, size, factor)</span></span></span><br><span class="line">    array_length = <span class="built_in">length</span>(high);</span><br><span class="line">    hv = <span class="built_in">nan</span>(array_length,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx=<span class="number">1</span>:<span class="built_in">size</span><span class="number">-1</span></span><br><span class="line">        hv(idx) = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    shift = <span class="built_in">size</span> <span class="number">-1</span>;</span><br><span class="line">    const_num = <span class="number">2</span> .* <span class="built_in">log</span>(<span class="number">2</span>) - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> idx=<span class="built_in">size</span>:array_length</span><br><span class="line">        o = open(idx-shift:idx);</span><br><span class="line">        h = high(idx-shift:idx);</span><br><span class="line">        l = low(idx-shift:idx);</span><br><span class="line">        c = close(idx-shift:idx);</span><br><span class="line">        pc = pre_close(idx-shift:idx);</span><br><span class="line">        hv(idx) = <span class="built_in">sqrt</span>(sum(power(<span class="built_in">log</span>(o ./ pc), <span class="number">2</span>) + <span class="number">0.5</span> .* power(<span class="built_in">log</span>(h ./ l), <span class="number">2</span>) - const_num .* power(<span class="built_in">log</span>(c ./ o), <span class="number">2</span>)) ./ <span class="built_in">size</span>) .* <span class="built_in">factor</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hv</span> = <span class="title">calc_hv_yz</span><span class="params">(open, high, low, close, pre_close, size, factor)</span></span></span><br><span class="line">    array_length = <span class="built_in">length</span>(high);</span><br><span class="line">    hv = <span class="built_in">nan</span>(array_length,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx=<span class="number">1</span>:<span class="built_in">size</span><span class="number">-1</span></span><br><span class="line">        hv(idx) = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    shift = <span class="built_in">size</span> <span class="number">-1</span>;</span><br><span class="line">    k = <span class="number">0.34</span> ./ (<span class="number">1.34</span> + (<span class="built_in">size</span> + <span class="number">1</span>) ./ (<span class="built_in">size</span> - <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">for</span> idx=<span class="built_in">size</span>:array_length</span><br><span class="line">        o = open(idx-shift:idx);</span><br><span class="line">        h = high(idx-shift:idx);</span><br><span class="line">        l = low(idx-shift:idx);</span><br><span class="line">        c = close(idx-shift:idx);</span><br><span class="line">        pc = pre_close(idx-shift:idx);</span><br><span class="line"></span><br><span class="line">        <span class="comment">% overnight volatility</span></span><br><span class="line">        loc = <span class="built_in">log</span>(o ./ pc);</span><br><span class="line">        ov = sum(power(loc - <span class="built_in">mean</span>(loc), <span class="number">2</span>)) ./ (<span class="built_in">size</span> - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">% open to close volatility</span></span><br><span class="line">        lco = <span class="built_in">log</span>(c ./ o);</span><br><span class="line">        oc = sum(power(lco - <span class="built_in">mean</span>(lco), <span class="number">2</span>)) ./ (<span class="built_in">size</span> - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">% Rogers-Satchell volatility</span></span><br><span class="line">        rs = sum(<span class="built_in">log</span>(h ./ c) .* <span class="built_in">log</span>(h ./ o) + <span class="built_in">log</span>(l ./ c) .* <span class="built_in">log</span>(l ./ o)) ./ <span class="built_in">size</span>;</span><br><span class="line">        hv(idx) = <span class="built_in">sqrt</span>(ov + k .* oc + (<span class="number">1</span> - k) .* rs).* <span class="built_in">factor</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; <span class="title">calc_hv_cc</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;close,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">int</span> &amp;time_period,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">double</span> &amp;factor)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 参数转换</span></span><br><span class="line">    py::buffer_info buf_close = close.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_close = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_close.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// result</span></span><br><span class="line">    <span class="keyword">auto</span> result = py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt;(buf_close.size);</span><br><span class="line">    py::buffer_info buffer_result = result.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_result = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buffer_result.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//// calculate function</span></span><br><span class="line">    <span class="comment">// 方差, var[0] = 0, var[1] = ret[0]</span></span><br><span class="line">    <span class="keyword">auto</span> size = buf_close.size;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">double</span>&gt; <span class="title">var</span><span class="params">(size, <span class="number">0.0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">double</span> ret = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        ret = <span class="built_in">log</span>(ptr_close[i] / ptr_close[i - <span class="number">1</span>]);</span><br><span class="line">        var[i] = std::<span class="built_in">pow</span>(ret, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 波动率</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; time_period; i++) &#123;</span><br><span class="line">        ptr_result[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = time_period; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="keyword">double</span> tv = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i - time_period + <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">            tv += var[j];</span><br><span class="line">        &#125;</span><br><span class="line">        ptr_result[i] = <span class="built_in">sqrt</span>(tv / time_period) * factor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; <span class="title">calc_hv_cc_ema</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;close,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">int</span> &amp;time_period,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">double</span> &amp;factor)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 参数转换</span></span><br><span class="line">    py::buffer_info buf_close = close.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_close = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_close.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// result</span></span><br><span class="line">    <span class="keyword">auto</span> result = py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt;(buf_close.size);</span><br><span class="line">    py::buffer_info buffer_result = result.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_result = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buffer_result.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//// calculate function</span></span><br><span class="line">    <span class="comment">// 方差, var[0] = 0, var[1] = ret[0]</span></span><br><span class="line">    <span class="keyword">auto</span> size = buf_close.size;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">double</span>&gt; <span class="title">var</span><span class="params">(size, <span class="number">0.0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">double</span> ret = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        ret = <span class="built_in">log</span>(ptr_close[i] / ptr_close[i - <span class="number">1</span>]);</span><br><span class="line">        var[i] = std::<span class="built_in">pow</span>(ret, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指数加权</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">double</span> alpha = <span class="number">2.</span> / (time_period + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">double</span> beta = <span class="number">1.</span> - alpha;</span><br><span class="line">    <span class="keyword">double</span> tv = var[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        tv = alpha * var[i] + beta * tv;</span><br><span class="line">        ptr_result[i] = <span class="built_in">sqrt</span>(tv) * factor;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> shift = <span class="built_in"><span class="keyword">int</span></span>(<span class="built_in">log</span>(<span class="number">0.05</span>) / <span class="built_in">log</span>(beta));</span><br><span class="line">    <span class="comment">// 波动率</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; shift + <span class="number">1</span>; i++) &#123;</span><br><span class="line">        ptr_result[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; <span class="title">calc_corr_cc</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;close_x,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;close_y,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">int</span> &amp;time_period)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 参数转换</span></span><br><span class="line">    py::buffer_info buf_x = close_x.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_x = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_x.ptr);</span><br><span class="line">    py::buffer_info buf_y = close_y.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_y = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_y.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// result</span></span><br><span class="line">    <span class="keyword">auto</span> result = py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt;(buf_x.size);</span><br><span class="line">    py::buffer_info buffer_result = result.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_result = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buffer_result.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 方差, var[0] = 0, var[1] = ret[0]</span></span><br><span class="line">    <span class="keyword">auto</span> size = buf_x.size;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">double</span>&gt; <span class="title">var_x</span><span class="params">(size)</span></span>;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">double</span>&gt; <span class="title">var_y</span><span class="params">(size)</span></span>;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">double</span>&gt; <span class="title">var_xy</span><span class="params">(size)</span></span>;</span><br><span class="line">    <span class="keyword">double</span> ret_x = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">double</span> ret_y = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        ret_x = <span class="built_in">log</span>(ptr_x[i] / ptr_x[i - <span class="number">1</span>]);</span><br><span class="line">        ret_y = <span class="built_in">log</span>(ptr_y[i] / ptr_y[i - <span class="number">1</span>]);</span><br><span class="line">        var_x[i] = std::<span class="built_in">pow</span>(ret_x, <span class="number">2</span>);</span><br><span class="line">        var_y[i] = std::<span class="built_in">pow</span>(ret_y, <span class="number">2</span>);</span><br><span class="line">        var_xy[i] = ret_x * ret_y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 相关性</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; time_period + <span class="number">1</span>; i++) &#123;</span><br><span class="line">        ptr_result[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = time_period + <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="keyword">double</span> std_x = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">double</span> std_y = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">double</span> std_xy = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i - time_period; j &lt; i; j++) &#123;</span><br><span class="line">            std_x += var_x[j];</span><br><span class="line">            std_y += var_y[j];</span><br><span class="line">            std_xy += var_xy[j];</span><br><span class="line">        &#125;</span><br><span class="line">        ptr_result[i] = std_xy / (<span class="built_in">sqrt</span>(std_x) * <span class="built_in">sqrt</span>(std_y));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; <span class="title">calc_corr_cc_ema</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;close_x,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;close_y,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">int</span> &amp;time_period)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 参数转换</span></span><br><span class="line">    py::buffer_info buf_x = close_x.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_x = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_x.ptr);</span><br><span class="line">    py::buffer_info buf_y = close_y.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_y = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_y.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// result</span></span><br><span class="line">    <span class="keyword">auto</span> result = py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt;(buf_x.size);</span><br><span class="line">    py::buffer_info buffer_result = result.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_result = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buffer_result.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 方差, var[0] = 0, var[1] = ret[0]</span></span><br><span class="line">    <span class="keyword">auto</span> size = buf_x.size;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">double</span>&gt; <span class="title">var_x</span><span class="params">(size)</span></span>;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">double</span>&gt; <span class="title">var_y</span><span class="params">(size)</span></span>;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">double</span>&gt; <span class="title">var_xy</span><span class="params">(size)</span></span>;</span><br><span class="line">    <span class="keyword">double</span> ret_x = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">double</span> ret_y = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        ret_x = <span class="built_in">log</span>(ptr_x[i] / ptr_x[i - <span class="number">1</span>]);</span><br><span class="line">        ret_y = <span class="built_in">log</span>(ptr_y[i] / ptr_y[i - <span class="number">1</span>]);</span><br><span class="line">        var_x[i] = std::<span class="built_in">pow</span>(ret_x, <span class="number">2</span>);</span><br><span class="line">        var_y[i] = std::<span class="built_in">pow</span>(ret_y, <span class="number">2</span>);</span><br><span class="line">        var_xy[i] = ret_x * ret_y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指数加权</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">double</span> alpha = <span class="number">2.</span> / (time_period + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">double</span> beta = <span class="number">1.</span> - alpha;</span><br><span class="line">    <span class="keyword">double</span> corr = var_xy[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">double</span> vx = var_x[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">double</span> vy = var_y[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        vx = alpha * var_x[i] + beta * vx;</span><br><span class="line">        vy = alpha * var_y[i] + beta * vy;</span><br><span class="line">        corr = alpha * var_xy[i] + beta * corr;</span><br><span class="line">        ptr_result[i] = corr / (<span class="built_in">sqrt</span>(vx) * <span class="built_in">sqrt</span>(vy));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 相关性</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> shift = <span class="built_in"><span class="keyword">int</span></span>(<span class="built_in">log</span>(<span class="number">0.05</span>) / <span class="built_in">log</span>(beta));</span><br><span class="line">    <span class="comment">// 波动率</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; shift + <span class="number">1</span>; i++) &#123;</span><br><span class="line">        ptr_result[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; <span class="title">calc_hv_pk</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;high,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;low,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">int</span> &amp;time_period,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">double</span> &amp;factor)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 参数转换</span></span><br><span class="line">    py::buffer_info buf_high = high.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_high = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_high.ptr);</span><br><span class="line">    py::buffer_info buf_low = low.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_low = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_low.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// result</span></span><br><span class="line">    <span class="keyword">auto</span> result = py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt;(buf_high.size);</span><br><span class="line">    py::buffer_info buffer_result = result.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_result = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buffer_result.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// calculate function</span></span><br><span class="line">    <span class="keyword">auto</span> size = buf_high.size;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">double</span>&gt; <span class="title">var</span><span class="params">(size, <span class="number">0.0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">double</span> const_num = <span class="number">0.25</span> / <span class="built_in">log</span>(<span class="number">2.</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        var[i] = const_num * std::<span class="built_in">pow</span>(<span class="built_in">log</span>(ptr_high[i] / ptr_low[i]), <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 波动率</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; time_period; i++) &#123;</span><br><span class="line">        ptr_result[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = time_period - <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="keyword">double</span> tv = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i - time_period + <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">            tv += var[j];</span><br><span class="line">        &#125;</span><br><span class="line">        ptr_result[i] = <span class="built_in">sqrt</span>(tv / time_period) * factor;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; <span class="title">calc_hv_rs</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;open,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;high,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;low,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;close,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">int</span> &amp;time_period,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">double</span> &amp;factor)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 参数转换</span></span><br><span class="line">    py::buffer_info buf_open = open.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_open = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_open.ptr);</span><br><span class="line">    py::buffer_info buf_high = high.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_high = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_high.ptr);</span><br><span class="line">    py::buffer_info buf_low = low.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_low = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_low.ptr);</span><br><span class="line">    py::buffer_info buf_close = close.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_close = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_close.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// result</span></span><br><span class="line">    <span class="keyword">auto</span> result = py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt;(buf_high.size);</span><br><span class="line">    py::buffer_info buffer_result = result.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_result = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buffer_result.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// calculate function</span></span><br><span class="line">    <span class="keyword">auto</span> size = buf_high.size;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">double</span>&gt; <span class="title">var</span><span class="params">(size, <span class="number">0.0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="keyword">double</span> tmp = <span class="built_in">log</span>(ptr_high[i] / ptr_close[i]) * <span class="built_in">log</span>(ptr_high[i] / ptr_open[i]) +</span><br><span class="line">                     <span class="built_in">log</span>(ptr_low[i] / ptr_close[i]) * <span class="built_in">log</span>(ptr_low[i] / ptr_open[i]);</span><br><span class="line">        var[i] = <span class="built_in">nan_to_num</span>(tmp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 波动率</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; time_period; i++) &#123;</span><br><span class="line">        ptr_result[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = time_period - <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="keyword">double</span> tv = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i - time_period + <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">            tv += var[j];</span><br><span class="line">        &#125;</span><br><span class="line">        ptr_result[i] = <span class="built_in">sqrt</span>(tv / time_period) * factor;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; <span class="title">calc_hv_gk</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;open,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;high,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;low,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;close,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">int</span> &amp;time_period,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">double</span> &amp;factor)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 参数转换</span></span><br><span class="line">    py::buffer_info buf_open = open.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_open = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_open.ptr);</span><br><span class="line">    py::buffer_info buf_high = high.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_high = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_high.ptr);</span><br><span class="line">    py::buffer_info buf_low = low.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_low = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_low.ptr);</span><br><span class="line">    py::buffer_info buf_close = close.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_close = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_close.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// result</span></span><br><span class="line">    <span class="keyword">auto</span> result = py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt;(buf_high.size);</span><br><span class="line">    py::buffer_info buffer_result = result.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_result = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buffer_result.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// calculate function</span></span><br><span class="line">    <span class="keyword">auto</span> size = buf_high.size;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">double</span>&gt; <span class="title">var</span><span class="params">(size, <span class="number">0.0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">double</span> const_num = <span class="number">2.</span> * <span class="built_in">log</span>(<span class="number">2.</span>) - <span class="number">1.</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        var[i] = <span class="number">0.5</span> * std::<span class="built_in">pow</span>(<span class="built_in">log</span>(ptr_high[i] / ptr_low[i]), <span class="number">2</span>) -</span><br><span class="line">                 const_num * std::<span class="built_in">pow</span>(<span class="built_in">log</span>(ptr_close[i] / ptr_open[i]), <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 波动率</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; time_period; i++) &#123;</span><br><span class="line">        ptr_result[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = time_period - <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="keyword">double</span> tv = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i - time_period + <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">            tv += var[j];</span><br><span class="line">        &#125;</span><br><span class="line">        ptr_result[i] = <span class="built_in">sqrt</span>(tv / time_period) * factor;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; <span class="title">calc_hv_gkyz</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;open,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;high,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;low,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;close,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt; &amp;pre_close,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">int</span> &amp;time_period,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">const</span> <span class="keyword">double</span> &amp;factor)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 参数转换</span></span><br><span class="line">    py::buffer_info buf_open = open.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_open = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_open.ptr);</span><br><span class="line">    py::buffer_info buf_high = high.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_high = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_high.ptr);</span><br><span class="line">    py::buffer_info buf_low = low.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_low = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_low.ptr);</span><br><span class="line">    py::buffer_info buf_close = close.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_close = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_close.ptr);</span><br><span class="line">    py::buffer_info buf_pre_close = pre_close.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_pre_close = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buf_pre_close.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// result</span></span><br><span class="line">    <span class="keyword">auto</span> result = py::<span class="keyword">array_t</span>&lt;<span class="keyword">double</span>&gt;(buf_high.size);</span><br><span class="line">    py::buffer_info buffer_result = result.<span class="built_in">request</span>();</span><br><span class="line">    <span class="keyword">auto</span> *ptr_result = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span> *&gt;(buffer_result.ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// calculate function</span></span><br><span class="line">    <span class="keyword">auto</span> size = buf_high.size;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">double</span>&gt; <span class="title">var</span><span class="params">(size, <span class="number">0.0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">double</span> const_num = <span class="number">2.</span> * <span class="built_in">log</span>(<span class="number">2.</span>) - <span class="number">1.</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        var[i] = std::<span class="built_in">pow</span>(<span class="built_in">log</span>(ptr_open[i] / ptr_pre_close[i]), <span class="number">2</span>) + <span class="number">0.5</span> * std::<span class="built_in">pow</span>(<span class="built_in">log</span>(ptr_high[i] / ptr_low[i]), <span class="number">2</span>) -</span><br><span class="line">                 const_num * std::<span class="built_in">pow</span>(<span class="built_in">log</span>(ptr_close[i] / ptr_open[i]), <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 波动率</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; time_period; i++) &#123;</span><br><span class="line">        ptr_result[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = time_period - <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="keyword">double</span> tv = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i - time_period + <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">            tv += var[j];</span><br><span class="line">        &#125;</span><br><span class="line">        ptr_result[i] = <span class="built_in">sqrt</span>(tv / time_period) * factor;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></td>
</tr>
</tbody>
</table>
<ul>
<li><a
href="https://www.jmp.com/zh_cn/statistics-knowledge-portal/what-is-correlation.html#404f1893-ae56-43ed-b84c-f6c99f313eca">相关性</a></li>
<li><a
href="https://www.jmp.com/zh_cn/statistics-knowledge-portal/what-is-correlation/correlation-vs-causation.html">相关性与因果关系</a></li>
<li><a
href="https://abego.cn/2019/05/25/%E9%87%8D%E8%A6%81%E7%9B%B8%E5%85%B3%E6%80%A7%E5%88%86%E6%9E%90%E5%A6%82%E4%BD%95%E8%AE%A1%E7%AE%97%E5%92%8C%E7%90%86%E8%A7%A3/">相关性分析如何计算和理解</a></li>
<li><a
href="https://dynamiproject.files.wordpress.com/2016/01/measuring_historic_volatility.pdf">MEASURING
HISTORICAL VOLATILITY</a></li>
<li><a
href="https://www.fmlabs.com/reference/default.htm?url=ExpMA.htm">Exponential
Moving Average</a></li>
<li><a
href="https://bookdown.org/kochiuyu/technical-analysis-with-r-second-edition/exponential-moving-average-ema.html">Exponential
moving average (EMA)</a></li>
<li><a
href="https://www.wiley.com/en-us/Dynamic+Hedging%3A+Managing+Vanilla+and+Exotic+Options-p-9780471152804">Dynamic
Hedging: Managing Vanilla and Exotic Options</a></li>
<li><a
href="https://zh.m.wikipedia.org/wiki/%E6%B3%B0%E5%8B%92%E7%BA%A7%E6%95%B0">泰勒级数</a></li>
<li><a
href="https://quant.stackexchange.com/questions/46194/half-life-of-exponetial-weighted-moving-average">Half
life of Exponetial Weighted Moving Average</a></li>
<li><a
href="https://github.com/dybeta2021/dyblog/tree/main/Volatility%20and%20Correlation">Volatility
and Correlation</a></li>
<li><a
href="https://corporatefinanceinstitute.com/resources/knowledge/finance/beta-coefficient/">Beta
Coefficient</a></li>
<li><a
href="https://blog.codinglabs.org/articles/basic-statistics-calculate.html">期望、方差、协方差及相关系数的基本运算</a></li>
</ul>
]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>Volatility</tag>
        <tag>Correlation</tag>
      </tags>
  </entry>
  <entry>
    <title>Wing-Model Volatility Skew Manager</title>
    <url>/2021/05/24/wing-model/</url>
    <content><![CDATA[<h2 id="wing-model">Wing-Model</h2>
<p>期权隐含波动率的Wing-Model模型是由Orc提供给期权做市商的一套管理波动率的模型，本质上是一个分段的一元二次方程和线性扩展。Wing-Model通过四个区间的端点𝑑𝑐(1
+ 𝑑𝑠𝑚)、𝑑𝑐、𝑢𝑐和𝑢𝑐(1 + 𝑢𝑠𝑚)，将波动率微笑曲线分成六部分。</p>
<p><img src="wing.png" width="100%" height="100%" title="wing" alt="wing"/></p>
<p>wing-model的抛物线拟合部分为分段的一元二次函数，</p>
<p><span class="math display">\[\begin{equation}
\begin{aligned}
vol(x) &amp;= vc + x \times sc + x^2 \times pc \\
vol(x) &amp;= vc + x \times sc + x^2 \times cc
\end{aligned}
\end{equation}\]</span></p>
<p>数据分析显示由于A股listed-option的行权价格较少，一般直接使用二段的抛物线方程拟合即可。国内的一些期权做市软件里面GUI界面嵌的是四段的拟合函数，直接使用dynamic
skew manager的方式拟合平滑曲线，从软件设置里面直接没有构建swimming
skew这些功能。</p>
<hr />
<p>在抛物线(parabola)区间，wing-model的校对函数（方程）为关于<span
class="math inline">\(\mathrm{sc}, \mathrm{pc} /
\mathrm{cc}\)</span>的二元一次线性方程，凸函数存在全局最优化解，光滑区间(smoothing
ranges)同理。</p>
<p>wing-model本质上是一元二次分段函数，wing-model的符号表达式在数值分界点连续、一阶导数连续、二阶导数不连续，由方程式符号表达式即可确定，所以在数值拟合（凸优化求解）过程不需要考虑连续性约束条件设置。</p>
<div class="pdfobject-container" data-target="./piecewise_function.pdf" data-height="500px"></div>
<hr />
<p>Butterfly Arbitrage</p>
<p>根据Jim Gatheral在Arbitrage-free SVI volatility
surfaces提到的无套利观点和算法对wing-model进行公式推导分析</p>
<p>Absence of this arbitrage corresponds to the existence of a
risk-neutral martingale measure and the classical definition of no
static arbitrage, as developed in [12] or [8]. In this section, we
consider only one slice of the implied volatility surface, i.e. the map
<span class="math inline">\(k \to \omega (k, t)\)</span> for a given
fixed maturity <span class="math inline">\(t &gt; 0\)</span>.</p>
<ul>
<li><em>A slice is said to be free of butterfly arbitrage if the
corresponding density is non-negative.</em></li>
</ul>
<p>A slice is free of butterfly arbitrage if and only if <span
class="math inline">\(g(k) \geq 0\)</span> for all <span
class="math inline">\(k \in \mathbb{R}\)</span> and <span
class="math inline">\(\lim_{k \to \infty} d_{+}(k) \to \infty\)</span>
<span class="math display">\[
g(k):=(1-\frac{k\omega&#39;(k)}{2\omega(k)})^2 -
\frac{\omega&#39;(k)^2}{4}(\frac{1}{\omega(k)}+\frac{1}{4})+\frac{\omega&#39;&#39;(k)}{2}
\]</span></p>
<div class="pdfobject-container" data-target="./butterfly_arbitrage.pdf" data-height="500px"></div>
<hr />
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time    : 2020/5/22 11:12 PM</span></span><br><span class="line"><span class="comment"># @Author  : 稻草人</span></span><br><span class="line"><span class="comment"># @contact : dybeta2021@163.com</span></span><br><span class="line"><span class="comment"># @File    : wing_model.py</span></span><br><span class="line"><span class="comment"># @Desc    : orc wing model</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> ndarray, array, arange, zeros, ones, argmin, minimum, maximum, clip</span><br><span class="line"><span class="keyword">from</span> numpy.linalg <span class="keyword">import</span> norm</span><br><span class="line"><span class="keyword">from</span> numpy.random <span class="keyword">import</span> normal</span><br><span class="line"><span class="keyword">from</span> scipy.interpolate <span class="keyword">import</span> interp1d</span><br><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> minimize</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WingModel</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">skew</span>(<span class="params">moneyness: ndarray, vc: <span class="built_in">float</span>, sc: <span class="built_in">float</span>, pc: <span class="built_in">float</span>, cc: <span class="built_in">float</span>, dc: <span class="built_in">float</span>, uc: <span class="built_in">float</span>, dsm: <span class="built_in">float</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">             usm: <span class="built_in">float</span></span>) -&gt; ndarray:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param moneyness: converted strike, moneyness</span></span><br><span class="line"><span class="string">        :param vc:</span></span><br><span class="line"><span class="string">        :param sc:</span></span><br><span class="line"><span class="string">        :param pc:</span></span><br><span class="line"><span class="string">        :param cc:</span></span><br><span class="line"><span class="string">        :param dc:</span></span><br><span class="line"><span class="string">        :param uc:</span></span><br><span class="line"><span class="string">        :param dsm:</span></span><br><span class="line"><span class="string">        :param usm:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">assert</span> -<span class="number">1</span> &lt; dc &lt; <span class="number">0</span></span><br><span class="line">        <span class="keyword">assert</span> dsm &gt; <span class="number">0</span></span><br><span class="line">        <span class="keyword">assert</span> <span class="number">1</span> &gt; uc &gt; <span class="number">0</span></span><br><span class="line">        <span class="keyword">assert</span> usm &gt; <span class="number">0</span></span><br><span class="line">        <span class="keyword">assert</span> <span class="number">1e-6</span> &lt; vc &lt; <span class="number">10</span>  <span class="comment"># 数值优化过程稳定</span></span><br><span class="line">        <span class="keyword">assert</span> -<span class="number">1e6</span> &lt; sc &lt; <span class="number">1e6</span></span><br><span class="line">        <span class="keyword">assert</span> dc * (<span class="number">1</span> + dsm) &lt;= dc &lt;= <span class="number">0</span> &lt;= uc &lt;= uc * (<span class="number">1</span> + usm)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># volatility at this converted strike, vol(x) is then calculated as follows:</span></span><br><span class="line">        vol_list = []</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> moneyness:</span><br><span class="line">            <span class="comment"># volatility at this converted strike, vol(x) is then calculated as follows:</span></span><br><span class="line">            <span class="keyword">if</span> x &lt; dc * (<span class="number">1</span> + dsm):</span><br><span class="line">                vol = vc + dc * (<span class="number">2</span> + dsm) * (sc / <span class="number">2</span>) + (<span class="number">1</span> + dsm) * pc * <span class="built_in">pow</span>(dc, <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">elif</span> dc * (<span class="number">1</span> + dsm) &lt; x &lt;= dc:</span><br><span class="line">                vol = vc - (<span class="number">1</span> + <span class="number">1</span> / dsm) * pc * <span class="built_in">pow</span>(dc, <span class="number">2</span>) - sc * dc / (<span class="number">2</span> * dsm) + (<span class="number">1</span> + <span class="number">1</span> / dsm) * (</span><br><span class="line">                        <span class="number">2</span> * pc * dc + sc) * x - (pc / dsm + sc / (<span class="number">2</span> * dc * dsm)) * <span class="built_in">pow</span>(x, <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">elif</span> dc &lt; x &lt;= <span class="number">0</span>:</span><br><span class="line">                vol = vc + sc * x + pc * <span class="built_in">pow</span>(x, <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">elif</span> <span class="number">0</span> &lt; x &lt;= uc:</span><br><span class="line">                vol = vc + sc * x + cc * <span class="built_in">pow</span>(x, <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">elif</span> uc &lt; x &lt;= uc * (<span class="number">1</span> + usm):</span><br><span class="line">                vol = vc - (<span class="number">1</span> + <span class="number">1</span> / usm) * cc * <span class="built_in">pow</span>(uc, <span class="number">2</span>) - sc * uc / (<span class="number">2</span> * usm) + (<span class="number">1</span> + <span class="number">1</span> / usm) * (</span><br><span class="line">                        <span class="number">2</span> * cc * uc + sc) * x - (cc / usm + sc / (<span class="number">2</span> * uc * usm)) * <span class="built_in">pow</span>(x, <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">elif</span> uc * (<span class="number">1</span> + usm) &lt; x:</span><br><span class="line">                vol = vc + uc * (<span class="number">2</span> + usm) * (sc / <span class="number">2</span>) + (<span class="number">1</span> + usm) * cc * <span class="built_in">pow</span>(uc, <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">raise</span> ValueError(<span class="string">&quot;x value error!&quot;</span>)</span><br><span class="line">            vol_list.append(vol)</span><br><span class="line">        <span class="keyword">return</span> array(vol_list)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loss_skew</span>(<span class="params">cls, params: [<span class="built_in">float</span>, <span class="built_in">float</span>, <span class="built_in">float</span>], x: ndarray, iv: ndarray, vega: ndarray, vc: <span class="built_in">float</span>, dc: <span class="built_in">float</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                  uc: <span class="built_in">float</span>, dsm: <span class="built_in">float</span>, usm: <span class="built_in">float</span></span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param params: sc, pc, cc</span></span><br><span class="line"><span class="string">        :param x:</span></span><br><span class="line"><span class="string">        :param iv:</span></span><br><span class="line"><span class="string">        :param vega:</span></span><br><span class="line"><span class="string">        :param vc:</span></span><br><span class="line"><span class="string">        :param dc:</span></span><br><span class="line"><span class="string">        :param uc:</span></span><br><span class="line"><span class="string">        :param dsm:</span></span><br><span class="line"><span class="string">        :param usm:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        sc, pc, cc = params</span><br><span class="line">        vega = vega / vega.<span class="built_in">max</span>()</span><br><span class="line">        value = cls.skew(x, vc, sc, pc, cc, dc, uc, dsm, usm)</span><br><span class="line">        <span class="keyword">return</span> norm((value - iv) * vega, <span class="built_in">ord</span>=<span class="number">2</span>, keepdims=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calibrate_skew</span>(<span class="params">cls, x: ndarray, iv: ndarray, vega: ndarray, dc: <span class="built_in">float</span> = -<span class="number">0.2</span>, uc: <span class="built_in">float</span> = <span class="number">0.2</span>, dsm: <span class="built_in">float</span> = <span class="number">0.5</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                       usm: <span class="built_in">float</span> = <span class="number">0.5</span>, is_bound_limit: <span class="built_in">bool</span> = <span class="literal">False</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                       epsilon: <span class="built_in">float</span> = <span class="number">1e-16</span>, inter: <span class="built_in">str</span> = <span class="string">&quot;cubic&quot;</span></span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param x: moneyness</span></span><br><span class="line"><span class="string">        :param iv:</span></span><br><span class="line"><span class="string">        :param vega:</span></span><br><span class="line"><span class="string">        :param dc:</span></span><br><span class="line"><span class="string">        :param uc:</span></span><br><span class="line"><span class="string">        :param dsm:</span></span><br><span class="line"><span class="string">        :param usm:</span></span><br><span class="line"><span class="string">        :param is_bound_limit:</span></span><br><span class="line"><span class="string">        :param epsilon:</span></span><br><span class="line"><span class="string">        :param inter: cubic inter</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        vc = interp1d(x, iv, kind=inter, fill_value=<span class="string">&quot;extrapolate&quot;</span>)([<span class="number">0</span>])[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># init guess for sc, pc, cc</span></span><br><span class="line">        <span class="keyword">if</span> is_bound_limit:</span><br><span class="line">            bounds = [(-<span class="number">1e3</span>, <span class="number">1e3</span>), (-<span class="number">1e3</span>, <span class="number">1e3</span>), (-<span class="number">1e3</span>, <span class="number">1e3</span>)]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            bounds = [(<span class="literal">None</span>, <span class="literal">None</span>), (<span class="literal">None</span>, <span class="literal">None</span>), (<span class="literal">None</span>, <span class="literal">None</span>)]</span><br><span class="line">        initial_guess = normal(size=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">        args = (x, iv, vega, vc, dc, uc, dsm, usm)</span><br><span class="line">        residual = minimize(cls.loss_skew, initial_guess, args=args, bounds=bounds, tol=epsilon, method=<span class="string">&quot;SLSQP&quot;</span>)</span><br><span class="line">        <span class="keyword">assert</span> residual.success</span><br><span class="line">        <span class="keyword">return</span> residual.x, residual.fun</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sc</span>(<span class="params">sr: <span class="built_in">float</span>, scr: <span class="built_in">float</span>, ssr: <span class="built_in">float</span>, ref: <span class="built_in">float</span>, atm: ndarray <span class="keyword">or</span> <span class="built_in">float</span></span>) -&gt; ndarray <span class="keyword">or</span> <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="keyword">return</span> sr - scr * ssr * ((atm - ref) / ref)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loss_scr</span>(<span class="params">cls, x: <span class="built_in">float</span>, sr: <span class="built_in">float</span>, ssr: <span class="built_in">float</span>, ref: <span class="built_in">float</span>, atm: ndarray, sc: ndarray</span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="keyword">return</span> norm(sc - cls.sc(sr, x, ssr, ref, atm), <span class="built_in">ord</span>=<span class="number">2</span>, keepdims=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit_scr</span>(<span class="params">cls, sr: <span class="built_in">float</span>, ssr: <span class="built_in">float</span>, ref: <span class="built_in">float</span>, atm: ndarray, sc: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                epsilon: <span class="built_in">float</span> = <span class="number">1e-16</span></span>) -&gt; [<span class="built_in">float</span>, <span class="built_in">float</span>]:</span></span><br><span class="line">        init_value = array([<span class="number">0.01</span>])</span><br><span class="line">        residual = minimize(cls.loss_scr, init_value, args=(sr, ssr, ref, atm, sc), tol=epsilon, method=<span class="string">&quot;SLSQP&quot;</span>)</span><br><span class="line">        <span class="keyword">assert</span> residual.success</span><br><span class="line">        <span class="keyword">return</span> residual.x, residual.fun</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">vc</span>(<span class="params">vr: <span class="built_in">float</span>, vcr: <span class="built_in">float</span>, ssr: <span class="built_in">float</span>, ref: <span class="built_in">float</span>, atm: ndarray <span class="keyword">or</span> <span class="built_in">float</span></span>) -&gt; ndarray <span class="keyword">or</span> <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="keyword">return</span> vr - vcr * ssr * ((atm - ref) / ref)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loss_vc</span>(<span class="params">cls, x: <span class="built_in">float</span>, vr: <span class="built_in">float</span>, ssr: <span class="built_in">float</span>, ref: <span class="built_in">float</span>, atm: ndarray, vc: ndarray</span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="keyword">return</span> norm(vc - cls.vc(vr, x, ssr, ref, atm), <span class="built_in">ord</span>=<span class="number">2</span>, keepdims=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit_vcr</span>(<span class="params">cls, vr: <span class="built_in">float</span>, ssr: <span class="built_in">float</span>, ref: <span class="built_in">float</span>, atm: ndarray, vc: ndarray,</span></span></span><br><span class="line"><span class="params"><span class="function">                epsilon: <span class="built_in">float</span> = <span class="number">1e-16</span></span>) -&gt; [<span class="built_in">float</span>, <span class="built_in">float</span>]:</span></span><br><span class="line">        init_value = array([<span class="number">0.01</span>])</span><br><span class="line">        residual = minimize(cls.loss_vc, init_value, args=(vr, ssr, ref, atm, vc), tol=epsilon, method=<span class="string">&quot;SLSQP&quot;</span>)</span><br><span class="line">        <span class="keyword">assert</span> residual.success</span><br><span class="line">        <span class="keyword">return</span> residual.x, residual.fun</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wing</span>(<span class="params">cls, x: ndarray, ref: <span class="built_in">float</span>, atm: <span class="built_in">float</span>, vr: <span class="built_in">float</span>, vcr: <span class="built_in">float</span>, sr: <span class="built_in">float</span>, scr: <span class="built_in">float</span>, ssr: <span class="built_in">float</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">             pc: <span class="built_in">float</span>, cc: <span class="built_in">float</span>, dc: <span class="built_in">float</span>, uc: <span class="built_in">float</span>, dsm: <span class="built_in">float</span>, usm: <span class="built_in">float</span></span>) -&gt; ndarray:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        wing model</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param x:</span></span><br><span class="line"><span class="string">        :param ref:</span></span><br><span class="line"><span class="string">        :param atm:</span></span><br><span class="line"><span class="string">        :param vr:</span></span><br><span class="line"><span class="string">        :param vcr:</span></span><br><span class="line"><span class="string">        :param sr:</span></span><br><span class="line"><span class="string">        :param scr:</span></span><br><span class="line"><span class="string">        :param ssr:</span></span><br><span class="line"><span class="string">        :param pc:</span></span><br><span class="line"><span class="string">        :param cc:</span></span><br><span class="line"><span class="string">        :param dc:</span></span><br><span class="line"><span class="string">        :param uc:</span></span><br><span class="line"><span class="string">        :param dsm:</span></span><br><span class="line"><span class="string">        :param usm:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        vc = cls.vc(vr, vcr, ssr, ref, atm)</span><br><span class="line">        sc = cls.sc(sr, scr, ssr, ref, atm)</span><br><span class="line">        <span class="keyword">return</span> cls.skew(x, vc, sc, pc, cc, dc, uc, dsm, usm)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArbitrageFreeWingModel</span>(<span class="params">WingModel</span>):</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calibrate</span>(<span class="params">cls, x: ndarray, iv: ndarray, vega: ndarray, dc: <span class="built_in">float</span> = -<span class="number">0.2</span>, uc: <span class="built_in">float</span> = <span class="number">0.2</span>, dsm: <span class="built_in">float</span> = <span class="number">0.5</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                  usm: <span class="built_in">float</span> = <span class="number">0.5</span>, is_bound_limit: <span class="built_in">bool</span> = <span class="literal">False</span>, epsilon: <span class="built_in">float</span> = <span class="number">1e-16</span>, inter: <span class="built_in">str</span> = <span class="string">&quot;cubic&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                  level: <span class="built_in">float</span> = <span class="number">0</span>, method: <span class="built_in">str</span> = <span class="string">&quot;SLSQP&quot;</span>, epochs: <span class="built_in">int</span> = <span class="literal">None</span>, show_error: <span class="built_in">bool</span> = <span class="literal">False</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                  use_constraints: <span class="built_in">bool</span> = <span class="literal">False</span></span>) -&gt; ([<span class="built_in">float</span>, <span class="built_in">float</span>, <span class="built_in">float</span>], <span class="built_in">float</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param x:</span></span><br><span class="line"><span class="string">        :param iv:</span></span><br><span class="line"><span class="string">        :param vega:</span></span><br><span class="line"><span class="string">        :param dc:</span></span><br><span class="line"><span class="string">        :param uc:</span></span><br><span class="line"><span class="string">        :param dsm:</span></span><br><span class="line"><span class="string">        :param usm:</span></span><br><span class="line"><span class="string">        :param is_bound_limit:</span></span><br><span class="line"><span class="string">        :param epsilon:</span></span><br><span class="line"><span class="string">        :param inter:</span></span><br><span class="line"><span class="string">        :param level:</span></span><br><span class="line"><span class="string">        :param method:</span></span><br><span class="line"><span class="string">        :param epochs:</span></span><br><span class="line"><span class="string">        :param show_error:</span></span><br><span class="line"><span class="string">        :param use_constraints:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        vega = clip(vega, <span class="number">1e-6</span>, <span class="number">1e6</span>)</span><br><span class="line">        iv = clip(iv, <span class="number">1e-6</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># init guess for sc, pc, cc</span></span><br><span class="line">        <span class="keyword">if</span> is_bound_limit:</span><br><span class="line">            bounds = [(-<span class="number">1e3</span>, <span class="number">1e3</span>), (-<span class="number">1e3</span>, <span class="number">1e3</span>), (-<span class="number">1e3</span>, <span class="number">1e3</span>)]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            bounds = [(<span class="literal">None</span>, <span class="literal">None</span>), (<span class="literal">None</span>, <span class="literal">None</span>), (<span class="literal">None</span>, <span class="literal">None</span>)]</span><br><span class="line"></span><br><span class="line">        vc = interp1d(x, iv, kind=inter, fill_value=<span class="string">&quot;extrapolate&quot;</span>)([<span class="number">0</span>])[<span class="number">0</span>]</span><br><span class="line">        constraints = <span class="built_in">dict</span>(<span class="built_in">type</span>=<span class="string">&#x27;ineq&#x27;</span>, fun=partial(cls.constraints, args=(x, vc, dc, uc, dsm, usm), level=level))</span><br><span class="line">        args = (x, iv, vega, vc, dc, uc, dsm, usm)</span><br><span class="line">        <span class="keyword">if</span> epochs <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">if</span> use_constraints:</span><br><span class="line">                residual = minimize(cls.loss_skew, normal(size=<span class="number">3</span>), args=args, bounds=bounds, constraints=constraints,</span><br><span class="line">                                    tol=epsilon, method=method)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                residual = minimize(cls.loss_skew, normal(size=<span class="number">3</span>), args=args, bounds=bounds, tol=epsilon, method=method)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> residual.success:</span><br><span class="line">                sc, pc, cc = residual.x</span><br><span class="line">                arbitrage_free = cls.check_butterfly_arbitrage(sc, pc, cc, dc, dsm, uc, usm, x, vc)</span><br><span class="line">                <span class="keyword">return</span> residual.x, residual.fun, arbitrage_free</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                epochs = <span class="number">10</span></span><br><span class="line">                <span class="keyword">if</span> show_error:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&quot;calibrate wing-model wrong, use epochs = 10 to find params! params: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(residual.x))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> epochs <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            params = zeros([epochs, <span class="number">3</span>])</span><br><span class="line">            loss = ones([epochs, <span class="number">1</span>])</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(epochs):</span><br><span class="line">                <span class="keyword">if</span> use_constraints:</span><br><span class="line">                    residual = minimize(cls.loss_skew, normal(size=<span class="number">3</span>), args=args, bounds=bounds,</span><br><span class="line">                                        constraints=constraints,</span><br><span class="line">                                        tol=epsilon, method=<span class="string">&quot;SLSQP&quot;</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    residual = minimize(cls.loss_skew, normal(size=<span class="number">3</span>), args=args, bounds=bounds, tol=epsilon,</span><br><span class="line">                                        method=<span class="string">&quot;SLSQP&quot;</span>)</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> residual.success <span class="keyword">and</span> show_error:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&quot;calibrate wing-model wrong, wrong @ &#123;&#125; /10! params: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(i, residual.x))</span><br><span class="line">                params[i] = residual.x</span><br><span class="line">                loss[i] = residual.fun</span><br><span class="line">            min_idx = argmin(loss)</span><br><span class="line">            sc, pc, cc = params[min_idx]</span><br><span class="line">            loss = loss[min_idx][<span class="number">0</span>]</span><br><span class="line">            arbitrage_free = cls.check_butterfly_arbitrage(sc, pc, cc, dc, dsm, uc, usm, x, vc)</span><br><span class="line">            <span class="keyword">return</span> (sc, pc, cc), loss, arbitrage_free</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">constraints</span>(<span class="params">cls, x: [<span class="built_in">float</span>, <span class="built_in">float</span>, <span class="built_in">float</span>], args: [ndarray, <span class="built_in">float</span>, <span class="built_in">float</span>, <span class="built_in">float</span>, <span class="built_in">float</span>, <span class="built_in">float</span>],</span></span></span><br><span class="line"><span class="params"><span class="function">                    level: <span class="built_in">float</span> = <span class="number">0</span></span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;蝶式价差无套利约束</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param x: guess values, sc, pc, cc</span></span><br><span class="line"><span class="string">        :param args:</span></span><br><span class="line"><span class="string">        :param level:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        sc, pc, cc = x</span><br><span class="line">        moneyness, vc, dc, uc, dsm, usm = args</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> level == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">elif</span> level == <span class="number">1</span>:</span><br><span class="line">            moneyness = arange(-<span class="number">1</span>, <span class="number">1.01</span>, <span class="number">0.01</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            moneyness = arange(-<span class="number">1</span>, <span class="number">1.001</span>, <span class="number">0.001</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cls.check_butterfly_arbitrage(sc, pc, cc, dc, dsm, uc, usm, moneyness, vc)</span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;&quot;&quot;蝶式价差无套利约束条件</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">left_parabolic</span>(<span class="params">sc: <span class="built_in">float</span>, pc: <span class="built_in">float</span>, x: <span class="built_in">float</span>, vc: <span class="built_in">float</span></span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param sc:</span></span><br><span class="line"><span class="string">        :param pc:</span></span><br><span class="line"><span class="string">        :param x:</span></span><br><span class="line"><span class="string">        :param vc:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> pc - <span class="number">0.25</span> * (sc + <span class="number">2</span> * pc * x) ** <span class="number">2</span> * (<span class="number">0.25</span> + <span class="number">1</span> / (vc + sc * x + pc * x * x)) + (</span><br><span class="line">                <span class="number">1</span> - <span class="number">0.5</span> * x * (sc + <span class="number">2</span> * pc * x) / (vc + sc * x + pc * x * x)) ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">right_parabolic</span>(<span class="params">sc: <span class="built_in">float</span>, cc: <span class="built_in">float</span>, x: <span class="built_in">float</span>, vc: <span class="built_in">float</span></span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param sc:</span></span><br><span class="line"><span class="string">        :param cc:</span></span><br><span class="line"><span class="string">        :param x:</span></span><br><span class="line"><span class="string">        :param vc:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> cc - <span class="number">0.25</span> * (sc + <span class="number">2</span> * cc * x) ** <span class="number">2</span> * (<span class="number">0.25</span> + <span class="number">1</span> / (vc + sc * x + cc * x * x)) + (</span><br><span class="line">                <span class="number">1</span> - <span class="number">0.5</span> * x * (sc + <span class="number">2</span> * cc * x) / (vc + sc * x + cc * x * x)) ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">left_smoothing_range</span>(<span class="params">sc: <span class="built_in">float</span>, pc: <span class="built_in">float</span>, dc: <span class="built_in">float</span>, dsm: <span class="built_in">float</span>, x: <span class="built_in">float</span>, vc: <span class="built_in">float</span></span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        a = - pc / dsm - <span class="number">0.5</span> * sc / (dc * dsm)</span><br><span class="line"></span><br><span class="line">        b1 = -<span class="number">0.25</span> * ((<span class="number">1</span> + <span class="number">1</span> / dsm) * (<span class="number">2</span> * dc * pc + sc) - <span class="number">2</span> * (pc / dsm + <span class="number">0.5</span> * sc / (dc * dsm)) * x) ** <span class="number">2</span></span><br><span class="line">        b2 = -dc ** <span class="number">2</span> * (<span class="number">1</span> + <span class="number">1</span> / dsm) * pc - <span class="number">0.5</span> * dc * sc / dsm + vc + (<span class="number">1</span> + <span class="number">1</span> / dsm) * (<span class="number">2</span> * dc * pc + sc) * x - (</span><br><span class="line">                pc / dsm + <span class="number">0.5</span> * sc / (dc * dsm)) * x ** <span class="number">2</span></span><br><span class="line">        b2 = (<span class="number">0.25</span> + <span class="number">1</span> / b2)</span><br><span class="line">        b = b1 * b2</span><br><span class="line"></span><br><span class="line">        c1 = x * ((<span class="number">1</span> + <span class="number">1</span> / dsm) * (<span class="number">2</span> * dc * pc + sc) - <span class="number">2</span> * (pc / dsm + <span class="number">0.5</span> * sc / (dc * dsm)) * x)</span><br><span class="line">        c2 = <span class="number">2</span> * (-dc ** <span class="number">2</span> * (<span class="number">1</span> + <span class="number">1</span> / dsm) * pc - <span class="number">0.5</span> * dc * sc / dsm + vc + (<span class="number">1</span> + <span class="number">1</span> / dsm) * (<span class="number">2</span> * dc * pc + sc) * x - (</span><br><span class="line">                pc / dsm + <span class="number">0.5</span> * sc / (dc * dsm)) * x ** <span class="number">2</span>)</span><br><span class="line">        c = (<span class="number">1</span> - c1 / c2) ** <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> a + b + c</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">right_smoothing_range</span>(<span class="params">sc: <span class="built_in">float</span>, cc: <span class="built_in">float</span>, uc: <span class="built_in">float</span>, usm: <span class="built_in">float</span>, x: <span class="built_in">float</span>, vc: <span class="built_in">float</span></span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        a = - cc / usm - <span class="number">0.5</span> * sc / (uc * usm)</span><br><span class="line"></span><br><span class="line">        b1 = -<span class="number">0.25</span> * ((<span class="number">1</span> + <span class="number">1</span> / usm) * (<span class="number">2</span> * uc * cc + sc) - <span class="number">2</span> * (cc / usm + <span class="number">0.5</span> * sc / (uc * usm)) * x) ** <span class="number">2</span></span><br><span class="line">        b2 = -uc ** <span class="number">2</span> * (<span class="number">1</span> + <span class="number">1</span> / usm) * cc - <span class="number">0.5</span> * uc * sc / usm + vc + (<span class="number">1</span> + <span class="number">1</span> / usm) * (<span class="number">2</span> * uc * cc + sc) * x - (</span><br><span class="line">                cc / usm + <span class="number">0.5</span> * sc / (uc * usm)) * x ** <span class="number">2</span></span><br><span class="line">        b2 = (<span class="number">0.25</span> + <span class="number">1</span> / b2)</span><br><span class="line">        b = b1 * b2</span><br><span class="line"></span><br><span class="line">        c1 = x * ((<span class="number">1</span> + <span class="number">1</span> / usm) * (<span class="number">2</span> * uc * cc + sc) - <span class="number">2</span> * (cc / usm + <span class="number">0.5</span> * sc / (uc * usm)) * x)</span><br><span class="line">        c2 = <span class="number">2</span> * (-uc ** <span class="number">2</span> * (<span class="number">1</span> + <span class="number">1</span> / usm) * cc - <span class="number">0.5</span> * uc * sc / usm + vc + (<span class="number">1</span> + <span class="number">1</span> / usm) * (<span class="number">2</span> * uc * cc + sc) * x - (</span><br><span class="line">                cc / usm + <span class="number">0.5</span> * sc / (uc * usm)) * x ** <span class="number">2</span>)</span><br><span class="line">        c = (<span class="number">1</span> - c1 / c2) ** <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> a + b + c</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">left_constant_level</span>() -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">right_constant_level</span>() -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_check_butterfly_arbitrage</span>(<span class="params">cls, sc: <span class="built_in">float</span>, pc: <span class="built_in">float</span>, cc: <span class="built_in">float</span>, dc: <span class="built_in">float</span>, dsm: <span class="built_in">float</span>, uc: <span class="built_in">float</span>, usm: <span class="built_in">float</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                                   x: <span class="built_in">float</span>, vc: <span class="built_in">float</span></span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;检查是否存在蝶式价差套利机会，确保拟合time-slice iv-curve 是无套利（无蝶式价差静态套利）曲线</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param sc:</span></span><br><span class="line"><span class="string">        :param pc:</span></span><br><span class="line"><span class="string">        :param cc:</span></span><br><span class="line"><span class="string">        :param dc:</span></span><br><span class="line"><span class="string">        :param dsm:</span></span><br><span class="line"><span class="string">        :param uc:</span></span><br><span class="line"><span class="string">        :param usm:</span></span><br><span class="line"><span class="string">        :param x:</span></span><br><span class="line"><span class="string">        :param vc:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># if x &lt; dc * (1 + dsm):</span></span><br><span class="line">        <span class="comment">#     return cls.left_constant_level()</span></span><br><span class="line">        <span class="comment"># elif dc * (1 + dsm) &lt; x &lt;= dc:</span></span><br><span class="line">        <span class="comment">#     return cls.left_smoothing_range(sc, pc, dc, dsm, x, vc)</span></span><br><span class="line">        <span class="comment"># elif dc &lt; x &lt;= 0:</span></span><br><span class="line">        <span class="comment">#     return cls.left_parabolic(sc, pc, x, vc)</span></span><br><span class="line">        <span class="comment"># elif 0 &lt; x &lt;= uc:</span></span><br><span class="line">        <span class="comment">#     return cls.right_parabolic(sc, cc, x, vc)</span></span><br><span class="line">        <span class="comment"># elif uc &lt; x &lt;= uc * (1 + usm):</span></span><br><span class="line">        <span class="comment">#     return cls.right_smoothing_range(sc, cc, uc, usm, x, vc)</span></span><br><span class="line">        <span class="comment"># elif uc * (1 + usm) &lt; x:</span></span><br><span class="line">        <span class="comment">#     return cls.right_constant_level()</span></span><br><span class="line">        <span class="comment"># else:</span></span><br><span class="line">        <span class="comment">#     raise ValueError(&quot;x value error!&quot;)</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> dc &lt; x &lt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> cls.left_parabolic(sc, pc, x, vc)</span><br><span class="line">        <span class="keyword">elif</span> <span class="number">0</span> &lt; x &lt;= uc:</span><br><span class="line">            <span class="keyword">return</span> cls.right_parabolic(sc, cc, x, vc)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">check_butterfly_arbitrage</span>(<span class="params">cls, sc: <span class="built_in">float</span>, pc: <span class="built_in">float</span>, cc: <span class="built_in">float</span>, dc: <span class="built_in">float</span>, dsm: <span class="built_in">float</span>, uc: <span class="built_in">float</span>, usm: <span class="built_in">float</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                                  moneyness: ndarray, vc: <span class="built_in">float</span></span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param sc:</span></span><br><span class="line"><span class="string">        :param pc:</span></span><br><span class="line"><span class="string">        :param cc:</span></span><br><span class="line"><span class="string">        :param dc:</span></span><br><span class="line"><span class="string">        :param dsm:</span></span><br><span class="line"><span class="string">        :param uc:</span></span><br><span class="line"><span class="string">        :param usm:</span></span><br><span class="line"><span class="string">        :param moneyness:</span></span><br><span class="line"><span class="string">        :param vc:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        con_arr = []</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> moneyness:</span><br><span class="line">            con_arr.append(cls._check_butterfly_arbitrage(sc, pc, cc, dc, dsm, uc, usm, x, vc))</span><br><span class="line">        con_arr = array(con_arr)</span><br><span class="line">        <span class="keyword">if</span> (con_arr &gt;= <span class="number">0</span>).<span class="built_in">all</span>():</span><br><span class="line">            <span class="keyword">return</span> minimum(con_arr.mean(), <span class="number">1e-7</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> maximum((con_arr[con_arr &lt; <span class="number">0</span>]).mean(), -<span class="number">1e-7</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="参考">参考</h2>
<ul>
<li><a
href="http://gb.oversea.cnki.net/KCMS/detail/detailall.aspx?filename=1018782195.nh&amp;dbcode=CMFD&amp;dbname=CMFDREF">上证50ETF期权隐含波动率曲面的构建与参数校准</a></li>
<li><a href="https://arxiv.org/pdf/1204.0646.pdf">Arbitrage-free SVI
volatility surfaces</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/406510913">波动率模型（1）Wing
Model</a></li>
</ul>
]]></content>
      <categories>
        <category>Option</category>
      </categories>
      <tags>
        <tag>ivs</tag>
        <tag>Volatility-Skew</tag>
        <tag>Arbitrage-Free</tag>
      </tags>
  </entry>
  <entry>
    <title>XLW - A Wrapper for the Excel API</title>
    <url>/2021/11/05/xlw/</url>
    <content><![CDATA[<p>创建空项目
<img src="image-20211105170900413.png" width="100%" height="100%" title="create" alt="create"/>
选择Debug x64模式<br />
项目、管理NuGet程序包、安装xlw，包括预览发行版</p>
<p><img src="image-20211105171119124.png" width="100%" height="100%" title="xlw" alt="xlw"/>
安装xll之后，调整生成类型为dll</p>
<p><img src="image-20211105171324455.png" width="100%" height="100%" title="dll" alt="dll"/>
点击生成xll。</p>
<p>添加自定义函数</p>
<p>在头文件<code>cppinterface.h</code>内声明，
在<code>source.cpp</code>定义函数</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//bool otskv_init_shmdb(std::string db_path, const int key_count, const int value_size);</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">otskv_set_double</span><span class="params">(<span class="keyword">const</span> std::string k, <span class="keyword">const</span> <span class="keyword">double</span> v)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">otskv_get_double</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> tm, <span class="keyword">const</span> std::string k)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">otskv_set_string</span><span class="params">(<span class="keyword">const</span> std::string k, <span class="keyword">const</span> std::string v)</span></span>;</span><br><span class="line"><span class="function">std::string <span class="title">otskv_get_string</span><span class="params">(<span class="keyword">const</span> std::string&amp; k)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">otskv_init_shmdb</span><span class="params">(<span class="keyword">const</span> std::string db_path, <span class="keyword">const</span> <span class="keyword">int</span> key_count, <span class="keyword">const</span> <span class="keyword">int</span> value_size)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = shmdb::<span class="built_in">init</span>(db_path, key_count, value_size, <span class="literal">true</span>, <span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">if</span> (ret != <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">otskv_set_string</span><span class="params">(<span class="keyword">const</span> std::string k, <span class="keyword">const</span> std::string v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">pupa_str_t</span> key, value;</span><br><span class="line">    key.len = <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(k.<span class="built_in">length</span>());</span><br><span class="line">    key.data = <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span>*&gt;(k.<span class="built_in">c_str</span>());</span><br><span class="line">    value.len = <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(v.<span class="built_in">length</span>());</span><br><span class="line">    value.data = <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span>*&gt;(v.<span class="built_in">c_str</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="built_in">pupa_set</span>(&amp;key, &amp;value);</span><br><span class="line">    <span class="keyword">if</span> (ret != PUPA_OK) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Failed to set %.*s.\n&quot;</span>, key.len, key.data);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">std::string <span class="title">otskv_get_string</span><span class="params">(<span class="keyword">const</span> std::string&amp; k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">pupa_str_t</span> key, value;</span><br><span class="line">    key.len = <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(k.<span class="built_in">length</span>());</span><br><span class="line">    key.data = <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span>*&gt;(k.<span class="built_in">c_str</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="built_in">pupa_get</span>(&amp;key, &amp;value);</span><br><span class="line">    <span class="keyword">if</span> (ret != PUPA_OK) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;null&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    std::string v = value.data;</span><br><span class="line">    <span class="keyword">return</span> v;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">otskv_get_double</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> tm, <span class="keyword">const</span> std::string k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!db_state) &#123;</span><br><span class="line">        <span class="keyword">bool</span> ret = <span class="built_in">otskv_init_shmdb</span>(db_path, <span class="number">1024</span>, <span class="number">128</span>);</span><br><span class="line">        db_state = ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pupa_str_t</span> key, value;</span><br><span class="line">    key.len = <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(k.<span class="built_in">length</span>());</span><br><span class="line">    key.data = <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span>*&gt;(k.<span class="built_in">c_str</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="built_in">pupa_get</span>(&amp;key, &amp;value);</span><br><span class="line">    <span class="keyword">if</span> (ret != PUPA_OK) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-999</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    std::string v = value.data;</span><br><span class="line">    <span class="keyword">double</span> num_double = std::<span class="built_in">stod</span>(v);</span><br><span class="line">    <span class="keyword">return</span> num_double;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">otskv_set_double</span><span class="params">(<span class="keyword">const</span> std::string k, <span class="keyword">const</span> <span class="keyword">double</span> v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">pupa_str_t</span> key, value;</span><br><span class="line">    key.len = <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(k.<span class="built_in">length</span>());</span><br><span class="line">    key.data = <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span>*&gt;(k.<span class="built_in">c_str</span>());</span><br><span class="line"></span><br><span class="line">    std::string s_v = std::<span class="built_in">to_string</span>(v);</span><br><span class="line">    value.len = <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(s_v.<span class="built_in">length</span>());</span><br><span class="line">    value.data = <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span>*&gt;(s_v.<span class="built_in">c_str</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="built_in">pupa_set</span>(&amp;key, &amp;value);</span><br><span class="line">    <span class="keyword">if</span> (ret != PUPA_OK) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Failed to set %.*s.\n&quot;</span>, key.len, key.data);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>生成xll之后，在Excel 开发工具、Excel加载项载入即可使用
<img src="image-20211105171708055.png" width="100%" height="100%" title="excel demo" alt="excel demo"/></p>
<hr />
<ul>
<li><p><a href="http://xlw.sourceforge.net/">XLW - A Wrapper for the
Excel API</a></p></li>
<li><p><a href="https://github.com/xlw/xlw">xlw</a></p></li>
<li><p><a
href="https://stackoverflow.com/questions/40199060/ms-excel-how-to-refresh-a-cell-automatically-every-5-seconds">MS
Excel - How to refresh a cell automatically every 5
seconds?</a></p></li>
<li><p><a
href="https://stackoverflow.com/questions/375552/how-do-i-call-an-xll-addin-function-from-vba">How
do I call an xll addin function from vba?</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=k0V6nvWjMnI">Creating a
C++ XLL for Excel with XLW (https://xlw.github.io)</a></p></li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Excel</tag>
      </tags>
  </entry>
  <entry>
    <title>(转载)新游侠列传</title>
    <url>/2021/08/14/master/</url>
    <content><![CDATA[<p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> 新游侠列传</span><br><span class="line"></span><br><span class="line">                          作者：陈阵（陈毅聪）</span><br><span class="line"></span><br><span class="line">                                  自序</span><br><span class="line"></span><br><span class="line">    我从小喜欢武侠小说，尤其是金庸的作品。</span><br><span class="line"></span><br><span class="line">    金庸的十五部小说中，《越女剑》、《碧血剑》、《鸳鸯刀》较次。《碧血剑》</span><br><span class="line">开头夏青青个性鲜明，后来让位于阿九与何惕守。这也许是二人又在《鹿鼎记》中</span><br><span class="line">出现的原因。《鹿》口碑极佳，我拥护。只是它篇幅长，有些情节游离在外。才气、</span><br><span class="line">想象力及其后期文风的副产品？瑕不掩瑜。</span><br><span class="line"></span><br><span class="line">    我偏爱他后期作品， 如《天龙八部》 、《笑傲江湖》、《倚天屠龙记》等。</span><br><span class="line">《连城诀》短而精，从容深远。（因此它不叫《素心剑》？我以为金庸小说中，书</span><br><span class="line">名带了“刀、剑”字样的，档次稍低。）《神雕侠侣》中杨过的个性描写，窃以为</span><br><span class="line">前无古人、后无来者。只有蒙冤的令孤冲及无忌的赵敏堪与之比拟。他们是一个时</span><br><span class="line">代。</span><br><span class="line"></span><br><span class="line">    对于金庸，看过他的书越多，评价越高。古龙正相反，其作品水平参差不齐，</span><br><span class="line">略有重复。他不长于长篇，下笔似乎漫不经心（天马行空），错漏多。不同的主人</span><br><span class="line">公间性格少有变化。爱情描写有时一塌胡涂。他的好处在于新奇。有些卡通化的倾</span><br><span class="line">向。《无情剑》、《七杀手》、《大旗英雄传》、《七种武器》，以及楚留香、陆</span><br><span class="line">小凤系列可谓上品。《绝代双娇》有些虎头蛇尾。</span><br><span class="line"></span><br><span class="line">    温瑞安有四大名捕系列、《白衣方振眉》足以传世。《大侠传奇》、《说英雄、</span><br><span class="line">谁是大英雄》书名比内容高明。</span><br><span class="line"></span><br><span class="line">    如今金庸、梁羽生封笔，古龙早逝。温瑞安笔下的主人公一旦开帮结社，我就</span><br><span class="line">忍不住希翼这位年少成名的“大侠”重入台北监狱，以便他追寻灵感，以便惩诫其</span><br><span class="line">政结、恶习。幸好，名捕是吃公门饭的，不可以另立山头。</span><br><span class="line"></span><br><span class="line">    九十年代以来，武侠小说不景气。大陆有“平成的泡沫”，伪作、劣作充斥坊</span><br><span class="line">间。所以武侠小说名声不太好，不少文人口诛笔伐。其实，拿纯文学定义的名著与</span><br><span class="line">之作比，极不公平。后者也有自己的名著！</span><br><span class="line"></span><br><span class="line">    一方面，武侠小说不好写，此辈中人少；另一方面，人们很喜欢它。伪劣之作</span><br><span class="line">应运而生。所以有志之士应该参与，克服浅薄轻浮、急功近利之流弊，努力写出好</span><br><span class="line">作品。一部好作品可能打动人心，有所启发，却不太可能似当头棒喝，改变、改造</span><br><span class="line">人的思想，一劳永逸。倘若书能吸引人读，使其养成阅读的习惯；且未劝人为恶，</span><br><span class="line">没有混淆是非，即可谓积了些许功德。书的功用不一定是教育，也可以是娱乐。</span><br><span class="line"></span><br><span class="line">    在考虑写作内容之前，书名便定为《新游侠列传》。《史记》中我更爱《刺客</span><br><span class="line">列传》。朱家、郭解在后世看来更似豪强，实为一蠹。</span><br><span class="line"></span><br><span class="line">    太史公序曰：“今游侠，其行虽不轨于正义，然其言必信，其行必果，己诺必</span><br><span class="line">诚，不爱其躯，赴士之厄困。”如此定义，时之刺客有何别于游侠？我先于《燕丹</span><br><span class="line">子》中知曲、田、荆、樊、高诸人事，后再观《史记》，仍不免扼腕长叹。</span><br><span class="line"></span><br><span class="line">    少时读《古文观止》头几十篇散文，不胜仰慕其文其事。我很佩服智伯瑶的刺</span><br><span class="line">客。刺客不适合大一统的时代，故而后来只在唐季藩镇割据时还红火了一阵。如红</span><br><span class="line">线、聂隐娘。（见金庸《三十三剑侠图》，或《古今传奇选》、《唐宋传奇选》。）</span><br><span class="line">侠客们则薪传相续，但也渐失先秦慷慨之风。安吏之乱中的南霁云较为悲壮。梁羽</span><br><span class="line">生的《大唐游侠传》中，这个形象刻划不够。</span><br><span class="line"></span><br><span class="line">    《搜神记》中的《干将莫邪》感人至深。后世鬼怪不少，激烈不如。公案小说</span><br><span class="line">是盼不到侠客的产物，法制稍有完善的反映。《三侠五义》非史亦非传说，是一大</span><br><span class="line">进步。但我不太喜欢。</span><br><span class="line"></span><br><span class="line">    世俗化并非坏事。与官府勾结的描述民国后渐少。五十年代以来，前辈作家推</span><br><span class="line">出了新派武侠小说。此后，游侠的形象层出不穷，定义不断变化。对其人格品质更</span><br><span class="line">不苛求。</span><br><span class="line"></span><br><span class="line">    武侠小说是否先武后侠、重武轻侠？游侠不一定要“游”，自古许之；侠不一</span><br><span class="line">定“轻生重义”？相信会有异议。侠如柳毅般，“犯之者不避其死，感之者不爱其</span><br><span class="line">生”？或者，爱其躯而轨于正义？或如黄侃所言，“为国民发愤，有为鸱枭于百姓</span><br><span class="line">者，则利剑刺之，可以得志”？这样算“国殇”，还是“无政府主义”？拔到了一</span><br><span class="line">定的高度，还是跌入仅有匹夫之勇，天真、不明世事的深渊？我不知道。但我怀念</span><br><span class="line">春秋、 战国、 秦汉。也许，广义的游侠是有个性、有事迹的非坏人，仅此而已。</span><br><span class="line">《新游侠列传》的“新”字意义俱在于此。</span><br><span class="line"></span><br><span class="line">    金庸封笔之作《鹿鼎记》是划时代的巨著。韦小宝算不上侠士，也不大会武功。</span><br><span class="line">我不自觉地拿他比“包公”。通过他俩，我们记住了展昭，也记下了陈近南、吴六</span><br><span class="line">奇、舒化龙。也许，武侠小说以“武”增加可读性，以“侠”寓精神，题材可以多</span><br><span class="line">变，重心可以转移，褒贬倾向不能丢。好人有时会做不成事，做坏事。人，只要求</span><br><span class="line">其非坏人足矣，可以有私心。有容乃大！韦小宝小心地避免了明显地欺负、迫害好</span><br><span class="line">人。他顺手做了不少好事。故是为侠行。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">            引子</span><br><span class="line"></span><br><span class="line">    ——有这样一位刺客，为主子报仇去暗杀一位贤者。他试了不少次，吃了不少</span><br><span class="line">苦头，终未能得手。每次贤者都饶了他的性命，放走他。最后，他请贤者脱袍。挥</span><br><span class="line">剑砍袍，自尽。</span><br><span class="line"></span><br><span class="line">    ——姐弟二人相依为命。 弟杀人， 怕牵连其姐而毁容自尽。姐闻之，哭曰：</span><br><span class="line">“必是吾弟。”前视道：“必彰显其名也。”扑尸自尽。</span><br><span class="line"></span><br><span class="line">    ——有位书生不远千里替一位穷而不美的妇女送信，好让其家人前去搭</span><br><span class="line">救。女子因而出火炕。这时，书生发觉她实际上极美，其家极富。但当言及嫁此女</span><br><span class="line">于他时，一口回绝。</span><br><span class="line"></span><br><span class="line">    女方叔父大怒。书生害怕，却未屈从。事后他很后悔，因为他亦贪恋那女子的</span><br><span class="line">美色。</span><br><span class="line"></span><br><span class="line">    ——有个妓女，人称惑主亡国、挥金如土。于外来侵占者慕名索之时，脱金簪</span><br><span class="line">自刺其喉，不死，折而吞之，乃死。</span><br><span class="line"></span><br><span class="line">    长天静，陇水人，以“抱影绵掌”、“急雨狂花剑”名满江湖，为当世十大剑</span><br><span class="line">术名家之一，“黄金榜”上的人物。</span><br><span class="line"></span><br><span class="line">    独孤寒心知自己武功不如，却有必胜的信心。</span><br><span class="line"></span><br><span class="line">    单衣利刃，两人择地比试。油菜花漫山遍野，黄得可爱，绿得可亲。独孤寒躲</span><br><span class="line">过一招“万壑千岩”已极狼狈。随后，当长天静使出“一簇烟村，数行霜树，断鸿</span><br><span class="line">声远长天暮”的成名绝招时，他已无力阻挡。眼前清辉点点……。</span><br><span class="line"></span><br><span class="line">    右肩中创，长剑脱手，剧疼，似乎臂膀已经不在了。独孤寒想也不想，不及去</span><br><span class="line">想，沉肩侧身，一脚踢在正下坠的剑柄。长剑翻空划弧，钉入长天静胸口。</span><br><span class="line"></span><br><span class="line">    这一着极为古怪，他未料一击得手。平生罕逢的强敌，平生未有的失控一剑，</span><br><span class="line">淋漓尽至的创意发挥。</span><br><span class="line"></span><br><span class="line">    他看到长天静临死的神情，吃惊、后悔、愤怒……。长天静绝非坏人，</span><br><span class="line">也算不上什么好人。他是普通人，多数人之一。但他的剑法不普通，不</span><br><span class="line">少人称其直追当年的“剑圣”曹之其。</span><br><span class="line"></span><br><span class="line">    “黄金榜”之“刻舟求剑”将他排在天下剑术第十位。</span><br><span class="line"></span><br><span class="line">    也许长天静并不想卸下独孤寒的肩膀，手下留情了。他上有高堂老母，下有娇</span><br><span class="line">妻爱子。他不该死。孤寒不否认自己无意杀之。但他很坦然，欣赏自个踢出的那一</span><br><span class="line">剑。虽然，这是他第一次杀人。</span><br><span class="line"></span><br><span class="line">    他良心释然，不投案、不自尽，不会不格挡长绛河的剑。</span><br><span class="line"></span><br><span class="line">长绛河不到二十岁，是长天静的独子。他心中充满了仇恨，纵使面对着</span><br><span class="line">岑寂。岑寂不是武林中最有办法、最有势力、最有权威的人。都不是！</span><br><span class="line"></span><br><span class="line">    但他是武林中读书最多的人，谁也不比他会讲道理。他跟长绛河讲了一会</span><br><span class="line">儿功夫。长绛河已经深信自己蛮不讲理，倘若还记仇的话，集八百军州镔</span><br><span class="line">铁不足铸一错字。可他誓不回头，道：“你们这些酸儒就好教训人。如果</span><br><span class="line">我会听从你的话，便也不会憎恨读书了。小时，家父劝我念书的功夫比</span><br><span class="line">你用得深。他尚且说服不了我。”</span><br><span class="line"></span><br><span class="line">    所以不读书之人，往往固执？</span><br><span class="line"></span><br><span class="line">    岑寂同样固执。他还善于反省总结。他以医林弟子的身份说，汝父早有</span><br><span class="line">隐疾，沉疴在身，无药可救。他讲得头头是道，有理有据，自个也开始怀</span><br><span class="line">疑长天静是否真的死在孤寒剑下。</span><br><span class="line"></span><br><span class="line">    ——求战寻死？</span><br><span class="line"></span><br><span class="line">    没有一丝效果。所以岑寂道：“你的武功不如独孤寒。”</span><br><span class="line"></span><br><span class="line">    “是，但我在暗处，且不择手段。”</span><br><span class="line"></span><br><span class="line">    “你父亲活着的话，他不会同意。”</span><br><span class="line"></span><br><span class="line">    “他已经死了……等到我的武功追上独孤寒，不知已是什么年代。我等不了，</span><br><span class="line">因为我也明白并亲身体会到仇恨的害处。活着，仅是为了杀他，我不愿意、不甘心。”</span><br><span class="line"></span><br><span class="line">    他阴恻恻地笑道：“此时，他不忍心杀我，机会反而更大。”</span><br><span class="line"></span><br><span class="line">    岑寂无奈。”我不希望孤寒死，更不希望你还是死在他手里。”他亮出一把木</span><br><span class="line">柄的小刻刀。</span><br><span class="line"></span><br><span class="line">    长绛河与他相距三尺，却不拔剑、不防备。”你不忍心伤一个不还手、无过错</span><br><span class="line">的年轻人。”</span><br><span class="line"></span><br><span class="line">    岑寂冷笑欺上，一刀直刺他喉部“天突穴”。这一刀极快，似乎已经脱手飞出。</span><br><span class="line">长绛河后仰，长剑出鞘，一招“杏开素面”，立手护身。刀剑撞出火花。一枚印坊</span><br><span class="line">的泥活字，掠过剑锋，仍然击中他喉部的“人迎穴”。</span><br><span class="line"></span><br><span class="line">    长绛河倒下，没看到那枚活字，感受了痛苦。</span><br><span class="line"></span><br><span class="line">    从此，他由武林消失。岑寂不时后悔、自责，尤其是听到长夫人自尽的消息时。”</span><br><span class="line">唉，人心惟危，道心惟微。”他也总能找到借口。</span><br><span class="line"></span><br><span class="line">    独孤寒不知道，但猜着了。两人心照不宣。</span><br><span class="line"></span><br><span class="line">    早时，周乐、尉迟杯皆是姑苏捕快，一对好朋友。城中出现一个劫富济贫、神</span><br><span class="line">出鬼没的飞贼，上司限期令二人设伏擒之，否则法办。尉迟无意照办。周乐夜伏十</span><br><span class="line">九晚，遇此贼，与之剧斗，伤而拿下。查得此人济贫之余，小有挥霍，押回衙门。</span><br><span class="line"></span><br><span class="line">    尉迟请调湖州。此后一月间，姑苏富室仍有失盗，手法相同。知府释此犯，杖</span><br><span class="line">打周乐。尉迟闻知，挥刀砍下左手二指。当下周乐去职，也前往浙东。</span><br><span class="line"></span><br><span class="line">    此贼外号“一点浩然气，千里快哉风”，董大是也。经此事后，董与周乐、尉</span><br><span class="line">迟结成至交。</span><br><span class="line"></span><br><span class="line">谢清发与从兄游四川。大街上有一恶汉殴打老婆，围观者甚众，无一仗</span><br><span class="line">言相劝。从兄怒问邻人。私下里皆谓此恶汉不是，打老婆直似家常便饭。</span><br><span class="line">从兄凛然上前。谢清发袖手无语。</span><br><span class="line"></span><br><span class="line">    从兄拉开恶汉，问那女子是否愿意远走高飞。女子不敢应允，只道其夫</span><br><span class="line">家为四川唐门，有权有势。</span><br><span class="line"></span><br><span class="line">    唐门与谢家交好，不好惹。从兄犹豫了。恶汉冷笑，挥拳直打。从兄躲过。街</span><br><span class="line">人皆散去。恶汉以“乱石穿空”手法掷出喂毒的重镖，又为他躲过。谢家轻功向称天</span><br><span class="line">下第一，他未还手。</span><br><span class="line"></span><br><span class="line">    恶汉知对手非常人，笑脸求和。从兄应允了，正待离去。谢清发忽道：“我们</span><br><span class="line">要带走这位娘子。”恶汉变脸，却点头，挥手令那女子随去。他甫一转身，双袖中</span><br><span class="line">飞出十来枚梅花针。他以“蒙笼暗碧”对付二谢，极其歹毒。这“蒙笼暗碧”是唐</span><br><span class="line">门七大暗器绝技之一，手法隐蔽，覆盖范围大。梅花针剧毒无比，中一针片刻毙命。</span><br><span class="line"></span><br><span class="line">    从兄如一鹤冲天，谢清发脱衣挥舞，护了那女子。他有所防备，手臂仍中了一</span><br><span class="line">针。从兄前冲，与谢清发合力制服恶汉。幸有解药，谢清发未死。但其一双近视眼</span><br><span class="line">受损，见物更是模糊。女子随之出川。唐门修书谢家。谢清发独受家法。</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">第一章 谁家年少足风流</span><br><span class="line"></span><br><span class="line">                              一、岑寂医林</span><br><span class="line"></span><br><span class="line">    早春，杭州城中，西湖边上的杨靖和书社，墨香阵阵。此间老板正陪着一位清</span><br><span class="line">瘦的老者观看坊间排版。</span><br><span class="line"></span><br><span class="line">    老者盯着一位蓝衣少年。只见他坐在屋角，一寸见方、薄如钱唇的胶泥由右手</span><br><span class="line">刻刀冲、切，挑走就火烧硬，左手跟着将之掷入一套有铁框的铁板上。那儿已排好</span><br><span class="line">密麻齐整的活字，不常用的方需现制。少年离铁板不远，但可看出其目力、手法不</span><br><span class="line">俗。老者立住不走了。</span><br><span class="line"></span><br><span class="line">    铁板被换去加热。少年侧身，右手刻刀不知藏到哪里，相貌却尽现。有点黑，</span><br><span class="line">十六七岁的样子。一种火中烧就的硬朗，五官似由中锋粗笔浓墨勾勒，眼小唇厚，</span><br><span class="line">其貌不扬。</span><br><span class="line"></span><br><span class="line">    少年左手拔动放置现成活字的转盘，右手飞快挑取，并逐一掷入板中。老板见</span><br><span class="line">那老者脸上略有诧异之色，道：“林大夫，此人是剑州建安人氏，刚来，在此暂住。”</span><br><span class="line">建安印坊多，盛极一时。</span><br><span class="line"></span><br><span class="line">    老者走上前，问道：“你可是在排《医林证方要·丙辰集》？”</span><br><span class="line"></span><br><span class="line">    “是。”</span><br><span class="line"></span><br><span class="line">    老者又问：“你能背下它？”此书头版，少年不可能排过。</span><br><span class="line"></span><br><span class="line">    “是。”他并无书稿在手，却能将活字按序列在板上。其记忆力真可谓骇世惊</span><br><span class="line">俗。</span><br><span class="line"></span><br><span class="line">    “那你定是学过医了。”否则，书中的术语很难记住。</span><br><span class="line"></span><br><span class="line">    “没有，但翻过几本医书。”他的回答简短，却不显得寡言，单从外表可看不</span><br><span class="line">出来。</span><br><span class="line"></span><br><span class="line">    老者俯身瞧板中活字，心中存了疑问。胶泥上的楷字有些味道，看得出治印、</span><br><span class="line">书法的功底。</span><br><span class="line"></span><br><span class="line">    活字由刻版来，刻版源于印章捺印、拓印碑石，此几种笔画皆不能宛转如意。</span><br><span class="line">故历代治印多用篆字。这位少年随手刻画，却不见凝滞晦涩，果真只是“无他但手</span><br><span class="line">熟耳”？</span><br><span class="line"></span><br><span class="line">    “小兄弟，手稿有一处得做些修改。大小活络丹给搞混了。大活络丹应从《和</span><br><span class="line">剂局方》，由制乌、制草乌、地龙、制天星、乳香、没药六味组成。小活络丹见杨</span><br><span class="line">士瀛《仁斋直指方》，由数十味药研末，以蜜为丸。”</span><br><span class="line"></span><br><span class="line">    少年这才停了手上活儿，仰头道：“大夫，我以为原书无误。”他这话显得多</span><br><span class="line">事，而且口气有点冲。那书社老板在冷笑，正待斥责。</span><br><span class="line"></span><br><span class="line">    老者道： “是了。……不必改了。”心里嘀咕着：会武功，也不掩饰；又 不</span><br><span class="line">装作不懂医术，似乎不是窃书捣乱来的。我医林树大招风，他另有所图？</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    少年莫名其妙，心中实有些喜悦。自己居然引起了医林大夫的注意，着实表现</span><br><span class="line">了一把。大小活络丹并非什么秘方偏方，老大夫为何故意误识？</span><br><span class="line"></span><br><span class="line">    医林正是在杭城附近， 确切方位鲜为人知， 却享誉天下。少年也曾闻听白道</span><br><span class="line">“一行二商，三家四术，五大门派”之说。其中“四术”指杭州医林，江西信州葛</span><br><span class="line">溪墨家，汉口雷堂，川东唐门，各有专长，武功也不弱，风头可比少林、武当等名</span><br><span class="line">门正派。</span><br><span class="line"></span><br><span class="line">    墨家并无几人姓墨，长于机括，信奉墨子学说。雷堂的炸药、火器，唐门的毒</span><br><span class="line">药、暗器皆列天下第一品。医林会聚天下名医，钻研岐黄之术。所得成果，公之于</span><br><span class="line">众。这位林大夫便是来杨靖和书社刊行药方集子的。</span><br><span class="line"></span><br><span class="line">    过后，老板将所知俱告与老者。少年十六岁，叫岑寂，几日前由建安送佛经雕</span><br><span class="line">版模子来杭。据说要卖掉补家用。书社要下了。他还想谋个差使，无需工钱，只要</span><br><span class="line">管吃管住，允可他翻看善本。其时，书社多有馆藏抄本。</span><br><span class="line"></span><br><span class="line">    老者听着，想：他叫岑寂？武林中姓岑的，可没什么人物。岑寂、岑寂，这个</span><br><span class="line">名儿可真有趣。高而静，寂寞孤独？</span><br><span class="line"></span><br><span class="line">    次日，岑寂也打听到他的来历，竟是“神针妙笔”林几道。医术闻名天下，书、</span><br><span class="line">画亦受好评。</span><br><span class="line"></span><br><span class="line">    当晚两人在社里书楼上碰面。林几道微笑道：“岑寂，这儿的《素问》、《伤</span><br><span class="line">寒论》、《金匮》、《扁鹊神应针灸玉龙经》皆免于蒙尘，是你曾拿去研读？”</span><br><span class="line"></span><br><span class="line">    岑寂红脸道：“林大夫见笑了。我自小偏居陋处，到得此地见猎心喜，什么都</span><br><span class="line">取下来翻翻。”林几道却嘉许他能博览群书，岑寂也不再拘束。两人谈论石鼓文、</span><br><span class="line">汉史晨碑、隋龙藏寺碑、章草月仪贴、丧乱贴，乃至历代书法演变。岑寂居然很健</span><br><span class="line">谈，见识不凡。</span><br><span class="line"></span><br><span class="line">    林几道早年浪迹江湖，悬壶济世，结识了不少高人名士。老来归隐医林，一帮</span><br><span class="line">大夫皆不得书、画三昧。今日于市井中寻得一位小友，心下高兴。其时岑寂不善画，</span><br><span class="line">只会欣赏。他也不以为意。但当他讲到汉印二千方与武功的关系，对自己的启发时，</span><br><span class="line">见岑寂只是静静地听着，反觉奇怪。”我未窥门径，可能说得一无是处。”他这话</span><br><span class="line">讲得极为客气。</span><br><span class="line"></span><br><span class="line">    “我只是不喜武功。”岑寂道，“明白事理容易，增长功力困难。我便很少受</span><br><span class="line">到启发。……今人为了方便述说，往往借助外力，托之奇遇，以求说服自己与他人。</span><br><span class="line">……也许，汉印二千方可以使武功显得大气。”</span><br><span class="line"></span><br><span class="line">    林几道暗暗点头。人们往往托古人说，托圣人言，借事物喻理，其中难免有弊。</span><br><span class="line">纵然自己不识汉印，说不得也有所悟。</span><br><span class="line"></span><br><span class="line">    几天后，书已刻好。林岑二人渐渐相熟。林几道住在书社，一是防人抢书牟利，</span><br><span class="line">二是为人命关天得校对编排。此时他嘱了十三行的朋友分送四方医馆，准备回医林</span><br><span class="line">了。</span><br><span class="line"></span><br><span class="line">    十三行即“一行二商”中的“一行”，是白道龙头。岑寂只略知一二，当下出</span><br><span class="line">言相询。</span><br><span class="line"></span><br><span class="line">    林几道微微诧异，便娓娓道来。十三行本是广府贩卖西洋货物、出口丝瓷的商</span><br><span class="line">行，获利极丰，主掌海外贸易。中原无不居掌门郑中孚郑大侠接手后，着力扩大，</span><br><span class="line">使之分支行足迹遍布天下。更联合市井九流的行会组织十余个，开设义庄，时有善</span><br><span class="line">举，在各个城市中扎稳了脚跟。各地关帝庙、义庄是其据点。</span><br><span class="line"></span><br><span class="line">    如今十三行不仅经商，还吸收了不少正派侠士，锄强扶弱，打击城市中的无赖</span><br><span class="line">破落户，声誉极佳。天下乞丐、奴婢、行脚、店家、茶酒博士、船工、渔家、梨园、</span><br><span class="line">杂耍、星卜、货郎等等几尽为十三行旗下成员。其组织松散，相互联络少，管事不</span><br><span class="line">多，较少涉足江湖是非。</span><br><span class="line"></span><br><span class="line">    武林中不论黑道、白道都给它面子，不认为它会威胁到自身。郑中孚为人可以</span><br><span class="line">左玉皇、武圣人关公相比拟。很多人以为他的武功可列天下第一。黄金榜之“盖观</span><br><span class="line">论定”中头名人物有六位：“一僧一道二圣人，东西并立两帝君”。这“二圣人”</span><br><span class="line">中，一为剑圣曹之奇，另一即为武圣郑中孚。</span><br><span class="line"></span><br><span class="line">    岑寂先是神往，再而表情古怪，道：“我原不知十三行这般风光。‘中孚’，</span><br><span class="line">‘风行泽上，无所不周；信之被物，无所不至。’无不居！……林老先生，他的口</span><br><span class="line">气未免太大了吧。”</span><br><span class="line"></span><br><span class="line">    “郑大侠的外号是大伙儿叫上的。我瞧殊不为过。我年少时也投身十三行，到</span><br><span class="line">冀北草创分行。它几无正式的固定成员，我喜之自由，约束少。如今医林每年都收</span><br><span class="line">到它的馈赠。”</span><br><span class="line"></span><br><span class="line">    “圣人言，人心惟危。我想非单指性本恶。好人一不小心也会做下坏事。组织</span><br><span class="line">成员太多，鱼龙混杂。如果今后加强约束，则威权大、易专制；不加之规矩，又有</span><br><span class="line">如散沙。”岑寂道。</span><br><span class="line"></span><br><span class="line">    他多疑多思，个性鲜明。林几道也不驳他，淡淡道：“医林可比不上十三行。</span><br><span class="line">我本想荐你上医林，只怕你更是瞧不上。”</span><br><span class="line"></span><br><span class="line">    岑寂喜出望外，连连称谢。林几道又称，不教其医术、武功，只是顺他性子，</span><br><span class="line">看他悟性，提供一些书籍。两人可以玄谈，做些风雅的事儿。</span><br><span class="line"></span><br><span class="line">    岑寂心中存有疑问，这老先生当真如此爱才，抑或老来无聊？难道自己真个时</span><br><span class="line">来运转了？两人出城七十余里，来到一个不起眼的小山坳。数排平房，一口方塘，</span><br><span class="line">错落杨木柳树，医林便是这儿？</span><br><span class="line"></span><br><span class="line">    医林三代约四十人，另有杂役，会武功的似乎不多。其中弟子似有二十几人之</span><br><span class="line">多，上山采药，下圃种草，问诊开方，事情不少。岑寂暗暗庆幸自个不必学医。</span><br><span class="line"></span><br><span class="line">    林枢、庞安常、林清任是领头的老大夫，合称医林三老。他们双眼莹润显见内</span><br><span class="line">力精深，却一个个须眉毛发皓白。</span><br><span class="line"></span><br><span class="line">    林几道指导岑寂查证经络，间或授针刺。另有一大头长发怪人教他认穴。怪人</span><br><span class="line">授课由繁难处入手，讲得少，经常一连几天不见人影。</span><br><span class="line"></span><br><span class="line">    大凡医生皆面容可亲，独他一人板着脸，从无表情。言语间对《内经》等医学</span><br><span class="line">经典相当不敬，《一百二十穴玉龙歌》在他口中也有诸多不是。但他的武功确也高</span><br><span class="line">明。岑寂见他随手便能将细小的银针刺入穴道铜人，认穴更无偏差。</span><br><span class="line"></span><br><span class="line">    岑寂未与林几道谈过自个来历，也无人盘问他。所学的针灸、穴脉与武学皆有</span><br><span class="line">干糸。平日里受到优待，不用做些琐碎活儿。呆上几天，他就开始胡思乱想了。凭</span><br><span class="line">自己一介坊间少年，有何理由获此青眼。为人倔强自负，又不安份，与这规矩谨严、</span><br><span class="line">讲究师道的医林格格不入。</span><br><span class="line"></span><br><span class="line">    父亲不会武功，母亲从不教我招式，一心只望我考科举、入仕途，也娶个右姓</span><br><span class="line">的好人家女子。自不会是他们引荐的。难道是姨父？岑家家道中落，却有个好亲戚。</span><br><span class="line">杭城崔五崔殊先便是他姨父。前些日子岑寂父母令其同家人一道来杭，意思是让他</span><br><span class="line">留在崔府的学舍私塾书，好博个功名。</span><br><span class="line"></span><br><span class="line">    这崔姓可是大姓，国朝宰相十之二三崔姓。杭州崔家便是其渡江侨姓的后支，</span><br><span class="line">与姑苏王家、金陵谢家并称“拳、剑、轻功，富贵三家”。王、谢也是右姓大族，</span><br><span class="line">人谓有满门学士。</span><br><span class="line"></span><br><span class="line">    岑寂本不喜寄人篱下，又受不了那种官宦世家的氛围，借口离开了。他年纪尚</span><br><span class="line">小，崔五侦知其呆在书社里，便……？岑寂的思想尤其复杂，终于发觉不对。他害</span><br><span class="line">怕别人待他好；认为别人没有理由待他好。他很容易往坏处想：这里头有什么蹊跷，</span><br><span class="line">乃至阴谋呢？</span><br><span class="line"></span><br><span class="line">    岑寂找到林几道，称想上城内崔家一趟。林几道问起此中干系。他一五一十说</span><br><span class="line">了。</span><br><span class="line"></span><br><span class="line">    “你贪多务杂，令尊大概也不如何指望你能静心读四书，当生员。崔殊先与我</span><br><span class="line">相熟。你在这儿他不会不放心的。”林几道微微笑道：“他向来推崇作文吟诗，必</span><br><span class="line">不喜你学医。可那崔家门风谨严，武功讲究厚重沉稳，‘天保九如拳’没有二十年</span><br><span class="line">功力学不来。依我看，你在他家也不甚合适。”</span><br><span class="line"></span><br><span class="line">    他修书一封，令岑寂代交崔殊先。</span><br><span class="line"></span><br><span class="line">    岑寂回山后，清楚林几道没有什么瞒着自己，心下佩服其为人。芒种将近，两</span><br><span class="line">人上浙东的东西天目山采药、作画。游玩了近半个月。</span><br><span class="line"></span><br><span class="line">    大头怪人不理会岑寂是否记下那四五百个穴位，开始教他刺穴。此时，林几道</span><br><span class="line">每每找他，不是谈天，便是摹画评画。又一个月下来，岑寂自已学会了简单的医理，</span><br><span class="line">已不用再看藏书了。</span><br><span class="line"></span><br><span class="line">    这日，天下大雨，众人呆在室中。林几道叫上他，道：“你可知我为何拉你来</span><br><span class="line">医林么？”岑寂想了想，摇摇头。</span><br><span class="line"></span><br><span class="line">    “你绝顶聪明，轻逸灵动，又疏狂高傲，不合一丝不苛之医道。你人品不错，</span><br><span class="line">独善其身，却似乎没有兼济天下之志。”</span><br><span class="line"></span><br><span class="line">    “先生过奖了，岑寂向怀私心，人品中等而已。”</span><br><span class="line"></span><br><span class="line">    “我想劝你精研一项医学难题。我觉得你是适合的人选。”</span><br><span class="line"></span><br><span class="line">    岑寂兴趣来了，只是他不明白自己怎会是个合适的人选。他的医术尚差。究竟</span><br><span class="line">会是什么难题？</span><br><span class="line"></span><br><span class="line">    原来针灸一向乏医理，单是十四经便有三百六十多穴。方位变化不定的“天应</span><br><span class="line">穴”数目不小，人们却知之甚少。穴是经络藏府气血输注处，干系重大。针刺穴道</span><br><span class="line">着力长短、缓急、轻重、粗细变化，则疗治效果不同。各穴位的主治功能向为临床</span><br><span class="line">证定。逐一刺来，一则繁杂；二则病人可能因此丧失知觉，医生又无从感知。</span><br><span class="line"></span><br><span class="line">    奇经八脉中除了任、督，皆无清晰图解，急待完善。</span><br><span class="line"></span><br><span class="line">    古人言九折臂成医；从来神医皆年迈，以累医案故。林几道不信这个邪，希望</span><br><span class="line">岑寂能独辟蹊径。他可以元气充塞经络，感之行走，并逗留以激刺身上穴位。这正</span><br><span class="line">如神农尝百草而知药用。</span><br><span class="line"></span><br><span class="line">    武林中内功高者便不宜担此重任。武学之内功，讲究集气，“十二经脉”中快</span><br><span class="line">速周天运转，再由“十二经别”离合出入，散布全身“十二经筋”，发生劲力作用。</span><br><span class="line">真气如同滚雪球一般，越来越大，越滚越快。医道上正相反，要求真气缓下，以便</span><br><span class="line">感知穴脉。</span><br><span class="line"></span><br><span class="line">    其次，“正经之脉隆盛则溢于奇经”，武林高手的任、督奇经二脉畅通，可充</span><br><span class="line">分利用真气，但其它六奇经：冲、带、阴维等参互于经脉间，无藏府配偶关系，真</span><br><span class="line">气无法抵达。</span><br><span class="line"></span><br><span class="line">    最后，修习内功最忌分心，而此法要求在运气的同时感知穴位，决气散功，令</span><br><span class="line">真气分岔而行。分心易入魔道，决气过耗内力，端是凶险。</span><br><span class="line"></span><br><span class="line">    正宗学医出身的人要用此法，亦有障碍：无内力基础。岑寂兼有内力、医术根</span><br><span class="line">基，头脑聪颖，年纪尚幼，且悟性奇高，便成了上佳人选。他为人好胜，自是知难</span><br><span class="line">而进，欣然应允。</span><br><span class="line"></span><br><span class="line">    林几道给了他一本《十四经决气法》，言明不可急进，于内力修为可能无益有</span><br><span class="line">损云云。“此书外号‘第一老人书’，医林三老合力写就。有人戏言曰，不到百岁</span><br><span class="line">写不了，不到百岁看不懂，不到百岁学不成。第二代子弟中，仅有古天真较有造诣。</span><br><span class="line">他已练了一年有余。你可向他讨教。”</span><br><span class="line"></span><br><span class="line">    古天真？哪一位？岑寂不识。林几道答，那大头怪人即是。他为人不大正经，</span><br><span class="line">《素问》上有《上古天真论》，便引以为姓名。</span><br><span class="line"></span><br><span class="line">    岑寂心想，古天真该不是练功练出毛病来？自己也将跟穴道铜人差不多。只是</span><br><span class="line">他向来恃才放肆，走火入魔、损伤身体等等凶险没放在心上。林几道则不然，天天</span><br><span class="line">捣药熬汤补其身子。“十四经决气法”甚耗精神。不然，养生有术的医林三老怎会</span><br><span class="line">白发苍苍？</span><br><span class="line"></span><br><span class="line">    阴雨不绝，数日后的一个下午，岑寂正儿八经地坐下练功。他渐已入迷。不知</span><br><span class="line">过了多久， 古天真推门而入，道：“岑寂，你可有所得？”岑寂点头，心下奇怪：</span><br><span class="line">他从不呼己名的。</span><br><span class="line"></span><br><span class="line">    “我练起手的太阴肺经一年有余，几无所获。《决气法》晦涩难懂，许多地方</span><br><span class="line">过于简单，疏漏不少，而且可以任意理解。只怕今后也不可能完善，得看个人悟性</span><br><span class="line">如何了。我估计，十二经脉加奇经八脉，至少要花去我十年时间。唉，惭愧，惭愧。”</span><br><span class="line">三老余日无多，更是没有机会。</span><br><span class="line"></span><br><span class="line">    岑寂平日里哪听他说过这么一大通话，不知讲什么好。两人相对无言。屋外雨</span><br><span class="line">声淅沥。屋内昏暗阴凉。</span><br><span class="line"></span><br><span class="line">    岑寂正想着如何打破僵局。西墙轰然裂出大洞，有一人跨了进来。室中却多了</span><br><span class="line">湿漉漉的两个人。医林向来无是非，清幽僻静，怎会有人撒野？</span><br><span class="line"></span><br><span class="line">    两个不速之客，一蒙面，身材高大；另一人为他放在地上，一动也不动，秃头，</span><br><span class="line">脸有打伤血印，色紫成片，“天庭”有青记如墨，看不清面目。古、岑二人也不吃</span><br><span class="line">惊，来求医的。果然，蒙面人出言相求。他口气焦虑，口音不是苏杭一带的。</span><br><span class="line"></span><br><span class="line">    医林的规矩向来是不问江湖是非，只管治病救人，也收诊费。武林人士多知晓</span><br><span class="line">它的约法三章：中立非攻，外人莫在此地动武，健者不得留宿。</span><br><span class="line"></span><br><span class="line">    古天真伸手搭脉，知这病者受了一种古怪的内力震伤气血，以致成血瘀。当下</span><br><span class="line">询问道：“他的头发可是新近脱落？”蒙面人连连点头。“瘀血不难治，却难于根</span><br><span class="line">治。我去请一位此中高手来。”</span><br><span class="line"></span><br><span class="line">    不一会儿，那位大夫已开下一道“通窍活血汤”，告以煎服之法。蒙面人抱起</span><br><span class="line">伤者，去客房暂住。三人出门。</span><br><span class="line"></span><br><span class="line">    岑寂正望着墙上的大洞苦笑。墙外湿极，昏暗中倒见得清静。突然，门外一声</span><br><span class="line">闷叫，他赶忙抢出。只见那伤者摔在地上，大夫扶墙，左胸着了一刀。蒙面人已跃</span><br><span class="line">上屋顶。</span><br><span class="line"></span><br><span class="line">    大夫自个伸指封了“乳根”、“中脘”诸穴。岑寂出声示警，唤人帮忙。他探</span><br><span class="line">知那外来伤者经脉俱被震断，绝计活不了，心下惊异。待见古天真也纵上房顶，心</span><br><span class="line">想我索性由那墙洞追出院外。他的轻功不成，脑筋很快。</span><br><span class="line"></span><br><span class="line">    他一脚踏入房中， 不由呆了。 那蒙面人正在里头，似乎很闲适，翻看着那本</span><br><span class="line">《十四经决气法》。岑寂还没学会动手打架，只得喝道：&quot;喂，你在做甚么？”</span><br><span class="line"></span><br><span class="line">    那人顺手把书塞入怀中，掠了出去。《决气法》上多经脉、穴道，有运气之法，</span><br><span class="line">奥妙难通。他以为是什么宝贝，说不得是本武林秘笈。岑寂跟在后面。古天真亦无</span><br><span class="line">江湖经验，兀自在一株大树上四处张望。</span><br><span class="line"></span><br><span class="line">    蒙面人奔向后山。古天真这才拔腿追出，渐渐欺近。那人住脚转身，双掌平推。</span><br><span class="line">古天真单掌迎上，那人随即急迅地冲下山。古天真则原地发呆，长发贴在脸前。</span><br><span class="line"></span><br><span class="line">    岑寂跟来，道：“你没事吧？他拿了《决气法》。”手中握了小刻刀。古天真</span><br><span class="line">一脸雨水，道：“决气法以他无用有害。此人的&#x27;血瘀大手印&#x27;伤人瘀血于肤里血路，</span><br><span class="line">内力很是高明。我胸中血府为他震伤，呆会儿得吃一贴‘血府逐瘀汤’。”</span><br><span class="line"></span><br><span class="line">    “不知他与医林有何冤仇？今后只怕找不着他了。”</span><br><span class="line"></span><br><span class="line">    医林从不寻仇，自也不会寻书。《十四经决气法》共有几个抄本。失不足惜。”</span><br><span class="line">那人受了我的掌力，还如此狂奔，恐怕逃不到城里。”医林沸沸扬扬，张罗着给那</span><br><span class="line">位大夫急救。伤者已死，为抬去送埋。</span><br><span class="line"></span><br><span class="line">    古天真叹道：“可惜无人认得死者的姓名。……那蒙面人绝非为盗书而来。如</span><br><span class="line">非耽心误人子弟，三老早就将决气法梓行天下了。”两人回屋冥思。</span><br><span class="line"></span><br><span class="line">    蒙面人为何要对大夫下毒手？这大夫武功一般，伤者不会是他用重手法震死的。</span><br><span class="line">蒙面人费了不少心思将伤者送至医林，却又将之杀了？可是他见伤者有救，故而杀</span><br><span class="line">之；大夫欲阻挡，受了拖累？</span><br><span class="line"></span><br><span class="line">    “是不是他害怕有人能治好血手印之伤，克制他的武功？”岑寂问。</span><br><span class="line"></span><br><span class="line">    “血手印之伤我也会治，不过不精罢了。估计我们曾救过某位伤者，恰好此人</span><br><span class="line">是伤在蒙面人的血瘀大手印之下。他在告诫我们不该多管闲事。血手印是藏边的武</span><br><span class="line">功，四川也有人会使。可以肯定的是，那位伤者先为蒙面人所伤，再为他所杀。”</span><br><span class="line">古天真道。</span><br><span class="line"></span><br><span class="line">    古天真吃过药后，盯着穴道铜人沉思。”岑寂，你出手击铜人头部，力越大，</span><br><span class="line">它越容易向后倒下。如果是用刀削蜡烛，只要刀锋足够快，则烛身不会倒地。方才</span><br><span class="line">我那掌受益于决气法，劲力不如他，但较为锋利。击之铜人，它只会平移几寸，却</span><br><span class="line">不后仰，不论是否击正头部。盖掌力速度快极也。非指出手，而指真气之激发。”</span><br><span class="line">铜人后仰倒地，外力便未受实，后仰之势可消劲。</span><br><span class="line"></span><br><span class="line">    “那么，方才对掌之时蒙面人体中真气根本不及抵挡、消劲，便已被你震伤内</span><br><span class="line">腑。为何决气法有此功效呢？”</span><br><span class="line"></span><br><span class="line">    古天真摇头，缓缓道：“我想不通。”决气法理应对内功修为无益。岑寂托腮</span><br><span class="line">合眼。不多时，他嚷道：“会不会是这样呢？受了心念制约，真气在你体内郁郁已</span><br><span class="line">久；对掌时一拥而出，正如河坝溃决，不可收拾。有一股强势，速度自然加快。”</span><br><span class="line">水蓄于堤内，流极缓，出之则一泻千里。此所谓“反者道之动也”。岑寂心跳加快。</span><br><span class="line"></span><br><span class="line">    练决气法之人，成天日想的便是如何令真气缓下，决而散去。这很难做到，有</span><br><span class="line">如要在心中建坝修渠。出掌发力时，便等于开闸放水。决气法练久了，真气便会收</span><br><span class="line">发一心，锐利异常。</span><br><span class="line"></span><br><span class="line">    “只是，古大夫，如此一来，内力损耗太大，不可持久。”</span><br><span class="line"></span><br><span class="line">    古天真道：“正是。这有利于发射暗器。”刻刀正绕着岑寂的左手指头转圈。”</span><br><span class="line">不与敌缠斗，一击不中，全身而退。”</span><br><span class="line"></span><br><span class="line">    林几道扣门，进屋笑道：“听雨无眠，你们俩不吃饭了？”当他得知决气法居</span><br><span class="line">然有助于武功时，隐隐有些担忧。那蒙面人可能走火入魔，也可能把内力练得精纯</span><br><span class="line">无比。</span><br><span class="line"></span><br><span class="line">    没有那蒙面人的消息，大夫挨了一刀，挣扎了几天，驾鹤西去。医林也没法子。</span><br><span class="line">大夫们早已熟悉接生送死了，但不能参透生死。今年的梅雨多了一层意味。不少大</span><br><span class="line">夫心里一直未能放晴。他们无可奈何地躲在屋里，躲进药味之中。但医道及草药皆</span><br><span class="line">不可发霉。医林还是坚持了既定的原则。</span><br><span class="line"></span><br><span class="line">    这年中秋，古、林托了镖局的一位镖师朋友，复姓尉迟名杯，送岑寂回家。镖</span><br><span class="line">车正好往泉州。这尉迟杯受伤过多次，故而与医林相熟。他果然贪杯，老跟路上市</span><br><span class="line">井之徒喝酒，醉生梦死。岑寂自恃是个书生，不喜这走江湖的草莽。两人没谈上几</span><br><span class="line">句活。</span><br><span class="line"></span><br><span class="line">    节后，岑寂带了一包银子独自回杭，也不等镖车。他不愿受人恩惠，在医林白</span><br><span class="line">吃白住总是不自在。</span><br><span class="line"></span><br><span class="line">    日子平静如旧，转眼他已在医林呆了两年，成了十四经决气法的权威，提出了</span><br><span class="line">不少创见。与林几道、古天真合写出了《九针新论》、《奇经与天应穴》的初稿。</span><br><span class="line"></span><br><span class="line">    两年来，他全身穴位受了无数次的激刺，脏腑也经历了一些冲击，苦头吃了不</span><br><span class="line">少，身体虚弱。但也使得他冲穴百试百灵，不惧高手点穴。内力亦有所精进。变化</span><br><span class="line">最大的倒是他的身高，已象个成人了。此时天下承平已久，白道如日中天。官府在</span><br><span class="line">阳光下开始发臭，贪官如蛆如蝇。“一行二商”中的“二商”——山贾会与徽商帮，</span><br><span class="line">一南一北富甲天下，养了一大批拳师，招揽了许多人才。十三行似乎背时了，风光</span><br><span class="line">不再。眼看着江湖中潜波暗流，立马便要兴风作浪。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                              二、逸兴清发</span><br><span class="line"></span><br><span class="line">    医林仍然没有生气，很大度。虽然岑寂又是一大早起床，在它身旁漫步，且发</span><br><span class="line">着牢骚。”医林缺少生气。如今我还能找到继续呆下去的理由么？”他自言自语。</span><br><span class="line">两年来，坐多走少，他没意见。他打心眼里喜欢功成名就后退隐三径、采菊南山的</span><br><span class="line">感觉。但先得往上爬，然后才有叶落归根之说。”又如树根在院内，总是要红杏出</span><br><span class="line">墙的。”</span><br><span class="line"></span><br><span class="line">    天天在自个体内迈圈子，早就轻车熟路了。他想象着真气溜出体外的情形。充</span><br><span class="line">塞天地，纵横天下？</span><br><span class="line"></span><br><span class="line">    又已是春天。一部书不可能再版无数次。医林厌倦我了。</span><br><span class="line"></span><br><span class="line">    他信步走入一片小树林。林中正有人唱道：“我在这六经中枉下了死功夫，冻</span><br><span class="line">杀我也论语篇、孟子解、毛诗注，饿杀我也尚书云、周易传、春秋疏。可怜我学剑</span><br><span class="line">攻书折桂郎，无家可归双眼盲。”此人博带纶巾，蓝衣白袜，躺在草地上，手中摆</span><br><span class="line">弄着一根树枝。</span><br><span class="line"></span><br><span class="line">    岑寂认得这个白面书生。他是那身子比镖车大，比镖银沉，而酒量又比身子大，</span><br><span class="line">整个人便象一个大酒杯的尉迟杯的朋友。昨晚或是今晨，或死或活的尉迟杯便是由</span><br><span class="line">他送至医林。如此大胖子，马车只怕散架了。否则，这个书生便可以睡在马车里，</span><br><span class="line">不至于露宿林中。</span><br><span class="line"></span><br><span class="line">    “车坏了。你们医林又订了几个破规矩，把我赶了出来。小大夫，你瞧我是否</span><br><span class="line">有眼疾，需要治疗？”他眯着双眼，见岑寂不答，便将手中尺来长的树枝掷出。树</span><br><span class="line">枝打着圈儿，击向岑寂前胸。</span><br><span class="line"></span><br><span class="line">    岑寂手中正摆弄着小刻刀，当下临空一划，兜着树枝转动。不料这书生的内力</span><br><span class="line">比他高，也使上了劲，只觉虎口一震，刻刀与树枝一块儿掉地。</span><br><span class="line"></span><br><span class="line">    “哎，原来你的内力如此不济。不过出手蛮快的。”你的嘴跟刀一样快。岑寂</span><br><span class="line">不愿理他。</span><br><span class="line"></span><br><span class="line">    “你看得见树枝，怎会看不见我？”岑寂反感他随便的作风，高人一等的样子。”</span><br><span class="line">现在我手中已无螳螂捕蝉叶。”正说着，他慢吞吞地立起。这儒生似乎有些迂腐，</span><br><span class="line">但长得挺俊的。不过二十出头，眯着双眼，神情慵懒，却有一付老江湖的派头。</span><br><span class="line"></span><br><span class="line">    “小大夫，尉迟能活么？”</span><br><span class="line"></span><br><span class="line">    “他不会死在医林。”只要他还有一口气。</span><br><span class="line"></span><br><span class="line">    书生大喜，双眼圆睁。”他可能早就跟马车一道归天了。”书生这才明白过来。</span><br><span class="line">医林只能治好活人的病。</span><br><span class="line"></span><br><span class="line">    “我叫谢清发。‘中间小谢又清发’，李太白的诗，自已取的名。”</span><br><span class="line"></span><br><span class="line">    “没听说过。岑寂弯腰拾起刻刀。“我知道你叫岑寂，岑夫子。”听这位谢清</span><br><span class="line">发的口音，当是金陵谢家的子弟。谢家于“富贵三家”中最讲门弟，轻商尚理，刻</span><br><span class="line">板几近不讲情面，会有这么一位活宝么？</span><br><span class="line"></span><br><span class="line">    两人走回医林。岑寂问道：“他是被谁打伤的？”</span><br><span class="line"></span><br><span class="line">    借刀！借刀不是人，是个杀人组织。”借刀杀人，水到渠成。”只要付钱，便</span><br><span class="line">可假手杀人，且永不泄密，无从查起。其杀手亦有失手之时，但身份无人知晓。武</span><br><span class="line">功门派古里古怪，杂七杂八，却似乎是同一师承。</span><br><span class="line"></span><br><span class="line">    江湖中有关这个组织的资料很少。它杀人无任何明显的标记。杀手们前仆后继，</span><br><span class="line">不杀掉目标不会罢休。所以，还有句话叫“阎王拘命，借刀杀人。”被它盯上后，</span><br><span class="line">除非你先干掉雇主，否则必死。</span><br><span class="line"></span><br><span class="line">    幸好，借刀从不轻易出手。你纵想花大把大把的银子孝敬它，也会苦于没有门</span><br><span class="line">路。它与古往今来的一切杀手不同：它主动上门接生意，价钱极高。谢清发很喜欢</span><br><span class="line">讲故事，似以口若悬河为荣。</span><br><span class="line"></span><br><span class="line">    所以，在他面前，岑寂也不好意思三缄其口。”尉迟杯不过是一个破落镖师，</span><br><span class="line">怎会有人买他的命？”</span><br><span class="line"></span><br><span class="line">    谢清发道：“也是。我没看到杀手的模样。借刀之说仅为猜测而已。刺向尉迟</span><br><span class="line">那一剑，我以为是杀手神来之作。若非借刀所为，它该解散了。一如那武后言，丞</span><br><span class="line">相失职！我很高兴能败坏它的声誉。”</span><br><span class="line"></span><br><span class="line">    “江湖中借刀的口碑不比医林差。有了它，冤冤相报何时了的问题已不复存在。</span><br><span class="line">因为你找不到仇家。如此仇杀大减，治安好转，有钱人家拍手欢迎。这是‘我不杀</span><br><span class="line">伯仁，伯仁因我而死’的故事新编。”尉迟的情形不太糟，小谢谈笑风生。一大夫</span><br><span class="line">道：“谢少爷，象你这样有钱的种，我们医林也拍手欢迎。他用了不少珍贵药材。</span><br><span class="line">你瞧着是否要多给点诊金。”</span><br><span class="line"></span><br><span class="line">    “第一，我没钱；第二，尉迟很穷；第三，我问你，他的伤是否极难治？换上</span><br><span class="line">别人只怕活不成了，是吧？”尉迟号称九命，身上的疤痕有如纹身一般。</span><br><span class="line"></span><br><span class="line">    大夫道：“估计剑锋近身时，肌肉收缩滑走，没刺正。杀手之意在剑上所带劲</span><br><span class="line">力。胖子肉多，经络之海震而不裂，武功可在半年内恢复。我用……。”</span><br><span class="line"></span><br><span class="line">    谢清发打断他的话，笑道：“如此可见，尉迟不死乃是他自个的本事。天不亡</span><br><span class="line">之，夫又奈何？我有二马，作为诊金想必足矣。你们或养之；或杀而解之研之，再</span><br><span class="line">烹而吃之，悉听尊便。”这二马原本是用于拉车，不知他由何处得来。</span><br><span class="line"></span><br><span class="line">    大夫无言苦笑。没钱财且没脸面的人是没治的。</span><br><span class="line"></span><br><span class="line">    岑寂有些头疼。小谢这位公子爷待人推心置腹，脾气也好，够朋友。但岑寂有</span><br><span class="line">些受不了。他这辆马车是越跑越重，载物只会多不会少；一旦速度缓下，马也就口</span><br><span class="line">吐白沫，趴在地上，玩完了。</span><br><span class="line"></span><br><span class="line">    谢清发不然。他走马观花，会邀请中意的人中途上车，到得路口便请人下车，</span><br><span class="line">大路朝天，各走一边。他不载货，因为瞧不上。心血来潮，便将马车拆了解构。他</span><br><span class="line">组合不回去，也没想过修车。他不在乎走路。但他懂得休息。</span><br><span class="line"></span><br><span class="line">    听他讲话，看他做事，很惬意。但不久，你会发觉误了正事。甚至，你还得陪</span><br><span class="line">他一起陷入泥坑。但小谢的长处在于：他会让你陪得心甘情愿。</span><br><span class="line"></span><br><span class="line">    谢清发只有睡觉才不说话？小时，为长辈杖责鞭打，他一声不吭。曾祖死时，</span><br><span class="line">他跪在灵前，不敢言笑，却也哭不出来。这会儿，他也不说话，因为岑寂实在按捺</span><br><span class="line">不住好奇心，出言打听尉迟被刺杀之事。</span><br><span class="line"></span><br><span class="line">    岑寂以退为进，捧起书，居然如老僧入定。这下“木鱼”给敲响了。“尉迟阅</span><br><span class="line">历多，武功似酒，醇厚劲长。”小谢给他的故事加了这句开头，“可惜此处无酒。”</span><br><span class="line"></span><br><span class="line">    容易找着的酒店，往往找不着座。</span><br><span class="line"></span><br><span class="line">    两人不想站着喝酒，只好上价钱宰人的酒楼。待他们出楼，三更已过。街上无</span><br><span class="line">人，尉迟烂醉。只有几颗星星在提醒你关注黑暗。光明总是如此高高在上，俯视着</span><br><span class="line">地上的身影。”他已醉了，我还很明白。残酒不妨留着，新醉得由我扶走。”</span><br><span class="line"></span><br><span class="line">    一块出来喝酒，不论怎地，最后总有人没醉？</span><br><span class="line"></span><br><span class="line">    “我一手扶墙，一手搀他，居然能寻着路。岑寂，你猜那杀手会怎样出击？”</span><br><span class="line"></span><br><span class="line">    必定是由暗中闪出，突然发动。</span><br><span class="line"></span><br><span class="line">    “他用了最好的法子。”小谢心有余悸。当时我似乎更危险，是我挨在墙边。</span><br><span class="line">那剑刺穿八寸砖缝后怎会有那样的狠，那样的准？</span><br><span class="line"></span><br><span class="line">    “酒后高兴，当时我的身子暖暖的，实在没有觉察那种玄乎玄乎的‘杀气’。</span><br><span class="line">那把剑贴着我的前胸，刺中尉迟时，我与他齐声大叫。我看到他左肋汨汨地冒血。</span><br><span class="line">我只感受到了剑的冰凉，却至始至终没见着它。”</span><br><span class="line"></span><br><span class="line">    我是否在看清血后，便清醒如初。也许当晚我一直就没醉过。也许这根本就不</span><br><span class="line">重要，杀手那一击，我任何时候都躲不过，格不下。</span><br><span class="line"></span><br><span class="line">    “你扶他左臂？”</span><br><span class="line"></span><br><span class="line">    “对。”如此尉迟不会留心左边。迈步时，左臂微抬，稍向左前方倾斜。在杀</span><br><span class="line">手眼中，这便是空门。</span><br><span class="line"></span><br><span class="line">    “后那杀手为何不补上几剑？”这个杀手如唐朝的妙手空空儿，一击落空，腾</span><br><span class="line">身而去？</span><br><span class="line"></span><br><span class="line">    “也许他害怕正面打架，怕打不过我。”小谢大言不惭，“但那匪夷所思的一</span><br><span class="line">剑我使不出来。只有强盗、蛮夷想得到，刘项原来不读书。笨一点的人只好走正道，</span><br><span class="line">借古人来打压别人。”</span><br><span class="line"></span><br><span class="line">    “当时，我安顿了尉迟，跳上墙头。你猜我干了什么，看到了什么？……不知</span><br><span class="line">道？我看见了黑暗，我什么也没干。哈哈哈。”</span><br><span class="line"></span><br><span class="line">    岑寂不想再听他胡侃，便退了出来。他想象着小谢找马车，赶夜路的情形。近</span><br><span class="line">视，料也不会驾车。真个盲人骑瞎马，夜半临深池。</span><br><span class="line"></span><br><span class="line">    他查了医林内伤医案，以剑气伤经脉的不多见。象尉迟这般整条冲脉俱伤是一</span><br><span class="line">个特例。这杀手的内力很怪。它附于剑身入刺砖缝、肋骨，已成强弩之末。但回抽</span><br><span class="line">时，居然会震伤整条冲脉！正如以掌拍水，抽回与击入一样会带动水波。</span><br><span class="line"></span><br><span class="line">    他想到了决气法。真气必须快极，才可能在经脉受伤中断前，激荡气血，才可</span><br><span class="line">能在进入时，令对手来不及运气相抗。它又精又细，可以破去一切护身真气，可以</span><br><span class="line">深入藏府重地。但该杀手似乎未得决气法精髓，尚不会借助对手体中的真气，借力</span><br><span class="line">打力。</span><br><span class="line"></span><br><span class="line">    得告诉林老先生、古大夫，是那杀手拿了《十四经决气法》，而且小有收获。</span><br><span class="line">我们得小心了。也许他刺杀尉迟只是个幌子，醉翁之意在医林……。</span><br><span class="line"></span><br><span class="line">    由于这位杀手尚未全面学会决气法，故而尉迟逃得一命。</span><br><span class="line"></span><br><span class="line">    谢清发与岑寂已然相熟。这日，两人谈及暗器。小谢道：“我们家的老太爷是</span><br><span class="line">个老顽固，认为刀枪太俗，暗器太毒，世家子弟不可走江湖。”他眯着双眼。”我</span><br><span class="line">练不了暗器。”</span><br><span class="line"></span><br><span class="line">    “我视力不佳，老眯着眼，色迷迷的样子。这实在很冤枉的。远点看，天下美</span><br><span class="line">女娇娃在我有如过眼烟云；凑到面前欣赏，又着实唐突佳人。所以我目中无人，双</span><br><span class="line">眼一向很饥渴。”</span><br><span class="line"></span><br><span class="line">    岑寂一本正经地道：“书中自有颜如玉。”</span><br><span class="line"></span><br><span class="line">    “书中没有谢清发。”这话很有道理，直如当头棒喝。岑寂闻言一震。经不起</span><br><span class="line">小谢再磨上一会，答应一块上城里。</span><br><span class="line"></span><br><span class="line">    林几道笑了，岑寂觉得这笑来得怪，不由心虚脸红。”小心，杭州多老虎。哈</span><br><span class="line">哈，不受伤不会想到医林的好处。”其时医林无女大夫，好人家的女眷则是请医上</span><br><span class="line">门。所以岑寂见过的女人不会比死人多。普通常见的掌力击哪是哪，决气法的内力</span><br><span class="line">却可以“入刻三分，被之甚广”。撤回时的伤害比陷入时要来得深。感情与之相似，</span><br><span class="line">却更胜一筹。伤人于无形，事出无因，无从梳理。</span><br><span class="line"></span><br><span class="line">    女人比老虎可爱，岑寂什么时候都不敢反对。只是，有人说可爱比可怕更可怕。</span><br><span class="line"></span><br><span class="line">    岑谢二人坐在酒楼上，俯看街上行人。”不是我瞧她们，而是她们瞧我。”小</span><br><span class="line">谢年少风流，俊朗秀气，是有这个本钱。但钱，只岑寂有。</span><br><span class="line"></span><br><span class="line">    岑寂不敢正视女子。因为他害怕自个心中邪恶的念头。小谢视而不见，他见而</span><br><span class="line">不视。他有些不自在，仿佛是来吃白食的，待会儿付不起帐。</span><br><span class="line"></span><br><span class="line">    “我二嫂告诉我，杭州有位小姐能治好我的近视，挫我傲气，劝我从善。因为</span><br><span class="line">她绝美，似乎不可能看上任何一个男人。”</span><br><span class="line"></span><br><span class="line">    “她是崔家千金，我二嫂的小堂妹，说来与你也是亲戚。这位被称作天下第一</span><br><span class="line">的美人是崔九的独女。”崔九时任工部左侍郎。岑寂未曾听说过。</span><br><span class="line"></span><br><span class="line">    “两晋以来，士子时兴于人评品分级，定‘华、王之优劣’。诗品则云‘元轻</span><br><span class="line">白俗，郊寒岛瘦’。而仕女们足不出户，深居闺中，男人多无眼福一见，更无从评</span><br><span class="line">起。当今江南右族的夫人们便从中牵线撮合，担当起品评各家小姐的重任。据云，</span><br><span class="line">那崔小姐被公推为第一。她年方二八，未许下人家。”小谢道：“他为了这位小姐</span><br><span class="line">才跑来杭州？二嫂说，这位小妹可不能嫁给谢家，否则要与谢道媪一样，‘抱天壤</span><br><span class="line">王郎之恨’。她的丫头更放肆，说这位美人若嫁到我家，我必定不愿出门流浪了。</span><br><span class="line">要知道，平日里我在家中就跟如厕似的，一刻也不能多呆。”</span><br><span class="line"></span><br><span class="line">    “岑寂，你一定猜知前三甲还会有谁吧？”岑寂哑然：我一定知道？</span><br><span class="line"></span><br><span class="line">    “笨蛋！榜眼自是她妈。如果她没有姨妈，探花就是……。”</span><br><span class="line"></span><br><span class="line">    “那只是妇人之言。”岑寂的本意是小谢的话更不可信。</span><br><span class="line"></span><br><span class="line">    “所以我们得自个去瞧瞧。她睡前必要跟母亲请安。咱俩混入内宅，寻个地儿</span><br><span class="line">守着，总能见上一面。”小谢越发来劲。</span><br><span class="line"></span><br><span class="line">    “不可，如此极为不妥，翻墙入室，月下窥人，并非我辈中人所为。”</span><br><span class="line"></span><br><span class="line">    “你也太迂了。如果天下正人君子都跟你一样，她不为赏识，不就所嫁非人了</span><br><span class="line">么？如果我去了崔府，你是否便认定小谢我为人下流，卑劣无耻？”</span><br><span class="line"></span><br><span class="line">    岑寂无语。他一向长于争辩，可以轻易驳倒小谢。但他有些心虚，不愿扮演假</span><br><span class="line">道学先生。理学有它的不少可取之处，但可信而不可爱。”崔府护院多，万一被发</span><br><span class="line">现了多没面子。”</span><br><span class="line"></span><br><span class="line">    “内宅不会有护院。若给发现了，咱俩掩面而逃。实在逃不掉，就说是追强人</span><br><span class="line">追到府里来了。”</span><br><span class="line"></span><br><span class="line">    岑寂沉吟，内心却已允了。两人天南地北地胡侃，好不容易等到西山日落。跑</span><br><span class="line">堂的小二对这两个穷主儿也是极不耐烦了，过来擦了几回桌子。</span><br><span class="line"></span><br><span class="line">    崔府很大。岑、谢绕着它踩了一通盘子，天已黑下。天黑不会令岑寂胆壮，反</span><br><span class="line">而使他害怕。“岑寂，你是建安人，蓬莱文章建安骨，中间小谢又清发。你怎会没</span><br><span class="line">一丁点曹魏风骨，太白豪气？”谢清发开玩笑道。</span><br><span class="line"></span><br><span class="line">    岑寂苦笑道：“我轻功不好，越不过墙。”</span><br><span class="line"></span><br><span class="line">    “我家传轻功‘空虚入冥，无形灭影’天下第一。待会儿，我照着你，有危险</span><br><span class="line">由我引开他们。武林中‘崔王谢’并称，我家拳剑不如，子弟少，但轻功绝对是仙</span><br><span class="line">流神品。”</span><br><span class="line"></span><br><span class="line">    在小谢的帮助下，岑寂爬过高墙。两人借着花树，摸到内宅根下。岑寂手中扣</span><br><span class="line">了几枚活字，心中很不踏实。内宅墙不高，听得里头毫无声响。两人便一跃而过。</span><br><span class="line">宅内有廊榭楼台，花园水池，不见人影。两人不敢抓个丫头来逼问。但小谢心中自</span><br><span class="line">有一丘一壑，能由房屋布局猜知崔九夫人住所大致所在。大凡府坻，布局相近。几</span><br><span class="line">代人居住安排很讲门道，有些法度。摸索了大半时辰，小谢道：“是了。这儿便是。</span><br><span class="line">瞧那大匾，是为崔九题的。”崔九在工部左侍郎任上，京官，自不在家。</span><br><span class="line"></span><br><span class="line">    岑寂心里有些害怕，口干舌燥，说不出话来。两人在假山后躲下。等了有些时</span><br><span class="line">辰，小径有几个下人经过。谢清发已昏昏欲睡。这时，有碎碎的脚步声由房侧回廊</span><br><span class="line">传来。跟着是一盏宫灯。它伸入岑寂张大之口，撞在心上。天地骤亮！他乍然呆在</span><br><span class="line">那儿。居然有人会超乎我所想象的漂亮。他只来得及低头。</span><br><span class="line"></span><br><span class="line">    小谢没瞧清楚，拉了他，道：“这儿太暗了。咱们上屋顶。”岑寂当时神魂颠</span><br><span class="line">倒，任他摆布。</span><br><span class="line"></span><br><span class="line">    其时右族女子无习武之说，纵是“富贵三家”也不例外。谢清发哪还有顾忌。</span><br><span class="line">两人跃上屋顶，爬过正厅，隔着天井，见着房外丫头。再绕过厢房，到得正房顶上。</span><br><span class="line">岑寂心想，站在头上，对佳人着实不敬。</span><br><span class="line"></span><br><span class="line">    两人挪开瓦当，凿光而窃玉，俯首而偷香。岑寂甫一凑眼，依稀看到那位小姐</span><br><span class="line">的身形，只觉得她能瞧见自已，大骇。赶忙盖好瓦当。否则只怕自己会由那小洞跌</span><br><span class="line">下去。</span><br><span class="line"></span><br><span class="line">    小谢拉他衣角，两人下地后，道：“果然不虚此行，不虚此生。我想再近点瞧</span><br><span class="line">瞧，希望能令我稍稍失望，好管住我的心猿意马。”一般而言，女子远看比近观佳。</span><br><span class="line">情知岑寂不敢，便不叫他，独一人抢到山墙拱门旁。</span><br><span class="line"></span><br><span class="line">    小姐连丫环三人，顺石径款款而来。谢清发闪出，在暗处垂手道：“小的不留</span><br><span class="line">心，误入内府，不识路，惊扰小姐了。但问如何出得此间。”</span><br><span class="line"></span><br><span class="line">    三个女子齐齐一愣。一丫头道：“你沿着大道走便是了。快让开。”小谢退到</span><br><span class="line">路旁， 直眼盯着那位小姐。 小姑娘却也看了他一眼，和羞走。丫环起疑，叱道：</span><br><span class="line">“府中仆隶哪有着蓝衣的？你……。”蓝衣是书生装扮，家人多为皂衣。</span><br><span class="line"></span><br><span class="line">    小谢拔腿抢出门外。那丫环手中一记“梅萼兰花指”，居然带了劲风。小谢这</span><br><span class="line">才省得，小姐不会武，丫头可难说。他的轻功步法比脑筋动得快，展开“空虚入冥，</span><br><span class="line">无形灭影”，背心要穴躲过那曼妙的一式“梅萼三两枝，素手兰花指”。他还不忘</span><br><span class="line">说一句“对不起了”。小丫头也不料他有如此轻功，一时之间不知如何是好，竟也</span><br><span class="line">没有尖叫惊呼。</span><br><span class="line"></span><br><span class="line">    小谢找到岑寂，道：“风紧扯呼，快逃。连小丫头片子都会使嘉兴白衣庵的绝</span><br><span class="line">学。”梅萼兰花指是女人学的，丫头的武功不可能在白衣庵练就。难道崔家女眷中</span><br><span class="line">有人会武？</span><br><span class="line"></span><br><span class="line">    岑寂低声道：“方才我见着了你的脸。”言下之意，那几个女子更是看清了小</span><br><span class="line">谢，能认出他来。</span><br><span class="line"></span><br><span class="line">    “不打紧，崔小姐看不上我，肯定未留心。”小谢居然也失了自信。两人来到</span><br><span class="line">墙根。小谢提气纵过，却迎头撞上一个护院家丁。岑寂正好艰难地爬到墙头，见状</span><br><span class="line">一扬手，两枚泥活字击中家丁的“膻中穴”。此人的武功想必不高，未及反应，一</span><br><span class="line">声不哼倒下。</span><br><span class="line"></span><br><span class="line">    谢清发拍手道：“你下手挺狠的，是用银针么？要不要取出？可别留下把柄。”</span><br><span class="line">岑寂摇头，径直冲过花廊，翻过外墙。他甚为紧张，跳下时竟跌了一跤。小谢忍不</span><br><span class="line">住大笑，旁若无人。</span><br><span class="line"></span><br><span class="line">    一路上，岑寂满怀心事。小谢道：“以前我以为近视没什么大不了的，世上太</span><br><span class="line">多俗男女不堪入目。今日方知差矣。我有些想天天瞧着她。从前我瞧不起所谓的名</span><br><span class="line">门闺秀，千金小姐。现在想来，内中有点偏见。”</span><br><span class="line"></span><br><span class="line">    “但我又不想向崔家求亲。首先，我配不上她；其次，我担心了解她后，我会</span><br><span class="line">失望；最重要的是，欣赏与迎娶是两回事。如果她很完美，当了我老婆后，我等于</span><br><span class="line">得到了一切，唯独失去了自己。我不喜欢负责任。”</span><br><span class="line"></span><br><span class="line">    岑寂不置可否。他脑海中尽想着那位姑娘，可是已记不起她的具体模样。他为</span><br><span class="line">自己的荒唐想法感到一丝的羞愧。他一向瞧不起所谓的多情种子，也不相信什么才</span><br><span class="line">子佳人的故事。今晚有些冲动，有点儿兴奋。一切皆只是酒精作用的结果。</span><br><span class="line"></span><br><span class="line">    岑寂吃过早饭，发现医林大院停了辆漂亮的马车。一问才知是城里的崔家来了</span><br><span class="line">人。他给唬得魂飞天外。无事不登三宝殿，难道昨日东窗事发？他下意识地往后缩，</span><br><span class="line">想退回房中。林几道已见着他了，唤他过去。</span><br><span class="line"></span><br><span class="line">    岑寂不知崔家来了什么人，心想：没有理由这么快找来呀？可别让他们认出小</span><br><span class="line">谢。 林大夫知道我去过杭州城。瞧他的脸色，似乎不善。&quot;这位是你姨父差来的家</span><br><span class="line">人。他让我带你到他府上走走。”岑寂双眼发黑，更是心慌。他唯唯喏喏，出门找</span><br><span class="line">小谢。小谢正在赖在床上。他揉着眼皮，也不吃惊。</span><br><span class="line"></span><br><span class="line">    “看把你吓的，没出息。这样吧，我陪你一块进城。周乐也该回来了。你放心</span><br><span class="line">便是。他们并没抓住咱们的把柄。”他不敢进崔府，跟林几道讲要到城内关帝庙找</span><br><span class="line">朋友周乐。</span><br><span class="line"></span><br><span class="line">    岑寂记得他说过，杀手就等周乐不在杭州，才对尉迟下手的。能让小谢信服的</span><br><span class="line">人自是有不小的本事。但不知能否帮我渡此难关。</span><br><span class="line"></span><br><span class="line">    林几道对周乐也有兴趣，道：“大周正乐，周乐？五年来，他的声名很响，闯</span><br><span class="line">下了好大的万儿。听说他还很年轻。”</span><br><span class="line"></span><br><span class="line">    小谢笑道：“昨日我们一块喝酒，一直呆在他那儿。我介绍他与岑寂结交。大</span><br><span class="line">家挺合得来。……岑寂，回头你到关帝庙找我。”</span><br><span class="line"></span><br><span class="line">    崔殊先的心情肯定不太好。众家人的神情也有些古怪。崔殊先并未跟岑寂说什</span><br><span class="line">么，拉了林几道进内堂。岑寂向来怕他，此时更是坐立不安，浑身不自在。有什么</span><br><span class="line">话儿要背着我讲呢？绝计不会是好事。</span><br><span class="line"></span><br><span class="line">    不会儿，林几道出来招他一道走。三人绕了几个影壁回廊，到得内宅边上的一</span><br><span class="line">间小厢房。进门一看，床上躺了一位家人。他一动也不动，显然是穴道受制。岑寂</span><br><span class="line">知道他乃是折在自个手下，心中很怕他万一能认出自已。林大夫与姨父见多识广，</span><br><span class="line">目光老到，说不得也能看出一些端倪。岑寂真想拔腿就逃，冲到庭中，跳入井里。</span><br><span class="line"></span><br><span class="line">    这时崔殊先道：“岑寂，林大夫说你长于此道。来，走近点瞧瞧。”岑寂听出</span><br><span class="line">了一语双关的味道，硬着头皮过去。这位家人已无大碍，想是经了高手推拿。但岑</span><br><span class="line">寂的点穴手法与众不同，用意不仅在于制住行为能力，还可伤经脉，制其内力，令</span><br><span class="line">高手也无法顺当冲穴。当下开了一方药，并取出“九针”中的毫针刺了几下。</span><br><span class="line"></span><br><span class="line">    “对方用的暗器不知是何物，没找出来。”泥活字受力即碎，自然无迹可寻。</span><br><span class="line">武林世家向来高傲，不扬内丑。但崔殊先对林、岑倒无顾虑。</span><br><span class="line"></span><br><span class="line">    林几道道：“下手之人未用全力。如此点穴之法，须有上乘内力。但这两人的</span><br><span class="line">伤势并不重。”他似乎没想到决气法的神奇功效。岑寂稍稍放下心来。我内力不强，</span><br><span class="line">应排除在外。</span><br><span class="line"></span><br><span class="line">    “我十一弟的孩子也受伤了，幸好也不致命。”</span><br><span class="line"></span><br><span class="line">    岑寂大奇，怎么回事？我可是只伤了一人。他聪明绝顶，思绪万千，当下已想</span><br><span class="line">到各种最糟糕的可能。故不仅庸人自扰，智者亦如此。</span><br><span class="line"></span><br><span class="line">    原来是个弱冠少年，我当是小谢背地里辣手摧花。但不管怎地，这笔帐有可能</span><br><span class="line">算到我俩头上。这回，林大夫要亲自诊断开方。</span><br><span class="line"></span><br><span class="line">    “他被昨夜来敌用细针射中小腹，估计伤了肾。这孩子的武功马马虎虎，又吃</span><br><span class="line">不了疼。”崔殊先道。那小少爷打着滚儿，哼哼唧唧。</span><br><span class="line"></span><br><span class="line">    “崔五，这是何方神圣，颇懂医理。”岑寂心一紧。“锐物入刺不太深，但位</span><br><span class="line">置要命。在肚脐之下，近阴处，正是‘关元穴’。如此损招，甚不光明正大。”他</span><br><span class="line">取针， 刺脐旁左右“天枢穴”，“关元”之下的“中极穴”，直刺二寸。崔五瞧得</span><br><span class="line">揪心，伤者却已安定下来。跟着再刺其小腿部的“三阴交”，仍用直刺。</span><br><span class="line"></span><br><span class="line">    “林兄，不瞒你说，昨日之事，我崔家大丢颜面。另有一丫头送了命，我们连</span><br><span class="line">敌人是谁都不清楚。”岑寂又是一惊，低着头，细思量。</span><br><span class="line"></span><br><span class="line">    “……这位公子的伤不轻。岑寂你就留下来，再行针刺几日。”岑寂听了，也</span><br><span class="line">不知自己是喜是忧。忧的是昨晚之事败露，喜的是较有机会再见那位姑娘一面。</span><br><span class="line"></span><br><span class="line">    姨父仍然只是勉励我攻书、学医，居然不提功名之事。林大夫该跟他说过不少</span><br><span class="line">好话。倒是姨妈她欢喜之极，伸手便给了我范宽之大作《溪山行旅图》，大方之至。</span><br><span class="line">此画人称“宋画第一”。</span><br><span class="line"></span><br><span class="line">    走进内宅，我便忍不住想到她也住在这院子里。我压根儿便不了解她，怎会有</span><br><span class="line">朝拜的感觉？容貌是最直观、显性的认识，我只活在我眼中的世界？我可以把她当</span><br><span class="line">做是一张美丽的画？</span><br><span class="line"></span><br><span class="line">    我没见面就厌恶这座院子，正如我一见面就喜欢她。现在瞧来，它也不赖，就</span><br><span class="line">象是卷轴、衬纸，保护了画作。我走不进这道框。我走不进画中。</span><br><span class="line"></span><br><span class="line">    我无法放弃对美的追求。只是我从未象现在这般缺少自信。</span><br><span class="line"></span><br><span class="line">    岑寂步出崔府大门，便见到眯眼微笑的小谢。谢清发道：“有没有漏馅？……</span><br><span class="line">你好象舍不得出来，呆了这么久。”他一身酒气，但脸色如常。</span><br><span class="line"></span><br><span class="line">    周乐喝酒后不带酒气，一张年轻而又沧桑的脸，很有高灵、清淡、飘逸的味儿。</span><br><span class="line">岑寂想到留有大片空白的水墨山水。“这位便是岑夫子，岑寂。他是大侠周乐。”</span><br><span class="line"></span><br><span class="line">    “我以制琴谋生，算不上游侠。周乐盛于西周，侠客则俱在身后之东周。”游</span><br><span class="line">侠不是谋生的行当。以游侠为业的人，只会坐吃山空，如小谢。</span><br><span class="line"></span><br><span class="line">    岑寂发现他嘴角似乎一直含笑，左耳朵居然会扇动。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                              三、大周正乐</span><br><span class="line"></span><br><span class="line">    周乐比谢清发正经，比岑寂实在，比尉迟杯风雅。他听了岑寂的崔府见闻，道：</span><br><span class="line">“小谢，你可闯祸了。若非崔家不想把事情闹大，只怕你便脱不了干系。你那张脸，</span><br><span class="line">还有轻功，都很惹眼。”出了人命案，麻烦自然较多。更何况死的是崔家的人，而</span><br><span class="line">且在这当儿上。</span><br><span class="line"></span><br><span class="line">    王、谢、袁、萧是南迁侨姓中的大族。崔、卢、韦、裴是关中与山东的郡姓，</span><br><span class="line">很少渡江南下。东南有朱、顾、陆等大姓，人称“吴姓”。此外，俱称庶族。朝廷</span><br><span class="line">向由士、庶族共同把持，隐隐间分淮西、浙东两大集团。王、谢接近淮西；崔家则</span><br><span class="line">依浙东，与江浙庶族携手，远通郡姓。三家间是有一定矛盾的。</span><br><span class="line"></span><br><span class="line">    周乐分析大势，侃侃而谈。他讲到，山东泗水裴家已着人向崔家求婚，看中的</span><br><span class="line">是兵部侍郎崔九的独女。两家对这门亲事皆很满意，就要正式订亲了。昨晚之事会</span><br><span class="line">被看成是针对崔裴联姻而来，王谢二家有些嫌疑。但崔家不会张扬。因为士族子弟</span><br><span class="line">多瞧不上习武之人，更不愿涉入江湖仇杀。</span><br><span class="line"></span><br><span class="line">    他不明白谢、岑二人竟会有如此激烈的反应，似乎是听说崔九成为当今皇帝的</span><br><span class="line">岳丈。谢清发狠声道：“裴泗水除了有些眼光之外，一无是处。江南山清水秀；江</span><br><span class="line">北则不能长橘，自不宜佳人居住。早知道，我昨晚就带她一道私奔了。”</span><br><span class="line"></span><br><span class="line">    岑寂随即冷静下来，道：“我原本不愿赖在崔家，今后正可到北方走走。”他</span><br><span class="line">给自个的话逗乐了。陪嫁，抑或陪葬？</span><br><span class="line"></span><br><span class="line">    周乐如今是十三行杭州小头目。各大户人家的男仆、婢女有不少暗中加入了十</span><br><span class="line">三行。可以向他们打探真相，并故意公之于众，以此可以帮小谢洗脱一些罪名。如</span><br><span class="line">果这些传言对崔家不利，则裴家有可能反悔，不再有联婚之想。周乐道，我们十三</span><br><span class="line">行原本也有责任为这位婢女出头。</span><br><span class="line"></span><br><span class="line">    午间，周乐便得到了消息，崔府准备出殡。据称，有一丫环忽染恶疾故去。他</span><br><span class="line">笑道：“我听说崔十一的小公子年少风流，有过一些劣迹。他大爷爷不许他出府门。</span><br><span class="line">那死去的女子正是他房中的丫环。”</span><br><span class="line"></span><br><span class="line">    十三行的消息天下第一灵通，崔家封锁不住。岑、谢已全然明白：少爷想对使</span><br><span class="line">女非礼，为其误伤。只是这位女子是被杀，还是自尽？小谢凛然道：“如今的丫头</span><br><span class="line">都巴不得勾搭上主子。这小姑娘着实可敬。今晚咱们带上酒菜，到她坟上拜祭一番。</span><br><span class="line">然后，挖墓验尸。”</span><br><span class="line"></span><br><span class="line">    他向来只敬苍天，不敬鬼神；重生而又贵死。比如开棺鞭尸，他不怜尸反而替</span><br><span class="line">伍子胥惋惜。</span><br><span class="line"></span><br><span class="line">    岑寂学医，视此为常事。周乐也不反对。丫头被杀的可能性是存在的，尽管崔</span><br><span class="line">家的声名不坏。</span><br><span class="line"></span><br><span class="line">    外面落着轻盈的小雨。岑寂自想着心事。在那深深的庭院里，也许正有位佳人</span><br><span class="line">在赏雨，听雨。椽下如泣如诉的雨帘隔开了两个世界。雨不会打在她身上，一如她</span><br><span class="line">的青眼不会落在我身上。</span><br><span class="line"></span><br><span class="line">    小谢蒙头大睡。雨天和酒后他睡得安稳。正在上琴弦的周乐说道。李白一生低</span><br><span class="line">首谢宣城。小谢独爱太白文章。他发现李白的诗中不见雨景，不写情爱，只有思夫</span><br><span class="line">之妇。</span><br><span class="line"></span><br><span class="line">    小谢喝酒不是因为有心事，而是酒后引发了心事。那时一肚皮不合时宜的清狂</span><br><span class="line">方发见于外者也。</span><br><span class="line"></span><br><span class="line">    半夜，三人带了家伙，出西城，沿西湖向南。周乐已打听到新坟的方位。小谢</span><br><span class="line">还带了纸钱、香烛一干物品。他怜香惜玉，就是不心疼钱。</span><br><span class="line"></span><br><span class="line">    丫头的坟不起眼，找到它颇费了些周折。四下里漆黑一片，烛光畏缩。周乐犀</span><br><span class="line">利的目光似乎发现了什么，示意大家静下。</span><br><span class="line"></span><br><span class="line">    乱坟荒墓中间，一盏灯笼，二根香烛，三个人。岑寂心跳厉害。雨已停，路还</span><br><span class="line">泥泞，依稀能听到钱塘江的涛声。周乐目光清炯。</span><br><span class="line"></span><br><span class="line">    他的声音干净明快：“尸体已为人搬走，不带棺材。瞧，地上遗有点石灰痕迹。</span><br><span class="line">这边也有不少混乱的足印，显是雨后留下的。估计他们也没走远，已经发觉咱们了。”</span><br><span class="line">石灰防腐，棺材中一般都有。</span><br><span class="line"></span><br><span class="line">    “你俩在这儿呆着，装作什么事也没发生。暗中由我在四周查找。”对方不知</span><br><span class="line">是什么来路，很可能是敌非友。”也许他们以为咱们尚且蒙在鼓里。”周乐也不想</span><br><span class="line">让岑寂涉险。</span><br><span class="line"></span><br><span class="line">    小谢道：“你发现敌踪后，大叫一声，我们便赶过去。你可别抢先动手。你死</span><br><span class="line">了，我俩赶到时势单力薄。那可就给你害惨了。甚矣吾衰矣，不见周公！这里可是</span><br><span class="line">只有一具空棺材。”</span><br><span class="line"></span><br><span class="line">    岑寂自高自大，不想号令别人。“周乐”可以仁治，他有魄力，沉稳坚定。当</span><br><span class="line">下不带火具、兵器，隐入暗中。“谢子”有句名言：我不带兵器，因为我健忘，老</span><br><span class="line">落东西；周乐也不带，因为他不用，用不上。他一切从简。</span><br><span class="line"></span><br><span class="line">    扛着尸体不可能走太快。周乐绕过一个小山头，已看到里许外一间亮着灯光的</span><br><span class="line">小屋。准确地说，他看不清屋子，只见着了一方鬼火。他把步子放轻，放慢。对方</span><br><span class="line">敢亮灯，自是有恃无恐。咱惹得起么？周乐决意先不招呼岑谢二人。他长吸一口气，</span><br><span class="line">飞快地做一件事。跑！他以迅雷不及掩耳之势奔跑！如果你要逃，那么跑吧。如果</span><br><span class="line">你想追，那么也跑吧。如果你跑着进攻，那么你很可能会死得很惨。奔跑中真气不</span><br><span class="line">续，不易出手。</span><br><span class="line"></span><br><span class="line">    周乐不承认自己是在进攻。他要逃过狙击，追入小屋。他跑入一片刀光。他随</span><br><span class="line">手一掌拍出，再展开“丝丝入扣”的擒拿手功夫，径直抓向刀把子。他的武功招式</span><br><span class="line">舒缓好看，合着连绵的节拍，似乎由音乐悟得。</span><br><span class="line"></span><br><span class="line">    对手有些手忙脚乱，眨眼间周乐竟已弃他而去，到得小屋外。房门口站着另一</span><br><span class="line">蒙面人。他喝彩道：“胡笳十八拍，来的可是周乐？”周乐微惊。他在江湖中名气</span><br><span class="line">颇大，但武功路数不为人知。对方居然相当了解他。“胡笳十八拍”以琴曲传世，</span><br><span class="line">周乐取为招名，以连环、紧凑为要旨。当下，也不及细想，和身扑上。</span><br><span class="line"></span><br><span class="line">    眼前的蒙面人内力很好，刀架小，贴着身子使，凌历之极。周乐从中瞧出了彭</span><br><span class="line">家的“五虎断门刀”、顾氏的“斩刀”、福建汀州的“曲臂斜腕刀”。此人是何来</span><br><span class="line">历？似乎是这伙人的首领。</span><br><span class="line"></span><br><span class="line">    周乐相当吃紧，对方内力较强，不但不可能空手入白刃，而且难于自保。他提</span><br><span class="line">气上窜。那人不敢大意，抖出一团刀花，平地跃起。周乐抢得先机，一个千斤坠，</span><br><span class="line">快速滑落，隐入刀花之下。他的轻功比蒙面人高。一纵一落间，对手已搞不清他的</span><br><span class="line">方位。</span><br><span class="line"></span><br><span class="line">    周乐一古脑儿拍出数掌，快过草原奔马，大漠狂沙。一时之间，逼住了对手的</span><br><span class="line">刀势。琴声急骤，必会缓下。“十八拍”使完，那人松了口气，手腕一翻，刀走偏</span><br><span class="line">锋，奋而斩手。跟着推送，反撩胁下。</span><br><span class="line"></span><br><span class="line">    周乐识得这记“披风刀”是反客为主，展开抢攻的前奏。他也不变招格挡，挥</span><br><span class="line">手反掌一记“揽雀尾”，显得余音袅袅，回味无穷。那人意料不及，刀已在外门，</span><br><span class="line">只得出掌相接。周乐借掌劲飞出，落在丈外。</span><br><span class="line"></span><br><span class="line">    “怎么会是‘十九拍’呢？”那人不服。胡笳十八拍应当就是十八招。</span><br><span class="line"></span><br><span class="line">    周乐觉得他挺逗的，忍不住答道：“祝家声原谱如此。”祝家声谱上的“胡笳</span><br><span class="line">十八拍”有十九拍之多。</span><br><span class="line"></span><br><span class="line">    屋中抢出几人，周乐松了口气。这几人的武功较弱。当下又是前冲。那几人混</span><br><span class="line">乱出手。他闪身，贴近其中一人，将之骇开，抢到屋前，喝道：“且住。咱们有话</span><br><span class="line">好好说。”屋内仍亮着灯，除了女尸外，不知还藏了什么。他脸带笑容，负手背光</span><br><span class="line">而立，看清对方共有五人，皆蒙面。</span><br><span class="line"></span><br><span class="line">    这五个蒙面壮汉稳下阵脚，半圆围上。周乐调息，耳朵微微扇动。窗口突然裂</span><br><span class="line">开，扑出黑影。他不挡不躲，只将它抱了，乃是一床棉被！这荒山小屋想是看坟人</span><br><span class="line">所居。周乐摸着棉被冰凉，心想，主人今晚并未睡下？</span><br><span class="line"></span><br><span class="line">    他顺手掷回被子。窗内正跳出一人，持刀前刺。见被子当头盖来，失了周乐踪</span><br><span class="line">迹，刚一愣，胸口隔着棉被受了一记重击，闷声倒地。此人本意以被子扰乱周乐视</span><br><span class="line">线，再一刀突袭。不料周乐听力过人，并未上当。</span><br><span class="line"></span><br><span class="line">    先前说话的蒙面人和身欺上。周乐不愿他近身，直身跳上屋顶，两脚让过一记</span><br><span class="line">“绞刀式”。再踢下一大团茅草。那人赶忙滑步闪开，以“夜战八方团刀式”紧紧</span><br><span class="line">护了全身。</span><br><span class="line"></span><br><span class="line">    另一蒙面人正查看伤者，见一人如大鸟飞下，便一个后翻身，舞了几下刀花。</span><br><span class="line">“大鸟”空中旋身，拧腰折向，斜斜探出，路线有如一雁行“人”字，俯地扑向旁</span><br><span class="line">人。这位仁兄空手，猝遇强敌，只得出掌硬拼，但周乐这一拳居高临下，委实太快、</span><br><span class="line">太重，顿时双腿一软，瘫在地上。</span><br><span class="line"></span><br><span class="line">    “武当‘九连蹬’。”有人失声叫道。武当山有一道险径通往主峰金顶，陡峭</span><br><span class="line">无比，蜿蜒回旋，便唤作“九连蹬”。武当轻功以空中回旋，换气挪身见长，可在</span><br><span class="line">空中稍作逗留。江湖传言周乐有武当背景。</span><br><span class="line"></span><br><span class="line">    那名头目的刀比喊声先到。周乐心中叫苦，双足一点，又掠开数丈。那头目也</span><br><span class="line">怕他个个击破，示意另两人与自已组成铁三角。余下一人，摸出火石，便要烧房。</span><br><span class="line"></span><br><span class="line">    周乐乐不起来，只好故伎重演。他窜身，使着“一行哀雁十三筝”，有无可奈</span><br><span class="line">何，绝地求生的意义。立马有人纵身相迎，双掌略曲，招式开阔，疏而不漏，劲力</span><br><span class="line">逼人。</span><br><span class="line"></span><br><span class="line">    周乐识得这叫“拿云手”，郑中孚郑大侠所创。郑中孚有两个外号。一个即是</span><br><span class="line">“风行泽上，无所不周；信之被物，无所不至，左玉皇，武圣人”。另一个较为写</span><br><span class="line">实，“五言长城，七绝圣手”。前半句说他言而有信，后半句则指他的七记绝招：</span><br><span class="line">传杯手、拿云手、经纶手、小梅花缚虎手、红酥手、推手含情还却手、心应手。这</span><br><span class="line">七绝圣手各有数十式变化，奥妙无比。郑中孚却将之公诸于世，想让它们广为流传，</span><br><span class="line">一如罗汉拳、八段锦、太祖长拳。只是武林中鲜有人能练成其中的一招一式。</span><br><span class="line"></span><br><span class="line">    周乐赶忙拔高二尺，向点火之人掠去。湖南衡山有“回雁峰”，他这一式暗合</span><br><span class="line">“衡阳雁去无留意”，干脆、轻盈地飘逝，令对手惆怅不已。</span><br><span class="line"></span><br><span class="line">    火石敲击之声停下，那人回刀横砍。周乐踢出鞋上的几点泥水，再一记“乱弹</span><br><span class="line">琴式”破开蒙面头目的进击。 点火之人脸上仍是着了几滴泥水，有些吃疼，手上便</span><br><span class="line">露出破绽。但周乐已无力分心攻他，自顾不暇。</span><br><span class="line"></span><br><span class="line">    火苗开始窜跃，周乐跟女尸一样，无法脱身。他的轻功身法已失新鲜。</span><br><span class="line"></span><br><span class="line">    这当儿，照理说得有人相救了，比如岑谢二人。四周不见人影，但那点火之人</span><br><span class="line">呆了：一重物压在火上，将之灭了。他左腿的“悬钟穴”、“昆仑穴”、“太溪穴”</span><br><span class="line">俱为扣住，仰面倒下。他已看不到一人施施然地由火堆的灰烬上立起。”周乐，我</span><br><span class="line">为你蹈火克敌，该如何报答？由于我的轻功太过出色，岑寂那小子被我远远地甩在</span><br><span class="line">后头。”谢清发前胸的长衫上一片灰迹，正用力拍打。</span><br><span class="line"></span><br><span class="line">    他的轻功妙在绝快，待敌人发觉他赶来时，火已熄，人已倒。那头儿以“碎刀</span><br><span class="line">式”将小谢逼开，回刀插地，竟将那点火之人的脖子刺穿。再扬左手，大把“透骨</span><br><span class="line">钉”激射周乐。</span><br><span class="line"></span><br><span class="line">    要毁尸灭口而逃！周乐双手使“神仙一把抓”，拿得几枚钉子，想护住身后脚</span><br><span class="line">下的伤者。这时，仅存的三个蒙面人皆舍了小谢，齐齐攻向周乐。周乐挡之不住，</span><br><span class="line">只好跃开。又是两名伤员死去。</span><br><span class="line"></span><br><span class="line">    小谢摊手苦笑。他不敢正面对敌，胸口的衣屑如小黑蝶般纷飞。这时岑寂也已</span><br><span class="line">赶到。蒙面人撤入暗中。周乐知道己方并无多少优势，也不想追出。这伙人的武功</span><br><span class="line">参差杂乱，拼劲有余，狠劲不够。且不长于破袭，自不会是“借刀”的杀手。</span><br><span class="line"></span><br><span class="line">    “那头领的刀法可排在海内前二十名之内。”周乐道。方才他一直游斗，不敢</span><br><span class="line">与之正面纠缠。</span><br><span class="line"></span><br><span class="line">    小谢阴恻恻地道：“但你更胜一筹，所以你是黄金榜上的人物，‘盖观论定’</span><br><span class="line">中排在前二十名。否则，你受六人围攻，这会儿只怕仍会有四具尸体，只不过都有</span><br><span class="line">名有姓了。”岑、谢、周三人，加上女尸，是为四。</span><br><span class="line"></span><br><span class="line">    周乐俯身察看死者面容。揭下面罩个个很普通，不识得。“他们杀掉受伤同伴</span><br><span class="line">的做法很象一个秘密组织‘城隍庙’。”</span><br><span class="line"></span><br><span class="line">    小谢闻之动容，道：“怪不得这些高手都如此陌生。咱们今后的麻烦大了。不</span><br><span class="line">过，为什么城隍庙也会盯上崔家呢？”</span><br><span class="line"></span><br><span class="line">    周乐不语，推门入房。</span><br><span class="line"></span><br><span class="line">    三人一尸挤在屋里，四面便只余下烛光。烛光下，那丫环神情安静，脸上竟有</span><br><span class="line">些红润。小谢突然一掌劈灭烛火。岑寂笑道：“你在做甚么？想吓死我？”</span><br><span class="line"></span><br><span class="line">    小谢点了火折子，把手伸向岑寂。岑寂为人多思多虑，不会乱扔东西，身上必</span><br><span class="line">备了香烛。果然如此。香烛光下，小谢很得意。“周乐，你有无想过，这屋中原有</span><br><span class="line">的蜡烛很可能有毒。它透身晶莹，显然不是屋中存放的旧物。”他扬了扬那半截蜡</span><br><span class="line">烛。</span><br><span class="line"></span><br><span class="line">    “虽然城隍庙的小鬼善于使毒。但这蜡烛无毒。”周乐胸有成竹，“在这样的</span><br><span class="line">荒野，值此梅雨季节，蚊虫必多。如果烛有毒，则在它周遭必少有蚊蚋。事实并非</span><br><span class="line">如此。”小谢哑然。</span><br><span class="line"></span><br><span class="line">    周乐不仅长于推理，似乎干过杵作。检查完丫环的尸体，他低声道：“上梁自</span><br><span class="line">尽。”</span><br><span class="line"></span><br><span class="line">    “城隍庙的人与我一样失望。”小谢这句话格外简洁。蒙面人欲不利于崔府，</span><br><span class="line">可找不到把柄，故而弃下尸体，并想焚之。</span><br><span class="line"></span><br><span class="line">    周乐蹲地，道：“看坟人的尸体在床下，死了有些时候了。”他打量墙边的几</span><br><span class="line">把铁锹。新旧不齐，店家不一，上附有湿泥，自是蒙面人所使的。”城隍庙是个新</span><br><span class="line">的城市暴力组织，在江南各地皆有零星活动。它不为人熟知，暗中与十三行有过冲</span><br><span class="line">突。”由铁锹查人，无异于大海捞针。</span><br><span class="line"></span><br><span class="line">    “去年三月它在杭州首次露面，杀了私盐贩子张四一。今年湖州城的流氓老大</span><br><span class="line">‘五毒俱全’莫名死去。据信，亦为该组织所为。”“五毒俱全”不会使毒，武功</span><br><span class="line">着实不错。</span><br><span class="line"></span><br><span class="line">    “我怀疑它企图控制私盐买卖，地下钱庄，赌场、妓院。”这几宗都是大收入，</span><br><span class="line">界于黑白道之间，扎根城市，与传统的绿林不同。</span><br><span class="line"></span><br><span class="line">    “我也怀疑你是为衙门做事的捕快。”岑寂笑道。</span><br><span class="line"></span><br><span class="line">    “我与尉迟都当过捕快。其实男人能干的行当，我几乎都试过。”</span><br><span class="line"></span><br><span class="line">    他又道：“三年前，尉迟由于抓不了‘五毒俱全’，知他上头有人护着，愤而</span><br><span class="line">去职。前一阵子那小子惨死，其背靠之人怀疑是尉迟下的手。心下害怕受报应，便</span><br><span class="line">请了杀手来对付尉迟。”周乐在姑苏获知尉迟遇刺之事，当即展开调查，故而回来</span><br><span class="line">较迟。</span><br><span class="line"></span><br><span class="line">    “本地衙门的捕快虽然平庸，但还是能帮咱们一点忙。这几具尸体交给他们，</span><br><span class="line">一则可以让民众来认尸，从而搞清那三人的身份；二则可以将此事闹得沸沸扬扬，</span><br><span class="line">满城风雨，令崔家面上无光。当然，我们不必出头，不必直接与衙门打交道。”</span><br><span class="line"></span><br><span class="line">    小谢有了些笑容。抓不到崔家的把柄，造它的谣也不赖。裴家大概也会害怕因</span><br><span class="line">了这门亲事，与城隍庙结怨。</span><br><span class="line"></span><br><span class="line">    “咱们走罢。”周乐一把提了几具尸体。岑寂瞧着直咂舌。他们把尸体搬到较</span><br><span class="line">易为人发现的路旁。</span><br><span class="line"></span><br><span class="line">    几日后，衙门还没有传出什么消息。周乐告诉谢清发，十三行有批货要由“大</span><br><span class="line">淮扬”镖局押至泉州、月港。尉迟有伤，小谢理应代劳。“咱们坐吃山空，也该挣</span><br><span class="line">点钱。”</span><br><span class="line"></span><br><span class="line">    岑寂说，他要回家一趟，还可结伴走。</span><br><span class="line"></span><br><span class="line">    他来到崔府辞行。那受过伤的少爷正在晨练，看上去居然不笨，也不会讨人嫌。</span><br><span class="line">岑寂觉得他不象是坏人。</span><br><span class="line"></span><br><span class="line">    我不会对世家子弟抱有偏见的，虽然我羡慕他们。裴家的子弟可能会是人中之</span><br><span class="line">凤，比我强。……回家一两个月，会不会错过什么机会？老呆在这儿，我可能再干</span><br><span class="line">出出格之事。我贪图女色，不合孝道。我有些舍不得离开……</span><br><span class="line"></span><br><span class="line">    他内心里似乎在恐惧真实的两性接触。他需要有一位少女让他魂牵梦绕，却又</span><br><span class="line">不敢追她，追不到她。需要？</span><br><span class="line"></span><br><span class="line">    就要出发了，周乐道：“我二十出头时为天涯倦客，什么都蛮不在乎。如今我</span><br><span class="line">二十五了，首先考虑的是生存。”他劝二人多加小心。“你钱多时会大方一点，是</span><br><span class="line">么？”小谢道。</span><br><span class="line"></span><br><span class="line">    点头。</span><br><span class="line"></span><br><span class="line">    “这便是了。我生命的本钱此时正足正多，所谓‘狂夫富贵在青春’也。”话</span><br><span class="line">虽如此，一路上他有所收敛。</span><br><span class="line"></span><br><span class="line">    过了仙霞关便是福建。“大淮扬”镖局的招牌很铁，一路上无事。小谢说什么</span><br><span class="line">也不愿上岑寂家一坐。”我在家中总觉别扭。令尊令堂见到我，谢家的形象遭罪不</span><br><span class="line">打紧，只怕对右族小姐也要失去信心。”他顽劣惯了。</span><br><span class="line"></span><br><span class="line">    二十天后，两人重会。车上的货物变少，只装了些香料、象牙。小谢俨然是个</span><br><span class="line">道中老手，说纵使尉迟伤好了，镖局也不想要他了。因为小谢我比他出色多了。</span><br><span class="line"></span><br><span class="line">    “我唯一受不了的是见不着苏杭的女子。章台系马折柳枝，赢得青楼薄悻名。</span><br><span class="line">只惜我有钱的时候太少，冷落她们了。”岑寂与他有略为相似的同感。他想不到会</span><br><span class="line">有人劫镖，他的心已不在。</span><br><span class="line"></span><br><span class="line">    事情发生时，马车正在爬坡。道上见不着行人，山路倚崖临渊。谁也想不到镖</span><br><span class="line">队的敌人来自镖车底下。</span><br><span class="line"></span><br><span class="line">    一痕剑光疾射小谢，快得竟未惊着拉车的马匹。刺客由镖车下滚出，跃起，非</span><br><span class="line">常突然。小谢只来得及大叫。但岑寂的泥活字已经出手。那人一脚蹬马，挥剑回格。</span><br><span class="line">马儿嘶叫倒地，险些压着小谢。</span><br><span class="line"></span><br><span class="line">    小谢侥幸逃得性命，抢了一柄剑杀将过去。他家传的“石头剑法”，法度严谨，</span><br><span class="line">有金陵王气。但他不喜之以守为主。所以妄加发挥，展开对攻。</span><br><span class="line"></span><br><span class="line">    他内力不足，但胸中自有狂傲豪放之气。剑招固然凝重，却不呆板，宛如突兀</span><br><span class="line">险峰，直面山风；又如太湖怪石，泰山石敢当。一招“雨花石”尚未使尽，长剑抡</span><br><span class="line">圈，一波三折，化成“三生石”。“三生石”这式剑招无形迹可寻，飘缈轻盈，多</span><br><span class="line">出了几分空灵，正合小谢使来。</span><br><span class="line"></span><br><span class="line">    杀手平直举剑，直刺。剑上所带的强劲内力将“三生石”的梦幻打破。小谢的剑</span><br><span class="line">被荡到外门，前胸告急。只得勉强挥剑，一着“玉石俱焚”。</span><br><span class="line"></span><br><span class="line">    小谢已无斗志。逃命时轻功较为管用。他的身法非常曼妙好看，躲过了几下杀</span><br><span class="line">着。但刺客之剑如影附形，如蛆附骨，奋迅如霹雳。小谢已退至路边。背后是山崖，</span><br><span class="line">崖下是江水。他甚至还未明白发生了什么事。</span><br><span class="line"></span><br><span class="line">    深渊，所以几乎听不见流水声。树丛中的虫子齐齐静穆。“杀气三时作阵云”，</span><br><span class="line">不见阳光。</span><br><span class="line"></span><br><span class="line">    岑寂又弹出一枚泥活字。杀手先前已看出他内力不高，却不知决气法能令他如</span><br><span class="line">虎添翼，心想只要不中要穴，问题不大。而剑招一缓，让谢清发展开“空虚入冥，</span><br><span class="line">无形灭影”的轻功来，便再也追他不上了。当下，运气闭穴，硬受了那枚泥活字。</span><br><span class="line"></span><br><span class="line">    哪料岑寂熟悉通身经脉，决气法尽破一切护身真气。那枚小小的活字虽未打在</span><br><span class="line">穴道上，却击正经脉。因为经脉遍布全身，比比皆是。</span><br><span class="line"></span><br><span class="line">    那人的“手少阴经”、“手厥阴经”、“足少阳三焦经”齐齐受震，真气翻腾，</span><br><span class="line">虽未受伤，剑势已尽。如果这枚活字击中无固定位置的“天应穴”，威力会更大。</span><br><span class="line"></span><br><span class="line">    岑寂情知机不可失，冒险正面欺近。刚到得其身前二尺，那人长剑回掠，斜劈</span><br><span class="line">他的大好头颅。岑寂左手甩动处，又一枚活字击正那人右手寸部脉口。两人距离太</span><br><span class="line">近，刺客无法躲开。</span><br><span class="line"></span><br><span class="line">    医学上讲“关前一分，人命之主。左为人迎，右为气口”。那人“气口”受击，</span><br><span class="line">长剑落下，碰着岑寂的肩头掉地。鲜血渗出。</span><br><span class="line"></span><br><span class="line">    岑寂右手一记直拳。小谢觉得奇怪，他拳头伸不及对手胸口呀，此为虚招？但</span><br><span class="line">定睛细瞧，那人胸前钉了一截刀柄，仰天倒地，不再动弹。原来岑寂已将小刻刀由</span><br><span class="line">袖中滑入手心，一击中的。</span><br><span class="line"></span><br><span class="line">    小谢伸手试汗，道：“岑夫子，干得漂亮。你左肩的伤势如何？”岑寂回过神</span><br><span class="line">来，笑道：“你倒成了大夫。”这是他平生第一次杀人！小谢拔出刻刀还与岑寂。</span><br><span class="line">他摸出尸体上的东西，又取下其面罩，没发现什么，只好将之俱抛入江中。</span><br><span class="line"></span><br><span class="line">    “咱俩的运气不错。”若非岑寂下意识地反应、出手，小谢躲不过那致命一剑。</span><br><span class="line">倘若刺客先攻击岑寂，谅可得手。那时小谢也只有死路一条。</span><br><span class="line"></span><br><span class="line">    “他的剑法很简单，全无花架子，甚至不合使剑原理。纯以气御剑，是只为破</span><br><span class="line">袭杀人的剑法。”小谢道，“他与上回那位杀手不是同一人。”同是杀手，今天这</span><br><span class="line">位较为恋战且不识得决气法。</span><br><span class="line"></span><br><span class="line">    岑寂道：“莫非上回杀手乃是误伤尉迟，目标同样是你。”</span><br><span class="line"></span><br><span class="line">    小谢摊手苦笑，无法回答。他的双眼眯得厉害。</span><br><span class="line"></span><br><span class="line">    一行人到得永嘉，听到几个大消息。“大淮扬”永嘉分局的镖头讲得口沫横飞：</span><br><span class="line">江浙路总捕头的得力助手哮天犬给人宰了，弃尸金陵街头。总捕头苏无名则被毒死</span><br><span class="line">在他相好的家中。</span><br><span class="line"></span><br><span class="line">    “苏无名吃了三十年公门饭，历经大风大浪，居然捱不到退休。年来，金陵城</span><br><span class="line">中一到夜间，便有白衣人传唱扶箕诗：天遣魔军杀不平，不平人杀不平人，不平人</span><br><span class="line">杀不平者，杀尽不平方太平。我早就料到总有一天魔教会死灰复燃的。”</span><br><span class="line"></span><br><span class="line">    “听说金陵布政司、提刑按察司长官，杭州浙东盐运使皆为人刺杀。苏州知府</span><br><span class="line">也被炸死在书房里。有人还散发帖子数落他们的罪行。”</span><br><span class="line"></span><br><span class="line">    小谢是金陵人，他家长辈不在本地当官，没觉得有什么大不了的。</span><br><span class="line"></span><br><span class="line">    “侯补的谋个肥差，外放的捞它一把，刑侦的总能抓上几人领赏。大伙儿多点</span><br><span class="line">饭后谈资罢了。盐运使钱老儿即是‘五毒俱全’的后台。岑寂，今后只怕没有杀手</span><br><span class="line">给你试刀了。”</span><br><span class="line"></span><br><span class="line">    行到台州，不由得小谢不动容了。平民百姓都在议论纷纷。运河盐船被劫，官</span><br><span class="line">盐为扛走几十万斤。更有甚者，山贾会几大盐商：晋阳、信成、鑫进、来升的长芦</span><br><span class="line">盐引与川东盐引被抢；徽商帮的金城、喜德亨、李氏所握的浙东盐引亦丢了不少。</span><br><span class="line"></span><br><span class="line">    盐税极高，是官府最大宗的收入之一。官家严禁私盐贩卖。盐引是购盐凭证，</span><br><span class="line">得用粮、钱跟有司购买。出了如此大事，只怕私盐贩子会立马多如牛毛，户部也该</span><br><span class="line">睡不好觉了。</span><br><span class="line"></span><br><span class="line">    苏北还有鄂皖一带，盐价势必下跌，百姓短期内获益。过段时间，官府严加追</span><br><span class="line">查，风声一紧，各大盐商屯盐不卖，盐价反又攀高。且不论，朝廷可能会提高盐税。</span><br><span class="line"></span><br><span class="line">    小谢兴奋地道：“这一路上可越来越有趣了。我真想马上赶到明州。说不得那</span><br><span class="line">儿人们已在传说，徽商帮五大富商‘李庄黄蔡叶’的钱庄、典当行、绸缎店俱悉关</span><br><span class="line">门。山贾会‘平底锅’票号给人砸了。”</span><br><span class="line"></span><br><span class="line">    徽商帮源于徽州，经营文具、丝绸、米盐，近几年又开了典当行、钱庄。其主</span><br><span class="line">要人物共分五姓，人们戏称为“李庄黄菜叶”。势力在江南，尤其是淮扬一带。它</span><br><span class="line">不是传统意义上的帮会，只是松散的地域集团。</span><br><span class="line"></span><br><span class="line">    山贾会“平底锅”指“平、狄、郭”三大晋省富商家族。北方称钱庄为银号、</span><br><span class="line">票号。“平底锅”的几家银号都是海内最大的，分店很多。</span><br><span class="line"></span><br><span class="line">    “二商”还开设武馆、镖局，勾结官府，横行不法，鱼肉乡里。此为富绅通病。</span><br><span class="line">所以有人言：二商奸，四术不正，五大门派明哲保身。岑寂摆弄着刻刀，只觉得事</span><br><span class="line">不关己，没心思虑及。次日晚抵明州。明州即是宁波，这儿真个波澜不兴。小谢甚</span><br><span class="line">为奇怪：想是距杭州近了，言语间不方便，人们有了顾虑？不过，明州分局还是提</span><br><span class="line">供了一道消息： 京城里的大捕快、 刑部侍郎胡不归、员外郎刘连、提点刑狱公事</span><br><span class="line">“钟馗”，佥事“捍棒”、“蝙蝠”，会同御史中丞舒用、龙图阁直学士谢德兴以</span><br><span class="line">及新任布政司长官，即日南下。</span><br><span class="line"></span><br><span class="line">    “如此一来，江浙道上的朋友得上外地避风头。咱们走路也图个省心。胡不归</span><br><span class="line">手下这班人马厉害得紧，象七巧唐图、迷神引这样的角色都折在他手里。天牢里关</span><br><span class="line">了不下百名江湖一等一好手。有人称，那儿是天下高手最密集的地方，其次才是少</span><br><span class="line">林罗汉堂。”</span><br><span class="line"></span><br><span class="line">    谢清发觉得也是，道：“刑部这回再抓上百十人，再把他们都砍了。到那时，</span><br><span class="line">黄金榜&#x27;概观论定&#x27;中武功排名靠前的人几乎全死干净了。也用不着我们护镖了，街</span><br><span class="line">头卖艺的拳师就可以横行南北水陆两道。大家喝西北风去？”他笑成一团。</span><br><span class="line"></span><br><span class="line">    黄金榜是不定期梓行的出版物。编者三槐堂居士，真名不为人知。江湖中传言，</span><br><span class="line">黄金榜是借刀杀手公布的，依武功排名定暗杀报酬。那名捕胡不归在&quot;概观论定&quot;中</span><br><span class="line">能排进前二十名。</span><br><span class="line"></span><br><span class="line">    终于回到杭州。尉迟杯的伤口已经愈合，武功尚未恢复多少。四人在关帝庙置</span><br><span class="line">了酒席。一杯酒下肚，小谢便迫不及待地问起那些凶案、劫案。</span><br><span class="line"></span><br><span class="line">    周乐道：“盐运使钱老儿死后，衙门清点家财，据说没少什么。有位熟人告诉</span><br><span class="line">我，金城钱庄两个月前为他开具一张庄票，金额很大。但钱夫人说家里已找不着。”</span><br><span class="line">言下之意，庄票给了杀手，令之刺杀尉迟。</span><br><span class="line"></span><br><span class="line">    “你们在途中遇到的杀手可能是&#x27;城隍庙&#x27;派来警告咱们的。虽然我谈不出原因。</span><br><span class="line">月来死去的六个命官，我瞧都不是&#x27;借刀&#x27;干的。又用炸药，又下毒，只怕是想拖唐</span><br><span class="line">门、雷堂下水。”</span><br><span class="line"></span><br><span class="line">    “老古董告诉我，山贾会三大银号晋阳、鑫进、顺和安，徽商帮的金城、宝昌</span><br><span class="line">隆钱庄，江南、李氏典当行都给抢了不少钱物。但富商们怕失去信誉，不敢张扬。</span><br><span class="line">老古董店里连库房也给人盗了，损失银钱数十万两。如此看来，墨家也有麻烦。”</span><br><span class="line">这些大店都是墨家的老主顾，机关门锁尽由其打制安装。老古董是周乐的朋友，江</span><br><span class="line">南典当行杭州掌柜。</span><br><span class="line"></span><br><span class="line">    小谢有些得意，自己在台州的时候猜着了大半。</span><br><span class="line"></span><br><span class="line">    “此次风波以金陵、苏州为大。杭州只有老古董一家倒霉。明教的嫌疑最大，</span><br><span class="line">因为它的本事也大。但它历来受到官府、白道多方打压，似乎没有理由再广树强敌。</span><br><span class="line">明教曾从西洋贸易及西北胡市中获取暴利，没有必要来江南抢劫。”尉迟只是自顾</span><br><span class="line">自喝酒，听得“明教”二字时，眉毛一扬。</span><br><span class="line"></span><br><span class="line">    明教是由波斯传入中土的。跟佛教徒一样，讲信仰、食菜拜佛。他们的佛叫摩</span><br><span class="line">尼，崇拜光明。明教在东南沿海、西域高昌一带影响颇大，与弥勒、白莲、道教相</span><br><span class="line">互渗透。组织不甚严密，教众很虔诚。岑寂侃侃而谈。</span><br><span class="line"></span><br><span class="line">    宋朝庄绰《鸡肋编》说：“睦州方腊之乱，其徒处处相煽而起。”宣和二年，</span><br><span class="line">明教起义。”谓人生为苦，若杀之，是救其苦也，谓之度人。度人多，则可以成佛；</span><br><span class="line">即身被杀，又谓得度，由是轻生嗜杀。”志盘《佛祖统记》亦有记载。岑寂补充道：</span><br><span class="line">“这些记载中有不少歪曲、诬蔑之词，不太可信。”</span><br><span class="line"></span><br><span class="line">    周乐也道：“它行事邪异，所事奉的又非中土神明，故被称作事魔之党，魔教。</span><br><span class="line">它不算黑道，也非白道。它身在江湖，却不象个武林帮派。似乎没做过什么坏事。</span><br><span class="line">只不过官府与儒、道、释三家均容不得它罢了。一有冲突，明教视自已、他人的性</span><br><span class="line">命如草芥，杀了不少名门正派的弟子。因而结下了仇。”</span><br><span class="line"></span><br><span class="line">    明教徒中会武功的人不多。 其首脑跋帝的武功却可列到“黄金榜” 首位，是</span><br><span class="line">“二帝君”之一。气、风、水、火四个长老也曾在江湖中闯下极大的万儿。近十年</span><br><span class="line">来，明教弟子很少露面。</span><br><span class="line"></span><br><span class="line">    小谢击节笑道：“此事不管是何人所为，总是胆大包天，听来颇为痛快。”他</span><br><span class="line">惟恐天下不乱。</span><br><span class="line"></span><br><span class="line">    周乐微笑道：“我打算与尉迟到九华山散散心，你俩去么？十三行传来的消息</span><br><span class="line">说，一少年剑客只身挑了祁门武馆、言家拳馆，进入安徽，又击败了黄山试剑庐的</span><br><span class="line">‘剑术大学士’。现已动身前往大淮扬宣城武馆。”大淮扬武馆、镖局都是宝昌隆</span><br><span class="line">系的骨干，庄氏家族产业。</span><br><span class="line"></span><br><span class="line">    “那位剑术大学士没能挡住这少年十招，宣城武馆自也不在话下。九华山风光</span><br><span class="line">秀美，九华派在五大门派中排名第三，以剑法见长，正在宣城左近。那少年必去无</span><br><span class="line">疑。徽州、池州均距此不远，走快点能赶上‘四香阁功臣，天台十八将’出手。”</span><br><span class="line"></span><br><span class="line">    小谢笑道：“这等热闹事儿，自然少不了我。九华派中有个叫施湛露的小姑娘，</span><br><span class="line">乃是施主施大侠的独女，据说人长得漂亮，性格更不一般。我早想结识了。”</span><br><span class="line"></span><br><span class="line">    岑寂则道：“我得回崔府做些功课。如果那少年胜了，自会来苏杭。周乐，他</span><br><span class="line">叫什么名字？”</span><br><span class="line"></span><br><span class="line">    “过上两天，你就能听说了。连岑夫子都打听的人，不可能不一举成名。”周</span><br><span class="line">乐道，“他叫独孤寒，独自、孤寒。”</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                              四、我独孤寒</span><br><span class="line"></span><br><span class="line">    自古只有“云台十八将，凌烟阁功臣”之说。但好事者因这池州九华山主峰为</span><br><span class="line">天台，山上有四香阁；东阳不疑夫妇与唯识、法相两个老和尚一块开宗立派，收了</span><br><span class="line">十八个极为成器的弟子；九华派后来居上，好生兴旺，所以便称他们作“四香阁功</span><br><span class="line">臣，天台十八将”。</span><br><span class="line"></span><br><span class="line">    “四香”的师父“剑圣”曹之其十年前故去，当时未有九华派。曹之其与郑中</span><br><span class="line">孚、少林世尘大师、武当冷苔老道，凑成所谓的白道“一僧一道二圣人”。明教教</span><br><span class="line">主跋帝与“下笑世上士，沈魂北罗酆”的“东岳帝君”沈魂，则合称为“东西并立</span><br><span class="line">二帝君”。</span><br><span class="line"></span><br><span class="line">    那时明教势力由西域进入中原，在东南沿海发展很快。所以在十年前发生了一</span><br><span class="line">场火并。跋帝与曹之其在庐山双剑峰绝顶比试，结果两败俱伤。曹之其已有八十高</span><br><span class="line">龄，故回九华不久仙逝。</span><br><span class="line"></span><br><span class="line">    六年前周乐步出师门时，东西二帝俱已绝迹江湖。沈魂据说败在郑中孚手下，</span><br><span class="line">避走海外。跋帝不知是否尚在人世。</span><br><span class="line"></span><br><span class="line">    曹之其少时信儒家，中年转黄老，花甲以后遁入空门，削发为僧。古稀参悟禅</span><br><span class="line">宗，于老庄颇有心得。九华山本是天下四大佛教名山，僧侣众多。所以九华派武功</span><br><span class="line">有释家底子，内功叫“三法印”，以“诸行无常，诸法无我，涅盘寂静”为最高宗</span><br><span class="line">旨。 九华“大悲十二段式” 剑法分十二套，合计有三千多招。江湖人化李太白诗</span><br><span class="line">“天台四万八千招”言其多，剑法变幻繁杂。“诸行无常”，对手无论如何也猜不</span><br><span class="line">透这么多剑招的组合顺序。</span><br><span class="line"></span><br><span class="line">    九华派与徽商帮关系很密切，后者经常供奉“香油”。否则，九华派二百来号</span><br><span class="line">人便得下山化缘。“天台十八将”中有七个在各地镖局、武馆、钱庄当头。一人在</span><br><span class="line">杭州，即老古董是也。有三人干脆就分别是黄、叶、李家的子侄。</span><br><span class="line"></span><br><span class="line">    东阳夫人收了不少女弟子，于是便有了更多的女徒孙。这在当今武林极为突出。</span><br><span class="line">有人戏言，九华山的僧人修行最苦，道行最深，身在繁华秀美的江南水乡，且与这</span><br><span class="line">么多惹不得的侠女为邻。这些女弟子虽非出身右族世家，却也有不少是地方豪强、</span><br><span class="line">巨贾富商的千金。金龟婿中也少不了有头脸的人物。近些年，少林、武当不理尘世，</span><br><span class="line">绝少收俗家弟子；青城、昆仑偏居一隅。门派中以九华最为红火。</span><br><span class="line"></span><br><span class="line">    所以，当有关这少年剑客的消息传到九华总堂时，东阳夫妇跟他们的弟子皆不</span><br><span class="line">以意。九华派可以不理会这位叫独孤寒的无名小辈，可以赶他走路。但东阳不疑不</span><br><span class="line">想这么干。九华派是名门正派，不能与人口实。第三代弟子实战少，正好让他们磨</span><br><span class="line">练一番。</span><br><span class="line"></span><br><span class="line">    天下门派百来个，九华确有过人之处。它较少门户之见，弟子们甘心涉足商业，</span><br><span class="line">结交一般朋友，没有太多规矩。</span><br><span class="line"></span><br><span class="line">    如此，东阳不疑造就了一件盛事。皖、赣、浙、鄂、湘、苏六省不少剑客、武</span><br><span class="line">夫都赶来池州。其中固然别有原委：江浙氛围不对，走为上策；皖南黄山、九华正</span><br><span class="line">可避暑。但还是有不少人是冲着九华剑法来的。</span><br><span class="line"></span><br><span class="line">    周乐三人一大早便上山，到得九华总堂，那儿已等了不少人。门开着，门内没</span><br><span class="line">人，只有两头狮子守着。门口阶下端坐了一个二十岁上下的捧剑少年。普通长剑，</span><br><span class="line">不普通的地方，再普通不过的少年。众人都在议论这少年表面上出奇的镇静与沉默。</span><br><span class="line">孤寒，即有不合群，不重声名，我行我素、节俭之意。</span><br><span class="line"></span><br><span class="line">    日上三竿，骄阳似火，少年仍是面无表情，也没见流汗，宛如一汪深潭，一口</span><br><span class="line">古井。时辰快到了，周乐心里想。</span><br><span class="line"></span><br><span class="line">    少年立身。人群中有带沙漏的，跟着嚷道：“时辰已到，九华派……”</span><br><span class="line"></span><br><span class="line">    周乐注意到，独孤寒心中默算时辰居然如此之准，九华第三代弟子中只怕没人</span><br><span class="line">打得过他。周乐想到岑寂。</span><br><span class="line"></span><br><span class="line">    这时，九华总堂内走出一行人。</span><br><span class="line"></span><br><span class="line">    小谢眯眼道：“瞧他少年老成、冷静坚忍的样子，我实在不愿与之为敌。”</span><br><span class="line"></span><br><span class="line">    尉迟笑着打趣：“如此说来，你愿意与九华为敌？”小谢只有摇头。谢家与九</span><br><span class="line">华派有往来。自谢宣城谢眺始，谢氏族中便有居住皖南的，虽然本家以浙江南山为</span><br><span class="line">宗。”如果今日不是如此炎热，我愿与他一战。”尉迟一向好战。</span><br><span class="line"></span><br><span class="line">    九华派今日出场的有陆巨真、展颜、楚新狂，及三十几个三代弟子。陆巨真是</span><br><span class="line">第二代的大弟子，近来已代理掌门一职。几句开场白之后，他示意一弟子出列。</span><br><span class="line"></span><br><span class="line">    看上去，此人年纪尚轻。人群中议论纷纷，都不知名。</span><br><span class="line"></span><br><span class="line">    “在下李诗，请赐教。”周乐瞧他的样子，斯文、稳重，似乎很自信。</span><br><span class="line"></span><br><span class="line">    “我独孤寒，”长剑出鞘，并不出招。阳光直照在独孤寒的眼上。</span><br><span class="line"></span><br><span class="line">    他说话的声音较低，调子有点儿怪。尉迟以为内中有些怯意。</span><br><span class="line"></span><br><span class="line">    李诗使了记虚招，大致是“苍松迎客”。独孤寒挺剑直刺。一干人都替李诗松</span><br><span class="line">了一口气：拆招平平，劲力不强。</span><br><span class="line"></span><br><span class="line">    李诗还手，小心地展开“解连环七式”。独孤寒已在剑影之中。他出剑格挡，</span><br><span class="line">后退半步。李诗也不追击，招式稍缓。独孤寒一剑抵在他胁下。此剑不快，竟似李</span><br><span class="line">诗自个撞上。</span><br><span class="line"></span><br><span class="line">    有观众惋惜他经验不足，下手不够狠。陆巨真不动声色，挥手。“在下闵衍杰。”</span><br><span class="line">闵衍杰总算使完了一套“空山行云剑”。</span><br><span class="line"></span><br><span class="line">    众人皆已看出独孤寒剑法的特点，简单，不好看，不冒险，看不出武功渊源，</span><br><span class="line">防守极为严密，几无破绽。进攻时讲究先发制人。他不急于反击。他长于细微之处，</span><br><span class="line">直至终局前才着力扳回劣势。似乎没有成套的招式，力道既强且重。</span><br><span class="line"></span><br><span class="line">    剑术进攻讲求连贯，一气呵成，不可生硬。方才闵衍杰的“空山行云剑”确实</span><br><span class="line">做到了这一点，颇有几分火候，稍具大家风范。只是，独孤寒实用、扎实的剑法令</span><br><span class="line">之劳而无功。闵衍杰自觉输得别扭。</span><br><span class="line"></span><br><span class="line">    尉迟道：“他好象能猜知对手剑招变化。”小谢却道：“也许他研究过九华剑</span><br><span class="line">法，有备而来。”</span><br><span class="line"></span><br><span class="line">    “在下陆无为。”人群在骚动。陆无为是陆巨真之子，年已三十，在江湖中小</span><br><span class="line">有名气，是九华第三代中数一数二之人。</span><br><span class="line"></span><br><span class="line">    陆无为甫出手便是快攻，两剑相击之声大作。小谢皱眉，剑招已不易看清。人</span><br><span class="line">群中有识货的，叫道：“百喻经剑法。”</span><br><span class="line"></span><br><span class="line">    陆无为完全掌握了场上主动，独孤寒似乎已受了无数的剑伤。他不立于不败之</span><br><span class="line">地，便不会反击。但此时他的情形极糟。</span><br><span class="line"></span><br><span class="line">    九华剑法有“天台四万八千招”之说，变化繁杂。果如小谢所言先搞清九华剑</span><br><span class="line">法，那么独孤寒至少已步入中年。这“百喻经剑法”很急，招式最多。</span><br><span class="line"></span><br><span class="line">    陆无为将剑法要旨发挥得淋漓尽致。陆巨真面有喜色。过不多时，观众们几乎</span><br><span class="line">都能看出独孤寒败象已露，在苦苦支撑。</span><br><span class="line"></span><br><span class="line">    大家快喘不过气来了，剑势着实太盛了，但陆无为就是赢不下来。他换上大悲</span><br><span class="line">第八段的“列缺霹雳式”，剑招更快，剑势更强，隐隐有风雷之声。</span><br><span class="line"></span><br><span class="line">    独孤寒有几次为了逃生，翻身滚地，极为狼狈。陆无为又换上“大庄严剑法”。</span><br><span class="line">独孤寒的抵抗却在加强。百招一过，形势发生变化。阳光下独孤寒仍无表情，而陆</span><br><span class="line">无为已有些急躁。所以他就败了。没有多少人瞧得清楚，更多的人根本不敢相信。</span><br><span class="line"></span><br><span class="line">    陆无为长剑落地，“大庄严剑法”尚未使完！</span><br><span class="line"></span><br><span class="line">    “周乐，你怎么从来不使剑？剑可是百兵之王。我觉得你跟岑寂堪与之一斗。</span><br><span class="line">你空手时，有把握胜他么？”小谢道。</span><br><span class="line"></span><br><span class="line">    周乐道：“剑是凶器，很险，可他却几乎全走防守的路子，令人佩服。他在头</span><br><span class="line">六十招时处于绝对的下风，后来陆无为的剑法愈趋上乘，他的情形反倒好转。他沉</span><br><span class="line">得住气，韧性十足。”</span><br><span class="line"></span><br><span class="line">    九华派大丢面子，无台阶可下，“天台十八将”中得有一人出手了。人群更是</span><br><span class="line">兴奋，杂声极大。他们多数料不到会有如此加场的好戏。</span><br><span class="line"></span><br><span class="line">    “如果我与之对敌，我不进攻，只是一个劲儿地防守，让这少年无法摸清我的</span><br><span class="line">底细。”尉迟道。周乐笑道：“那也不成。你不可能比他守得好。尉迟，你没学过</span><br><span class="line">剑，不知道……。”他猛地住嘴。谢清发何等聪明，已留心到了：周乐会使剑？！</span><br><span class="line">他刻意隐瞒了什么？陆巨真提议让独孤寒休息一个时辰，此后由其师弟楚新狂迎战。</span><br><span class="line">小谢听了，冷笑道：“这楚新狂比陆、展入门晚，看起来不到四十岁，曾得‘剑圣’</span><br><span class="line">亲传，算得上半个关门弟子。江湖中多不知他的武功胜过不少师兄。”</span><br><span class="line"></span><br><span class="line">    独孤寒淡淡地应了，寻了个墙下阴凉处坐下。尉迟叹道：“这少年真是个神童。</span><br><span class="line">我也有点怕跟他动手了。”尉迟杯外号“拼命尉迟”，爱打架，打得狠。</span><br><span class="line"></span><br><span class="line">    一个时辰马上到了，独孤寒正要回到场中，一队队的九华弟子鱼贯而出。小谢</span><br><span class="line">迎了上去，来到独孤寒面前。人群为他惊讶。</span><br><span class="line"></span><br><span class="line">    谢清发长声道：“我和我的朋友认定你会胜出。”他抬额斜眼九华派一干人。</span><br><span class="line">九华派这次掠阵的人更多了。 ”天台十八将&quot;留在山上的七人都现身了。东阳桢、</span><br><span class="line">施主、史德、范文康四人小谢不识得，年纪在四五十岁间。三代弟子黑鸦鸦地站了</span><br><span class="line">五六十人。远处居然还有几名女弟子，遮遮掩掩的。小谢凝睇，又道：“你可曾听</span><br><span class="line">说过？九华派有位美人叫施湛露，正当芳龄。但不知是哪一位？……待会儿，你胜</span><br><span class="line">了楚新狂后，还比下去么？”</span><br><span class="line"></span><br><span class="line">    他疏狂放诞、不拘细行，开口便得罪了九华派。陆巨真涵养再好，也不禁皱眉。</span><br><span class="line">小谢施施然踱回，捎带卖弄了“行云流水”的轻功身法，舒缓优雅。“天台七将”</span><br><span class="line">均已瞧出他是金陵谢家子弟，心下暗道：“他就是小谢清发吧？传闻果然不假。”</span><br><span class="line"></span><br><span class="line">    楚新狂道：“这位小哥，我先使‘空山行云剑’，不成再使‘百喻经剑法’，</span><br><span class="line">最后转入‘列缺霹雳式’。请。”他故意先道出将要使的剑法名称，以示大方。这</span><br><span class="line">三种剑法，各有特点。”空山行云剑”讲究空灵流畅，“百喻经剑法”讲究变幻，</span><br><span class="line">“列缺霹雳式”出剑较重。楚新狂此举是为了挽回本派面子。</span><br><span class="line"></span><br><span class="line">    面子是头等重要的大事。独孤寒似乎不这么认为。他并不客套，一剑当胸刺出。</span><br><span class="line">楚新狂显然比他的师兄们高明甚多。 他气定神闲， 招式凝重老到。剑尖真气破空</span><br><span class="line">“嗤嗤”作响。独孤寒遇强变强，似乎很有办法弥补内力不足的缺陷，仍然没有不</span><br><span class="line">可救药的破绽露出。周乐道：“他躲闪很有技巧。反应极快，会顺势消劲。真气难</span><br><span class="line">免受震，但调息极快。我在他那年龄，内力只及他六成。”</span><br><span class="line"></span><br><span class="line">    谢清发则道：“我开始有些喜欢武功了。唉，少壮不努力。”</span><br><span class="line"></span><br><span class="line">    是观众，而非楚新狂，着急了。明眼人都看得出独孤寒屡屡绝处逢生，化险为</span><br><span class="line">夷。他防守的剑法似乎不可思议、勉勉强强，细细一想，却又有些道理，亏了他能</span><br><span class="line">在一瞬间想到使出。</span><br><span class="line"></span><br><span class="line">    此时，已轮到百喻经剑法了。“凭他的缠劲韧性，不到二百招以上，不会分出</span><br><span class="line">胜负。……这个少年的剑法真个绝无成套的现成招式？”在场的高手都这么想。</span><br><span class="line"></span><br><span class="line">    武林中有句名言叫“以无招胜有招”，盖云无招则无迹可寻，无式可破，挥洒</span><br><span class="line">自如，临场创新。但正如剑圣曹之其所说的（同样是武林中的名言）：这句话很对</span><br><span class="line">很好，唯一的漏洞便是它好得无法实现。江湖中有名有出处、不重合的剑招只怕不</span><br><span class="line">下四万八千招，任何人随手于任意角度、任意方向、任意姿式挥剑，都会与现有剑</span><br><span class="line">招雷同、近似。各派的剑招皆是一种系列，一项组合，均虑及自已身形、步法、劲</span><br><span class="line">力的连贯变化与对手相应的躲闪格架反击。它们是成熟而精练的“定式”，多少前</span><br><span class="line">辈高人智慧与实战经验的结晶。绝顶高手比剑，要着眼全局，思前顾后，每一招都</span><br><span class="line">存在最好的，不容闪失。故要令高手意料不及、措手不及，除非你使出致命的昏招。</span><br><span class="line"></span><br><span class="line">    临场创意有诸多难处：逞一时之快，跟着失去连贯；剑招把捏不易，不能恰到</span><br><span class="line">好处；难有新意，令高手吃惊直似鬼话。真正的临场创招不是“无招”，而是“借</span><br><span class="line">招”；不是全然不该有新创之招，而是无可奈何而为之，很少见。</span><br><span class="line"></span><br><span class="line">    学剑不学招，就跟练字只练“永字八法”，不摹写、不学写具体汉字一样。如</span><br><span class="line">此成就不了书法大家。 学招从而学运气用劲，学使剑技巧，学身形步法。”无招&quot;</span><br><span class="line">则无异于《百喻经》中所称，楚新狂使过的“空中楼阁”，无底下之二层妄想那最</span><br><span class="line">高的一层楼，乃痴人说梦，土财主嘴脸，暴发户行径。</span><br><span class="line"></span><br><span class="line">    所以，“无招胜有招”，谁都喜欢，谁都无法完全做到！这位十八岁的天才少</span><br><span class="line">年，独孤寒，他能做到“诸招无常”、以无招胜有招么？不能！他可能不会成套的</span><br><span class="line">剑法，只会使剑技巧；不识剑招，却暗合天下剑招。</span><br><span class="line"></span><br><span class="line">    对于独孤寒而言，敌手与之旗鼓相当，必败给他。楚新狂似乎在各方面均胜其</span><br><span class="line">一筹，才堪一战。</span><br><span class="line"></span><br><span class="line">    楚新狂已使出“列缺霹雳式”，无风雨之声，但让你感觉惊雷即要当头劈下，</span><br><span class="line">看得心慌。剧斗中，他大喝道：“泰山崩于前而色不变，试问天下英雄谁能当？”</span><br><span class="line">奋力荡开独孤寒格挡之剑，割下他左手衣袖。</span><br><span class="line"></span><br><span class="line">    不少人惊呼，其中俨然有女子之声，而且由九华总堂门内传出。</span><br><span class="line"></span><br><span class="line">    曹之其七十岁后绝少下山。他已澹然忘机，闲适而无约束。他晚年变法，剑意</span><br><span class="line">不因袭古人，大胆求新，可谓老来弥辣。那时，他要楚新狂侍立，自是看中这位徒</span><br><span class="line">孙合他性情。“列缺霹雳式”倡天威而抑人性灵，不合楚新狂使。但楚新狂还是以</span><br><span class="line">一记真气充沛、势不可挡的绝招割下独孤寒的袖子。</span><br><span class="line"></span><br><span class="line">    袖子“嘶”的一声，将裂未裂，独孤寒还击。他的剑鬼使神差地抵在楚新狂腰</span><br><span class="line">间。后者长剑亦已顺势翻转，凝在独孤寒胸际。</span><br><span class="line"></span><br><span class="line">    四下里掌声雷动，多半是冲着独孤寒去的。九华众人黯然神伤。楚新狂与独孤</span><br><span class="line">寒同时撤剑，却没有停战的意思。周乐忽然朗声道：“两位请就此打住。两位剑术</span><br><span class="line">通神，难分胜负，但终是楚大侠高明一些，胜了半招。”他上前，径直去拉独孤寒</span><br><span class="line">之手。</span><br><span class="line"></span><br><span class="line">    众人皆以为他是与独孤寒一伙的，出来打圆场。否则，谁都乐得多看几场拼斗。</span><br><span class="line">等双方打上火了，必定出彩。到那时，不论独孤寒吃亏没有，对他都不太有利。何</span><br><span class="line">不见好就收，给对方一个台阶？独孤寒心中明白，也不怪周乐多事，神情甚是忸怩，</span><br><span class="line">一双大眼睛盯着自个脚尖。</span><br><span class="line"></span><br><span class="line">    谢清发觉得好笑：同是二十不到的少年，岑寂是见了女子就害羞，他干脆就跟</span><br><span class="line">女子一样害羞；不使剑时让人感觉是个涉世不深的孩子，我见犹怜；周乐爱才心切，</span><br><span class="line">居然也管起闲事来了。</span><br><span class="line"></span><br><span class="line">    陆巨真顺梯子往上爬，道：“今日比试到此为止，诸位请自行散去，恕我九华</span><br><span class="line">派招待不周。”他明白，再打下去，纵使是楚新狂胜，本派亦是脸上无光。说不得，</span><br><span class="line">还会落个死缠烂打、毫无风度的恶名。</span><br><span class="line"></span><br><span class="line">    因了老古董这层关系，楚新狂识得周乐。他暗地里轻声道：“周乐，跟他讲，</span><br><span class="line">晚上子时，此处见。”周乐抬眼，看见独孤寒一脸羞涩的冷漠，当下略一点头。</span><br><span class="line"></span><br><span class="line">    客老说过，冷漠最可怕，最令人可怕。独孤寒听过后，有些记不清，但性格已</span><br><span class="line">是如此。他的热情都用在习剑、比剑上了。他喜欢看到剑光的辉煌。</span><br><span class="line"></span><br><span class="line">    四人下山，小谢感到许多目光注视自己，不由叹道：“我其实没有任何真才实</span><br><span class="line">学，书没岑寂读得多，琴没周乐弹得好，武功比孤寒弱。”复姓独孤寒，偏偏不唤</span><br><span class="line">“独孤寒”，略称为“孤寒”。</span><br><span class="line"></span><br><span class="line">    尉迟笑道：“知错就改，立马就忘是你最大的毛病之一。”</span><br><span class="line"></span><br><span class="line">    独孤寒有一双美目，真诚，却总是避着别人的眼光。尉迟道：“晚上，九华派</span><br><span class="line">也许会有所布置，做些手脚。”没有观众，戏幕高兴拉下就拉下，无须油彩、面具，</span><br><span class="line">立马可以变脸。</span><br><span class="line"></span><br><span class="line">    孤寒没作声。悉听尊便，他想，在当前的这个世界上，除了比剑，我无所适从。</span><br><span class="line"></span><br><span class="line">    “知其不可为而为之。”小谢又穷酸相了，“知其不可奈何而安之为命，不安</span><br><span class="line">之亦命！”前半句为儒家言语，后面发挥庄子原意。命运，命运，就是性命在运动，</span><br><span class="line">仅此而已。</span><br><span class="line"></span><br><span class="line">    周乐有同感：不得使剑，这便是我的命。他的耳朵在动。</span><br><span class="line"></span><br><span class="line">    小谢心里想，这个独孤寒武功虽好，却似平白活在世上，没有丁点人生乐趣；</span><br><span class="line">只为剑术活着，多没意思。”象块会使剑的木头，因此受人瞩目。”</span><br><span class="line"></span><br><span class="line">    他低头细想，平生确无什么足以传世的大事迹，仅仅出过风头，谈不上出人头</span><br><span class="line">地。”没关系，至少我不是木头。我就是我自个。”</span><br><span class="line"></span><br><span class="line">    游侠一生亦非时时刻刻都轰轰烈烈，更多的是如水平淡。传记记下游侠一生的</span><br><span class="line">若干片断，写其出色事迹。所以，传记中的人生，正如渗了酒的水。它比酒中渗水</span><br><span class="line">无味，但真实、高尚。究其根来，又无甚差别。</span><br><span class="line"></span><br><span class="line">    故事如酒，人生如水，俱本色也！</span><br><span class="line"></span><br><span class="line">    独孤寒不喝酒，不爱说话，不理周乐三人，下得山后便要辞去。周乐也不挽留，</span><br><span class="line">小谢口没遮挡，道：“孤寒，咱们一块吃顿饭吧？”独孤寒欲说又止，有些不自在。</span><br><span class="line">周乐笑道：“算了，咱们就此别过，晚上见。”待他走远，才道：“有的人喝了别</span><br><span class="line">人挖的井中的水，便要扔几个铜板入井。有人说什么也不愿在姐姐家吃饭，虽然感</span><br><span class="line">情一向不错。当甥女有行辞不过，也在席间遗下银两，以为饭资。切不可勉强。”</span><br><span class="line"></span><br><span class="line">    独孤寒独自寻了一家山野小店，饱餐一顿。他所带的银钱是客老给的。他是客</span><br><span class="line">老养大的，他的武功也是客老教的。虽然，十六岁起，他便没输过客老，不论拳或</span><br><span class="line">剑。客老有钱。他需要有人当他的弟子，他不需要人来服侍他。独孤寒并不感激他，</span><br><span class="line">也不恨他，虽然客老早间杀了他双亲。他恨不起来。</span><br><span class="line"></span><br><span class="line">    “我的原则是一芥不以与人，一芥不以取诸人。但原则是可以变通的。我少时</span><br><span class="line">信奉目的、手段俱要正确。后来发觉做不到，便退而求其次，认为可以不择手段，</span><br><span class="line">只要出发点是好的。你的父母为乡下农夫，我夜间借住，看中你的聪颖及大好基质，</span><br><span class="line">想带你到藏边，收你为徒。”</span><br><span class="line"></span><br><span class="line">    “当时，你父母很穷，有可能饿死、病死，却也舍不得你。最终我下了毒手。</span><br><span class="line">我教你武功，只是为了印证我的武学主张，并非为你好。”</span><br><span class="line"></span><br><span class="line">    “谁都能为自己的过错找到借口。所以当你了解一切，你便会原谅一切。如果</span><br><span class="line">你原谅了一切人，唯一不可原谅的就是你自己。因为，此时的你太容易相信人。”</span><br><span class="line"></span><br><span class="line">    客老还说，剑法不可有恨无情，只能是忘情。剑术求胜，不该加入仇恨。独孤</span><br><span class="line">寒寻了块草地，躺着。这时节的乌斯藏要凉快一些，碧水青天，野花灿烂。</span><br><span class="line"></span><br><span class="line">    他想不起客老的多数话语。“善恶存一心，旁人难于识别，惩恶没有道理。如</span><br><span class="line">此，批评惩恶亦无甚道理。重要的是信念要坚定，性格要坚强，不可思虑过多。”</span><br><span class="line"></span><br><span class="line">    在藏边长大的他知道儒家的“十六字心传”：人心惟危，道心惟微，允执厥中，</span><br><span class="line">惟精惟一。他觉得自己做到了，剑法及为人。我的剑法暗合中庸之道？</span><br><span class="line"></span><br><span class="line">    周乐他们在做什么呢？象他们那样地生活着，倒也不错。</span><br><span class="line"></span><br><span class="line">    当晚，观战的人少了，份量却重了。除了“天台七将”外，东阳夫妇，唯识、</span><br><span class="line">法相也到场了。日间的江湖豪客都未出现。小谢在东张西望。</span><br><span class="line"></span><br><span class="line">    楚新狂道：“这回我会尽我所能，剑法套路不再限制。请。”拔剑扔鞘。此时</span><br><span class="line">的独孤寒已不同于早间，身价高了，本钱也多了。”但楚新狂抛开了面子问题，没</span><br><span class="line">了顾虑，状态会比早间好。”尉迟道。</span><br><span class="line"></span><br><span class="line">    “不，他的顾虑更多了。虽说他不易为环境所动，但早上以平局收场，他心有</span><br><span class="line">不甘，必刻意避免这一情形重演，反而会缚了自家手脚。”周乐微笑道。</span><br><span class="line"></span><br><span class="line">    他见多识广，楚新狂一出手，便指出那是“大悲十二段”的“影落明湖式”，</span><br><span class="line">已到了九华剑法的巅峰。独孤寒则是以不变应万变，仍是一味抵挡，暗含强大的、</span><br><span class="line">潜在的反击。在内力的无形威压下，居然有退有进。他似乎永远处于最佳状态。</span><br><span class="line"></span><br><span class="line">    “四香阁”脸色凝重。唯识合十道：“东阳师兄，这少年做到了‘诸法无我’。</span><br><span class="line">正似这‘影落明湖’，水流影在，波动影动，不似卵石为水冲磨折损。”</span><br><span class="line"></span><br><span class="line">    东阳不疑不语。他害怕徒弟分心。楚新狂使“色静深松式”，再换“风雨潮生</span><br><span class="line">式”。独孤寒在他的强攻之下，不时露出败象。但等“潮落”，立马生机重现。</span><br><span class="line"></span><br><span class="line">    楚新狂不急。他气定神闲，发挥得极为出色。他内心有一丝喜悦：我的剑法又</span><br><span class="line">有了不小的进步。他深知对手的内力不如自己，而且很可能损耗得更厉害。他祭出</span><br><span class="line">平生最得意的“庄周化蝶剑”。曹之其晚年开始潜心道学，创此剑法。它变化快如</span><br><span class="line">心念，招式新奇如脑中幻影。</span><br><span class="line"></span><br><span class="line">    独孤寒挡不住了。他冷地里回击一剑。楚新狂不得不回剑自保，宛如好梦为惊。</span><br><span class="line">这“庄周化蝶剑”讲究无常无我，汪洋恣肆，如此一阻，剑势稍缓，尽失锐气。</span><br><span class="line"></span><br><span class="line">    楚新狂无奈变招，剑意保守，甚至有些凄凉厌世，变成了“狐居兔穴，残烟暮</span><br><span class="line">照式”。每一剑都是拖泥带水，感慨万千，似乎剑剑刺在自己身上。</span><br><span class="line"></span><br><span class="line">    独孤寒不为所动。十来个大灯笼下，只见他眼中有光，脸色平常。楚新狂已是</span><br><span class="line">以攻代守。他感觉对手是一只冰冷的蚕，不断地吐丝，不懈地蚕食。</span><br><span class="line"></span><br><span class="line">    周乐不由叹道：“岑寂同样是个天才，但要他当众出手，比让他认输还困难。</span><br><span class="line">学武之人无须都象独孤寒那样，但他无疑是最佳人选。”那边厢，东阳不疑摇头道：</span><br><span class="line">“没有明显优势，新狂赢不下来，必败。”他在回答唯识。楚新狂此时处于攻势。</span><br><span class="line">他凝神贯注，听不到师父的话。</span><br><span class="line"></span><br><span class="line">    剧斗中，楚新狂突然凝剑不发，剑尖剑诀双双指地。场上登时寂静无声。独孤</span><br><span class="line">寒也不攻击，只是向前跨了半步。楚新狂撩剑，拧身，不知怎地，剑已交至左手，</span><br><span class="line">自肋下刺出。 他故意将整个后背卖给对方，再使个隐蔽、凌厉的反左手剑，正是&quot;</span><br><span class="line">狐居兔穴，残烟暮照&quot;的意思。</span><br><span class="line"></span><br><span class="line">    独孤寒似乎料到此招，滑步闪开了。楚新狂心疲力竭，长叹弃剑。他败了，想</span><br><span class="line">求个和局，拼个两败俱伤都办不倒了。他这记“回光返照”的剑法是拿性命做赌注，</span><br><span class="line">剑势大，姿式古怪，不调息凝剑，很难发挥好。</span><br><span class="line"></span><br><span class="line">    “影落明湖”、“色静深松”、“风雨潮生”、“庄周化蝶”、“残烟暮照”、</span><br><span class="line">“狐居兔穴”这六式剑法合称“天人六感剑”，已是九华派压箱底的武功了。这套</span><br><span class="line">剑法不过一百来招，却耗尽了剑圣曹之其的心智。楚新狂对它也最有把握。</span><br><span class="line"></span><br><span class="line">    东阳不疑上前拾起长剑，道：“小兄弟，你拆招破招的功夫天下第一，但我九</span><br><span class="line">华派创招出招的功夫亦可谓天下第一。”他这句话象是在自嘲。”也许你比我们都</span><br><span class="line">适合学剑使剑。”</span><br><span class="line"></span><br><span class="line">    他微笑着，又道：“九华剑法是我师父自创的，最适合我师父使。你的剑法也</span><br><span class="line">是你自个使出来的，好象量身度造一般。所以楚新狂他使着九华剑法赢不了你。”</span><br><span class="line"></span><br><span class="line">    “一派胡言。九华派不但有青阳莲花掌，‘口生莲花胡诌功’更是厉害。如此</span><br><span class="line">说来，九华剑法原本最是上乘，只不过没有觅到良材罢了。”小谢心里暗想。他终</span><br><span class="line">是忍不住出言道：“我明白了。九华剑法讲究的是老气横秋，适合东阳掌门这把年</span><br><span class="line">纪的老人使。楚大侠输在年纪尚轻。待他熬到七八十岁时，独孤寒、冷苔、沈魂这</span><br><span class="line">些人都已不在话下，武林中自然公推为‘剑圣’。”</span><br><span class="line"></span><br><span class="line">    谢清发这句话无礼之至，连周乐都有些紧张了。曹之其中年以后便已是江湖中</span><br><span class="line">有数的几位知名剑客了。小谢将他也诋毁了。</span><br><span class="line"></span><br><span class="line">    东阳夫妇、唯识、法相不好发火。门下早有人按捺不住，破口大骂。小谢反而</span><br><span class="line">没了顾虑，壮了胆量。他很是得意，直至四人下山时，仍是眉飞色舞的。他笑道：</span><br><span class="line">“名门正派就是死要面子活受罪。明明打不过，还要找几个理由与借口。气量也恁</span><br><span class="line">小了吧。”</span><br><span class="line"></span><br><span class="line">    周乐道：“你也是名门正派的弟子，九华派好歹要给你家一点面子。否则，方</span><br><span class="line">才你很难收场。谢家的轻功天下第一，来得及逃跑。那尉迟呢？”</span><br><span class="line"></span><br><span class="line">    小谢笑着不语。他绝少生气，也不怕人批评、谩骂。他知道周乐的想法跟自己</span><br><span class="line">相似，不过是没说出口罢了。他还是觉得说出来痛快。</span><br><span class="line"></span><br><span class="line">    独孤寒稳步走着，不声不响。他下山的样子很怪，身体绝不前倾，迈的步子很</span><br><span class="line">小。周乐知他每斗一场便有长进，便道：“孤寒，明日我领教你的高招。”独孤寒</span><br><span class="line">大喜。他知周乐武功高，可又不知如何开口邀斗。</span><br><span class="line"></span><br><span class="line">    白胖的月亮，黑瘦的树影，四人脚步轻快，已远离九华总堂了。眼前凤尾森森，</span><br><span class="line">龙吟细细，乃是一大片竹林。林中有一驾马车，两个灯笼，四个青衣婢女。车边另</span><br><span class="line">有一个低眉垂手的白衣老者待立。</span><br><span class="line"></span><br><span class="line">    马车厢放着帘子，挡在道上，情式相当怪异。小谢圆瞪双眼，发觉这些婢女个</span><br><span class="line">个秀美绝伦，心中不由喝彩，心道：车厢里头坐的若是位貌如天仙的小姐，我愿当</span><br><span class="line">个马车夫，哪儿都愿意去；如果她们索要买路钱，我便赔上我这一百二十斤。</span><br><span class="line"></span><br><span class="line">    周乐四人正纳闷间，老者一言不发地欺前几步，单掌劈出。周乐临敌经验较为</span><br><span class="line">丰富，立马双掌迎上。他不是没有防备，也不敢有丝毫的怠慢，使出了全力。但还</span><br><span class="line">是吃了小亏，身形晃了几下，气血翻腾。独孤寒拔剑，与那老者交手。周乐调息后，</span><br><span class="line">已然无碍。他发觉四下并无埋伏，略感惊奇：对方若有恶意，应该灭火，于暗中突</span><br><span class="line">袭才是。当下朗声道：“在下周乐，路过这儿，不知在什么地方得罪了诸位朋友。</span><br><span class="line">咱们且慢动手，消除误会，成么？”</span><br><span class="line"></span><br><span class="line">    没有人答腔，老者尚在攻击。他的掌法招式变化很少，实际威力比表象大，掌</span><br><span class="line">力很沉。他的武功比楚新狂高过不少，周乐想不出有这号人物。独孤寒集力于剑身，</span><br><span class="line">削敌指掌攻其一点。长剑虽然递不到敌人身上，却也令之不敢过份欺近。</span><br><span class="line"></span><br><span class="line">    小谢自言自语道：“我来领教领教小姐的模样。”身形疾射马车。那四个婢女</span><br><span class="line">武功皆不弱于他，但不料他这么一瞬间已贴到自己脸前。大惊之下，有人给他捏了</span><br><span class="line">两把。小谢年少风流，行事常令道学先生跌破眼镜。这也不能全怪他轻薄。自他懂</span><br><span class="line">事以来，都是女人主动讨好他。他在秦淮泛舟，到哪，哪就是河心岛洲。歌女们围</span><br><span class="line">而观之，希望能被他瞧上一眼。</span><br><span class="line"></span><br><span class="line">    只羞得那婢女一脸飞红。小谢绕过她，已到得车厢旁。与此同时，周乐前纵，</span><br><span class="line">为他掠阵。小谢正待伸手掀帘，突然身形一颤，扭头回奔。刚到周乐处，便要栽倒。</span><br><span class="line">周乐将他扶了。</span><br><span class="line"></span><br><span class="line">    “天下最快的轻功要属‘空虚入冥，无形灭影’。可它仍快不过‘光阴箭’。”</span><br><span class="line">车中帘后人道。这声音宛如仙乐，听来极为动听，非常舒服。小谢似已忘了疼痛，</span><br><span class="line">昏然睡去。</span><br><span class="line"></span><br><span class="line">    光阴箭？她们如何会有光阴箭？光阴箭可是墨家镇堂之宝。墨家主张“非攻”，</span><br><span class="line">所造的器具一般杀不了人。“天工”匡不逮与“鬼工”匡弦歌研造光阴箭只为兴趣</span><br><span class="line">所至，想证明世间存在不可阻挡、无坚不摧的机括力量。它不会致人于死地，却是</span><br><span class="line">一种威慑力量。威力在于凝而不发。因为它只能发射一枚暗器。</span><br><span class="line"></span><br><span class="line">    纵是如此，天工与鬼工还是费了无数心血，十余年功夫，方才造出一管光阴箭。</span><br><span class="line">这光阴箭速度奇快，五丈之内，大罗金仙也难逃一劫。没有人能看清这暗器是如何</span><br><span class="line">飞出的，更无从躲起。</span><br><span class="line"></span><br><span class="line">    时间流逝亦称漏箭。光阴似箭，逝者如斯，谁也漏不了，逃不掉。谁也避免不</span><br><span class="line">了让光阴在身上留下岁月痕迹。你刚转动念头，光阴来了；你刚要反应，光阴过了。</span><br><span class="line"></span><br><span class="line">    武林中有四种至宝：明教的魔法，能止痛、兴奋、催眠；墨家的光阴箭；雷堂</span><br><span class="line">的球形闪电，一种可连发的火器；唐门的“毒由心生，怨不得人”，令你至死也不</span><br><span class="line">明所以，据说不但无色无味，而且无影无踪，一大早便生在身上，却连医林也察不</span><br><span class="line">出来。</span><br><span class="line"></span><br><span class="line">    周乐没见过“武林四宝”，刚才也没看清光阴箭的来势。但他是武林中的“岑</span><br><span class="line">夫子”&quot;，知晓此中掌故。小谢的伤在肩部，流血极少。周乐取出暗器，竟只是一</span><br><span class="line">颗米粒之珠，黝黑无光，钝头圆身。拿在手中，居然有些沉。</span><br><span class="line"></span><br><span class="line">    墨家的暗器理应无毒，但瞧着小谢的样子，定是中毒无疑。伤口处的血色并无</span><br><span class="line">异常。周乐拱手道：“我们认栽了，请你高抬贵手。”帘后寂无声。独孤寒正连连</span><br><span class="line">后退、奋力抵挡。他以快剑抢先封住对方霸道的掌势。与楚新狂比剑时，他格架拆</span><br><span class="line">招居多；此时，靠的是灵活的进退躲闪。</span><br><span class="line"></span><br><span class="line">    尉迟尚未恢复武功，无法上前帮忙。周乐无力回天。他似乎提不起手臂来，正</span><br><span class="line">背手运功。”我用赤蝎粉与里海异种荨麻叶炼制光阴箭。因为光阴于人不该留情。</span><br><span class="line">此毒无须见血，触肤则沾染。……然而我不相信一向聪明小心的周乐此时也中了毒。</span><br><span class="line">你骗不了我。”</span><br><span class="line"></span><br><span class="line">    周乐手里仍握着那枚暗器，笑道：“多谢夸奖。我有没有中毒关系不大。你似</span><br><span class="line">乎不打算要我们的性命。”赤蝎粉与荨麻叶都不致命。光阴箭本可以射中小谢的要</span><br><span class="line">害。她们究竟有何企图？老者仍没有停手的意思。</span><br><span class="line"></span><br><span class="line">    当下周乐又道：“你对我倒是挺有信心。那我也不好意思让你失望。只要不伤</span><br><span class="line">和气，我愿意陪你们玩玩。”既然小谢没有危险，周乐也不想示弱了。他将铁珠弹</span><br><span class="line">向车厢。一婢女好不容易接下铁珠，周乐又是一拳击来。未待招式变老，他猛扑另</span><br><span class="line">一婢女，左手抓脸，右脚踢向腰间“委中穴”，一点儿也不怜香惜玉。</span><br><span class="line"></span><br><span class="line">    婢女们哪见过这等无赖、野蛮的打法，有些慌乱。周乐使了几记凌厉的虚招后，</span><br><span class="line">用脚尖挑起几枚石子，击在拉车的马儿身上。马受惊前驰，竟然“自驾着个私奔车</span><br><span class="line">儿”。四个没有多少江湖阅历的小姑娘呆了一会儿，发觉不见了周乐。</span><br><span class="line"></span><br><span class="line">    周乐的轻功速度不如小谢，细微处的变化却更为高明。他以“绕梁三日”的身</span><br><span class="line">法，闪至车厢上空。一根尺来长的圆管迎面捅来。周乐竟硬生生止了下坠之势，空</span><br><span class="line">中拧身，拔高，躲开攻击。待落下时，他已钩住车厢顶，拂开圆管，顺势握了一只</span><br><span class="line">玉手，扣脉拔帘。</span><br><span class="line"></span><br><span class="line">    车厢中的女子不料眨眼间马车剧动，周乐破围攻来；更不料他轻功过人，可在</span><br><span class="line">空中逗留。</span><br><span class="line"></span><br><span class="line">    现下就差一记“挥洒自如”了。拼着受她一掌，只要点了她的穴道，将她制住，</span><br><span class="line">便可以挽回败局。周乐觉得这步险棋有七成胜算。</span><br><span class="line"></span><br><span class="line">    然而，周乐竟如断线风筝般摔下。他没能使出“挥洒自如”或“云龙忽现”，</span><br><span class="line">却摔出车厢一丈之外。他胸口作痛，真气不续，呼吸困难，似乎被比“光阴箭”更</span><br><span class="line">为厉害的暗器打中。他直盯盯地瞪向车厢。那儿有道珠帘。</span><br><span class="line"></span><br><span class="line">    虽然光线不够看不甚清楚，虽然只看到她倒立的模样，周乐还是浑身一震，愣</span><br><span class="line">在那儿，忘记出招了。车厢中的女子看到帘角一双男人的眼睛，素手翻处，击在他</span><br><span class="line">前胸。她有点儿意外，周乐有机会赢，他怎会走神呢？她还有些脸红。</span><br><span class="line"></span><br><span class="line">    婢女们缓过神来，齐齐奔至车边。”唉，我……你们去瞧瞧他的伤势，我没事</span><br><span class="line">的。”“小姐，他恍恍忽忽的，受了伤，但不致命。”尉迟杯冲了过来。</span><br><span class="line"></span><br><span class="line">    以“寒烟翠”至阴至柔的掌力击在要害，八成功力，六分火候，居然未致命。</span><br><span class="line">良久，那女子道：“蕊珠、梅妆，将他弄醒，我有话问他。冉忠，停手罢。”</span><br><span class="line"></span><br><span class="line">    冉忠正打得兴起，却当即撤掌跳开。婢女喂周乐吃药。周乐在反省方才之事：</span><br><span class="line">我是看到了幻象罢？这小姑娘怎会如此象她呢？似乎比她好看。……如今一败涂地</span><br><span class="line">皆是因我重色轻友。我怎还会干出这等傻事？</span><br><span class="line"></span><br><span class="line">    “他中毒了么？”那女子轻声地问蕊珠、梅妆。</span><br><span class="line"></span><br><span class="line">    周乐勉强道：“没有。先前我左手掌心有片叶子，后来却没有。”言下之意，</span><br><span class="line">自己裸手握她。他立觉不妥，又道：“我的朋友倒是中毒了。”于是，婢女递给尉</span><br><span class="line">迟“赤蝎荨麻”的解药。不到一顿饭的功夫，情形变化很快。双方甫一见面便没头</span><br><span class="line">没脑地打了起来。过得几个回合，周乐、小谢拱手受制。车中的女子却又主动求和。</span><br><span class="line"></span><br><span class="line">    车厢内沉默了片刻，女子又道：“如果你们死在这里，谁最有杀人嫌疑？”</span><br><span class="line"></span><br><span class="line">    她这话问得古怪。 周乐笑道： “自然是你。”女子不料他会如此贫嘴，道：</span><br><span class="line">“我不会是嫌疑人，却会是真的凶手。”凶巴巴的话语从她口中说出，便柔和不少。”</span><br><span class="line">九华派的嫌疑最大。因为你的朋友在九华出尽了风头，害得九华派脸上无光。”她</span><br><span class="line">似乎知道今天两番比剑之事。</span><br><span class="line"></span><br><span class="line">    “你们在这儿彻夜等候，便是为了狙击我们，嫁祸九华？此计不妥。第一，没</span><br><span class="line">人会相信九华派如此卑下嚣张，竟在九华山脚下杀人；第二，我们几个没有来头，</span><br><span class="line">可谓死不足惜，不足于产生轰动效应。”周乐道。他隐隐觉得对方另有目的。</span><br><span class="line"></span><br><span class="line">    一直没作声的尉迟杯忽然道：“我终于想起来了，那叫‘大象无形掌’，他是</span><br><span class="line">明教护法冉忠！”指向那白衣老者。尉迟的记性不好。他一见到冉忠厚实沉重的掌</span><br><span class="line">法，便觉眼熟，却一时想不起来。刚才，别人在打架，他却陷入沉思。</span><br><span class="line"></span><br><span class="line">    周乐也曾听说过冉忠，知道“大象无形掌”是明教的武功。它特点鲜明，招式</span><br><span class="line">不清，其实是一种内功心法，纯粹以掌力取胜。</span><br><span class="line"></span><br><span class="line">    十年前，尚未有九华派，曹之其领着徒子徒孙加入反明教的联盟。当时，官府</span><br><span class="line">与七大门派突然发难，将明教逼到海上。是役令整个庐山派覆灭，崆峒、泰山大伤</span><br><span class="line">元气，官府折损人手不计其数。明教首领无一落网。不会武功的教众死了不少，但</span><br><span class="line">绝无投降之人，令天下为之震惊。此后，九华立派，才凑成“五大门派”。</span><br><span class="line"></span><br><span class="line">    看来明教真的是卷土重来了。它确与九华有仇。周乐脸上的笑容有些僵化。车</span><br><span class="line">中女子道：“没错，我们是明教弟子，你是不是很意外？”据传，明教弟子个个杀</span><br><span class="line">人不眨眼，凶神恶煞一般。周乐确实意外：那车中的女子看上去非常可爱，而且友</span><br><span class="line">善。他明白，自己方才的那一通分析过分乐观了。很少有人能猜透明教的意图。它</span><br><span class="line">很少被人理解，也不求被人理解。行事常在人们的意料之外。”寻常的推理不适于</span><br><span class="line">明教？她们有可能对我等不利？”</span><br><span class="line"></span><br><span class="line">    东方天际已有彩云霞光。可路边修竹篁篁，竟有些阴深，透了几分凉意。</span><br><span class="line"></span><br><span class="line">    独孤寒手提长剑，神色如初。</span><br><span class="line"></span><br><span class="line">    “事实上，今晚我们在这儿等你，乃是因为有事请你帮忙。”周乐有些吃惊。</span><br><span class="line">今晚之事越来越怪了，令他摸不着头脑。大周正乐什么时候如此被动过。给人家擒</span><br><span class="line">住了，自是不好拒绝人家的请求。”近来江南发生了不少大案，又有抢劫又有谋杀。</span><br><span class="line">市井谣传说是我们明教下手的。周乐你久居江南，又有十三行背景，门路多，消息</span><br><span class="line">广，且与衙门相熟。我想请你调查那些案子，找出真凶。”</span><br><span class="line"></span><br><span class="line">    周乐可以公开露面，行事较为方便。况且他当过捕快。</span><br><span class="line"></span><br><span class="line">    “之所以要委托你，还因为现下明教人手少。武功较好的人多在江湖中挂了号，</span><br><span class="line">目标大。况且，明教是众矢之的，是非多。……我们的声名不好，树敌太多，已不</span><br><span class="line">允许再陷进去了。”那女子幽幽道。听她语气，再从冉忠对她恭敬的态度来看，似</span><br><span class="line">是教中主脑。</span><br><span class="line"></span><br><span class="line">    周乐发觉自己说不出拒绝的话。尉迟却道：“我们怎知那些案子不是明教干的？</span><br><span class="line">弄不好，徒然惹祸上身。”他觉得不对劲，虽然他对明教颇有好感。</span><br><span class="line"></span><br><span class="line">    “你们本非怕事之人，不是么？况且此刻你们也没有讨价还价的余地。”</span><br><span class="line"></span><br><span class="line">    周乐兀自胡思乱想：她原本打算将我们四人杀了，可临时变了主意？也许是因</span><br><span class="line">为她发觉我还有些本事，人也不错。不打不相识？他想到有关阵前招亲的故事，不</span><br><span class="line">由一笑。</span><br><span class="line"></span><br><span class="line">    “周乐，你曾经背过黑锅，大概可以体谅明教的难处。”</span><br><span class="line"></span><br><span class="line">    周乐微微一愣，呆了片刻，道：“你们似乎对我的过去知道不少。……其实，</span><br><span class="line">你不必将我等打伤，我便可答允你。”他有为她上刀山下火海的冲动。他回头看尉</span><br><span class="line">迟。尉迟古怪地朝他笑着。</span><br><span class="line"></span><br><span class="line">    那女子道：“不与你们交手，如何知道你们不是浪得虚名呢？再者，我想提醒</span><br><span class="line">你们，设局冤枉人并非一件难事。刚才你们可能也怀疑过我们是九华派的杀手。其</span><br><span class="line">三，我有些担心你们有两副面孔，真实的身份并非是游侠。”</span><br><span class="line"></span><br><span class="line">    周乐觉得这几个理由都不够充分。但能看她一眼，且留得性命，已是走运。”</span><br><span class="line">我们怀疑这些案子是‘城隍庙’做下的。它在杭州有个分支机构。你们可以从那儿</span><br><span class="line">入手，……。”冉忠赶动马车。</span><br><span class="line"></span><br><span class="line">    周乐似乎遭了催眠， 得了不知打哪来的勇气， 对正待离去的蕊珠、梅妆道：</span><br><span class="line">“你家小姐很象杭州崔九的女儿……。”马车驶向通往杭州的大道。</span><br><span class="line"></span><br><span class="line">    马车不见了。代替它的是朝阳。东方的天空紧盯着大地。周乐这才听到尉迟正</span><br><span class="line">在对自己说话，“周乐，你中邪了？你看清她的模样啦？真的很象崔家小姐？我怎</span><br><span class="line">么听得糊里糊涂的。”</span><br><span class="line"></span><br><span class="line">    周乐苦笑，摇头，转身看小谢的伤势。他在想：我曾在肚子里嘲笑过岑寂，笑</span><br><span class="line">他只见过崔小姐一面，便如此着迷；如今看来，我比他更糟。周乐没见过任何一位</span><br><span class="line">崔家小姐，所谓“很象”云云，仅是胡诌。他跟婢女提到崔小姐，乃是别有用心、</span><br><span class="line">另有企图。</span><br><span class="line"></span><br><span class="line">    独孤寒脸上居然也带着笑容，道：“你的轻功很好。咱俩的比试暂且记下。”</span><br><span class="line"></span><br><span class="line">    “你在与冉忠的剧斗中分心了。”周乐有些惊讶，有点感动。孤寒使剑一向全</span><br><span class="line">神贯注，旁人它事一概不理。但这回，他看到了周乐“绕梁三日”的身法。</span><br><span class="line"></span><br><span class="line">    孤寒有些不好意思，道：“难免会有这种时候的。”他得送三人回杭州，冷漠</span><br><span class="line">为辗在轮下。</span><br><span class="line"></span><br><span class="line">    在路上，小谢醒后，一直追问事情经过。周乐无法回答。小谢有不少不明白之</span><br><span class="line">处。周乐也觉奇怪。他懂事以来阅人无数，十九岁起闯荡江湖，什么风浪没见过，</span><br><span class="line">自以为对女人再了解不过了，绝不会再为女人犯错误了，哪料……。</span><br><span class="line"></span><br><span class="line">    难免会有动心的时候？难道是因为自己中了明教的魔法？因为她的容貌有些象</span><br><span class="line">记忆中那人？周乐甚至如此怀疑：这明教女子便是岑、谢口中的崔家小姐。当然他</span><br><span class="line">也觉得这种设想过于荒唐。</span><br><span class="line"></span><br><span class="line">    “襟上杭州旧酒痕”，他的心已追向那烟柳画桥，云树重湖，十里荷花的人间</span><br><span class="line">天堂了。</span><br><span class="line"></span><br><span class="line">    独孤寒依然孤寒。有些人很善于克制自己。只是习惯，不为什么？</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">   第二章 妾拟将身嫁与</span><br><span class="line"></span><br><span class="line">                              一、天与娉婷</span><br><span class="line"></span><br><span class="line">    无端天与娉婷，夜月一帘幽梦，春风十里柔情。</span><br><span class="line"></span><br><span class="line">    岑寂岑夫子，万事无不通。惟于女儿家，心思读不懂。他长于书画治印，医术</span><br><span class="line">武功，就是不大晓得风月之事。几千年的文化道统，以及十来年的寒窗苦读，使他</span><br><span class="line">对少女有这样一种印象：肤浅，没有什么远大的追求；短见识，坏脾气；似乎不太</span><br><span class="line">负责任。他沿袭了敬而远之的古训。然而那眩目的美丽一瞬间便改变了他的想法。</span><br><span class="line">他丝毫也不反感自己可耻的变节。</span><br><span class="line"></span><br><span class="line">    不为对方所知的单相思叫暗恋。单相思是对相思的部分否定，实应称之为“单</span><br><span class="line">恋”。岑寂不认为自己在暗恋，当然更谈不上单相思了。他明白为何“相思催人老”、</span><br><span class="line">“还是相思好”。相思高尚风雅，足以成为风流韵事，千秋佳话。暗恋则是偷偷摸</span><br><span class="line">摸的，有如做贼一般。岑寂为后者抱不平，以为这乃是“窃国者诸侯，窃钩者诛”</span><br><span class="line">的故事。纵然如此，他不允许自自己暗恋。</span><br><span class="line"></span><br><span class="line">    暗恋这“雅贼”一般偷不到东西，却心存幻想。岑寂则几乎不抱任何希望。他</span><br><span class="line">不太相信一见钟情，虽然书上比比皆是。（笔笔皆是！）他很怀疑自个身上存在那</span><br><span class="line">种感情。它子虚乌有，仅是“为赋新词强说愁”。从未交谈、接触，不知其品行、</span><br><span class="line">性格、才识、爱好，还有姓名年龄。可谓什么都是未知数，情感如何谈起。真个头</span><br><span class="line">脑发昏。</span><br><span class="line"></span><br><span class="line">    可她容貌宛如天人，更有一种幽姿逸韵，要在色容之外。看她的模样，性格必</span><br><span class="line">然柔顺，见识必然不俗，令人顿生亲近之心。岑寂对她念念不忘，老想再见她一面，</span><br><span class="line">自然是对她产生“好感”了。</span><br><span class="line"></span><br><span class="line">    必须接近她，深入了解，本案方可定夺。“好感”无罪开释，“理智”杖责，</span><br><span class="line">赶出大堂。</span><br><span class="line"></span><br><span class="line">    岑寂慌张了。他胡思乱想，心神不定。官司拖下去，比练决气法还难受。天便</span><br><span class="line">要亮了，究竟有无那种感情，是否应当争取，“这是一个问题”。他发觉自己从未</span><br><span class="line">这般懦弱，也从未如此才华横溢。半月不到，他的书印在杭州士子中间已小有名气。</span><br><span class="line">只是无缘再见崔九家的小姐一面。（岑寂一向很少做梦，但纵在梦中也见不着她。</span><br><span class="line">这也是他否认暗恋的说词之一。）</span><br><span class="line"></span><br><span class="line">    盛暑午后，阳光砸着绿叶黑瓦，“烘烘”作响。岑寂向例呆在府里的藏书楼。</span><br><span class="line">这天却有人上楼，轻轻的脚步踏踩着书页，听来一阵热浪。岑寂脸红耳赤，是那位</span><br><span class="line">会使“梅萼兰花指”的小丫环。他心中迷乱：府中有书房十余处，她来做甚？</span><br><span class="line"></span><br><span class="line">    这丫头不理会他，沿着架子找书。岑寂在一旁，见她好大一阵子，仍未寻着，</span><br><span class="line">忍不住问道：“这位姑娘，你找什么书？”</span><br><span class="line"></span><br><span class="line">    丫环瞪了他一眼，道：“《说文》。”岑寂领她取了。她福身行礼谢过后，说</span><br><span class="line">道：“我从前没见过你。”她打量男人的目光一如打量书籍。“你怎会在这里？”</span><br><span class="line">小女孩不好奇的几乎没有。</span><br><span class="line"></span><br><span class="line">    岑寂反问：“你读过《说文》么？”那是查解用的工具书。</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    “没有。那是我家小姐要的。喂，你找书怎会如此之快？你读过它，是么？”</span><br><span class="line"></span><br><span class="line">    “是。”他捧书踱开，满头是汗。</span><br><span class="line"></span><br><span class="line">    从此，岑寂天天午后守在那儿，想着“书边自有颜如玉”。《说文》不常用，</span><br><span class="line">可能一年查一词条。所以那丫环终于还书来了。幸好，仍是在午后。可岑寂的某种</span><br><span class="line">期盼也因此而幻灭。他不敢搭话，她也没再借书。岑寂很“下流”地翻看那本《说</span><br><span class="line">文》。他最终克制了想闻闻书的味道的更为丑恶的念头。好色作何解？卑鄙从何来？</span><br><span class="line">《说文》中的阐释不能令他满意。</span><br><span class="line"></span><br><span class="line">    周乐三人回到杭州，四人皆已受伤。</span><br><span class="line"></span><br><span class="line">    岑寂笑道：“你们三人行，必有所失焉。”</span><br><span class="line"></span><br><span class="line">    “但多了一个朋友。我们能回来见你这位大医生，全是赖了独孤寒之力。日后</span><br><span class="line">有机会介绍你认识这位剑道高手。”独孤寒不肯在关帝庙多呆一会。也许只因为他</span><br><span class="line">不拜佛烧香。</span><br><span class="line"></span><br><span class="line">    “最近，崔家有无加强防备？”小谢问。如有，说明“城隍庙”曾上门捣乱，</span><br><span class="line">威胁勒索。</span><br><span class="line"></span><br><span class="line">    “应该没有。”岑寂答道，只他在防备自个。</span><br><span class="line"></span><br><span class="line">    “裴泗水悔婚了么？”岑寂也没听说。小谢叹了口气，狠声道：“老裴果然有</span><br><span class="line">眼光。”这话岑寂已听他说过两次，不想再就此话题谈论，便道：“听说京城来的</span><br><span class="line">官员会齐了。已查明江苏布政司乃是自尽，因为苏州知府上本参他。苏无名死于中</span><br><span class="line">毒，毒性发作不快，但无法救治。”</span><br><span class="line"></span><br><span class="line">    “苏无名一向极为细心。”尉迟道。“二郎神”眼力过人，成天阴着脸，似乎</span><br><span class="line">不可能被人算计。</span><br><span class="line"></span><br><span class="line">    “毒下在酒坛中，叫‘无味子没药’。他尚未吃菜，刚喝下一杯，便肚子难受。</span><br><span class="line">这种毒药，玉器遇之不会变黑。”苏无名只喝新启坛酒，杯、筷玉质，自带在身上。</span><br><span class="line"></span><br><span class="line">    尉迟大为不解：“新启的酒坛中怎会有毒？封泥与酒的香味无法伪装。苏无名</span><br><span class="line">定能看出封泥、木塞有无被人动过手脚，闻出酒香是否对劲。”</span><br><span class="line"></span><br><span class="line">    小谢正蒙头大睡，周乐静静听着。“我姨父也不敢相信，以为另有隐情。酒可</span><br><span class="line">去毒，若是大老早放入坛中，再行封口，可能失效。”</span><br><span class="line"></span><br><span class="line">    岑寂又道：“会不会是开坛后毒才下到酒中的？”</span><br><span class="line"></span><br><span class="line">    “不可能，苏总从来都是自开自斟。”周乐道。</span><br><span class="line"></span><br><span class="line">    尉迟杯叹道：“如果连苏无名都难免中毒，胡不归、刘连、周乐都想不明白，</span><br><span class="line">只怕今后的武林人人自危、戒酒成风。”</span><br><span class="line"></span><br><span class="line">    周乐问岑寂：“有没有自杀的可能呢？”苏无名在江苏提刑按察司任上多年，</span><br><span class="line">品行也许有亏。</span><br><span class="line"></span><br><span class="line">    “胡、刘二人坚决不信。‘钟馗’是三班六房中最好的忤作，亦不从自杀说。</span><br><span class="line">况且苏无名要寻死，也不该到相好的家中呀。”岑寂道。</span><br><span class="line"></span><br><span class="line">    尉迟很难得地玩深沉：“胡、苏是师徒关系。”周乐明白他的意思：如果苏无</span><br><span class="line">名确是畏罪自杀，只怕胡不归也要受些牵连。天下捕快不分皂、壮、快、隶、吏、</span><br><span class="line">刑，几尽是老胡的门生故旧。胡与大内总管丁卯不和。丁卯想在捕快系统中横插一</span><br><span class="line">腿，却苦于抓不到胡不归的把柄。</span><br><span class="line"></span><br><span class="line">    所以，纵使苏无名真是畏罪自杀，胡不归一干人也会刻意隐瞒。</span><br><span class="line"></span><br><span class="line">    周乐心中有了计较。</span><br><span class="line"></span><br><span class="line">    当晚，月黑风高，崔府内宅屋顶上躺了一人。他似乎觉得很是舒服，以至于合</span><br><span class="line">了双眼睡上一会。可当风中送来衣袂破空细微之声，女子身上若有若无之幽香时，</span><br><span class="line">他便由瓦上弹起，箭般射出。</span><br><span class="line"></span><br><span class="line">    他挡在一个白衣蒙面的女子面前，极有深意地笑。“周乐。”女子大吃一惊，</span><br><span class="line">直如面纱为他揭去。</span><br><span class="line"></span><br><span class="line">    “是我。承蒙你手下留情，我的伤好得很快。而且我猜想你会来这儿。你们女</span><br><span class="line">儿家，好奇心很盛，好胜心又用得不是地方。”漂亮的女子不仅男人爱看，女人们</span><br><span class="line">也想瞧瞧她究竟漂亮在哪里。</span><br><span class="line"></span><br><span class="line">    这女子便是那位明教小姐，也许是来探看崔九的女儿，究竟为何周乐会在嘴边</span><br><span class="line">提及她？周乐很是得意。他想象着她脸上恼怒的样子。“当然，最重要的是我想再</span><br><span class="line">见到你。姓崔的女子我一个也不识得。崔九的女儿很可能是我未来的弟媳。”他言</span><br><span class="line">语有些轻薄，人也在欺近。</span><br><span class="line"></span><br><span class="line">    她不言不语，转身就走。周乐紧跟在后面。他不似岑寂迂痴，看上人家便将之</span><br><span class="line">当神供着。周乐坦言喜欢这位明教小姐的容颜，但还不至于爱上她的人。他留有分</span><br><span class="line">寸，象少时那样狂热单纯的爱恋，不会重演。正如光阴箭一次只能发弹一枚。</span><br><span class="line"></span><br><span class="line">    那种脑体倒挂、天地颠转的感觉，随着混沌初开而消失。容颜顶天，周乐脚踏</span><br><span class="line">实地。美貌以及特别的初次见面，也许还因了她是神秘的明教中人，足于吸引周乐</span><br><span class="line">几乎全部的兴趣。</span><br><span class="line"></span><br><span class="line">    周乐认为，追求女人应该牢记一个窍门，即“死皮赖脸，缠住不放”。切不可</span><br><span class="line">象岑寂那样正经，所谓“不色不坏，女人不爱”是也。但他有些顾虑。</span><br><span class="line"></span><br><span class="line">    女儿家的心思被男人猜中时，想掩饰难，承认更难。她对我有意，心里害羞胜</span><br><span class="line">过恼怒。周乐为自己的发现所鼓舞，也为自己的狂喜而吃惊。我如此在乎她的想法！</span><br><span class="line">捅破这层纸，今后好接近，可也不能把她吓着了。望着那纤弱的背影，香颈发丝，</span><br><span class="line">他心中充满爱怜。</span><br><span class="line"></span><br><span class="line">    两人施展轻功提纵术，月下相逐。崔府中有人发觉，大呼小叫。少女寻声而去。</span><br><span class="line">周乐忙道：“咱们不必节外生枝。”迁怒他人，小姐脾气？</span><br><span class="line"></span><br><span class="line">    她点足掠出。周乐也不敢拉她，只是伸手挡了。“你害怕崔家，便先离去。我</span><br><span class="line">还有些事要办，否则岂不白来一趟。”</span><br><span class="line"></span><br><span class="line">    周乐暗笑，她还是开口了，如此言语反显得心虚，还嫩了一点。当下道：“我</span><br><span class="line">给你当个帮手，如何？”</span><br><span class="line"></span><br><span class="line">    结果自然是双双出府。街上还有若干行人。少女低垂螓首，周乐一眼不眨地瞧</span><br><span class="line">着她。她必是瞒了婢女，偷偷出来。真难为她了。“你可是想带我到僻静处，把我</span><br><span class="line">杀了？现在天色尚早，不如咱们先上酒楼喝上几杯，坐上一会儿。”旗亭美酒，佳</span><br><span class="line">人对坐。周乐乐过了头。</span><br><span class="line"></span><br><span class="line">    巷子里只他二人并肩走着。她平静下来，眼如秋波顾盼有神，似乎和缓多了。</span><br><span class="line">“让我猜猜你的姓名。如果你不肯告诉我。……冉忠是你家仆人，故而你姓冉，叫</span><br><span class="line">……冉苒，是么？”</span><br><span class="line"></span><br><span class="line">    她的眼神吃惊地躲开周乐。“陈思王曹植《美女篇》中说到‘苒苒’，有柔弱</span><br><span class="line">之意。似乎在别处还可解作流动、舒缓、优美貌，与你再合适不过了。”周乐有些</span><br><span class="line">乐不起来了。因为他发觉有些不对劲。</span><br><span class="line"></span><br><span class="line">    冉苒很镇静，似乎还倩笑着。巷口驶出一辆马车。普通的油壁马车，驾车的却</span><br><span class="line">是冉忠。他如何寻来？或者，冉苒如何知道他等在这儿？</span><br><span class="line"></span><br><span class="line">    周乐微笑着目送马车远去，心里却骂那冉忠来得不是时候。只要我不太过份轻</span><br><span class="line">薄，她不会很生气，由此便甩不下我。如果她想装得凶一点，只怕也无法拿我怎样，</span><br><span class="line">结果反令我有恃无恐。最好的法子自然是借助外力，让我自行放弃。</span><br><span class="line"></span><br><span class="line">    虽然当时礼教之防还不甚严，当着冉忠，周乐也不好意思扮个轻薄子。人多不</span><br><span class="line">好办事。所以君子慎独；女子惟有被一大班男子哄着时，“最难养”。</span><br><span class="line"></span><br><span class="line">    岑寂起床很早。崔家只有下人才起得早。岑寂不是下人，可这无助于克服自卑</span><br><span class="line">的感觉。真正的下人不敢与主子比，反不似他那般地位暧昧。敏感的自尊是他的礼</span><br><span class="line">教，所以他早起，却不出房门。</span><br><span class="line"></span><br><span class="line">    他的早间功课是刻字、写字。“愁极频惊，梦轻难记，自怜幽独”，每个字都</span><br><span class="line">意味深长。他的心情不坏，谈不上愁，仅是一种太息、犹豫，一种矛盾的茫然。</span><br><span class="line"></span><br><span class="line">    他走向姨父的书房，想：我不会呆到让人厌烦，老太爷的集子编好后，立马走</span><br><span class="line">人。这段时间他在整理老太爷的文字。这老头的身体每况愈下。岑寂以为，这位八</span><br><span class="line">九十岁的老人一如他的文章，索然乏味，不活也罢。崔殊先正在跟崔家二爷的大公</span><br><span class="line">子谈话。崔二因病辞官在家。这位大公子值而立之年，在城里挂通判，打理家事，</span><br><span class="line">老练异常。崔家有四位太爷，十四子，三十来个孙子，人丁兴旺，却有大半以上在</span><br><span class="line">外地当官。他们正力图淡出江湖，列身庙堂之高。国朝武将不吃香，武功仅是他家</span><br><span class="line">的爱好之一。</span><br><span class="line"></span><br><span class="line">    崔殊先与这大侄儿较不忘本，因而他俩在仕途上不甚得意，武功却分别是家中</span><br><span class="line">同辈最高。这位公子的声音很平静：与楚新狂战成平手的少年独孤寒，到杭城了，</span><br><span class="line">不日将上门挑战。</span><br><span class="line"></span><br><span class="line">    “我不是他的对手。如果咱家不与他比试，却也不妥。虽说咱们崔家不以剑术</span><br><span class="line">见长。”此人老成，持重，说话简洁、得当。岑寂在一旁听着，承认自个在这方面</span><br><span class="line">大大不如。世家子弟中也是有些人才的。</span><br><span class="line"></span><br><span class="line">    不久，崔家上下都知道：崔五要空手对付一位名叫独孤寒的少年。比试那天，</span><br><span class="line">练武厅里来了不少崔家男丁。只有两人不姓崔，岑寂、孤寒。两人互相打量，心里</span><br><span class="line">明白，但也没有打招呼。独孤寒从旁取过一柄木剑。崔殊先道：“剑用木剑，一如</span><br><span class="line">手装假肢，请使真剑。”独孤寒也不推让。四老太爷坐在太师椅上，闭目捋须。</span><br><span class="line"></span><br><span class="line">    崔家的绝艺是“天保九如拳”，讲究气度，合上了年纪的人使。崔殊先有意与</span><br><span class="line">独孤寒贴身肉搏，以免让他占尽剑长的便宜。独孤寒却也如老人般谨慎，只是应招</span><br><span class="line">格挡。他大局观极强，思虑周到，于细微处又非常小心，方方面面都惨淡经营。</span><br><span class="line"></span><br><span class="line">    岑寂感到拳风拂面，又看不清场中形势，望着观战人群，突然便觉无味。你们</span><br><span class="line">要看的，我偏偏不稀罕。“天保九如拳”也没什么了不起的，不就是脚少挪动，身</span><br><span class="line">少闪避，宛如坐在椅上打拳一般。</span><br><span class="line"></span><br><span class="line">    天保九如是长寿之意。这套拳法有助养生，力道含而不露，招式绵里藏针。</span><br><span class="line"></span><br><span class="line">    这天保九如拳工致如楷书，肥大如汉简，持重如大小篆，摆着横躺着的瘦金体</span><br><span class="line">架子。而岑寂喜欢草书、行书、飞白。他偷偷溜出厅外，一眼望见取书的那个婢女</span><br><span class="line">同她的伙伴。两人在厅外徘徊，不敢入内。小丫头眼尖，道：“喂，你怎会打里头</span><br><span class="line">出来？”</span><br><span class="line"></span><br><span class="line">    岑寂应了一声。“是被赶出来的么？”岑寂埋头欲走。“是不是那人已然败了？</span><br><span class="line">我们总没有眼福。”她们学了些武功，跃跃欲试。“杜若，夫人教给我们的指法不</span><br><span class="line">知管不管用。”她俩的声音渐渐压低。岑寂仍听得一二。夫人？应是她的母亲。上</span><br><span class="line">等的婢女与主子一样闲来无事。</span><br><span class="line"></span><br><span class="line">    练武厅中传来欢呼声。两个小姑娘赶紧奔至门边探头观看。岑寂摇头，正待迈</span><br><span class="line">脚，又听得一声女子惊呼。只见那丫头正用小手掩嘴，头缩了回来，脸色苍白。厅</span><br><span class="line">中异常寂静。难道是独孤寒受伤了？</span><br><span class="line"></span><br><span class="line">    岑寂忍不住回走。他不担心独孤寒，崔家获胜时极有君子之风。那杜若正低声</span><br><span class="line">道：“杜蘅，就你多嘴，这下可惹祸了。四太爷……。”两人也不敢离去。岑寂闪</span><br><span class="line">入厅中，独孤寒与崔殊先对面站着，似乎尚未动手。崔殊先脸上带着微笑。独孤寒</span><br><span class="line">仍如戴了面具一般。四太爷神色严峻。谁也没有说话。不过是一会儿的功夫，岑寂</span><br><span class="line">想。</span><br><span class="line"></span><br><span class="line">    独孤寒口中似乎含着什么，跟着将它吞了下去。岑寂知他受了轻微的内伤。崔</span><br><span class="line">殊先道：“我输了。方才我一拳击在你腰际，虽然你运功卸力，肌肉回缩很快，仍</span><br><span class="line">是受了点伤。”崔家子侄在悄声议论。</span><br><span class="line"></span><br><span class="line">    “照常理，你输了一招，胜负已分，应该停手。但你接下来的那几记反击着实</span><br><span class="line">令我穷于应付，更无暇说话、无从罢手。倒不是因为我松懈了，而是你的剑招组合</span><br><span class="line">着实漂亮，可谓妙着连珠。”崔五在跟独孤寒说话，却似在向四老太爷解释。</span><br><span class="line"></span><br><span class="line">    “你躲不开我那一拳，这我有把握。但我击中你一拳后，反倒失了胜你的信心。</span><br><span class="line">我是黔驴技穷。”他在自嘲。</span><br><span class="line"></span><br><span class="line">    岑寂明白了：孤寒在中掌受伤的情形下，勉力支撑，将局面点滴挽回。他封杀</span><br><span class="line">了崔五的拳路，顽强地坚持，创造性地发挥，最终以小小的优势胜出。</span><br><span class="line"></span><br><span class="line">    崔家众子侄的脸色变得难看。四太爷不知何时离去了。崔殊先较有涵养。他只</span><br><span class="line">是在想：五十知天命，六十耳顺，我的‘天保九如拳’还差十年火侯；这少年虽受</span><br><span class="line">了伤，再次交手，只怕我会败得更快。换我受了伤，不但没了斗志，而且劲力也会</span><br><span class="line">打些折扣。他比我们崔家所有人都稳重、镇静、自信、有耐心。楚新狂应该更不是</span><br><span class="line">他的对手。</span><br><span class="line"></span><br><span class="line">    独孤寒忽然道：“我跟他再比试一场。”他指岑寂。岑寂怀疑自己听错了。周</span><br><span class="line">乐他们都跟他吹了什么风。难道他不晓得我不好武功、武功不好么？岑寂害怕自己</span><br><span class="line">输得太惨，当众出丑。</span><br><span class="line"></span><br><span class="line">    独孤寒换了把木剑。他抱拳时，脸上有些笑容。起手第一剑却毫不客气，凌厉</span><br><span class="line">至极，差点便刺到岑寂脸上。岑寂只好打点精神，掏出刻刀。孤寒似乎怕他的飞刀，</span><br><span class="line">立马回剑戒备。几招过后，岑寂已进入角色，来了兴致，不再是手慌脚乱了。</span><br><span class="line"></span><br><span class="line">    岑寂压根儿不曾正儿八经地与人比试过武功。在他眼中，对方的剑招好比一幅</span><br><span class="line">水墨山水，不论怎着，总会有留白处，题款处，意尽处。他也不去想那木剑本应为</span><br><span class="line">钢铁所铸，顾虑渐无，只求达神畅意。刻刀化成毫笔，施展“米点山水”，轻轻朦</span><br><span class="line">朦，飘逸至极。</span><br><span class="line"></span><br><span class="line">    所以，他“法自我立”，似乎面对着一堵墙，一张纸，一折扇，大胆创意，挥</span><br><span class="line">洒自如。哪儿有留白，便在哪儿“画沙印泥”。他“锋藏笔中，意在笔前”，既稳</span><br><span class="line">且准。独孤寒不料他出招如此冲动，这般投入，当下全力防守。</span><br><span class="line"></span><br><span class="line">    如若对手不是独孤寒，或者独孤寒一上来便是抢攻，只怕岑寂早就败下阵来。</span><br><span class="line">岑寂见孤寒有些亲切，便将打斗当成游戏，放开了手脚，放松了心境。</span><br><span class="line"></span><br><span class="line">    岑寂使得顺手，刻刀切、冲，如秦泰山刻石，又转石鼓文，不时出现“古玺”</span><br><span class="line">刻法。他于艺术讲圆通，不拘泥于一笔一划。兴之所至，不着形迹。刻刀一划尚未</span><br><span class="line">尽意，独孤寒封了去势。他也不修补润色，当即变招，转入另一字。</span><br><span class="line"></span><br><span class="line">    独孤寒看不出岑寂的招式，但感觉了他出招之畅快，刀尖凝聚内力之精锐。岑</span><br><span class="line">寂所盯的“留白”正是其剑招的破绽所在。</span><br><span class="line"></span><br><span class="line">    岑寂借笔意入刀，实际上与随手出刀无异。他与孤寒一样，懂得武功的道理，</span><br><span class="line">却没学过系统的套路招数。在他心里，以为自己在写字画画。在武夫眼中，却只认</span><br><span class="line">定他在出招，每一式都是纯粹的武学，仿佛在别派的刀法中也能看到。</span><br><span class="line"></span><br><span class="line">    一个好裁缝见到布料，便想到成衣的模样、尺寸。布商却只会想到它值多少钱。</span><br><span class="line">沉迷于艺术的岑寂见到剑路刀痕，自然联想到笔法构图。他借着自已最为纯熟的技</span><br><span class="line">法，发挥出自己在武功上的潜力。因为前者培养了他非凡的眼力、反应速度、用力</span><br><span class="line">之道、创造精神、意气态度，如此等等。</span><br><span class="line"></span><br><span class="line">    岑寂内功依“决气法”修行，虽然不如独孤寒强，却较为精纯、锋利。绘画最</span><br><span class="line">讲究“气韵生动”。正是那决气法的一以贯之，令岑寂的刀法极为“生动”，气势</span><br><span class="line">非凡。 他以“九迭篆” 入刀，再改用“凿印急就章”，错落自然，急迅不工。这</span><br><span class="line">“凿印急就章’乃是刻在金属印坯上的，着力极重。</span><br><span class="line"></span><br><span class="line">    独孤寒开始后退。突然，他挺剑跳开，古怪地瞧着手中长剑。剑身上有如鬼画</span><br><span class="line">符一般，花纹多，有几处断痕长深。跟着轻轻一抖，木剑断开，半截剑身掉在脚边。</span><br><span class="line">他露出一丝微笑，几颗洁白的牙。</span><br><span class="line"></span><br><span class="line">    练武厅中开始喧哗。众人皆不相信岑寂居然未败。岑寂也呆住了。独孤寒拿了</span><br><span class="line">自个带来的长剑，道：“就此别过。”拱手出门。这回，他仍是对胜负不评一词。</span><br><span class="line">他刚对付过一位当世一流高手，受了点伤，而且使的是木剑。但不管怎样，岑寂意</span><br><span class="line">识到自己的武功居然也不差。</span><br><span class="line"></span><br><span class="line">    崔殊先脸上尽是嘉许之意。他能欣赏此中妙处。他想到王右丞王维，“诗中有</span><br><span class="line">画，画中有诗”，开文人画之先。</span><br><span class="line"></span><br><span class="line">    岑寂心中则有些不安：木秀于林，风必摧之。方才显得他崔家武功一无是处，</span><br><span class="line">崔家子弟皆不成器。木剑，在孤寒手里也只是木剑，易折。</span><br><span class="line"></span><br><span class="line">    众人散去。岑寂见到杜蘅、杜若在门外探首。</span><br><span class="line"></span><br><span class="line">    “原来你叫岑寂，是五爷的亲戚。”杜蘅道。杜若拾起那两截木片，细声细气</span><br><span class="line">地道：“杜蘅，你应该称他岑公子才是。”</span><br><span class="line"></span><br><span class="line">    岑寂涨红了脸，埋头走向门外。“咱们赶紧把木剑拿回去给夫人看，……。”</span><br><span class="line"></span><br><span class="line">    由此，岑寂一个早上都看不下书，似乎心已附在木剑之上。他想到如果自己出</span><br><span class="line">身望族，相貌出众，那么到目前为此，一切进展顺利。“她母亲会白衣庵的武功？</span><br><span class="line">想不到自己居然因为武功而引起了她的注意。”</span><br><span class="line"></span><br><span class="line">    杜若扣门进屋，两人都有些慌乱。“岑公子，我家夫人听说你是医林弟子。”</span><br><span class="line">崔家识他者多半如此认为。岑寂想了想，点点头。</span><br><span class="line"></span><br><span class="line">    “如果你现在有空，夫人请你过去，想听你讲讲歧黄之术。”</span><br><span class="line"></span><br><span class="line">    欣喜之余，他也有着清醒的不安。她们似未张扬那晚小谢惊艳之事。但他总是</span><br><span class="line">心虚，又害怕又渴望能再见那崔小姐一面。</span><br><span class="line"></span><br><span class="line">    岑寂过后回想，自己似乎未曾正视崔夫人。房中有几个老妈子，几个小丫环。</span><br><span class="line">崔夫人借以避嫌。她肯定没她女儿美，同样娴静，更见圣洁。风韵气质均是绝佳。</span><br><span class="line">两人寒暄数句。岑寂已明白她的病根所在。</span><br><span class="line"></span><br><span class="line">    “我的表现应该相当知书达礼吧。也许有些不从容、放不开的小家子气。”他</span><br><span class="line">时常追忆当时情形。崔夫人的病情她隐了十几年，不敢请医生看。那天见岑寂年幼</span><br><span class="line">老实，也不算外人，而且确实医术过人，便开了天窗。</span><br><span class="line"></span><br><span class="line">    “自嫁到崔家，每到春天，我都会有种种不适。自己照着医书开方抓药吃，压</span><br><span class="line">根儿无效。但等时节一过，自个便好了。”“冒昧地问夫人，你未出阁时，府上在</span><br><span class="line">哪儿？”“……嘉兴。”</span><br><span class="line"></span><br><span class="line">    这就奇了。夫人，你的病是因了某个节气某些花粉所致。纵使整日闭门不出，</span><br><span class="line">亦躲不过。嘉兴距杭州不远，若真为花粉所致，按理你在这两地均免不了生病。岑</span><br><span class="line">寂想到嘉兴的白衣庵。</span><br><span class="line"></span><br><span class="line">    他知此病传到外头不好听，会惹闲话，花邪？思春病？她夫君不在家，人又太</span><br><span class="line">漂亮了，在这样的大宅内，十来年的日子不知如何过来。“明年春天，发病后，您</span><br><span class="line">与九爷去趟京城， 住上一段时日， 看看病是否减轻了。”崔夫人面有为难之色。</span><br><span class="line">“夫人，你这花粉症只需在那些日子避开江南，一般便可不治而愈。崔九在京城当</span><br><span class="line">官，自然到那儿最好。”</span><br><span class="line"></span><br><span class="line">    “我先前不愿随九爷进京，便是害怕在外生病多有不便。而且……而且我老怀</span><br><span class="line">疑有人会在暗中算计我。我也怕这病会连累他。……不怕岑公子笑话，我出身不好。</span><br><span class="line">太爷怕我在京城被人议论，误了九爷的前程。”她的样子楚楚动人。岑寂记得当时</span><br><span class="line">自己如坐针毡。那窘迫的样子一定令她不安了。</span><br><span class="line"></span><br><span class="line">    岑寂不敢肯定自己走了桃花运。他比以往多了些信心。崔夫人似乎不喜女儿嫁</span><br><span class="line">到北方，嫁进大族里。“那天我看到了一线生机，却也从此不可自拔。”岑寂非常</span><br><span class="line">理智。塞翁失马，焉知非福？他有塞翁睿智的想法，却不希望自己失马。他已在设</span><br><span class="line">想种种将来：英雄救美；携子逃婚；人祸兵灾，如此等等。</span><br><span class="line"></span><br><span class="line">    一个人，若是尽往坏处想，活得较累，会象崔夫人一样忧愁、郁抑。但若象岑</span><br><span class="line">寂那样，好处坏处皆一一想到，却想不开，放不下，没个干脆的决断，也是难受。</span><br><span class="line"></span><br><span class="line">                              二、永夜抛人</span><br><span class="line"></span><br><span class="line">    永夜抛人何处去？绝来音、香阁掩，眉敛、月将沉。争忍不相寻？</span><br><span class="line"></span><br><span class="line">    江南典当行杭州掌柜老古董其实不老，四十来岁，服饰鲜亮，招子贼亮。他道：</span><br><span class="line">“周乐，你来当铺做啥？你没有一件东西值钱。”</span><br><span class="line"></span><br><span class="line">    “我当我本人，尊夫人肯定乐意成交。可是她的形象令人不敢恭维。尊夫人在</span><br><span class="line">厨房象主妇，在卧室象情人，在店里还是个贤内助。”周乐两眼一眨不眨。</span><br><span class="line"></span><br><span class="line">    老古董张大嘴，瞧瞧自己妻子并不在左近呀。</span><br><span class="line"></span><br><span class="line">    “只惜她从不下厨房，从不上你的卧室，在店子里面则是垂帘听政。但俗话说</span><br><span class="line">一俊遮百丑，她可是蔡百万的女儿。正如古董，不管多破多烂，只要年代久远，出</span><br><span class="line">身好，便能当个好价钱。”</span><br><span class="line"></span><br><span class="line">    老古董叹口气，背见得有些驼。“每回你见了我，总跟我们典当行接受当物一</span><br><span class="line">般，大肆贬低，说得顾客自个也没了信心。”</span><br><span class="line"></span><br><span class="line">    “因为我穷，常上当铺，你们这一套被我偷师了。……老实说，我很羡慕你，</span><br><span class="line">丢失价值几十万两银子的珠玉，老板也不追究你的责任。泰山大人说，只要别将我</span><br><span class="line">女儿丢了。”</span><br><span class="line"></span><br><span class="line">    “小声点，别瞎嚷嚷。我真后悔告诉你。此事够让我头疼了。小店只有二三百</span><br><span class="line">万两的资财，一夜之间居然损失了十分之二强。周乐，我正想找你，你给瞧瞧那间</span><br><span class="line">仓库怎会被盗。”</span><br><span class="line"></span><br><span class="line">    “如果你上回便领我去勘查一番，案子早就破了。”</span><br><span class="line"></span><br><span class="line">    库房平时用于存放贵重物品，隐在典当行柜台后面。四壁、室顶坚固异常，用</span><br><span class="line">炸药也不易蹭层皮。铁门、大锁皆是由墨家制作安装的，此时完好如初。里外共两</span><br><span class="line">道门。内门从内开启、上锁，夜间室内有两人值守。</span><br><span class="line"></span><br><span class="line">    开外门需要不同的两把钥匙，得由两人同时开锁。“一把在我身上，一把在内</span><br><span class="line">子处。一向没有什么差错。也未出借过钥匙。”</span><br><span class="line"></span><br><span class="line">    “那日一大早，我与内子、两个伙计打开外门，想进行交班清点，却发现内门</span><br><span class="line">虚掩。库房内值守的两人已死去多时。一个倒在门边不远处，似乎在临死前打开内</span><br><span class="line">门，想夺门而逃。两人均死于中毒，极为寻常的‘失魂香’。”</span><br><span class="line"></span><br><span class="line">    “如果室内人暴毙，内门便只有撬开才能进入。密室通风口设计得极为巧妙，</span><br><span class="line">最小的老鼠也不可能由那儿出入，通风性能却极为出色。据说分为好几处，由细小</span><br><span class="line">的孔道构成，非常隐蔽。我都猜不出它们在哪儿。墨家的人讲，室内人掀动机关，</span><br><span class="line">便可关闭通风口，并向外头历声示警。毒气不太可能打那儿施放。”</span><br><span class="line"></span><br><span class="line">    墨家的机关设计巧夺天工。如果由通风口处贸然往里头吹送毒气，毒气不易进</span><br><span class="line">入库房，却会一缕缕地往外跑。</span><br><span class="line"></span><br><span class="line">    “事发当时，我们没料到库中已丢了东西。毕竟，外门完好。哪料一清点，少</span><br><span class="line">了许多。唉！几十万两银子啊。”</span><br><span class="line"></span><br><span class="line">    周乐边听边看，嘴角含笑，却不插口。“内子怀疑那些珠宝藏在死人肚子里，</span><br><span class="line">结果什么也没有。出事的那个晚上，我与内子呆在家中搓了一夜的麻将，都没有作</span><br><span class="line">案时间。钥匙也一直藏在身上。当铺值守另有三人。他们皆未发觉有何异常。”</span><br><span class="line"></span><br><span class="line">    内外门相距五步，从仓库中可以看清过道里的人。过道相当阴暗，高不过三丈，</span><br><span class="line">外门一开则无限光明。“我们清点财物时，都是先呆在过道中，锁上外门，再令里</span><br><span class="line">头的伙计打开内门。如此才不至于为强人所趁。”</span><br><span class="line"></span><br><span class="line">    “事发之后，为了防止混乱中失窃，我特意将内外门关上。所以，从头至尾，</span><br><span class="line">进入过库房的只有内子、我、两个伙计，完全可以排除混水摸鱼的可能。珠宝失窃</span><br><span class="line">定与值守被害有关。”</span><br><span class="line"></span><br><span class="line">    库房中通气良好，所有的财物均已搬走。周乐踱步沉思。“周乐，刚开始我百</span><br><span class="line">思不得其解，哪有可能如此离奇地失盗？若不是墨家所为，便非人力所能做到。”</span><br><span class="line"></span><br><span class="line">    周乐眼珠骨溜溜地转。“不会是墨家，真的。”他闪烁其词。月来，江南发生</span><br><span class="line">了十几起大盗案，杭州城中惟有老古董一家遭殃。并且，就只有杭州的这起案子复</span><br><span class="line">杂、诡异，让人看不出偷盗的手法，叫人怀疑是否真的失盗过。</span><br><span class="line"></span><br><span class="line">    老古董盯着他，扬眉微笑。墨家领袖巨子、头脑天工匡不逮、鬼工匡弦歌以及</span><br><span class="line">墨宝四人是他绝计惹不起的人物。虽然墨家奉行“非攻、节俭”，但口号归口号，</span><br><span class="line">谁也不知道墨家是否真正做到了。但如果墨家要干坏事，行偷盗，那么天下财宝全</span><br><span class="line">都芨芨可危。因为精密的锁具、机关多是墨家所制。</span><br><span class="line"></span><br><span class="line">    周乐高高兴兴地回到庙里，尉迟在练功，小谢居然还赖在床上。小谢道：“老</span><br><span class="line">古董不会给你什么好处。大概是古夫人……。”</span><br><span class="line"></span><br><span class="line">    周乐打断他的话，笑道：“你知道苏无名的酒坛里为何会有毒么？”</span><br><span class="line"></span><br><span class="line">    小谢兀自躺床，懒洋洋地道：“先制服苏无名，然后在他的嘴里、酒坛中分别</span><br><span class="line">放入毒药。”周乐鼓掌，与尉迟对视一笑。他悠悠道：“这个想法极妙，只是最好</span><br><span class="line">别忘了在酒杯中留点毒酒的残迹。”</span><br><span class="line"></span><br><span class="line">    尉迟道：“天下第一神捕胡不归不可能没想到这一点。但是，要制服苏无名谈</span><br><span class="line">何容易，更何况现场无打斗痕迹。岑寂不是说连饭菜都不及动过么？苏无名是老胡</span><br><span class="line">得意门生，‘天夺之魄，神龙飞索’九九八十一招，已得真传，在江南地面上还未</span><br><span class="line">逢敌手。纵是偷袭暗算，亦难于成功。苏无名机警过人，经验丰富，外号为‘二郎</span><br><span class="line">神’。”</span><br><span class="line"></span><br><span class="line">    真如小谢所言，凶手还必须事先收买苏无名身边差人，操作难度较大，且不易</span><br><span class="line">保密。再者，凶手如此苦心积虑，多费周折，又为了什么？”</span><br><span class="line"></span><br><span class="line">    小谢也不脸红，道：“兵不厌诈。凶手早猜到尔等俗人会如是想。他设局的目</span><br><span class="line">的是混淆视听，嫁祸唐门，让大家不明所以，人人自危。”他从不轻易认同别人的</span><br><span class="line">想法，喜欢作惊人的言论。</span><br><span class="line"></span><br><span class="line">    周乐停了一会儿，认真说道：“你的话倒是启发了我。”</span><br><span class="line"></span><br><span class="line">    “制服苏无名不一定要靠武力、凭真本事。”他想到了光阴箭、催眠术。尉迟</span><br><span class="line">若有所思，跟着恍然大悟。</span><br><span class="line"></span><br><span class="line">    三人心中明白：苏无名之死可能会成就一桩无头公案。周乐还在想，密封的酒</span><br><span class="line">坛中当真渗不进毒药么？要知道，保存的时日长了，任何一坛陈年佳酿的重量都会</span><br><span class="line">减少。“偷酒贼”会使坛中空出一定的空间。酒味蒸发、弥漫在窖中。</span><br><span class="line"></span><br><span class="line">    周乐想着那位妍媚娇艳、任性羞涩、冰雪聪明、善解人意的明教小姐，想看看</span><br><span class="line">她这会儿的模样。于是，他动身出发。做了一番布置后，上崔府，然后出府。</span><br><span class="line"></span><br><span class="line">    傍晚的后花园，有竹木花石。冉苒惊讶得忘记了伪装。周乐盯着她长长的睫毛，</span><br><span class="line">晶莹明亮的瞳仁，仿佛有一丝笑意、阵阵幽香，有九天奏乐、天女散花。他第一次</span><br><span class="line">有机会长时间地端详面纱后的俏脸。</span><br><span class="line"></span><br><span class="line">    “你怎么找到这儿的？”周乐怀疑自己听到了洛神的声音。</span><br><span class="line"></span><br><span class="line">    “因为你在这里。”周乐一本正经，小心翼翼，“你知道我的法子后，它就不</span><br><span class="line">会灵验了。虽然，我害怕你生气。”</span><br><span class="line"></span><br><span class="line">    冉苒不生气，但周乐更害怕她不说话。他觉得自己极其无趣，穷极无聊，罪大</span><br><span class="line">恶极，叹声道：“因为那天冉忠能够在巷口寻到你。”梅妆、蕊珠已经上前，与花</span><br><span class="line">树一道隔了天上人间。</span><br><span class="line"></span><br><span class="line">    周乐对着天边静穆燃烧的霞光，道：“我猜你出门时没告诉她们要上哪儿。她</span><br><span class="line">们必要象我这般苦苦寻你，自然会少些戒备，露些行藏。恰好，我又是十三行在杭</span><br><span class="line">州的小头目，有一帮长于盯哨的手下。”遥远的西天有着变幻的云彩。</span><br><span class="line"></span><br><span class="line">    “你这样做显得很有心机、城府很深。”</span><br><span class="line"></span><br><span class="line">    你该听到我沉重急切的心跳。“所以我有能力帮你对付‘城隍庙’。”</span><br><span class="line"></span><br><span class="line">    冉苒不语，转身欲走。周乐心已冷下。天是冷峻的黛青之色。“此地江南典当</span><br><span class="line">行库房失窃案，我已有十分把握。”</span><br><span class="line"></span><br><span class="line">    “哦？我很想听听。蕊珠、梅妆，带他到花厅。”终于有些转机了。</span><br><span class="line"></span><br><span class="line">    我等了这么久，只想着一个女子，却来了五人。她换了衣裳，似乎也换了心情。</span><br><span class="line">周乐如沐春风。原来这另外两位婢女叫做闻琴、解佩。</span><br><span class="line"></span><br><span class="line">    “那库房秘室中的值守中有一人监守自盗。他暗中点倒另一人，用身上特意多</span><br><span class="line">添置的衣物装了一袋子财宝，开锁出内门，挂在外门正上方内壁的阴暗处。由于过</span><br><span class="line">道中光线不足，且顶墙较高，人们慌乱之中绝计注意不到外门上方墙壁吊挂着的衣</span><br><span class="line">袋。这位家贼无法打开外门逃走。所以他得有个同伙，在次晨库房中一片混乱、外</span><br><span class="line">门不及紧关时将财宝取走。”</span><br><span class="line"></span><br><span class="line">    “由于这位值守开不了外门，带不出珍宝，人们无法认定他便是贼人。另一位</span><br><span class="line">值守也不敢认定是他在暗中偷袭。”周乐道。</span><br><span class="line"></span><br><span class="line">    冉苒饶有兴致地道：“那么，‘失魂香’又是怎么回事呢？”失魂香的气味辛</span><br><span class="line">辣刺鼻，库中人不可能没有深察。“莫非是盗贼同伙施放毒气杀人灭口？”</span><br><span class="line"></span><br><span class="line">    “正是。那库房通风口很小，很隐蔽，但最重要的是有机关，不能向内传话胁</span><br><span class="line">迫。库中人却可对外鸣声示警。施毒之人无法从通风口放话，威胁值守打开内门。</span><br><span class="line">但要杀死他们，尤其是在他们昏迷之时，并不是没有可能办到。那位家贼也点了自</span><br><span class="line">个的昏睡穴，以便伪装成受害者的样子，却不料上了同伙的当，死得不明不白。”</span><br><span class="line"></span><br><span class="line">    “在自击穴道之前，家贼已将内门打开。因为内门不开，众人进不了库房，只</span><br><span class="line">能挤在过道中，其同伙不好趁乱拿走衣袋中的财物。”</span><br><span class="line"></span><br><span class="line">    “人死之后，不易看出其穴位是否曾经受制。该当铺规定，夜间值守绝计不可</span><br><span class="line">擅开内门。而且，从库房密室内可看清过道内来人面目。所以，完全可以排除被贼</span><br><span class="line">人骗开内门的可能性。由于外门完好无损，钥匙也未丢过，老古董夫妇没有作案时</span><br><span class="line">间，人们只会怀疑到墨家。”</span><br><span class="line"></span><br><span class="line">    “哪位强盗也不愿入宝山而空手归。库中值钱的东西很多，单挑了一些个儿小、</span><br><span class="line">份量轻的珠子古玉。自然不是因为他们于心不忍，发了善心，而是因为衣袋容物有</span><br><span class="line">限。”周乐侃侃而谈。</span><br><span class="line"></span><br><span class="line">    冉苒让婢女给周乐上茶，柔声道：“为什么那位监守自盗的伙计对其同谋如此</span><br><span class="line">放心？”周乐道：“我也想不通。也许他认为没有人能够在通风口处放毒。”</span><br><span class="line"></span><br><span class="line">    冉苒微笑道：“也许此人是位死士，自个施放毒气。”周乐心中舒畅，呆坐在</span><br><span class="line">那儿忘了说话。解佩红袖夜添香，冉忠一直都没有出现。</span><br><span class="line"></span><br><span class="line">    冉苒望着周乐，轻轻道：“那么究竟谁是此案同谋呢？”</span><br><span class="line"></span><br><span class="line">    周乐很希望此案再棘手一些，以便与她多聊一会儿，好探明她的心意，抓住她</span><br><span class="line">的情思。“我认为是老古董。那天早晨，老古董夫妇与两名伙计刚打开外门，发现</span><br><span class="line">内门洞开，尸体横陈。惊慌之下，他们忘了将外门从里面锁上，便冲入内门。为了</span><br><span class="line">防止混乱中失窃，回过神来的老古董特地转身外出，将内门带上。”</span><br><span class="line"></span><br><span class="line">    “老古董可以找个借口，出库房一趟，拿走在墙壁上高高挂着的珠宝。再不，</span><br><span class="line">他另有一个帮手，利用外门片刻间没有上锁的机会，将珠宝取走。”老古董可以借</span><br><span class="line">口要出去将外门锁上，可以借口要到外头唤人手帮忙。</span><br><span class="line"></span><br><span class="line">    冉苒沉吟道：“老古董有做案动机么？”老古董出身九华，是名门正派的弟子。</span><br><span class="line"></span><br><span class="line">    “再怎么说他也只是倒插门的穷女婿。他一直受到夫人的压制，表面上似乎知</span><br><span class="line">足常乐、安于现状，内心的不满却与日俱增。我与他一块喝酒时，曾听他诉过苦。”</span><br><span class="line">周乐道。</span><br><span class="line"></span><br><span class="line">    “你居然出卖朋友。”周乐感到她盈盈巧笑的馨香，喜欢那抿嘴掩笑、天真可</span><br><span class="line">人的模样。</span><br><span class="line"></span><br><span class="line">    “我不认为他不该偷那些珠宝。我心中仍然敬重他，当他是个朋友。对于徽商</span><br><span class="line">帮的损失，我却只有幸灾乐祸。”周乐认真地说道，“老古董不象是秘密组织的成</span><br><span class="line">员，可能与江南发生的其它大案无关。”</span><br><span class="line"></span><br><span class="line">    冉苒静静地道：“你只说对了一半。……老古董是我明教弟子。”周乐合不拢</span><br><span class="line">嘴，仿佛是第一次见到她。他觉得自己便是那名值守，好不容易偷出珠宝，却给人</span><br><span class="line">卖了，送了性命。“我也中了‘失魂香’！”他想，“我一直都认为明教不至于入</span><br><span class="line">室抢劫。……所有案子会不会都是明教干的？”</span><br><span class="line"></span><br><span class="line">    冉苒忍不住笑出声来。周乐直凝凝地望着她，也许很象一位怨妇。“老古董一</span><br><span class="line">直都是我教弟子。因为酷爱习武，拜在九华门下。但他不是奸细。那时很多明教弟</span><br><span class="line">子不会明教的武功，甚至根本不会武功。教众间的相互联系也很少。……我教弟子</span><br><span class="line">中也有和尚、道士、儒生。他们有坚定的信仰，遵从教义，却不认为自己属于一个</span><br><span class="line">武林帮派。他们可以攻书念经，从商做官。这并不矛盾。”冉苒道。</span><br><span class="line"></span><br><span class="line">    “老古董发现当铺库房中有我教中数代传下的珠玉。我们明教崇尚光明，认为</span><br><span class="line">珠宝可以代表光明。”周乐也曾听岑寂如此说过。明教有从商之俗。西北和阗的宝</span><br><span class="line">玉多落在他们手里。“他有心拿回这些珠玉。可店中的实际掌柜是他夫人。”</span><br><span class="line"></span><br><span class="line">    “我们不希望老古董抛家弃子、隐姓埋名，想知道案子是否做得天衣无缝，他</span><br><span class="line">能否摆脱干系。周乐，当时古董向我推荐你，说你很聪明，好管闲事，当过捕快，</span><br><span class="line">且是他的朋友。”周乐仔细听着。“如果你不能看出此案破绽，谅那胡不归也无法</span><br><span class="line">识破。”</span><br><span class="line"></span><br><span class="line">    她似在与周乐谈心，呼吸舒缓、吐气如兰的样子，令周乐忘乎所以。他笑道：</span><br><span class="line">“既然你们如此赏识我，不如吸收我入教吧。我可以帮助老古董逃过此劫。”</span><br><span class="line"></span><br><span class="line">    “方才你已将他出卖。今后你还可能害他一把。为了他的安全，我们不想放过</span><br><span class="line">你。”冉苒一本正经地道，“你知道的秘密太多了。”</span><br><span class="line"></span><br><span class="line">    我对你了解甚少，我也不想放过你。难道你不想知道我是如何寻至这儿的？你</span><br><span class="line">们教中用三干树、东阿拉米方言绘制的图形联络记号，为什么会被我破译？周乐心</span><br><span class="line">中想着，口中说道：“我可以一直呆在你身边，留做人质……。”</span><br><span class="line"></span><br><span class="line">    周乐不敢反抗，不想逃，逃也逃不过光阴箭。闻琴、解佩这两个丫头点了他七</span><br><span class="line">八处要穴。他发觉自己低估明教，美化明教，自作多情。</span><br><span class="line"></span><br><span class="line">    后一个错误不可饶恕。周乐怀疑冉苒有个孪生姐妹，否则她的情绪不会有如此</span><br><span class="line">大的变化，性子不会如此令人捉摸不透。九华山下，我偷瞧了她的模样，但女儿家</span><br><span class="line">心里肯定不会不高兴，除非她长得不好看。待到我失魂落魄下挨了她一掌时，她已</span><br><span class="line">乐得送个顺水人情。也许，她曾无数次梦见香车辗辙江湖，与风流侠少不打不相识</span><br><span class="line">……。周乐心在下沉。我意外地闯入她的梦境。我出不来了，她却惊醒了。</span><br><span class="line"></span><br><span class="line">    他不相信一见钟情，至少不相信会发生在自个身上。他怀疑“不打不相识”的</span><br><span class="line">陈词滥调。他不喜欢会打架的女孩。可是，在当今年月，从前过去，遥远将来，女</span><br><span class="line">子大胆表示好感，主动接近以求全面了解男子，几不可想象。她们缺少表白机会及</span><br><span class="line">勇气。结成欢喜冤家倒要浪漫多了。面对“敌人”，较少想到男女之防。</span><br><span class="line"></span><br><span class="line">    周乐的手脚已被绑上。他松了口气：杀人无须如此费力。口中立马给塞上一大</span><br><span class="line">块布。他开始有些高兴。她不杀我，这不便说明了一切么？她在考验我。我乐于做</span><br><span class="line">出一些牺牲。也许这种机会很难得。她会不会心疼。……真抱歉，让女孩扛我。</span><br><span class="line"></span><br><span class="line">    他被扛到井边。 不会吧？ ！“我们要搬家了，这儿留给你住。”回答是一声</span><br><span class="line">“扑通”，回音不绝。</span><br><span class="line"></span><br><span class="line">    周乐给人头朝下脚朝上地扶入井中。这井水深么？她们肯定不如我清楚。他的</span><br><span class="line">头碰到井底，浮了上来，掉了个儿。井水刚好淹到他的嘴。上面又扔下一个水桶，</span><br><span class="line">正套在他头上。周乐听到了离去的脚步声，耳朵里嗡嗡地响。</span><br><span class="line"></span><br><span class="line">    他手脚麻木，冻得开始害怕。充水的布块撑得他牙口难受，呼吸不畅。“也许</span><br><span class="line">呆上一会儿，她会救我出井。”这样一想，他才好受一些。</span><br><span class="line"></span><br><span class="line">    过得许久，他已困极，却又不敢睡也不想睡。穴道均已冲开，头上的水桶也已</span><br><span class="line">去掉。可他挣不断缚在身上的绳索。“它们不是普通的麻绳，我的骨头会比它们烂</span><br><span class="line">得更早。”</span><br><span class="line"></span><br><span class="line">    井龙王？屈平？我倒似个缚紧的大棕子。幸好水中无鱼。他在心里骂自己。再</span><br><span class="line">后来他开始恼怒，再而羞愧，续而后悔。“冰冷的井水令我满是猪油的脑袋清醒过</span><br><span class="line">来了。我不该为她着迷。她以为自己很了不起……。”</span><br><span class="line"></span><br><span class="line">    周乐想骂她。骂她什么才好呢？周乐奇怪自己居然骂得开心起来。他笑了笑。</span><br><span class="line">“……我看重生命更甚于爱情。”他狠狠地道，“我仅是被她吊起了胃口。”</span><br><span class="line"></span><br><span class="line">    我居然想着报复她的种种快感。</span><br><span class="line"></span><br><span class="line">    天亮了，井底逐渐变亮。周乐发觉泡在水中的手、脚、躯干正在离他而去。阳</span><br><span class="line">光沿着井沿爬下井底，水光晃得他闭眼，看见自己站在一座宫殿面前。金黄色的沙</span><br><span class="line">漠中，金碧辉煌的宫殿，平坦舒适的床，还有柔软的被子。阳光由井底爬上井沿。</span><br><span class="line"></span><br><span class="line">    周乐冻得耳朵剧疼。他一直在努力运动脖子。一整天了，他开始臭骂岑寂。你</span><br><span class="line">应该猜到我处境不妙。是你教我认那些明教的联络暗号，所以你应该能够找到这座</span><br><span class="line">院子。怎还不来救我？</span><br><span class="line"></span><br><span class="line">    正午阳光大盛时，周乐对冉苒不再抱有幻想了。“她存心害我性命。这是可以</span><br><span class="line">认定的了。”他也不伤心，只是湿衣服贴在身上不太好受，跟一间小小的牢房似的。</span><br><span class="line">女人如衣服，兄弟似手足。会有双手拉我上去，解开绳子。</span><br><span class="line"></span><br><span class="line">    岑寂已经在喊我了。没错。原来我这个大傻瓜叫周乐。周乐用头撞着木桶。他</span><br><span class="line">感觉象是又过了一天。岑寂总算找到井边来了。“周乐，你怎会跟木鱼一般，就是</span><br><span class="line">敲击声不够响。”岑寂跳下井。</span><br><span class="line"></span><br><span class="line">    “他们以为你上哪寻乐子。小谢说你在杭城中也有几个老相好。这井水真凉。</span><br><span class="line">我先以为你不在院内。可出门后又寻不着明教的标记暗号，才又折回。却不料你真</span><br><span class="line">个躲在井底。只是没有陈后主的艳福。”</span><br><span class="line"></span><br><span class="line">    “你无法开口，是否便显得我多嘴了。”他取下周乐口中的布块，解开绳子，</span><br><span class="line">“昨晚你到这儿干啥？何苦惹上明教呢？”</span><br><span class="line"></span><br><span class="line">    我到这儿干啥？干啥来着？为何要惹她？周乐道：“院子里当真没人？有没有</span><br><span class="line">人到关帝庙中说我困在这儿？”</span><br><span class="line"></span><br><span class="line">    岑寂连连摇头。 周乐瘫在他背上。 岑寂撑着井壁上跃。双手甫一扒到井沿，</span><br><span class="line">“扑通”水声大作，水花飞溅，两人重又跌回井底。“明教也恁狠了。井沿边上撒</span><br><span class="line">了一圈有毒的荨麻绿叶粉，我还当是苔藓呢。周乐，我的手疼得使不上劲来。咱们</span><br><span class="line">只好改变原定营救方案了。”他把绳子系在周乐腰间，抓住一头。然后踩着周乐的</span><br><span class="line">肩膀，跃出井口。杭州水井皆不深。</span><br><span class="line"></span><br><span class="line">    周乐蹭着井壁砖石，被提到地上。他坐在井沿，浑身直有万针攒刺，冷在心里。</span><br><span class="line">岑寂背了他闯入闺房，剥去他身上衣物，替他盖上香衾。再收集了几个香炉烤火。</span><br><span class="line">周乐好一阵子才回过神来，不再哆嗦，道：“会不会落下什么病？”</span><br><span class="line"></span><br><span class="line">    岑寂取出金针刺穴，并推拿了一番，笑道：“近期内不得近女色。凭你的内力</span><br><span class="line">修为，在井中浸泡三日也死不了。更何况，值此夏季，天气炎热。”周乐闻言即想：</span><br><span class="line">待会儿她会不会遣人来救我，也许她舍不得杀我？在他记忆中，冉苒离去前似乎曾</span><br><span class="line">别有深意地望了他一眼，虽说谈不上含情脉脉，却足于令人产生不尽的遐思。当然，</span><br><span class="line">聪明的周乐立马就否定了这种要命的自我陶醉。“岑寂，你怎会如此了解明教？”</span><br><span class="line"></span><br><span class="line">    “世人对明教所知甚少，方显得我懂得一些。我家乡有摩尼像，明教徒，波斯</span><br><span class="line">商人的坟墓。由于战乱少，保存下的古书也比中州多。明教奉二宗三际说。二宗即</span><br><span class="line">指明暗。光明到来，黑暗降临，光明重新到来消灭黑暗，此为三际。”</span><br><span class="line"></span><br><span class="line">    “在波斯，光明王国被认为存于将来。中土明教则讲究追求现世的、内心的光</span><br><span class="line">明王国，认为教徒可以达到至善的精神境界。他们对现实的残酷有着清醒的认识，</span><br><span class="line">对未来不抱太多的幻想。他们渴望获得内心之平静，却也因此绝不消极忍让，姑息</span><br><span class="line">迁就他人与自己。他们还认为经过牺牲、斗争，光明会重新主宰人间。入教者互相</span><br><span class="line">帮助，彼此平等。”</span><br><span class="line"></span><br><span class="line">    “这些教义不是很好么？”</span><br><span class="line"></span><br><span class="line">    “一切教义、宗旨都很吸引人。能否实现、执行则是另一回事。王荆公不就失</span><br><span class="line">败了么？这间闺房多么香艳宁馨，我却在内中烧柴火，乌烟瘴气，一如你躺在人家</span><br><span class="line">大姑娘的床上。明教的问题在于过于较真了，信仰太精神化了。所以教众不多，并</span><br><span class="line">为世人所不容。如此反而不利于教义的推广，理想的实现。”所谓大道容乎众是也。</span><br><span class="line"></span><br><span class="line">    房中光线渐收，不可视物。香炉中无炭。岑寂起身寻灯烛，不获，笑道：“此</span><br><span class="line">亦李后姬的作风。悬大珠，光照一室。”他先戏称周乐陈后主，此时又作此语，皆</span><br><span class="line">有所指。</span><br><span class="line"></span><br><span class="line">    周乐未读过《南唐遗事记》，却也听明白了，微笑不语。岑寂正色道：“下回</span><br><span class="line">你不一定会有这么好的运气。明教向受排挤压迫，行事难免偏激。一如火焰，欲予</span><br><span class="line">人间光明，却冒着黑烟，烧毁了不少东西。玩火者自焚。”小时，在家乡，岑寂见</span><br><span class="line">过信奉明教的村民与邻村集体械斗，场面惨烈异常。</span><br><span class="line"></span><br><span class="line">    周乐似已睡去。岑寂只觉得宅大人单。</span><br><span class="line"></span><br><span class="line">    飞蛾投火，悲乎？愚乎？子安知蛾之乐也？吾宁可作伊人影，匍伏在地受秀足</span><br><span class="line">踏踩，寸步不离其身。没有面目的影子，永远阴晦的影子，变幻不定的影子，它总</span><br><span class="line">是背离光明。……水至清则无鱼，她如此容光，只怕便无影子。</span><br><span class="line"></span><br><span class="line">                              三、陶朱奇智</span><br><span class="line"></span><br><span class="line">    狱疑则从去，赏疑则从与。情疑则从去，爱疑则从与？</span><br><span class="line"></span><br><span class="line">    早晨两人雇车回关帝庙，大老远便听到庙旁大树上乌鸦的叫声。岑寂道：“每</span><br><span class="line">次我来，都听到它在叫。”他不相信乌鸦晦气，但总免不了往那里想。</span><br><span class="line"></span><br><span class="line">    “你没来时，它叫得更欢。”周乐道。</span><br><span class="line"></span><br><span class="line">    岑寂看着关帝庙，见他夜读春秋，心中好笑。子路按剑配享孔庙，仲尼力大，</span><br><span class="line">作找鼎状？</span><br><span class="line"></span><br><span class="line">    小谢难得早起，眯着眼道：“周乐，你别把岑夫子带坏了。自己贪多务杂，淘</span><br><span class="line">空了身子不说，还要拉人下水。如果是尉迟去寻你，你二人岂不要三夜不归，乐不</span><br><span class="line">思蜀么？”周乐唇无血色，居然也张不开眼。</span><br><span class="line"></span><br><span class="line">    “现下的男人真个没救了。昨晚老古董的夫人差人前来，说老古董也未归家，</span><br><span class="line">不知有无随周乐去哪里鬼混。她一整天都没见着老公的人影。”小谢道。</span><br><span class="line"></span><br><span class="line">    当日晚，老古董仍无消息。半夜，周乐悄悄起身，偷偷出庙。因为他在床上想</span><br><span class="line">起了一个包龙图故事。他跑到杭州知府宅中，寻了处墙根伏下。老古董的眼睛贼亮，</span><br><span class="line">周乐的耳朵鬼精。他在听洞房？</span><br><span class="line"></span><br><span class="line">    过了不知多久，周乐困得要命。一蒙面人乘月飘然而至，手中亮了把飞刀。白</span><br><span class="line">刃黑衣，立在正对窗口处，似要飞刀传书。周乐喝道：“且慢。”他笑嘻嘻地踱出。</span><br><span class="line"></span><br><span class="line">    那人扬手，飞刀插着一方纸射向周乐。周乐一指弹在刀柄，捏住纸条，展开念</span><br><span class="line">道：“古董潜逃，周乐有份。关帝庙中，人赃两获。喂，别跑，这无名状究竟是怎</span><br><span class="line">么一回事。”他口中说着，身形已晃至对方后面。那蒙面人不料他动作如此神速，</span><br><span class="line">慌不择路，竟一头钻入窗内。</span><br><span class="line"></span><br><span class="line">    包拯有一经典案例：牛舌被割，生还无望，苦主投官；令归而屠之，诱犯来告。</span><br><span class="line">当时的法律规定，宰杀耕牛违法。割牛舌者与苦主有仇，见其宰牛，果然告到官府，</span><br><span class="line">自投罗网。</span><br><span class="line"></span><br><span class="line">    老古董便是牛的主人。他有偷盗嫌疑，果真逃匿，必是心虚。周乐以为告官者</span><br><span class="line">很可能是其它大案的主谋，市井流氓组织“城隍庙”。因为它很清楚自个并未盗过</span><br><span class="line">江南典当行杭州分店的财物。它也盯着老古董。周乐猜准了它会遣人来告密。</span><br><span class="line"></span><br><span class="line">    周乐随之跃入室中。他身在半空，那夜行人反手一掌击出。周乐让开。那人使</span><br><span class="line">出小擒拿手，如手语一般，比划不停。周乐认得那是粤南的“蛇形刁手”，缠斗时</span><br><span class="line">所用。</span><br><span class="line"></span><br><span class="line">    屋内床上之人已然惊醒，帐幄翻动，起身。此必是知府无疑。蒙面人虚晃一招，</span><br><span class="line">滑入房中暗处。</span><br><span class="line"></span><br><span class="line">    周乐的耳朵微微掀动，对方似乎另有强援，正伺伏在屋外。不待那知府开口喊</span><br><span class="line">叫，他一鹤冲天，破瓦而出。屋外果然抢入几个黑衣蒙面人，短装打扮，手持利刃。</span><br><span class="line"></span><br><span class="line">    “城隍庙”神通广大，自不是省油的灯。它很谨慎，前来告状，担心中伏，便</span><br><span class="line">布下接应人手。周乐原想抓一位俘虏回去，问些消息。这会儿看着势头不对，只得</span><br><span class="line">脚底抹油，保命要紧。他掠出府衙。身后追兵竟有五人之多。</span><br><span class="line"></span><br><span class="line">    周乐的步程快，轻功好，地形熟悉，折腾了一柱香功夫，已将尾巴甩下。他赶</span><br><span class="line">到冉苒遗弃的那座院子，腾身没入夜幕。</span><br><span class="line"></span><br><span class="line">    他重又躺到床上，吸着兰蕙香泽，想：今晚城隍庙布在府衙周围的人手恐怕有</span><br><span class="line">十人之多，再加上埋伏在老古董家左近的暗桩，至少得出动二十位好手。如此兴师</span><br><span class="line">动众，足以对付三个老古董。它这般看重老古董，图个什么？莫非它也防着明教？</span><br><span class="line">历史上，两家并无怨仇。</span><br><span class="line"></span><br><span class="line">    夜凉似水，月光如霜，天籁俱静。</span><br><span class="line"></span><br><span class="line">    许久之后，有人进房，道：“如果你听说或看见了宅子外头的情形，你还能睡</span><br><span class="line">着么？”周乐也不起床，道：“咱也学学谢安，气定神闲，自有小儿辈退敌。老古</span><br><span class="line">董，不要跟我讲，是你将他们引来的。此间的小姐已将整座宅子让与我住了。可别</span><br><span class="line">城门失火，殃及池鱼。”</span><br><span class="line"></span><br><span class="line">    “将他们引来的人不止我一个。过去的两天里，我故意让城隍庙察觉在我背后</span><br><span class="line">有个组织，令它怀疑我是明教一份子。我们还主动对它实施攻击。所以，城隍庙调</span><br><span class="line">集近百个小鬼，想把我们连锅端掉。”</span><br><span class="line"></span><br><span class="line">    周乐道：“在你未失踪之前，城隍庙怀疑过你么？”老古董道：“我不知道。</span><br><span class="line">但纸包不住火。况且，我们也想借此机会挫挫他们的锐气。城隍庙一直在散布谣言，</span><br><span class="line">污蔑我教，嫁祸我教。”为此，家财、地位、声誉、妻儿，他都抛弃了，古董今后</span><br><span class="line">将不见天日。</span><br><span class="line"></span><br><span class="line">    老婆倒还罢了，他那两个儿子，一个女儿咋办？老古董缓声道：“只能让她一</span><br><span class="line">人抚养了。我对不住她们，也对不住我师父师母。我十一岁投入九华门下，师父他</span><br><span class="line">老人家必不相信……。周乐，你相信么，我于信仰是纯粹的奉献，并非知恩图报，</span><br><span class="line">也非希望死后升天。虚活四十年，也该得个自由身了。”</span><br><span class="line"></span><br><span class="line">    “周乐，这里马上会有一番恶斗。你犯不着赶这趟浑水。这布包里是十两金条，</span><br><span class="line">拿去用吧。今晚你可是帮了不少忙。”</span><br><span class="line"></span><br><span class="line">    周乐也不客气，一把塞入怀中，翻身下床。两人出房。白露未至，周乐感到月</span><br><span class="line">光的暖和，轻茫。院中另有一些人，年轻，着白衣。</span><br><span class="line"></span><br><span class="line">    这儿是江南形胜，两吴都会，不是易水。有十一个人白衣，准备慨然赴死。周</span><br><span class="line">乐心跳加快，来了情绪，有些悲壮激昂的感觉。他渴望一战。</span><br><span class="line"></span><br><span class="line">    周乐不承认自己为冉苒而战，为正义而战。他只是有些冲动，一如他之所以沉</span><br><span class="line">缅于冉苒的容颜。他趴在墙头往外看。城隍庙诸人并未隐藏形迹，大约有四十人之</span><br><span class="line">多。外线策应掠阵的估计也是这个数。单在杭州，小鬼不会有这么多。城隍庙浙东</span><br><span class="line">精锐谅必尽集于此。</span><br><span class="line"></span><br><span class="line">    杭州城隍爷是王夫人，淞江祀秦裕伯，苏州为春申君。周乐有些好奇，想瞧瞧</span><br><span class="line">火神王灵官，财神赵公明，灶神，六曹判官都是什么模样。眼前的鬼差中赫然便有</span><br><span class="line">牛头马面。他们要么蒙面，要么戴着面具，一律黑衣。双方开始交手。明教人少，</span><br><span class="line">但讲究相互配合，掩护进攻，似乎合了某种不成文的阵法，鬼差中武功较高的，立</span><br><span class="line">马被周乐、老古董等人缠住，合力制之。明教教众拿什么样的武器都有，招数不一，</span><br><span class="line">却有着相近的特点。他们为求先手，不惜代价；几乎全是进手招数，一上前便是贴</span><br><span class="line">身肉搏，拼命抢攻。</span><br><span class="line"></span><br><span class="line">    他们的气势极盛。往往不惜挨敌人一击，换来致敌于死地的机会。周乐想到了</span><br><span class="line">“借刀”杀手。两者风格相近。只是“借刀”较为谨慎，从不正面对敌，讲究突袭。</span><br><span class="line">一明一暗，同样可怕。</span><br><span class="line"></span><br><span class="line">    城隍庙第一波杀入院中近三十人，此刻已有三成躺在地上。明教二死二重伤，</span><br><span class="line">白衣胜雪，上面有斑斑血迹。城隍庙也担心明教有缓兵之计，并不投入外线兵力。</span><br><span class="line">第二波翻墙入内，瞧着又有十来人。他们中的有一些躲在角落里，施放冷箭。</span><br><span class="line"></span><br><span class="line">    周乐心想，照这么斗下去，玉石皆焚，外面的人不知能否及时救援。他们几个</span><br><span class="line">将伤者围在中央，也不退入房中。</span><br><span class="line"></span><br><span class="line">    周乐武功高，满场游斗，且不着白衣，很惹眼。当下便有几个鬼差围上来。其</span><br><span class="line">中至少有个判官，周乐想。他有些吃力，退到井边。为了躲开一把要命的刀，只得</span><br><span class="line">后跃上井沿。小鬼拥上，刀枪并举，有的手中还扣有暗青子。他们等着周乐飞身上</span><br><span class="line">纵，自投罗网。</span><br><span class="line"></span><br><span class="line">    周乐无力招架，也不敢跃高，只得并脚掉入井中。鬼差们不料此着，正待探头</span><br><span class="line">细瞧，便听到一声巨响。那高出地面二尺的砖砌井台炸了开来，砖屑四射。小鬼们</span><br><span class="line">不由得乱了阵脚，被周乐一一点倒。</span><br><span class="line"></span><br><span class="line">    原来他故意下井，一脚点在那浮于水面的木桶，飞身而上，双掌击在井台内壁，</span><br><span class="line">成“左右开弓”之式击崩井台。小鬼们不料他反应如此神速，亦不知井中有桶借脚，</span><br><span class="line">还以为周乐正力撑井壁，以免掉进水里喂鱼。周乐也觉侥幸，心想：此招可谓“人</span><br><span class="line">落石出”。</span><br><span class="line"></span><br><span class="line">    附近的百姓被惨叫声、喊杀声惊醒。他们不敢点灯，不敢出门。他们的存在，</span><br><span class="line">已为遗忘。他们是局外人，却非月亮。月亮高高在上，审视这一切。</span><br><span class="line"></span><br><span class="line">    恶梦远未结束，明日会有衙役无休止地追问恐吓，会有可怕的回忆。</span><br><span class="line"></span><br><span class="line">    岑寂也在梦中。他睡眠短，所以从未夜半惊醒。我们说他本质上是乐观的，坚</span><br><span class="line">强的，便是以他的睡梦为依据。幼年发高烧不算的话，他从未做过恶梦，从不受梦</span><br><span class="line">境影响。过目不忘的他，经常记不起自己刚做完的梦。他爱做白日梦，故而睡眠短，</span><br><span class="line">所以很少做梦，因此总有清醒的烦恼。</span><br><span class="line"></span><br><span class="line">    比如今晚躺下，脑中开始作画。他在想，如果崔小姐得了麻疯病，又会如何呢？</span><br><span class="line">当然这绝无可能。我不能这样想，我的脑瓜有毛病。……谁都嫌弃她，我却将她的</span><br><span class="line">病治好了。……什么鬼话。他警醒。……该睡了。他辗转反侧。……我总是睡不着。</span><br><span class="line"></span><br><span class="line">    岑寂自认是个高士，至少算个书生。他很同情黎民百姓，但却从未在睡前梦中</span><br><span class="line">考虑过民生问题。</span><br><span class="line"></span><br><span class="line">    周乐面对着眼前的惨相酷景，也未想到百姓，或者朋友。他想着天仙一般的冉</span><br><span class="line">苒，并之一振，一记反弹琵琶，击在对手刀面上。不容其喘息，周乐滑步趋身，以</span><br><span class="line">“挥洒自如”盖敌脸面。</span><br><span class="line"></span><br><span class="line">    背上扛着刀风，周乐只得撤掌跳开。身后这人刀法极佳，以至于周乐认出他来</span><br><span class="line">了，却无暇开口。借助一株美人蕉，周乐又跃出数丈。美人蕉斫碎成一大群翻飞的</span><br><span class="line">蝴蝶，象是一大把送葬的纸钱。周乐叹了口气，“是你。”</span><br><span class="line"></span><br><span class="line">    “是我。”此人正是在坟山盗尸的领头刀客。他会彭家“五虎断门刀”，顾氏</span><br><span class="line">“斩刀”，福建汀州“曲臂斜腕刀”。周乐空手，元气已伤，有些累，犯困。他只</span><br><span class="line">学过一派武功，而且半途便被迫放弃。他又不愿让人看出他原本的武功家数。他拿</span><br><span class="line">什么来款待这位大刀客？</span><br><span class="line"></span><br><span class="line">    他不能逃，逃不过。他知道对方必是浙江城隍庙的首领之一。刀客已经扑来。</span><br><span class="line">四周异常热闹，杂声极大。周乐和声冲入“刀轮”之中，使出“四十三转十六摄七</span><br><span class="line">音”。身形奇快，双手更快，似乎在舞蹈一般。</span><br><span class="line"></span><br><span class="line">    那大刀客想不明白，怎会刀刀落空。周乐在他跟前，扣了他持刀手臂，翻掌后</span><br><span class="line">拧，将钢刀刺入他右肋。</span><br><span class="line"></span><br><span class="line">    这人兀自不倒，狠声道：“武当没有这种花俏繁杂的身法。但你……你的内功</span><br><span class="line">确是武当派的心法‘太虚……太虚抱朴’。”</span><br><span class="line"></span><br><span class="line">    周乐轻声道：“是琴心三叠。”他以“琴心三叠”的内力使“沾衣十八跌”，</span><br><span class="line">迫开对方刀锋；再以“四十三转十六摄七音”的诡异身形欺入，一击得手。刀客精</span><br><span class="line">几门刀法，如此固然可以多些变化，长些威力，但招数之间难免有了空隙，终为周</span><br><span class="line">乐所趁。</span><br><span class="line"></span><br><span class="line">    周乐最长于找出对方弱点；独孤寒最长于消解自身弱点。周乐临敌经验极为丰</span><br><span class="line">富，大局观强，能够争取到主动，挑起争端，乱中取胜。</span><br><span class="line"></span><br><span class="line">    老古董肩头插着一柄剑，腿上也受伤了，闪避不便，兀在苦苦支撑。院内少了</span><br><span class="line">十来个敌人，多了一个白衣汉子。周乐见他轻功还在自己之上，也不会比小谢差。</span><br><span class="line">乍一动身，如鬼魅一般，令人不及反应。当下想到一位传奇人物：明教风神长老—</span><br><span class="line">—“列子御风”列天熙。如此说来，明教援手将至。难怪城隍庙迟迟不发动第三波</span><br><span class="line">攻击。宅院内的敌人开始撤走。老古董跌坐在地上，面如紫金。</span><br><span class="line"></span><br><span class="line">    院外传来拼斗之声。那白衣汉子复又杀出墙去。周乐见老古董并无性命之忧，</span><br><span class="line">便跃到屋顶观看。这当儿，身穿白衣的明教弟子约有六十人聚在外头。城隍庙在外</span><br><span class="line">线接应、警戒的人马估计已被摆平。它在院内又折了大约二十人。此消彼长，人数</span><br><span class="line">上处于劣势，败局已定。</span><br><span class="line"></span><br><span class="line">    周乐没想到明教能在浙东召集到这么多武功好手。他们都很面生。周乐懒得再</span><br><span class="line">动手了，想回庙里睡上一觉。他发觉自己存在与否无关大局。</span><br><span class="line"></span><br><span class="line">    他从后院走出，让开激战的人群，走过一条街道，远远地望见冉苒身着素服，</span><br><span class="line">衣袂飘飘，有如乘月而至。</span><br><span class="line"></span><br><span class="line">                             四、 城隍诚恐</span><br><span class="line"></span><br><span class="line">    我怎样承受光明，也就怎样挡住了她！冉忠与那四名婢女，及一位中年妇女在</span><br><span class="line">一旁护卫。周乐只痴痴地站着，竟似呆了。他看到列天熙恭敬地上前行礼。</span><br><span class="line"></span><br><span class="line">    周乐在想：莫非跋帝已不在人间？她不过十六七岁的样子，竟成了明教教主？</span><br><span class="line">一个美妇人奔至，禀道：“教主，我们已控制了局面。张、华二位堂主正在搜拿城</span><br><span class="line">隍庙的主脑。”</span><br><span class="line"></span><br><span class="line">    “水长老，你守在这儿，留心杭州府与崔家的动静。列长老、冉护法、柳护法</span><br><span class="line">随我过去瞧瞧。”</span><br><span class="line"></span><br><span class="line">    那位看起来只有三十岁的女子居然便是水神长老——“流水无情”水轻柔。听</span><br><span class="line">说她是十年前武林中公认的大美人，是汉人与西域胡人的混血儿。九华派的东阳夫</span><br><span class="line">人曾输给她一招。</span><br><span class="line"></span><br><span class="line">    明教有内三外五共八个堂口。内三堂统一处理教中事务，外五堂分管各地弟子，</span><br><span class="line">与外界打交道。他们认为教主是明尊，是智慧之神。四大长老分别是气、风、水、</span><br><span class="line">火四神化身。</span><br><span class="line"></span><br><span class="line">    周乐远远地跟在后面，看冉苒以教主之尊投身厮杀。众明教弟子倒不觉有何不</span><br><span class="line">妥。“智神明尊”是准备为了光明而献身的。她的地位只有在天上才是尊贵的。许</span><br><span class="line">多弟子甚至不认得智、火、风、水、气五神，只听从摩尼对他们心灵的召唤。</span><br><span class="line"></span><br><span class="line">    他们可以不听从教主吩咐，可以不服从外五堂节制，可以不参加江湖帮派火并，</span><br><span class="line">可以不会武功。岑寂说过：严格地讲，明教不是江湖组织，它没有仪式、等级、律</span><br><span class="line">令；它只是一种信仰，是一个特别的群体。</span><br><span class="line"></span><br><span class="line">    每个人都很投入地在打斗，除了周乐。周乐觉得很不是滋味。没有人理会他。</span><br><span class="line">冉苒也不屑一顾。他的脸皮不是很厚，几乎开始痛恨自己过于明显的讨好及故意的</span><br><span class="line">不知趣了。在杭州这块大棋盘上，黑白子正在劫杀。他算不上博弈人，甚至算不上</span><br><span class="line">局外人。“我仅是叮在白子上的绿头苍蝇？”周乐想。</span><br><span class="line"></span><br><span class="line">    周乐曾经打算加入明教，为了接近她，不是为了屈从她。他硬着头皮站在一旁</span><br><span class="line">观战。“妾拟将身嫁与，一生休。纵被无情弃，不能羞。”不必羞！周乐联想到对</span><br><span class="line">理想的追求，对信念的坚持。</span><br><span class="line"></span><br><span class="line">    城隍庙或死或伤或降，明教弟子已在井然撤退。列天熙走过来，道：“周乐，</span><br><span class="line">你已是供养人，正候着入教么？我可以举荐你。”他对周乐的武功颇为赞许。</span><br><span class="line"></span><br><span class="line">    周乐也不告诉他内情。列天熙又道：“我们不戴面具布罩，便是认定了一个敌</span><br><span class="line">人也无法漏网。这样打起架来，拼劲十足。当然，这并非教规。它督促教中诸管事</span><br><span class="line">头领小心谨慎，别拿教友的性命做戏。”有些明教弟子的身份是保密的，如老古董。</span><br><span class="line"></span><br><span class="line">    他与周乐随着冉苒沿街朝城南追下，远远望见有十来人在围斗。立马有一弟子</span><br><span class="line">过来朝冉苒行礼道：“教主，华、张二位堂主已将逃窜之敌困住。我方总共死了十</span><br><span class="line">四位弟子，俘敌二十八名，杀死六十一名。”他很年轻，干练，说话顺畅有力。</span><br><span class="line"></span><br><span class="line">    周乐明白为何明教历数百年不衰。明教主脑的权力较为分散，相互牵制，却又</span><br><span class="line">集思广益。教众很团结，讲信仰，不会起内哄，不会有争权的斗争。他们有宗教狂</span><br><span class="line">热，坚忍过人。二十个城隍庙小鬼可以打败十个明教徒，二十个明教徒却很可能不</span><br><span class="line">会输给四十个城隍庙小鬼。在明教这一方，永远不会出现群龙无首、各自为战的局</span><br><span class="line">面。</span><br><span class="line"></span><br><span class="line">    刚过了一会，有一黑衣人长身跃出，沿河疾奔。此人仗剑，轻功相当高明。又</span><br><span class="line">一弟子禀道：“那人即是对方的首领。属下认得他是当年崆峒派掌门的师弟，‘栖</span><br><span class="line">乌飞绝’吴四方。”</span><br><span class="line"></span><br><span class="line">    “张堂主，可知他们的据点在哪？”</span><br><span class="line"></span><br><span class="line">    “安兄弟对一个判官催眠，得知其巢穴乃是王氏族中的祠堂。属下打听过了，</span><br><span class="line">前头是有这么一处地方。吴四似乎故意将我们往那儿领去。”一路上偶而有一两个</span><br><span class="line">白衣人从暗中闪出，朝冉苒行礼。钱塘江边泊了几艘般，竟也是明教布下的棋子。</span><br><span class="line">周乐暗暗惊讶。他不敢挨近冉苒。明教众人见他与己方头领在一块，虽不知他的来</span><br><span class="line">历，却也不上前盘问。</span><br><span class="line"></span><br><span class="line">    明教追而不阻，“栖乌飞绝”吴四方狂奔数里，逃到修茸一新的祠堂前，嚷道：</span><br><span class="line">“王夫人，他们追来了。他们追来了。”他转身横剑。</span><br><span class="line"></span><br><span class="line">    吴四方五十来岁，个子较矮，有些发福，脸色苍白。周乐觉得他很面善，似在</span><br><span class="line">哪儿见过。吴四方仰天长叹，道：“想不到十年之后，我吴某人还是斗不过魔教。”</span><br><span class="line">他抬起左掌要自碎天灵盖，持剑的右手却捏了个剑式。这一手叫“势不可挡”，很</span><br><span class="line">有些名堂。若有人上前挡他，不让他自尽，只怕便躲不开一记透心剑。十年前的大</span><br><span class="line">火拼， 崆峒派好手死伤殆尽， 他却活了下来，藏了这么多年，自有过人的心机。</span><br><span class="line">“栖乌飞绝”便是形容其剑法之狠毒、利索。</span><br><span class="line"></span><br><span class="line">    白影闪动，速度快极。有人径往剑上迎去。看着长剑已穿心刺过，却听得长剑</span><br><span class="line">掉地之声。列天熙将吴四方制住。他知道吴四方的左掌只是虚招，便不去理会。而</span><br><span class="line">吴四方见到有人扑来，已不急于自尽，右手抖处，刺出“势不可挡”的一剑。</span><br><span class="line"></span><br><span class="line">    列天熙的轻功丝毫不逊于金陵谢家的“空虚入冥，无形灭影”，哪会上吴四方</span><br><span class="line">的当。长剑碰不到他的衣裳，穿心仅是错觉。因为“列子御风，来去无踪”！列天</span><br><span class="line">熙的身子早已就着长剑激起的劲风闪开。</span><br><span class="line"></span><br><span class="line">    列天熙点穴的手法同样令人眼花缭乱。吴四方嘴角的“地仓穴”、下巴的“颊</span><br><span class="line">车穴”亦为点中，无法嚼舌自尽。</span><br><span class="line"></span><br><span class="line">    周乐跟着列天熙、华堂主冲入祠堂中。里头很宽敞，但很暗。几根蜡烛点燃后，</span><br><span class="line">黑暗仍伺伏于四周、上下，包围着他们。</span><br><span class="line"></span><br><span class="line">    灵台前有烛、酒杯，各式供品，一面面灵牌犹如两排整齐、漆黑的牙齿。周乐</span><br><span class="line">等人转至堂后。那儿摆了两具棺材，黑乎乎地躺着，身子挨着身子，直在房中。</span><br><span class="line"></span><br><span class="line">    四下里一片寂静。左边那具棺面蒙了一层尘土，上边还挂有蛛网；另一具棺面</span><br><span class="line">上留着一个醒目的手印，似乎那王夫人便在棺里。</span><br><span class="line"></span><br><span class="line">    一名弟子生怕敌人逃了，过去要用刀掀开棺盖。周乐一把拉住，夺过单刀，用</span><br><span class="line">劲掷出。棺盖应声撞开，射出一阵无羽箭，密密麻麻，面面俱到。劲道也不小，有</span><br><span class="line">不少钉入墙壁。如果过于挨近，伤亡难免。</span><br><span class="line"></span><br><span class="line">    周乐拾起单刀，道：“这个手印略会反光，大概是打上了一层蜡。左边这具棺</span><br><span class="line">面上的尘土应是粘在上面的。蛛网货真价实，但不妨碍出入。”他将刀插入左边那</span><br><span class="line">具棺材，将它拖开，地上果然露出一个矩形大洞。蛛网兀自悬空挂着。</span><br><span class="line"></span><br><span class="line">    洞下亮堂，有一梯子。周乐等人拾阶而下。先是个议事厅，深处另有一门。门</span><br><span class="line">内传出沙哑苍老的声音。</span><br><span class="line"></span><br><span class="line">    “贵客登门，请恕老身行走不便，无法迎接。你们总共有八人之多，其中有两</span><br><span class="line">个高手。其实老身将死之人，没啥本事，何须劳动诸位呢。太抬举老身了。”周乐</span><br><span class="line">掀帘进门，看见一位老妇人独自坐在椅上。这是间装饰考究的书房，房中只她一人。</span><br><span class="line">周乐劳累多日，方才剧斗中内力损耗不少，又受了些轻伤，已算不上高手。这老妇</span><br><span class="line">人的耳朵还挺灵的。</span><br><span class="line"></span><br><span class="line">    “老身不是城隍爷，却是王夫人，奇怪么？”</span><br><span class="line"></span><br><span class="line">    “为了对付你们，特地调来了栖乌飞绝吴四方。他们那班人老想着报十年前师</span><br><span class="line">门之仇。经过晚上一役，这些反明教的死硬分子全军覆没。”她很泠静，说话的语</span><br><span class="line">气中不带感情，仿佛死去的人再多，也与她无关。“你为何不逃呢？这儿没有暗道</span><br><span class="line">么？”</span><br><span class="line"></span><br><span class="line">    她堆起皱纹略略一笑，道：“我老了，输了，不中用了。我想不出可以逃到哪</span><br><span class="line">里。老来僻居地下多年，无牵无挂，生死于我何异？”周乐注意到她的手笼在袖中。</span><br><span class="line">莫非藏有什么暗器？她脸色白中泛黄，年纪也不过五六十岁。</span><br><span class="line"></span><br><span class="line">    室中燃有篆香。周乐的耳朵在动。华堂主四下查看。老妇人似乎有恃无恐。</span><br><span class="line"></span><br><span class="line">    “天下的城隍庙不计其数。你可以去投奔。”列天熙道。</span><br><span class="line"></span><br><span class="line">    “我最想见的人是阎罗王。”她古怪地笑着，面上的肌肉有些僵硬。周乐看不</span><br><span class="line">出她有服毒的迹象。</span><br><span class="line"></span><br><span class="line">    案上一个狻猊狮子香炉正燃着篆香。明教众人刚进来时皆屏着气，后来发觉室</span><br><span class="line">内之香无毒。周乐脑中忽然电石火花般地闪过一个念头。他大步上前，捧起香炉，</span><br><span class="line">踢开案几。后面是墙，墙上有个小孔，居然也在往外冒烟。极细的轻烟，不易察觉</span><br><span class="line">的“嘶嘶”之声。毒气？引线？炸药？众人都明白了：墙内藏有炸药！</span><br><span class="line"></span><br><span class="line">    老妇人和身扑向周乐。列天熙出手挡了。明教一干人不退反进。但周乐能切断</span><br><span class="line">引线么？引线还剩下多长？墙后是大地，推不倒的大地。时不我待，情形万分危急。</span><br><span class="line">引线是如何放置的？竖？直？弯？</span><br><span class="line"></span><br><span class="line">    周乐很是镇静，将耳朵贴在墙上听，然后一刀插入墙中，搅和几下。烟还在冒</span><br><span class="line">出，“嘶嘶”之声却已停了，似乎毒蛇已经行远。</span><br><span class="line"></span><br><span class="line">    华堂主抢上，一口气刺入十余刀，撬砖挖墙，以防万一。他忙了一阵，墙未挖</span><br><span class="line">开，烟也没了。</span><br><span class="line"></span><br><span class="line">    众人都松了一口气。如果炸开了，只怕会波及教主。</span><br><span class="line"></span><br><span class="line">    老妇人的武功不高， 几下子便被列天熙点中穴道。 她沉默了一阵，缓声道：</span><br><span class="line">“年轻人，你怎会知道老身准备了炸药？”</span><br><span class="line"></span><br><span class="line">    “你一直故意大声说话。但是由于我靠制作乐器谋生，耳朵总要比常人灵敏一</span><br><span class="line">点。方才我听到房中有非常轻微的声音，似乎有条蛇在吐着信子。我也注意到你的</span><br><span class="line">双手笼在袖中。当时我想，要么你手中握着暗器，要么便是双手曾为火药烧伤。你</span><br><span class="line">不用旁人侍侯，双手致残的可能性很小。往坏里想，怀疑你未出嫁前姓雷，殊不为</span><br><span class="line">过。”玩火药的人鲜有不被烧伤的。雷堂男丁一向不旺。</span><br><span class="line"></span><br><span class="line">    “这儿是杭州，江南水乡。祠堂离江边不过二里。书房的地势很低。我刚下得</span><br><span class="line">此间便觉奇怪，屋里通风不太好，蜡烛火焰很稳。可四下里却又相当干燥。议事厅</span><br><span class="line">壁上挂有字画，居然也未受潮。我想，雷堂中人最懂得如何防潮。”火药也怕潮。</span><br><span class="line"></span><br><span class="line">    “栖乌飞绝”吴四方曾提醒过她。她却镇静坐着，不逃不躲，必有所布置。点</span><br><span class="line">着篆香，既可“明修栈道、暗渡陈仓”，又可瞒天过海，掩饰引线轻烟。</span><br><span class="line"></span><br><span class="line">    “王夫人”盯着周乐道：“你不是魔教中人。你是否是周乐？……怪不得武当</span><br><span class="line">派将你逐出师门。”在江湖中，周乐的名气不小，声名不是极佳。几个明教弟子将</span><br><span class="line">这老妇人押出门去。周乐沉默不语，心想：她早有死志。让引线、火药长时间地保</span><br><span class="line">持干燥着实不易。她这样做是否是为了死去的丈夫、儿女们？是因为误会、偏见，</span><br><span class="line">还是仇恨？仇恨的火焰是她赖于蜇伏地下的长明灯？</span><br><span class="line"></span><br><span class="line">    “城隍庙”中居然也有人出身于雷堂、崆峒，居然也有许多不怕死之人。它的</span><br><span class="line">宗旨是什么呢？也许我误会它了，一如人们之误会明教。这“城隍庙”与普通的绿</span><br><span class="line">林组织差别甚大。</span><br><span class="line"></span><br><span class="line">    周乐落在众人后面。列天熙回头笑道：“周乐，你很聪明，有过人的本领，今</span><br><span class="line">后定能在教中干出一番大事业。”</span><br><span class="line"></span><br><span class="line">    周乐问：“什么样的大事业？”</span><br><span class="line"></span><br><span class="line">    “击败所有的敌人，反抗黑暗的压迫，让人们和和美美地生活。原本我教没有</span><br><span class="line">设立教主、长老、堂主。后来，由于教友们不断地遭受迫害，教中的能人志士才组</span><br><span class="line">织起来，进行反抗。”</span><br><span class="line"></span><br><span class="line">    周乐埋头登阶。列天熙又道：“习武即是为了打架之需。若要求强身，则顺其</span><br><span class="line">自然便可，不必习武。既然是一个组织，就不可能与世无争。道士们要做法捉鬼，</span><br><span class="line">佛教中也有明王愤怒佛。官府怕我们聚众造反，富商们不愿由我们独断西方贸易，</span><br><span class="line">乡绅地主怕老百姓入教后不交租。我教自西土传来，与儒、道相背，故而受到排斥。</span><br><span class="line">其实历史上，儒、释、道哪家没受过排斥呢？”</span><br><span class="line"></span><br><span class="line">    两人走至祠堂门口，列天熙又道：“你见过原野上的大火没有？它烧炙着地面，</span><br><span class="line">四处扩张。一旦脚步停下，火势必然渐渐变小，终于熄灭。光明总是有代价的，野</span><br><span class="line">草春风吹又生。”周乐明白他的意思：明教若是走向妥协，等于否定了自身存在的</span><br><span class="line">必要性。但人命并非野草。</span><br><span class="line"></span><br><span class="line">    周乐道：“列长老，麻烦你请冉苒过来，我有话要跟她讲。”列天熙迟疑了。</span><br><span class="line">周乐当即大声喊道：“冉苒，你过来，我有话跟你说。”火药着了，轰开。喊声在</span><br><span class="line">爆炸，俏脸上会有什么反响？她必感受了此中热量。列天熙走开，冉苒走过来。周</span><br><span class="line">乐接过蜡烛，软暖光滑，很舒服地握着。双眼却有些难受，红泪粘在手上，一点一</span><br><span class="line">滴的痉挛、疼痛、炙热。“蜡烛有心还惜创”，但你试过用拇指、食指捏灭烛焰，</span><br><span class="line">捏着湿漉漉的烛芯时的快感么？满足、惋惜、破坏、自虐、征服的快感？</span><br><span class="line"></span><br><span class="line">    伴着东方第一抹晨曦，冉苒飘然而来。周乐有昏厥的感觉。他不知道自己为何</span><br><span class="line">要大声嚷嚷，不是因为列长老不肯传话，不是因为害怕站在她面前便没了勇气。没</span><br><span class="line">有原由。没有迟疑。那是一种冲动，渴求认同，宣泄，近似绝望，……。</span><br><span class="line"></span><br><span class="line">    不是我不想加入明教，而是你与明教拒绝了我。周乐如此固执地认为。明教与</span><br><span class="line">释、道、儒、袄、弥勒有共通之处，却不会变得与它们一样。它不会有禅宗式的调</span><br><span class="line">和。它太神圣、太正经、太极端了。</span><br><span class="line"></span><br><span class="line">    周乐感到过意不去：我不愿为了她而稍稍委屈自己加入明教。我不愿迁就她。</span><br><span class="line">我究竟有几分爱她？</span><br><span class="line"></span><br><span class="line">    两人对立，周乐没有说话。他知道冉苒会过来的。因为自己叫着她的名字，便</span><br><span class="line">如老朋友一般。当着旁人的面，她尽量装作若无其事地走过来，尽管心里可能正盘</span><br><span class="line">算如何杀死他。</span><br><span class="line"></span><br><span class="line">    烛光下，冉苒非常娴静。她忍不住柔声道：“你居然没死在井里。”</span><br><span class="line"></span><br><span class="line">    周乐笑道：“你是不是很后悔？一念之差，一时心软，留下后患了。”</span><br><span class="line"></span><br><span class="line">    冉苒的样子象是受了些委屈，轻咬着嘴唇不说话。周乐又道：“你把我扔进井</span><br><span class="line">里，乃是为了保护老古董。你担心我会泄密。……有个大夫告诉我，普通人泡在水</span><br><span class="line">里，不吃不喝，可以坚持三日之久。”</span><br><span class="line"></span><br><span class="line">    “如果现在我仍在井中， 你会不会去救我出来？ ”周乐直盯着她。冉苒道：</span><br><span class="line">“你不是普通人，泡上五六天，也不会有事。……我很忙，没有功夫与你闲聊。”</span><br><span class="line">她转身欲走。</span><br><span class="line"></span><br><span class="line">    “你希望我加入明教么？”</span><br><span class="line"></span><br><span class="line">    “你连食菜禁荤尚且做不到。”</span><br><span class="line"></span><br><span class="line">    “如今明教弟子也可食荤。当然，如果能与你一同吃饭，不食菜都成。”秀色</span><br><span class="line">可餐，冉苒明白他的话意，脸上有淡淡的红晕。“红镌玉有痕，暖嵌花生晕”。周</span><br><span class="line">乐发觉她的手不但笼在袖中，而且开始交握于身前，说不得正用指头绞着小手绢。</span><br><span class="line"></span><br><span class="line">    如果她不姓冉，不信奉明教，我会觉得她更可爱，更迷人么？周乐心里没底。</span><br><span class="line">他怀疑她的声音透过面纱，便违了她本意。“你入教的动机不纯。而且你打心眼里</span><br><span class="line">不太喜欢明教的教义。”</span><br><span class="line"></span><br><span class="line">    周乐也不否认。“我等着被感化。你知道观音大士以女身点化大盗立地成佛的</span><br><span class="line">故事么？正经如孔夫子也认为拾物还主应有报酬。”永恒的女性指引人上升，后世</span><br><span class="line">的歌德如是说。</span><br><span class="line"></span><br><span class="line">    冉苒微微扭头，望向门外，徐徐道：“我教的名声一直不太好。”特立独行，</span><br><span class="line">众人皆浊我独清，下场多似屈平。</span><br><span class="line"></span><br><span class="line">    周乐道：“当年孔丘东游，亦碰了一鼻子灰。明教可以少杀生，少树敌，略微</span><br><span class="line">低调一些，行事不可太过偏激。”他说得很坦率。</span><br><span class="line"></span><br><span class="line">    冉苒也不生气，默然良久，道：“你说得没错，但我们不想改变。我们只能以</span><br><span class="line">出世的态度入世，以暴力扬善。因为我们的敌人中不仅有恶人、坏人，还有在这个</span><br><span class="line">世界上占大多数的俗人、庸人。妥协、调和、中庸的俗世是黑暗的，它令人成为睁</span><br><span class="line">眼瞎子。”站在绝大多数世人的对立面，不可能不偏激，名声也好不到哪里去。</span><br><span class="line"></span><br><span class="line">    恩格斯曾经说过，恶是历史发展的动力，这是一个更伟大的真理。</span><br><span class="line"></span><br><span class="line">    “你不适合加入明教。”</span><br><span class="line"></span><br><span class="line">    “那我适合你么？”周乐道，他渐无顾虑，“咱们脚下是一大堆炸药，引线断</span><br><span class="line">了。但我总以为它马上便要炸开似的。”</span><br><span class="line"></span><br><span class="line">    冉苒欲要转身离去，周乐吹灭手中蜡烛，一把捉住她的袖口。他看到那羊脂玉</span><br><span class="line">般的小手。冉苒大为忸怩，抬手甩袖，迈出一小步。她眼中闪烁着些微光芒，脸上</span><br><span class="line">模糊轮廓非常柔美。黑暗拉近了两人的距离，至少遮盖了两道影子的背离。</span><br><span class="line"></span><br><span class="line">    “你越来越离谱了。”恶战之后，她脾气变好，十足的小女儿家模样。</span><br><span class="line"></span><br><span class="line">    “我承认先前我仅是被你的容颜吸引。但当我认定你想害死我时，发觉自己仍</span><br><span class="line">然不能割舍那种若有若无，却愈演愈烈的情感。”</span><br><span class="line"></span><br><span class="line">    冉苒终于走过门槛。“冉苒，你说现在算不算天亮？或者，再过两个时辰才算</span><br><span class="line">天亮？它是不好度量、不可阻挡的。第一道微弱、纤细、柔和的亮光可能最触动人</span><br><span class="line">的心灵。”爱情可以如此作比么？可以将之比作明教所崇尚的光么？</span><br><span class="line"></span><br><span class="line">    爱情同样不好度量、不可阻挡。</span><br><span class="line"></span><br><span class="line">    “炸药的引线有十几句话功夫才燃尽。将要爆炸的时候，对话结束了。引线断</span><br><span class="line">了，阴谋没有得逞。”周乐心里如是想。</span><br><span class="line"></span><br><span class="line">    明教众人已在陆续离去。周乐不知道他们能否证明城隍庙是劫案的主首。</span><br><span class="line">    他不知道。但他知道明教不会在乎这些。无论他们说什么、做什么，世人已经</span><br><span class="line">误解他们了。他们只能被误解。</span><br><span class="line"></span><br><span class="line">    周乐则开始尝试去了解冉苒。他先前看到了她美丽的容颜，如今他看到了她那</span><br><span class="line">复杂矛盾的内心世界。“她害怕喜欢上我。她反复无常，不是为了考验我，而是因</span><br><span class="line">为害羞与害怕，因为她内心激动、兴奋着？”</span><br><span class="line"></span><br><span class="line">    《维摩诘经》言，佛理之薪传譬如一灯燃百千灯，冥者皆明，明终不尽。周乐</span><br><span class="line">不信佛。他对明教有些担心。许多人直至芯尽油枯，依然点拔不亮。难道这样的灯</span><br><span class="line">台便得砸碎么？此灯亦为灯。旁人仅有将他照亮的权利。</span><br><span class="line"></span><br><span class="line">    冉苒回味着方才的谈话。她心跳得厉害。当下只觉得眼睛不知往哪儿放，也不</span><br><span class="line">知如何走路才得体，大伙儿似乎都在打量着她。幸好，她已走近钱塘江的涛声，快</span><br><span class="line">见到马车了。</span><br><span class="line"></span><br><span class="line">    天亮的概念确实不太确切。但总有那么一个时刻属于日出。</span><br><span class="line"></span><br><span class="line">    周乐迎着初升的太阳往回走。路上不见行人。街旁的民房不敢亮灯。四下里一</span><br><span class="line">片死寂。地上有一滩滩血。他皱眉，小心脚下。几具尸身似乎漂在血海上。血比尸</span><br><span class="line">多，醒目。</span><br><span class="line"></span><br><span class="line">    他正待跃上屋顶，狂奔一气。有一物搭上他左腿后侧。周乐回头，看见一把剑，</span><br><span class="line">一个血人。血人挣扎着坐起，低声道：“相好的，……别动。扶我起身。”那人左</span><br><span class="line">胸心口处有道伤，血已然止了。血迹在黑衣上不易看出来。</span><br><span class="line"></span><br><span class="line">    周乐身上也不太干净。他依言转身，伸手去拉那人手臂。周乐发现此人的面罩</span><br><span class="line">已经没了，分明象一个人，将死的人，却也眉清目秀。</span><br><span class="line"></span><br><span class="line">    长剑对着周乐胸口，抵在衣上，无力地颤动着。周乐并不在意。他起了恻隐之</span><br><span class="line">心，弯腰，低头，伸手。</span><br><span class="line"></span><br><span class="line">    不料那血人忽然发难，长剑恶狠狠地刺入。周乐正待闪身，可那人的左手扯牢</span><br><span class="line">了他的衣袖，也不及格架，胸口一阵剧疼。</span><br><span class="line"></span><br><span class="line">    血人弃剑，左手臂被震开。周乐退后几步，暗叫侥幸。对方长剑刺正老古董所</span><br><span class="line">送的那包金条。如此一挡，再加上内力发动，肌肉内陷，逃过一劫。他欣喜、惊讶</span><br><span class="line">之余，有些心寒。</span><br><span class="line"></span><br><span class="line">    血人笑道：“报应不爽！你的运气比我好。”</span><br><span class="line"></span><br><span class="line">    “你为何要杀我？我正想救你哩。我若死了，你也无生还之理。”</span><br><span class="line"></span><br><span class="line">    “你心怀鬼胎。”他上气不接下气，黑衣上又有血渗出，右手却又拾起长剑，</span><br><span class="line">抓牢了。</span><br><span class="line"></span><br><span class="line">    此时在此地行走，被利剑胁迫也不见惊慌，自非易与之辈。周乐承认，此人的</span><br><span class="line">想法不是没有道理。防人之心不可无。江湖中少有救人之人。他摇摇头，转身欲走。</span><br><span class="line"></span><br><span class="line">    “你真不愿救我？”咳嗽声中，暗器破空。周乐打掉长剑，俯身去瞧那人伤势。</span><br><span class="line">他脸上正狰狞笑着，合了双眼，嘴巴张开，呼吸和缓，似乎是回光返照。</span><br><span class="line"></span><br><span class="line">    血人咬破舌尖，朝周乐脸上吐去。周乐及时把头一偏，手臂又为他抱紧。血口</span><br><span class="line">大张，竟往周乐的脖子咬来。湿热粘稠的液体滴在颈上，有股腥臭味。</span><br><span class="line"></span><br><span class="line">    周乐大惊之下，双臂一挣，右手掌击在那人胸口，把他放倒。又是一大口鲜血。</span><br><span class="line">周乐的长衫上画了朵状元红大牡丹。</span><br><span class="line"></span><br><span class="line">    那人强笑道：“你别指望我会上当。装什么大尾巴狼。我不会……任你折磨的。”</span><br><span class="line">他躺在地上，奄奄一息，声音逐渐微弱。</span><br><span class="line"></span><br><span class="line">    周乐脱掉长衫，觉得有些凉意。</span><br><span class="line"></span><br><span class="line">    关帝庙的旗杆、大树、一角飞檐，乌鸦不在啼叫。空气清新。周乐突然发觉不</span><br><span class="line">对。不对！他一直有这个念头，此时才知在担心什么。</span><br><span class="line"></span><br><span class="line">    庙门面南紧闭。周乐逾墙而入，西拐经抄手廊，冲入后进的大杂院。窗、门，</span><br><span class="line">没有动静。他撞门而入。小谢正躺在床上酣眠。周乐苦笑，放下心来。他担心昨晚</span><br><span class="line">城隍庙的小鬼来过这儿。尉迟杯有伤在身，谢清发吊儿郎当，令人堪忧。</span><br><span class="line"></span><br><span class="line">    周乐松懈下来，困意大生，眼皮耷拉着，拖着步子，走到自己房门前，推门。</span><br><span class="line"></span><br><span class="line">    他听到喘息之声，急忙收脚。一把刀打门内射来，尤如逃逸之光，速度不快，</span><br><span class="line">劲风不大，却很有神致，如天外飞龙、雪泥鸿爪。周乐大惊，甫一闪身，刀光晃处</span><br><span class="line">竟定格在他颈间。周乐看不清这一变招，从未见过如此生动、自然、灵活的刀法。</span><br><span class="line">他大叫道：“岑寂！”</span><br><span class="line"></span><br><span class="line">    阳光照在岑寂脸上。岑寂收了刻刀，笑道：“你不在床上。我以为来了敌人。</span><br><span class="line">你如何知道是我在里头，因为这把刀？”</span><br><span class="line"></span><br><span class="line">    “胡猜。大喊一声，总比束手就擒强。哎，你怎会到这儿来？”</span><br><span class="line"></span><br><span class="line">    岑寂红着脸道：“昨夜城中闹得厉害，崔府上下都很紧张。我四更醒了，睡不</span><br><span class="line">着，便出来走走。”他心中惦着周乐三人，嘴上却不说。</span><br><span class="line"></span><br><span class="line">    周乐想到自己困在井底，被岑寂捞起时的狼狈相，忍不住笑道：“我在床上躺</span><br><span class="line">了一会，发觉还是泡在井水中睡得踏实、凉快。于是也出去走了走。”</span><br><span class="line"></span><br><span class="line">    岑寂也不问他出外做甚，长衫怎会抓在手中，拱手告辞。</span><br><span class="line"></span><br><span class="line">    周乐蒙头大睡。由于肚子饿，没多久，醒来。他看了看外头的阳光。小谢、尉</span><br><span class="line">迟仍然在睡么？周乐走入尉迟房中。尉迟躺在床上。一张粉红笺子摆在桌上。周乐</span><br><span class="line">展开，阅读。</span><br><span class="line"></span><br><span class="line">    “周公子，奴婢解佩夜来冒昧造访贵府，还望见谅。公子的两位朋友仅是吸了</span><br><span class="line">些‘鸡啼五更梦未还’的低等迷香。我家小姐乃是一番好意，特意命奴婢带人来给</span><br><span class="line">关帝爷上香，以防小鬼上门。”</span><br><span class="line"></span><br><span class="line">    周乐知道“鸡啼五更梦未还”这种迷香。它的药性不强。小谢内力尚在，没有</span><br><span class="line">理由防它不住。他也算是个老江湖了，居然会在睡梦间让一个小丫头片子乘虚而入，</span><br><span class="line">不明不白地给算计了。周乐想不明白。</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  第三章 兴来每独往</span><br><span class="line"></span><br><span class="line">    兴来每独往，胜事空自知。我身即我敌，外物非所虞。</span><br><span class="line"></span><br><span class="line">                                一、现实</span><br><span class="line"></span><br><span class="line">    现实，指无法“贴现”之事实。</span><br><span class="line"></span><br><span class="line">    “杭嘉湖”的大小“岛屿”塘栖、崇德、濮院，万寿桥、石门、三塔湾，缓慢</span><br><span class="line">南下。跟着是嘉兴。它靠着大运河码头，驻足泊岸。</span><br><span class="line"></span><br><span class="line">    浙北坦荡平原上湖泊众多，水道密布，汊港错杂。每个菱湖附近都是连片的沼</span><br><span class="line">泽。嘉兴始建于春秋，三国时地生祥瑞，嘉禾一株双穗，因而得名。它盛产鱼米丝</span><br><span class="line">菱，自古富庶。</span><br><span class="line"></span><br><span class="line">    嘉兴距盛泽思古桥四十里，思古桥恰好在苏杭运河中途。独孤寒想上苏州，可</span><br><span class="line">盘缠已尽，身上值钱的东西只剩一把剑。</span><br><span class="line"></span><br><span class="line">    他不是老江湖，城市的繁华令之气短。他寻到当铺，用长剑当了二钱银子，再</span><br><span class="line">用当票跟卖盐的掌柜换了丁点盐巴。那掌柜想要把剑挂在墙上床头镇邪。对于这笔</span><br><span class="line">小小的交易，双方均很满意。</span><br><span class="line"></span><br><span class="line">    价值观不同的双方交易什么都容易，惟独难于买卖价值观。</span><br><span class="line"></span><br><span class="line">    独孤寒沿着河岸走着，漫无目的，却充满信心。他想：城市并非坏地方，人多</span><br><span class="line">并非坏事；由闹市到深山，不一定是归隐；由深山到闹市，也不一定是堕落。</span><br><span class="line"></span><br><span class="line">    当看到圩荡田时，他不想了，也不走了。嘉兴已在身后。折了根硬直的树枝，</span><br><span class="line">寻了个小河湾。那儿的水并非清澈见底，鱼也不大，孤寒未曾学过捕鱼。</span><br><span class="line"></span><br><span class="line">    夕阳西照，水光天色中他瞪眼下蹲，刺出一剑。水波溅起老高，声响却很小。</span><br><span class="line">树枝挑处，一条鱼儿蹦跳上岸。余下的也不及逃窜。“长剑”如蛇，将它们个个击</span><br><span class="line">昏，再刺成一串。</span><br><span class="line"></span><br><span class="line">    要令树枝在水中任意挥洒，迅捷如飞，着实不易。可对于独孤寒而言，河水比</span><br><span class="line">不过雪山冰峰绝顶上的狂风，比不过敌手的内力流。他练剑，练的是毅力、眼力、</span><br><span class="line">腕劲、步法、身式。他懂得击刺的自然之道。</span><br><span class="line"></span><br><span class="line">    “与其退而结网，不如临渊学剑”。他换个地方，依样画葫芦。待到残日下，</span><br><span class="line">渔人鸣榔归去时，收获颇丰。</span><br><span class="line"></span><br><span class="line">    周乐把凉水洒在谢清发与尉迟杯的脸上。小谢的内力比受了伤的尉迟深厚，却</span><br><span class="line">较难弄醒。周乐想，个中原因肯定是桃色的。</span><br><span class="line"></span><br><span class="line">    小谢的脑子并不迷糊。他嚷着肚子饿，提议三人出去搓一顿。周乐道：“昨晚，</span><br><span class="line">你有无发觉不对？”</span><br><span class="line"></span><br><span class="line">    小谢圆睁双眼，道：“有什么不对么？我一直睡得好好的。”他伸手拭去脸上</span><br><span class="line">的水渍，又道：“总不成是尿床吧？”</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    尉迟忍不住大笑，道：“还是你有本事，尿床尿到脸上。”递与他解佩留下的</span><br><span class="line">纸条。小谢将纸条拿得很近，遮住了眼鼻双颊，好一阵子才取下。“不用闻，还香</span><br><span class="line">着哩。”</span><br><span class="line"></span><br><span class="line">    小谢看看周乐，看看尉迟，徐徐道：“我是着了她的道儿，可那仅是因为我…</span><br><span class="line">…。”周乐与尉迟齐齐扭头。周乐在查看纸窗上的小洞。</span><br><span class="line"></span><br><span class="line">    盛暑，小谢怕热。解佩轻手轻脚地关上门窗，然后从纸窗小洞吹入迷香。</span><br><span class="line"></span><br><span class="line">    “我觉察到她在做手脚。”周乐、尉迟无动于衷。“但我不动声色，等她捂着</span><br><span class="line">手帕摸入房中时，突然翻身坐起，想吓她一跳。不料她早有准备，双袖一甩，抖出</span><br><span class="line">一大阵迷烟。我只好认栽了。”小谢很是委屈。</span><br><span class="line"></span><br><span class="line">    事后，岑寂引经据典，笑他读书太少，以至于上当。国朝欧阳文忠公《归田录》</span><br><span class="line">卷二，记梅洵之事，赫然有“焚香两炉，以服罩之，浓香郁然满室，撮其袖以出，</span><br><span class="line">坐定撒开。”</span><br><span class="line"></span><br><span class="line">    岑寂大赞这小丫头是个有心人，懂风雅。</span><br><span class="line"></span><br><span class="line">    独孤寒吃得肚子撑圆，躺在石拱桥上。第一次，他留心到草丛中虫子的叫声挺</span><br><span class="line">响的，有点象小鸭子的哀号。他一时无法入睡。</span><br><span class="line"></span><br><span class="line">    月光是一种惨淡、朦胧的黄色，一如这美得病态的江南。天上有云彩，耳边听</span><br><span class="line">着细细、轻轻的吴歌顺水远远地漂来。</span><br><span class="line"></span><br><span class="line">    孤寒一直渴望自立，钱多时吃顿好的，没钱时不妨随遇而安。思考令人心烦意</span><br><span class="line">乱，他没想过该如何生存。生存乃是人类本能，动物、植物都干得不错。船到桥头</span><br><span class="line">自然直。他一直活得很好。</span><br><span class="line"></span><br><span class="line">    他不时在盘算手中的钱该如何花，却从未冥想过没钱后该如何挣。花钱与使剑</span><br><span class="line">均是艺术，挣钱乃是异术。</span><br><span class="line"></span><br><span class="line">    他肯定自己今晚思虑过多了。但他并不害怕自己的信念会动摇。他年纪很小的</span><br><span class="line">时候便见过无数一步一跪的朝圣的牧民。人的幸福源于坚定，坚定的信仰，坚定的</span><br><span class="line">坚定，乃至于坚定的动摇与背叛。</span><br><span class="line"></span><br><span class="line">    独孤寒在大雪山，在蓝色与白色的启发下，也有过一次长考。那年他十四。得</span><br><span class="line">出的结论是：徒想无益。</span><br><span class="line"></span><br><span class="line">    他的性格已是如此。</span><br><span class="line"></span><br><span class="line">    孤寒自小经历各种各样常人难于想象的、全面的、严格的、艰苦的磨练，武学</span><br><span class="line">已溶入他的生命。“我之所以为我，便在于我有与众不同、出类拔萃的武功”，武</span><br><span class="line">功赋予他成就感。</span><br><span class="line"></span><br><span class="line">    客老一直未将他的身世告诉他。他自小便不是为了报仇、为了光宗耀祖、为了</span><br><span class="line">将来的享受而苦修剑法。更非为了客老。他就是有学剑的兴趣。否则，他认为牺牲</span><br><span class="line">小时欢乐，吃二十年苦，换得不可知的似乎前程光明的未来，着实划不来！</span><br><span class="line"></span><br><span class="line">    人死后，虚名何益？如果你未死，便可料得身后浮名，虚荣心获得了满足。否</span><br><span class="line">则，虚名纵是极为冠冕地写在你的墓志铭上，人们不是在谈论你。地下的你仔细听</span><br><span class="line">着，人们乃是在对着墓碑指手划脚。</span><br><span class="line"></span><br><span class="line">    报仇，本质上仅是为了报仇者自己的声名，是无力保全死者的苍白忏悔。他听</span><br><span class="line">到客老承认是杀父杀母的大仇人时，没有不共戴天的感觉。他的神经有如雪线之上</span><br><span class="line">的千年寒冰，亘古不变，永远闪烁着冷峻的光。</span><br><span class="line"></span><br><span class="line">    他讨厌仇杀。他不信奉弱肉强食的原则。可他欣赏兀鹰、雪豹、狼群，认为猎</span><br><span class="line">食是大自然一种出奇的美。雪峰是狼牙棒，冰棱犬牙交错。大地处处是陷阱、城池，</span><br><span class="line">天空砸下各种暗器。</span><br><span class="line"></span><br><span class="line">    浅蓝色的冰川寒气逼人，可那儿的阳光也最充裕。天暖色调的蓝。青青草地、</span><br><span class="line">白色羊群，晶莹洁净的高原湖泊，令他感受到另一种美。</span><br><span class="line"></span><br><span class="line">    牧羊人养羊时，呵护备至，结果仍是免不了杀死它们，吃掉它们。牧羊人喝着</span><br><span class="line">羊奶，披着羊皮，告诉孤寒：牙齿是最具力量的，最美的饰物。</span><br><span class="line"></span><br><span class="line">    如果，当客老告诉他那个消息时，他还打不过客老，大概会有另一种情形。孤</span><br><span class="line">寒会有另一种活法。仇恨会激励他习武，打败客老之时，便是复仇之日。如此一来，</span><br><span class="line">世上会多一个孝子，却少了一个剑客。一个拥有自我的主体意识，我身即我敌，外</span><br><span class="line">物非所虞的不伟大却最为难得的剑客。</span><br><span class="line"></span><br><span class="line">    他习剑使剑的目的单纯而又坚定。便是这一份理性，带给他剑法上感性的飞跃。</span><br><span class="line">在这儿，我想说的意思是：他的剑法有他主观意识的印记，就象是他的手、他的牙</span><br><span class="line">齿，有着鲜明的个性。</span><br><span class="line"></span><br><span class="line">    活着是一种惯性，也是惰性。客老自尽了，因为他曾有过的自信。</span><br><span class="line"></span><br><span class="line">    老年人似乎注定只能娱性情、养天年。但就有那么几个老人不服老，不顾自己</span><br><span class="line">智力枯竭，精力衰退，仗着一些陈芝麻、烂谷子的经验，守着半截入土的盛年声誉，</span><br><span class="line">散发余热。他们因而晚节不保。</span><br><span class="line"></span><br><span class="line">    武林中没有长青树，衰老很痛苦。自尽不仅是一种自信，而且是尽兴之举，毕</span><br><span class="line">生之作，绝招、损着。</span><br><span class="line"></span><br><span class="line">    独孤寒没有考虑过自己也会老，正如他没想过无敌于天下。真正的高手比试，</span><br><span class="line">心理生理状态以及环境等因素的影响也是至关重要的。一次比试可见胜负，但难分</span><br><span class="line">高下优劣。在这个圈子里，生存不易。“无敌”二字很忌讳。</span><br><span class="line"></span><br><span class="line">    武学无止境。正如富人不嫌钱多，为了保住他的钱，最好的法子是继续赚。</span><br><span class="line"></span><br><span class="line">    所以只有不被赏识的悲哀，不存在高处不胜寒的神话，除非他打寒战是因为怕</span><br><span class="line">人暗算。此所谓枪打出头鸟的道理。</span><br><span class="line"></span><br><span class="line">    你可以不欣赏凶猛的野兽，却无法指责它。它的武力乃是为了生存。独孤寒有</span><br><span class="line">几分象兽类，却无兽性。他的武力是为了表现自我，故为艺术。</span><br><span class="line"></span><br><span class="line">    书画家的个性贵在师法自然，别出心裁；魏晋高士的个性贵在疏狂放诞，无约</span><br><span class="line">无束；高手，武林中的高手也有个性，贵在克制自我感情、心绪，发挥潜能，制胜</span><br><span class="line">对手。如果你不遵从上述定则，你也有个性。但你只能是你了。</span><br><span class="line"></span><br><span class="line">    人非草木，孰能无情？对于感情，小谢以为不必克制；周乐以为得克制，承认</span><br><span class="line">有时做不到；岑寂能克制，却无法制服对手，反会令自个受伤。他们适于学武，不</span><br><span class="line">适于比武。</span><br><span class="line"></span><br><span class="line">    小谢忘记自己给女人坑过多少次了。他反省着，却只想起从女人身上得到的好</span><br><span class="line">处。与她们交往，在他而言是莫大的乐趣。他自嘲道：“雨季将过，我的霉运却来</span><br><span class="line">了。”他心里盘算着要追春北上，回吴中一游。</span><br><span class="line"></span><br><span class="line">    他猜想独孤寒会在姑苏城中出现。如今的孤寒只须挑高手比试。下一个目标必</span><br><span class="line">定是姑苏王家。江南三大世家“崔王谢”分别以拳、剑、轻功见长。王家的“平江</span><br><span class="line">王氏剑”堪称武林一绝，讲究诗情画意，剑式优美别致，飘逸空灵，风格可以当地</span><br><span class="line">园林作比。</span><br><span class="line"></span><br><span class="line">    小谢忍不住暗笑出声。王家有不少人与他沾亲带故。王家有位小姐闺名王贞吉，</span><br><span class="line">自幼便由父母指腹为婚许给他谢清发。虽然，她及她的家人听说自己行为不端，可</span><br><span class="line">能不大情愿。但名份还在。</span><br><span class="line"></span><br><span class="line">    她到了出嫁年龄，小谢想。此时不去寻她，悔婚解约后可不太方便。</span><br><span class="line"></span><br><span class="line">    他见过这个王贞吉，模样过得去，顺眉顺眼的，看上去知书达礼。说话时，似</span><br><span class="line">乎在敷衍，随口应着。小谢以为她的性格是绵里藏针型的，有主见。</span><br><span class="line"></span><br><span class="line">    小谢知道她打心眼里瞧不上自己：无行浪子、轻薄之徒、没出息的家伙。对此，</span><br><span class="line">小谢不以为意。他对她也无甚好感。</span><br><span class="line"></span><br><span class="line">    娃娃亲之可恶甚于拉郎配。当年，小谢曾急切地想瞧瞧这个叫王贞吉的小姑娘：</span><br><span class="line">究竟父亲大人看上了什么样子的女子，天作之缘是怎么一回事？这个念头自他懂事</span><br><span class="line">起一直顽固地盘踞脑中，虽然他见过王贞吉许多次。</span><br><span class="line"></span><br><span class="line">    独孤寒喜欢早起，因为那当儿有夜的秀美，昼的清醒。今日天格外阴沉，不见</span><br><span class="line">云团，混浊灰蒙一片，似乎盖着几床无边无垠密密严严的大棉被。有些燥热，风甚</span><br><span class="line">大，石板凉如水。</span><br><span class="line"></span><br><span class="line">    白墙黑瓦，小桥杨柳，流水人家。他抓着自己的头发，有种似曾相识、怅然若</span><br><span class="line">失的感觉正在手中响动。“我曾几何时也这样俯视河水，那时我没栏杆高罢？”</span><br><span class="line"></span><br><span class="line">    树叶如货郎手中的拨浪鼓一般晃动。不知名的小鸟、水纹、老街，一切都暗了</span><br><span class="line">下来。……暴雨将至。</span><br><span class="line"></span><br><span class="line">    独孤寒故伎重演，用树枝刺了串鱼，躲在桥洞中烤火。一个船老大看着他吃完</span><br><span class="line">鱼，道：“年轻人，你要北上还是南下？我的船上苏州，想找个帮手。”独孤寒看</span><br><span class="line">上去挺壮实的。</span><br><span class="line"></span><br><span class="line">    灭火，跃上甲板，孤寒并不存心掩饰自己的武功。十几艘小船摆成一字长蛇阵</span><br><span class="line">出发了。</span><br><span class="line"></span><br><span class="line">    谢清发出门看天。老天爷正在泼墨涂鸦。大街上很干净，不见行人。小谢怕刮</span><br><span class="line">风天气。灰尘是唯一进入眼中，他却看不见的物体。他有点风泪眼。</span><br><span class="line"></span><br><span class="line">    小谢扭头回屋。待到明天，风和日丽，我骑鹤下扬州，他想。周乐正对着尉迟</span><br><span class="line">说道：“你知道我什么时候起开始说谎么？大约在我发觉土地爷仅是个泥人时。”</span><br><span class="line"></span><br><span class="line">    尉迟笑道：“我往土地公婆身上撒尿时，才发觉他们是泥做的。”他有点儿迷</span><br><span class="line">信，认为神灵还是存在的。可他依然放荡不拘至此。</span><br><span class="line"></span><br><span class="line">    小谢更绝：“我打碎玉瓷观音后，才知它被人叫做观音。因为我父亲狠狠地训</span><br><span class="line">了我一顿。我开口叫我奶妈‘妈妈’时，已开始撒谎。因为我想骗奶吃。”</span><br><span class="line"></span><br><span class="line">    “我真正不觉得撒谎有错，是在看到一个风烛残年的老太婆朝泥人三跪九叩时。”</span><br><span class="line">周乐道，“瞧她那郑重、虔诚的样子，我没敢放肆。如果因为不信关帝爷而将这座</span><br><span class="line">庙砸了，咱们几人无处容身。”</span><br><span class="line"></span><br><span class="line">    狂风暴雨无遮无挡，亲热得让人受不了。有时，我们不需要真实，得接受现实。</span><br><span class="line"></span><br><span class="line">    狂风令小谢产生大海在屋顶咆哮的错觉，却令独孤寒感到自己骑在奔驰的烈马</span><br><span class="line">之上。风雨令人们正视现实，并有效地界定了时间，午后、庙内、船上，……。我</span><br><span class="line">固执地认为孤寒人在小谢前头，时间却比小谢慢。孤寒睡下时，小谢已然醒来。虽</span><br><span class="line">然小谢一直睡到刚才，即晌午。我们都曾有过那种感觉：不知不觉睡下了，然后一</span><br><span class="line">睁眼，韶光飞逝足于烂柯。独孤寒的苦思拉长了时间，他的困顿似乎历历在目。我</span><br><span class="line">记不得孤寒上船后，直至碰到风暴雨的情景。</span><br><span class="line"></span><br><span class="line">    我时常思念我所想着的人儿：此时她在做些什么呢？她大半天的活动化作我的</span><br><span class="line">一个念头。惟有见面之日，我才可轻易地知道她正在做什么。她有她的生活，她不</span><br><span class="line">会为了我留意她确切的作息时间。</span><br><span class="line"></span><br><span class="line">    时间是不当的。思念者害怕它。想她是我生命中的亮点。我常为自己渴望猜知</span><br><span class="line">她每时每刻的经历、感受的念头而害怕、吃惊。我会因此失去自我。我会因此过于</span><br><span class="line">介入她的生活？</span><br><span class="line"></span><br><span class="line">                                二、浪漫</span><br><span class="line"></span><br><span class="line">    浪漫，总是与水有关，泪水、苦水……。</span><br><span class="line"></span><br><span class="line">    雨打乌蓬，天如乌蓬般阴暗低沉。天漏雨。狂风呼啸，冲撞万物，挟持万物。</span><br><span class="line">那声响掩盖了一切。船舱开始不及排水。运河在运动，船队迎风起舞。水手们尤如</span><br><span class="line">身处签筒之中。命运抓着它，用力晃动，不知甩出的是凶是吉。</span><br><span class="line"></span><br><span class="line">    前头就是王江泾了。它东南距嘉兴三十里，傍晚之前抵达，应无问题。这王江</span><br><span class="line">泾北为江、浙省界思古桥，苏、杭运河穿镇而过，烂溪自东北方流来注入运河。乌</span><br><span class="line">镇河由西南方流来相会，南面为莺豆湖。王江泾北可达平望、吴江，南至嘉兴、杭</span><br><span class="line">州，东通嘉善、淞江，西到乌镇、湖州，交通方便，向来是过往船家歇脚的地方。</span><br><span class="line"></span><br><span class="line">    田野栽种着雨水。它们并非直直砸下，而是被风吹成一排排一浪浪的灰蒙蒙的</span><br><span class="line">雨潮。轻细如丝，密密麻麻，宛如飘移着的低云薄雾。</span><br><span class="line"></span><br><span class="line">    独孤寒对这种天气视若不见。娇媚的二八少女流着泪儿，甩手跺脚，使着小性</span><br><span class="line">子，蛮不讲理。这可能令你担心，但不会让你恐惧。</span><br><span class="line"></span><br><span class="line">    前方水面上隐隐有几艘大船。待又近些，方看清大船有三艘之多，亦是北行。</span><br><span class="line">这会儿，风向稍改，南岸边上正有几纵人，在给大船拉纤卖力。船老大嘴里喃喃骂</span><br><span class="line">着，也上岸拉纤。</span><br><span class="line"></span><br><span class="line">    独孤寒抓着纤绳，闭着眼，浑身湿透，心中想着王江泾的米饭、热汤、床。</span><br><span class="line"></span><br><span class="line">    堤岸上的路不好走。他庆幸自己先前坐船了，虽说这会儿得扛着船。渐渐的，</span><br><span class="line">他看清了前头大船拉纤人的腿。突然，他一个踉跄，手上松劲，本来便前倾的身子</span><br><span class="line">趴向地上。没有任何征兆，他甚至来不及想是否“纤绳断了”。</span><br><span class="line"></span><br><span class="line">    更要命的是，一截利刃当头刺来。独孤寒无多少江湖历练，没见过大风大浪。</span><br><span class="line">他只会正面对敌，一对一光明正大地过招。毫无准备的他，手中无剑，立足不稳。</span><br><span class="line">雨水淌过他的眼，风雨声声入耳。他几乎是又盲又瞎。他能看清自己所处的困境么？</span><br><span class="line">他听到了大船上逆风传来的少女惊呼么？听到了背后急迅、杂乱的刀声么？</span><br><span class="line"></span><br><span class="line">    有几个纤夫从路边草丛中掏出兵器。</span><br><span class="line"></span><br><span class="line">    孤寒摔在满是泥泞的地上，右掌拍按长剑剑锋，用拇指、食指捏了，一抖一挑，</span><br><span class="line">内力发动，将前头突袭之人扬上自个头顶，迎上那几把插来的匕首与刀剑。</span><br><span class="line"></span><br><span class="line">    他迎风立身，扔掉手中半截纤绳。一脸雨水的他，宛如镇河的铁牛，倚河的文</span><br><span class="line">昌塔，似乎单他一人，单他一剑，便可令运河断流。</span><br><span class="line"></span><br><span class="line">    “你果然是独孤寒。”只有独孤寒才有如此身手？</span><br><span class="line"></span><br><span class="line">    “我们一早就盯上你了，小子。听说九华派、杭州崔家都折在你小子手下。你</span><br><span class="line">知道自己得罪了多少人？”对方共有十余人。“有人不喜欢你上姑苏。小子，回头</span><br><span class="line">是岸。这嘉兴以北，太湖周遭，都是我们三山帮的地盘。”</span><br><span class="line"></span><br><span class="line">    “三山帮？怎也跟他有仇？娘，娘，你说给女儿听嘛。”有一艘大船开着侧窗。</span><br><span class="line"></span><br><span class="line">    “吴县东山西南太湖中，有个三山岛。那儿即是三山帮的总坛。它是江南水路</span><br><span class="line">霸主。”三山帮在吴中浙北混饭吃，不能不与姑苏王家攀上交情。徽商帮跟它也眉</span><br><span class="line">来眼去。算不上黑道绿林，只是干着盘剥渔家、敲诈过往舟船的勾当。太湖石的采</span><br><span class="line">集、买卖由它一手把持。</span><br><span class="line"></span><br><span class="line">    “它还不敢惹上咱们九华派。咱们也不叫破它的的形藏。都是道上的朋友，待</span><br><span class="line">会儿便会过来赔不是。”</span><br><span class="line"></span><br><span class="line">    “娘，是不是姑苏王家在背后主使三山帮袭击他？”</span><br><span class="line"></span><br><span class="line">    “王家的平江王氏剑享誉江湖百余年，金字招牌不愿砸在这少年手里。他的剑</span><br><span class="line">法你也见识过了。老实说，咱们是给比下去了。王家讲风雅，充脸面，不想明着丢</span><br><span class="line">人，只好在暗中做些手脚。娘也是姑苏人，王家为人……。”她闭口不言，但听得</span><br><span class="line">出内中不屑的语气。</span><br><span class="line"></span><br><span class="line">    “娘，女儿听说金陵谢家方轨正直，靖修重德冠当世；杭州崔家最讲究门第礼</span><br><span class="line">教，大有魏晋遗风；姑苏王家铜臭味稍重，架子最小，高灵素雅，府中向为江南士</span><br><span class="line">子云集之所。”</span><br><span class="line"></span><br><span class="line">    “传闻多不可信，你太天真了。湛露，他们交手了。”原来大船内坐有九华派</span><br><span class="line">弟子，其中包括天台十八将中排行老六的施主夫妇及他们的独女——施湛露。那个</span><br><span class="line">令小谢上心，艳名远播的施湛露。</span><br><span class="line"></span><br><span class="line">    她歪着头，一双明媚的大眼睛躲在窗边，强风挽着她的鬓角发丝，迎面的水雾</span><br><span class="line">推搡着，似乎生怕她为河神掳走。</span><br><span class="line"></span><br><span class="line">    堤岸上的人群对峙了一会，独孤寒伸手擦拭脸上雨水。三山帮那十余个壮汉呐</span><br><span class="line">喊着，由两头蜂拥而上。利刃贴身肉搏最容不得闪失，长剑在手，应该拒敌于三尺</span><br><span class="line">之外。可他似乎不懂规矩，静等第一个对手放马过来。</span><br><span class="line"></span><br><span class="line">    不论对手多少，在他眼中只如一人。</span><br><span class="line"></span><br><span class="line">    俗话说，以静制动，以不变应万变。独孤寒知道这些道理，可他不能不动，没</span><br><span class="line">法不变。前头、背后同样是狂风一般冲来的敌手。三山帮的狙击高手“十脚螃蟹”</span><br><span class="line">正集力一击。孤寒站在半丈宽的泥径上，两方白水，四面楚歌。</span><br><span class="line"></span><br><span class="line">    无锡武人“石公”一身金钟罩铁布衫的横练功夫，拿把斧头，可以由无锡沿运</span><br><span class="line">河北上，一直打到幽燕十三州。我们不知此话是真是假，因为他没有机会尝试。他</span><br><span class="line">被“十脚螃蟹”一个照面，半次冲锋，便切成了无数的碎末，扔下河喂鱼了。</span><br><span class="line"></span><br><span class="line">    “十脚螃蟹”是十个人，准确地说是八脚二钳，水下功夫了得。搞冲锋、打烂</span><br><span class="line">架也是他们的长项。</span><br><span class="line"></span><br><span class="line">    头一位帮众看清了独孤寒脸上的茸毛，脖子上血脉之贲张。在他正待体味砍人</span><br><span class="line">的快感之时，右手腕已为割伤，他的心伴随着单刀急速下坠。</span><br><span class="line"></span><br><span class="line">    在孤寒看来，对方同时出手亦分先后。待他对付下一人时，前一人已在嚎叫，</span><br><span class="line">已然受伤。他迎着风雨，前踏三步，解决五人。他的剑法不好看，没法看，没的看，</span><br><span class="line">可就是管用。他根本不去理会敌手人数多寡。</span><br><span class="line"></span><br><span class="line">    似乎是后发制人，实际上又没那么玄。他以攻代守，诱敌近身，在刻不容缓之</span><br><span class="line">际，盘算对方招式，找出破绽，一一击破。</span><br><span class="line"></span><br><span class="line">    独孤寒自小便在绝顶雪光反射中长大，眼力奇佳。那儿的风口也是他练气习剑</span><br><span class="line">所在。他早已学会在各种恶劣的环境中生存、争竞。</span><br><span class="line"></span><br><span class="line">    狂风令人有赤裸、窒息、压抑之感。三山帮帮众都傻眼了。有人一脚踏空，摔</span><br><span class="line">入河中。</span><br><span class="line"></span><br><span class="line">    施湛露奇道：“娘，这三山帮太不经打了。”她心中极其乐意看到他被逼跳河。</span><br><span class="line">“听你这般口气，好似自己很了不起似的。太自负，便会让人欺负。小心着了道儿，</span><br><span class="line">你一个女儿家的。”母亲总不放过一切教育儿女的机会。</span><br><span class="line"></span><br><span class="line">    “娘，如果我是男人，你又该担心我没出息了。咱们九华派一代不如一代，师</span><br><span class="line">兄们谁也打不过他。”施夫人曾经渴望有个文武双全的儿子。</span><br><span class="line"></span><br><span class="line">    “他确是个不世出的人才。十脚螃蟹相当扎手。他胜得如此干净利索，让人感</span><br><span class="line">到意外。”</span><br><span class="line"></span><br><span class="line">    “湛露啊，爹对付他们十人，不过百招绝计拿不下来。而那位少年，我相信他</span><br><span class="line">在百招之内也胜不了我。”施主走进船舱，说道。</span><br><span class="line"></span><br><span class="line">    狂风稍歇，雨仍下个不停。独孤寒丢下手中滴血长剑，舍了不知所措的对手，</span><br><span class="line">跳上施氏一家所在的船头。做为踏板，他跳回原来的小船。</span><br><span class="line"></span><br><span class="line">    施湛露感到甲板一荡一沉，不由嘴角含笑：他的轻功与我不相上下。小船队上</span><br><span class="line">的船工纷纷跳水，如饺子下锅。孤寒独立船头，抓起竹篙。水中一物跃上岸，嚷道：</span><br><span class="line">“好眼力。你如何知道我藏在水中。”</span><br><span class="line"></span><br><span class="line">    “三山帮的这些蠢货实在不足于成事。唉，不突袭，我自恃不是你的对手。”</span><br><span class="line">他蒙面，一身黑色水靠，持一柄长剑。</span><br><span class="line"></span><br><span class="line">    施主远远看着，道：“此人谅必是借刀杀手。不知他何时藏入舟底，独孤寒又</span><br><span class="line">是如何识破的？”</span><br><span class="line"></span><br><span class="line">    独孤寒一言不发，怔怔地盯着杀手，扔了手中竹篙。杀手将手中长剑也掷入河</span><br><span class="line">里，道：“朋友，到岸上来，咱俩放手一搏。”</span><br><span class="line"></span><br><span class="line">    “他在玩诸葛亮空城计的把戏。 杀手会与人正面比试么？ ”施湛露冷笑道，</span><br><span class="line">“借吓唬对方捡得性命。”借刀的杀手们似乎一向独来独往。桑田中应无埋伏。</span><br><span class="line"></span><br><span class="line">    持重谨慎的独孤寒果然按兵不动。司马懿宁可为人笑话，宁可放走生平大敌，</span><br><span class="line">也不轻易涉险。这正是他高明之处。因为纵能于当时一举克蜀，于司马氏未尝有大</span><br><span class="line">利。倘若中伏，利害可就大了。</span><br><span class="line"></span><br><span class="line">    独孤寒一字一句道：“我并未发觉你躲在船下。”老实得令人捉摸不透。</span><br><span class="line"></span><br><span class="line">    轮到杀手怔住了。他转身就跑，似乎在躲避炸药一般。在他身后，河中独孤寒</span><br><span class="line">脚下的甲板突然暴裂。一柄鱼叉刺上，卷起千堆雪。</span><br><span class="line"></span><br><span class="line">    九华派众人看清是鱼叉，便因为孤寒闪开了。船已入水，即将灭顶。岸上的杀</span><br><span class="line">手往回跑，原来他真正的兵器是一杆长矛。</span><br><span class="line"></span><br><span class="line">    河面上又跃出一人，竟不带一丝水花，直往独孤寒后心撞去。孤寒连忙转身，</span><br><span class="line">却躲闪不及，右肋被分水刺所伤。他挑起足下竹篙，随手一抡。对手两根分水刺正</span><br><span class="line">使了记“摘星式”再化“双虹飞渡”，被他封了去路，仅施展出半招。</span><br><span class="line"></span><br><span class="line">    “你到底还是中了我的‘鱼翅’。”孤寒已受伤，船在下沉，“分水刺”不急</span><br><span class="line">于追杀。“我叫尚蝇，岸上那位叫尚和，河底凿船的是尚书，三山帮主脑是也。”</span><br><span class="line"></span><br><span class="line">    此时，孤寒似乎只能跳到岸上，可他偏偏入水，跳进河中。</span><br><span class="line"></span><br><span class="line">    水面上留下血迹波痕。尚蝇追入，尚和提着长矛，虎视眈眈。三山帮靠水吃水，</span><br><span class="line">水性自然胜过孤寒良多。双拳难敌四手，在水下，孤寒只有挨打的份儿？</span><br><span class="line"></span><br><span class="line">    小船已完全浸入水中。一条血带浮了上来。施湛露目不转睛地瞧着，右手紧抓</span><br><span class="line">剑把。这会儿，在她心中，情感的天平已倾向独孤寒。她为他鸣不平，担心他会吃</span><br><span class="line">亏。</span><br><span class="line"></span><br><span class="line">    水下三人跳到岸上。独孤寒手中多了把长剑。尚蝇则丢了支分水刺，肩头淌血。</span><br><span class="line">孤寒能于水底摸得尚和弃下长剑，得力于藏边冰下潜水、雪中掩埋的经历。</span><br><span class="line"></span><br><span class="line">    喘息声此起彼伏。尚蝇先沉不住气，抢身而上。独孤寒双脚钉地，长剑横空，</span><br><span class="line">划弧劈出。尚蝇的另一支分水刺也丢在地上，脸如水般苍白。</span><br><span class="line"></span><br><span class="line">    在场的观众均未看清尚蝇如何受伤。要知道，一对一的比试与江湖拼杀是两码</span><br><span class="line">事。施主相信，如果当日楚师弟一上前便要拼个你死我活，结果很可能是独孤寒惨</span><br><span class="line">败。谁都能看出这少年缺少江湖阅历，缺少杀气。施主还相信，“三山”联手，纵</span><br><span class="line">不搞突袭，也能将他压扁。</span><br><span class="line"></span><br><span class="line">    施主没注意到女儿钦佩、关切的眼神。</span><br><span class="line"></span><br><span class="line">    雨无休止地下着。独孤寒似乎不在乎速战速决。他只会用右手剑。右肋中创后，</span><br><span class="line">剑招的速度、劲力受到影响。久战于他不利。</span><br><span class="line"></span><br><span class="line">    尚和、尚书并肩而上。尚书一叉平胸刺出。这着“夜叉探海”乃是他的成名杰</span><br><span class="line">作，又快又准，含了数十道厉害后着，劲力极大。有知情者戏言，太湖石之“漏”</span><br><span class="line">与“透”，小孔大洞都是尚书一叉叉扎出来的。</span><br><span class="line"></span><br><span class="line">    独孤寒感到手中一轻，剑齐柄而断。鱼叉来势不减，长矛又似连珠箭般射来。</span><br><span class="line">尚书扔入水的不但是柄劣质剑，而且可能是剑中的卢。</span><br><span class="line"></span><br><span class="line">    孤寒转身拔腿飞奔，冲入三山帮围观人群之中，抢了一把刀。</span><br><span class="line"></span><br><span class="line">    施湛露舒了口气，微笑道：“他居然敢把背心卖与敌手，连掷出断剑剑柄阻敌</span><br><span class="line">这种最常用的应变手段也不使。……爹、娘，刀和剑一样么？”</span><br><span class="line"></span><br><span class="line">    刀和剑一样么？刀是桨，剑为篙，能一样么？以刀使剑出怪招，独孤寒做不来。</span><br><span class="line">在高手眼中，孤寒仍是在使着剑招。施湛露绝计算不上高手。她看不清他的脸，看</span><br><span class="line">不清他的出手，一如她看不到河床。</span><br><span class="line"></span><br><span class="line">    施主沉吟道：“只要尚氏兄弟不落单，不心急，我想不出取胜的法子。”</span><br><span class="line"></span><br><span class="line">    “他后心衣裳已为矛尖划破。方才我似乎听到撕裂之声。”女人总是心细。施</span><br><span class="line">夫人又道：“但我没想过他会败。”</span><br><span class="line"></span><br><span class="line">    施湛露也有同感，凭直觉。她也是女人，心下里隐隐觉得这位少年怪有意思的，</span><br><span class="line">古怪得有意思。她幻想着将来自己能在武功方面折服这小子，挫挫他的威风，看他</span><br><span class="line">还能再神气么。</span><br><span class="line"></span><br><span class="line">    施湛露立觉不妥。我以为他很神气么？他好象对我正眼不看。她一向自视极高。</span><br><span class="line">男人只有宠她的份儿。九华派青年弟子中就有不少是她的仰慕者。她有那个本钱。</span><br><span class="line"></span><br><span class="line">    独孤寒祭起单刀，跃步趋前，奋力荡开鱼叉。单刀搭在矛上，顺势滑落。尚和</span><br><span class="line">长矛回抽，舞了记“五点梅花”。</span><br><span class="line"></span><br><span class="line">    刀如流水，如风，如雨，粘附在矛上，执着地滑落。尚和正待撤矛，冰凉的手</span><br><span class="line">触着点滴热流。他痛极尖叫。手背绽开红梅花骨朵。</span><br><span class="line"></span><br><span class="line">    独孤寒夹风带雨地立在尚书面前。鱼叉在外门，刀已架上脖子。尚书如破壳的</span><br><span class="line">蚌肉一样软瘫着。他发觉自己好似瞄着刀锋出叉；又似在激流中逆水而上。防守有</span><br><span class="line">如走旱船，儿戏一般可笑。</span><br><span class="line"></span><br><span class="line">    他几乎精神崩溃。我以“杨家枪”合“北七路军州棒”，化成守式的“大栅栏”，</span><br><span class="line">配合身形后跃之“佛跳墙”，居然……。</span><br><span class="line"></span><br><span class="line">    右肋近肺叶。人们在想：尚蝇只划破了独孤寒一点皮肉，否则他怎能做到若无</span><br><span class="line">其事、轻松自如地击败“蓬莱三山”。对手愈强，对手愈多，这个天才少年的反击</span><br><span class="line">也愈强。任何防守、进攻，乃至攻防组合的企图都为他锐利、沉稳的剑意所划破。</span><br><span class="line"></span><br><span class="line">    集筷成束，固然难于折断，但也较为笨重。若削刺其间缝，易于劈柴数倍。几</span><br><span class="line">个人之间配合得再好，也不如独自一人宛转如意。</span><br><span class="line"></span><br><span class="line">    不管有几把剑同时刺来，在独孤寒眼中与一人出招并无不同。他身上每一时刻</span><br><span class="line">的破绽不因对手人数增加而增加。反之，他攻击的目标却更有选择余地了。他只练</span><br><span class="line">过单打独斗，却戒备着无所不在的、可能的攻击。他的反应比剑招快。他的剑招很</span><br><span class="line">简练，非常有效。</span><br><span class="line"></span><br><span class="line">    这当儿，独孤寒感到伤口的疼痛。血止住了，肋骨未断。伤口蹭着衣服，和着</span><br><span class="line">雨水，好象盐扔放油锅中。那种声响，还有香味，他饿了。他窝在舱中。</span><br><span class="line"></span><br><span class="line">    小舟缓缓前行，虽然雨点急急鞭打。</span><br><span class="line"></span><br><span class="line">    风停了。水乡处子埋头哭泣。施湛露抿着嘴，想着心事。天色较为阴暗，雨中</span><br><span class="line">的运河为她量身度造了一个朦胧素雅的背景，平添了几分哀艳与忧郁。施湛露自信</span><br><span class="line">会有这种效果，并觉得此类想法很好笑。</span><br><span class="line"></span><br><span class="line">    她不时往那艘小船瞟上一眼。没有动静。缓缓流动的河水似乎触手可及，发着</span><br><span class="line">温柔的响动。施湛露好奇地打探这雨中的世界。</span><br><span class="line"></span><br><span class="line">    独孤寒没有注意到她。在乌斯藏的冰山上，血早在千百万年前便已凝结。他想</span><br><span class="line">着那透明亲切的天，那透明妩媚的、清清柔柔的蓝，透明浮动着的阳光、白云。阳</span><br><span class="line">光暖暖的，抚摸你全身，给你丝缎织物般的感觉。白云冰凉洁白，白得令你直看得</span><br><span class="line">两眼发黑，脖子发直，还不忍低头。他喜欢好天气，不喜受伤。</span><br><span class="line"></span><br><span class="line">    一个人受伤后，武功反而大进。这多半是骗人的鬼话。孤寒闭着眼睛。下雪时，</span><br><span class="line">感觉暖和。云被筛了下来，纸屑一般。小羊羔的尸体被发现于雪地之上，雪白的绒</span><br><span class="line">毛上干干净净。</span><br><span class="line"></span><br><span class="line">    大船追赶着小船，来到水天茫茫的莺豆湖。施湛露仍在胡思乱想。她自小就爱</span><br><span class="line">做白日梦，男女之事知道得较早。暗地里还与小和尚们讲过话呢。</span><br><span class="line"></span><br><span class="line">    如今，她是这么认为的：男女间没有深入接触交往，不可能真正地相互了解，</span><br><span class="line">于是乎难于产生所谓的“爱情”。要相互了解，似乎只能先与他“好”上？对他有</span><br><span class="line">一些好感，便应主动试探？</span><br><span class="line"></span><br><span class="line">    她不敢问父母亲是如何相识相知的。他们也从不谈起。他们之间的谈话本来便</span><br><span class="line">少，只有吃饭时才坐在一块。然而，饭桌上是不允许讲话的。</span><br><span class="line"></span><br><span class="line">    由于山高地僻，由于崇古尊儒，曹之其曾师祖订下规矩，弟子们每个月都得送</span><br><span class="line">交师父二斤腊肉。所以施湛露幼时对送腊肉多的师兄颇有好感。</span><br><span class="line"></span><br><span class="line">    她先后已对几个男人有过好感。因为她一直对自己成为淑女抱有希望，所以一</span><br><span class="line">直压抑着，几乎不曾有过表示，未及采取过行动。也因为那些好感没“好”到令她</span><br><span class="line">不顾一切的地步。</span><br><span class="line"></span><br><span class="line">    男人们对于漂亮的女子没有不上心的。好几个师叔对她格外疼爱。她也曾时不</span><br><span class="line">时地留意着楚师叔。楚师叔穿了件新长衫，楚师叔的夫人有四个月外加六天没上山</span><br><span class="line">了，……。</span><br><span class="line"></span><br><span class="line">    施湛露下意识地瞅向小舟，又赶忙挪开视线，心儿跳得厉害。我都快十七了，</span><br><span class="line">妈一回到姑苏，肯定开始张罗着找……。爹爹似乎觉得罗师兄、周师兄都挺不错的。</span><br><span class="line">其实，象他这闯荡江湖，倒也逍遥自在。湖中有不少石墩，墩上有两个人，一把伞。</span><br><span class="line">其中一个之所以不打伞，是因为他整个人泡在湖水中，刚刚爬上来。悠闲、高傲，</span><br><span class="line">抱膝、负手的两个糟老头子。施湛露却发觉母亲脸色大变，仿佛瞧见了更大的台风。</span><br><span class="line"></span><br><span class="line">    “烟水程何限，风雨任平生。王家请得动他们两位么？不会是冲着咱们九华派</span><br><span class="line">来的吧？”嘉兴“烟雨楼”是指三个收山已久、各自为政的独脚大盗。危楼高百尺，</span><br><span class="line">当年被“式微式微，插翅难飞”名捕胡不归苦斗擒杀。</span><br><span class="line"></span><br><span class="line">    缉拿高百尺的花红多达十万两银子。是役后，胡不归一举扬威武林，人称强盗</span><br><span class="line">爷爷。纵是如此，胡不归一直奈何不了程何限、任平生。刀笔吏刘连，以一招“书</span><br><span class="line">成惊天地，笔落泣鬼神”，一根判官笔连胜大内十八高手。可当他以此招对付烟水</span><br><span class="line">程何限时，居然师出无功，只得望“洋”兴叹。</span><br><span class="line"></span><br><span class="line">    “咱们惹不起这两个老怪物。”施夫人下了结论。声音极轻，极低。程、任二</span><br><span class="line">人也不理会九华派。一身湿透的程何限朝独孤寒招手。小船迎他而去。</span><br><span class="line"></span><br><span class="line">    “他俩一向不同时露面。今日居然并肩站到一块。”施夫人道。她以为：程、</span><br><span class="line">任二人不寻九华派麻烦固然是好事，但做为局外人总有受冷落的感觉。先前的三山</span><br><span class="line">帮眼中只有独孤寒一人，几乎忽略了九华派的存在。</span><br><span class="line"></span><br><span class="line">    我们仅是这位少年的陪衬。她想。嘴上却道：“湛露，你看到了没有？在江湖</span><br><span class="line">上混，有朋友、有关系、有来头比什么都重要。咱们如果不是背靠着九华派，人家</span><br><span class="line">更不会将咱们放在眼里。”</span><br><span class="line"></span><br><span class="line">    程何限抢过雨伞，任平生傲立雨中。施湛露很是好奇：湿透的人反而要打伞，</span><br><span class="line">不知是在故弄何等玄虚。</span><br><span class="line"></span><br><span class="line">    “小子，请到石墩上一叙。”程何限道，“老夫只用不持伞的右手讨教你的剑</span><br><span class="line">法。……我的意思是我与任老二要联手对付你。”居然连“烟雨楼”也怕这位一个</span><br><span class="line">月前尚且默默无闻的少年。</span><br><span class="line"></span><br><span class="line">    施湛露有些激动。她发觉老在一旁观察某个人，会令你走火入魔，不可自拔。</span><br><span class="line">在潜意识里，她并非旁观者。适度的形而上的参与，可顾全颜面，不犯礼教。这很</span><br><span class="line">适合她的性子与心境。</span><br><span class="line"></span><br><span class="line">    程何限打着伞，煞有其事地拍出一掌。独孤寒用左手化开。他右肋有伤，不愿</span><br><span class="line">轻易出刀。任平生阴沉着脸，负手而立。</span><br><span class="line"></span><br><span class="line">    孤寒非常镇定，有信心战胜任何对手。十五岁那年，为了战胜客老，他准备了</span><br><span class="line">三天，想得一清二楚。决胜前夜，他格外兴奋，根本就没有睡意。次日，他连一招</span><br><span class="line">都接不下。</span><br><span class="line"></span><br><span class="line">    他极不服气，却隐忍了一年多。十六岁再战时，客老说不必打了，你有此毅力、</span><br><span class="line">恒心，必胜无疑。结果客老一招也没能接下。</span><br><span class="line"></span><br><span class="line">    独孤寒永远处于最佳状态。你看到的只是天空的背面，那儿仅有一种天气。</span><br><span class="line"></span><br><span class="line">    任平生没有出手，无处不是破绽。孤寒感到压力。他背水一“站”，扬刀出剑，</span><br><span class="line">直刺任平生。程何限单掌翻飞，直往刀身拍落。</span><br><span class="line"></span><br><span class="line">    任平生发威。他的拳法走阴柔一路，象烟一样难缠，水一样流畅。程何限的掌</span><br><span class="line">法走阳刚，如雨密急，如风狂肆。施湛露忍不住道：“他俩的外号该调换一番才是。”</span><br><span class="line">她自知女儿家话不能多，可实在是忍不住。</span><br><span class="line"></span><br><span class="line">    “烟水迷踪拳，风雨无声掌，危楼摘星手。程任二人互相传授看家本领，想是</span><br><span class="line">为了更默契地配合，以便对付胡不归。”</span><br><span class="line"></span><br><span class="line">    施湛露总以为自己象是在看戏，隔着一段距离，不至于投入剧情插手干涉。武</span><br><span class="line">小生的故事很吸引人，可她不担心他的死。他死了，不过意味着戏的散场。仅此而</span><br><span class="line">已。</span><br><span class="line"></span><br><span class="line">    对于爱情，她的理解如下：你想他的时刻比看见他的时刻还多；感性在纵容你，</span><br><span class="line">理性在批判你，你却只能请他来当法官，可又不服他流放的判决。心理上的自我监</span><br><span class="line">禁，铁窗及门都朝着他而开。</span><br><span class="line"></span><br><span class="line">    我把握不住自己，一如我说不清何为爱情。在它存在的时刻，无对错之分。当</span><br><span class="line">你怀疑自身经历的爱情是否幼稚、狂热、平淡、脆弱的时候，这种感情往往已经消</span><br><span class="line">失了。它以此为休止符。因为爱情的存在便是对爱情的支撑、补偿，乃至是最好的</span><br><span class="line">辩护。爱情是暴君，你是忠心的臣民。若不因它的驾崩而自尽，便要诅咒它。</span><br><span class="line"></span><br><span class="line">    施湛露认为：纵只是由于浅薄、无知，以及对父母的反叛、对情爱过份的渴求，</span><br><span class="line">而产生了虚幻、不严肃的爱情，那仍是爱情。“我大声喊，要有爱情。于是，就有</span><br><span class="line">了爱情。”这决非冲动，冲动只有一时三刻；这也不是放纵，她什么事也没做，来</span><br><span class="line">不及做。</span><br><span class="line"></span><br><span class="line">    她奇怪自己的情感，可无力改变，无法否认。我头脑发热，身子有点冷。她自</span><br><span class="line">觉已是情场老手，看破世态人情。她的感情目前不为人知，却坚贞不屈。他吸引着</span><br><span class="line">我的关注。</span><br><span class="line"></span><br><span class="line">    施湛露加重语气，在心中复述一遍。她看到独孤寒正在“于抱犊之地运乾坤”。</span><br><span class="line">程何限的雨伞开始晃动。</span><br><span class="line"></span><br><span class="line">    “以攻代守，破坏‘烟雨’配合。你瞧这一剑，如何形容呢？姑妄称之顽强。</span><br><span class="line">唉，他是如何做到妙招频出？”</span><br><span class="line"></span><br><span class="line">    我怎未碰上英雄救美那种风流韵事？太落俗套了？过于突兀，会作践自己。难</span><br><span class="line">道就没个相识、相熟的契机么？</span><br><span class="line"></span><br><span class="line">    他这当儿肯定没想到我。他一开始便未留心我。在这暴雨荒郊，客船泊湖，刀</span><br><span class="line">光剑影之际，她心中泛滥着柔情。</span><br><span class="line"></span><br><span class="line">    “我坚信他的优势正随着每一滴雨水的滴落而添加。他已抢到地利。两个老头</span><br><span class="line">变招没他快，不时会有几记昏招。”做母亲的往往只有在唠叨女儿时才讲这么多话。</span><br><span class="line"></span><br><span class="line">    施湛露只听见任平生大喝一声：“且慢。”他总算开口了。他不张口，两唇之</span><br><span class="line">间似乎横了道伤痕，疤痣刚刚落尽的样子。</span><br><span class="line"></span><br><span class="line">                               三、 伤痕</span><br><span class="line"></span><br><span class="line">    死者无伤，生命有痕。</span><br><span class="line"></span><br><span class="line">    程何限看了一眼任平生，道：“老夫再也不能忍受你这把刀了。九华的朋友，</span><br><span class="line">扔把剑过来。”</span><br><span class="line"></span><br><span class="line">    独孤寒接剑，扔回单刀。</span><br><span class="line"></span><br><span class="line">    程、任二人毫不客气地抢了先手，一拳双掌齐至。任平生一记普通寻常的“双</span><br><span class="line">风贯耳”，跟着化成风雨无声掌之“掌脸充胖子”。程何限怪叫一声，扔出手中雨</span><br><span class="line">伞。独孤寒眼前出现一顶大圆油纸伞，失去了烟水踪影。</span><br><span class="line"></span><br><span class="line">    任平生双掌平推，击在伞柄。伞骨、伞柄挣破油纸，射向孤寒。独孤寒回剑，</span><br><span class="line">比划几下。长剑以“倒垂莲式”护身，跟着向后一刺，指在程何限的咽喉。</span><br><span class="line"></span><br><span class="line">    这“春光乍泄”的一剑，极为突兀，惊艳搜魂，令程何限呆如木鸡。</span><br><span class="line"></span><br><span class="line">    他扔伞后，无声无息入水，绕到了孤寒身后，以为神不知鬼不觉，定能一举克</span><br><span class="line">敌。却不料被孤寒识破，并借机制胜。</span><br><span class="line"></span><br><span class="line">    程何限不服气。这必是一时大意。可他二人明明未小视这个十八九岁的少年啊。</span><br><span class="line">我们放出胜负手，“打劫”时走了昏着。</span><br><span class="line"></span><br><span class="line">    “你如何知道我由你身后水下出现？我连鱼儿都没有惊动。”下着大雨，光线</span><br><span class="line">不足，剑面无法反光。</span><br><span class="line"></span><br><span class="line">    “他瞳仁中有你的映象。”独孤寒道，“你还挡了我身后的天光水色，挡了我</span><br><span class="line">身后的风向与雨声。”他俨然是自然的主人，天威的化身。</span><br><span class="line"></span><br><span class="line">    从此，嘉兴南湖畔的“烟雨楼”搬入湖心，以铭记这次惨败。地方志上还写道：</span><br><span class="line">是役之后，程自称“成何体统”，任平生则号“任凭吩咐”；两人成天游山玩水，</span><br><span class="line">想寻找那种物我相忘、天人合一的感觉。</span><br><span class="line"></span><br><span class="line">    此仗于雨中进行，可谓淋漓尽致，结果在意料之中，情理之外。</span><br><span class="line"></span><br><span class="line">    施主的师弟东阳桢站在夏国剑旁，道：“他的剑法进步神速，却又很稳定。恒</span><br><span class="line">永处如节气轮转，日月更迭；变化处又如天气般神鬼莫测。四师兄，我相信他纵使</span><br><span class="line">右手断了，纵使未练过左手剑，剑法会依然如此可怕。他使刀、剑全无分别。我却</span><br><span class="line">费了几年心血求得这柄大宛名剑。唉，要它何益！”他将佩剑扔入湖中。</span><br><span class="line"></span><br><span class="line">    夏国剑吃惊不小，道：“师弟，你又何苦呢？师父为我取名夏国剑，因西夏宝</span><br><span class="line">剑锋利异常之故。难道我得立马缚石沉江么？君子善假于物也。有锋利的宝剑为何</span><br><span class="line">不使呢？再说，象他这般只为习武、比试而活着，殊无乐趣可言。武功不过是一种</span><br><span class="line">工具罢了。”</span><br><span class="line"></span><br><span class="line">    施主却在回忆他所记下的独孤寒的招数：剑法并不古怪；拆开看，每个单招都</span><br><span class="line">稀松平常。他追求的是剑招的连贯，从而变招速度极快。讲究的是最小破绽的姿式，</span><br><span class="line">最好发力使劲的击刺。</span><br><span class="line"></span><br><span class="line">    我记不下，看不清一半以上的剑招，为什么？因为我猜不透他的意图，或者来</span><br><span class="line">不及猜。一个不会武功的狂徒乱舞一气，你也瞧不出他的招数。但那是因为他无目</span><br><span class="line">的、不讲技巧。孤寒与之是两个极端。</span><br><span class="line"></span><br><span class="line">    一个正常人有五官六感。视觉靠眼，听觉靠耳，嗅觉靠鼻，味觉靠嘴，触觉靠</span><br><span class="line">肢体。第六种感觉是动感。它没有依赖于哪个具体的器官。它是对身体各部分的动</span><br><span class="line">作、位置、重量、阻力的感知。它使得一个又盲又聋的人可以觉察出自身运动的速</span><br><span class="line">度与方向变化。独孤寒的动感尤为敏锐。这得益于十多年近似于残酷自虐的剑术练</span><br><span class="line">习，也得益于他的资质与天赋。</span><br><span class="line"></span><br><span class="line">    正是这种异于常人的动感令剑招到位，令身形到位，令独孤寒的防守固若金汤。</span><br><span class="line">这是一种无形的直觉与预感。有了它，你的反应才会快，你的判断才会准，你的力</span><br><span class="line">量才会强大。</span><br><span class="line"></span><br><span class="line">    施主不知道在内力、剑术、轻功之外，还有“动感”这种东西。因此，他认为：</span><br><span class="line">独孤寒能够获胜乃是由于意志坚定、战术得当、运气颇佳；仅此而已。其中总有些</span><br><span class="line">侥幸的味道。</span><br><span class="line"></span><br><span class="line">    独孤寒不相信运气之说。</span><br><span class="line"></span><br><span class="line">    对于他而言，武功即为生命力。岑寂当它为艺术，或者说把艺术当作武功了。</span><br><span class="line">小谢视之游戏。周乐认为武功就是武功，武功是一种工具。九华派中则很少有人认</span><br><span class="line">真思考过这个终极问题。</span><br><span class="line"></span><br><span class="line">    有一阵子，施湛露认为武功什么都不是。现在她的看法改变了。武功能体现特</span><br><span class="line">立独行的个性，代表着荣誉与地位，带给你那种虽千万人吾独往矣的豪情，来者不</span><br><span class="line">惧的自信。才华因此获得直接的、少争议的承认。生命的意义因而张扬，尊严得以</span><br><span class="line">肯定，自由得到保障，……。够了！</span><br><span class="line"></span><br><span class="line">    人与武功是浑然一体的。它象是你的学问与知识。</span><br><span class="line"></span><br><span class="line">    独孤寒很老实，似乎绝计不笨，名气正如日中天，穷得令人想入非非。</span><br><span class="line"></span><br><span class="line">    施主觉得一路上并不太平，却相当顺利。麻烦都是冲着独孤寒去的。他大概瞧</span><br><span class="line">不上我怀中这本《维摩诘经变禅机悟剑谱》 。 它是师祖生前看《西方净土变》、</span><br><span class="line">《维摩诘经变》诸画，澹然而有所悟，乃穷日苦思，要创出一套集毕生心血、体现</span><br><span class="line">迁想妙得、融汇贯通剑道精义的剑法来。</span><br><span class="line"></span><br><span class="line">    他曾得意地对弟子说，达摩留下了《易筋》、《洗髓》二经，是内功鼻祖。张</span><br><span class="line">三丰有《拳经捷要》，开辟内家长拳新天地。他的《悟剑谱》将第一次真正确立剑</span><br><span class="line">术章法，掀起剑道革命。</span><br><span class="line"></span><br><span class="line">    只惜曹之其在革命前撒手西去。维摩诘是唯一未出家的佛，有老瘦病容，宣扬</span><br><span class="line">大乘教义，能言善辩，是位大居士。中国历代文人士子对他倍加推崇。在弟子们心</span><br><span class="line">中，曹之其比维摩诘更为高大。他们不敢续笔补全师父遗著，只将他未竟的手稿加</span><br><span class="line">上封口，束之高阁。他老人家留下那么多剑法，我们尚且未吃透，何必……。</span><br><span class="line"></span><br><span class="line">    曹之其晚年先醉心老庄，又崇仰禅宗，成天皓首穷经。临死前，由庐山比剑回</span><br><span class="line">来，唤下人给他拿《三字经》，找镜子，在昏睡中死去。</span><br><span class="line"></span><br><span class="line">    传说东阳夫妇曾翻开小册子第一页，只见上书“法自我变”四个大字。就施主</span><br><span class="line">所知的剑谱内容而言，他私下里以为那更象是一本理学著作。他还记得内中一些文</span><br><span class="line">句。</span><br><span class="line"></span><br><span class="line">    “顿悟最爽快、最虚无；感悟最透彻、最深刻；醒悟最自然、最轻松。执迷不</span><br><span class="line">悟者，你我皆是，何必执迷于悟出剑道？凡我门下子弟，应学天竺因明，秦汉古文。”</span><br><span class="line"></span><br><span class="line">    “未忘大悲十二段式之天台三千剑者，不可翻看此书。未至五十一岁者，亦不</span><br><span class="line">可习此剑法。”</span><br><span class="line"></span><br><span class="line">    “四香阁”已过花甲，近古稀，可一直未再翻看一页。</span><br><span class="line"></span><br><span class="line">    施主今年四十五，对剑谱的了解不比派外人士多。</span><br><span class="line"></span><br><span class="line">    曹之其看佛经的日子非常古怪，与几乎所有的老人一样，令人敬而远之。他说，</span><br><span class="line">只有写在牛羊皮上的东西，才可能是可信的文字。他讨厌所有的男弟子、男徒孙，</span><br><span class="line">对施湛露尤其疼爱。他说，学术就是反复，有如煎饼。翻来翻去，吃出一口焦味来，</span><br><span class="line">才肯罢休。他变得异常顽固。</span><br><span class="line"></span><br><span class="line">    想到这儿，施主忍不住摇头。古董、夏国剑两位师兄给师祖过完六十大寿在江</span><br><span class="line">湖中闯荡。申猛、申公豹兄弟，殷实、苏幕遮、李者也、庄琼等人多是在二十年前</span><br><span class="line">下山打天下的。留在山上的弟子多数较为听话、较乖，成就也较小。</span><br><span class="line"></span><br><span class="line">    “天台十八将”的武功都是由四位师父传授的。唯识教内功，法相传青阳莲花</span><br><span class="line">掌，剑法学自东阳不疑，东阳夫人教轻功身法。施主样样不太出色，在江湖上的名</span><br><span class="line">气甚至不如几个小师弟。</span><br><span class="line"></span><br><span class="line">    夏国剑已是金城镖局的总镖头。与他同船的还有徽商帮的两大高手毕恭、毕敬。</span><br><span class="line">据说三人此行是为了护送一些金叶子及几家钱庄的结算庄票。</span><br><span class="line"></span><br><span class="line">    施主偕家看望姑苏的岳父母。东阳桢很少下山，正好出来见见世面。师父们让</span><br><span class="line">他俩护送剑谱到姑苏，给二弟子李者也。李家为江南巨富，徽商帮的中坚。李者也</span><br><span class="line">多年来一心经商，据说已将九华剑法忘得差不多了。过几天便是他五十一岁大寿。</span><br><span class="line"></span><br><span class="line">    徽商帮是以徽州“李、庄、黄、蔡、叶”五家巨贾为主的江南商会，旗下高手</span><br><span class="line">如云。五家子侄中亦有不少内外兼修的好手，如师出九华的李者也、庄琼。</span><br><span class="line"></span><br><span class="line">    毕恭、毕敬在帮中地位不低，很少露面。施主与他俩同行，却未曾结交。施主</span><br><span class="line">发现自己实在难以掩饰反感，实在无法忽视对方的冷淡。他与二师兄素无交情。纵</span><br><span class="line">使曾经有过，也为岁月冲淡了。但他真心希望二师兄能够第一个参透《玄机悟剑谱》，</span><br><span class="line">练成最上乘的剑法。他不是很在乎名利，但在乎剑谱的安全。那本薄薄的小册子装</span><br><span class="line">在大信封之中，有封口，放在怀中。</span><br><span class="line"></span><br><span class="line">    施主感觉自己有两颗心在跳动。剑谱的价值是五十年的人生。许久以来，他忘</span><br><span class="line">记了自个活着的意义所在。</span><br><span class="line"></span><br><span class="line">    独孤寒不知道自己在半天之内，击败了十脚螃蟹、蓬莱三山、烟雨楼，在武林</span><br><span class="line">中的份量重多了。小船的吃水线也未因湖水的上涨而发生变化。</span><br><span class="line"></span><br><span class="line">    他在想：为何我躲不开那道“飞来鱼翅”？崔殊先击中他一拳，是因为他没把</span><br><span class="line">握躲闪、格架、反击。岑寂以小刻刀切断他的竹剑，是由于岑寂的即兴挥洒感染了</span><br><span class="line">他，令他吃惊了。尚蝇刺中我右肋，那是他的本事。我并无犯错。</span><br><span class="line"></span><br><span class="line">    独孤寒很少承认自己犯了错误。比剑时，破绽招招皆有，错误往往只有一个，</span><br><span class="line">只须一个，然后比试因而结束。它是如此的凶险，因为你发觉到错误往往是在看到</span><br><span class="line">对手的反应之后。那已经迟了。</span><br><span class="line"></span><br><span class="line">    船挨近王江泾。房子带着光亮，看来极温馨。大雨几乎令一切失了颜色。独孤</span><br><span class="line">寒坚信色彩源于光线。他一见到火光，脸上便有了血色。已近傍晚时分，几个伙计</span><br><span class="line">提着灯笼，打着油伞，拿着竹笠上前迎客。灯笼上有“来升”字样。岸边泊了不少</span><br><span class="line">客船。</span><br><span class="line"></span><br><span class="line">    王江泾地方不小，却没有人家。它只拥有一间大客栈，却容得百来号人住店。</span><br><span class="line">这来升客栈当然是由徽商帮开设的。整个王江泾都是它的地产。</span><br><span class="line"></span><br><span class="line">    此间掌柜叫司空见惯，对夏国剑等人十分亲热，硬是腾出了几间上房。三山帮</span><br><span class="line">众也设法搞到了统铺。独孤寒只能在饭堂的长凳上过夜。雨天睡得早，夜半无客船。</span><br><span class="line">店小二关了大门。</span><br><span class="line"></span><br><span class="line">    施湛露临睡前，在楼梯扶手处朝下张望。不知今晚会有盗贼抢店么？他孤身退</span><br><span class="line">敌？雨夜泛舟？……她笑了。同屋的几个师姐妹不似她有心事，叽叽喳喳地讲个没</span><br><span class="line">完。旅行及旅行的见闻令她们兴奋。话题立刻有关于独孤寒了。试探性地评价了他</span><br><span class="line">的武功之后，沉寂了一阵。有人开玩笑似地、漫不经心地说这少年有性格，怪有意</span><br><span class="line">思的。马上便有别的少女追问她是什么“意思”。一阵倩笑。</span><br><span class="line"></span><br><span class="line">    施湛露没有开口，认真听着。</span><br><span class="line"></span><br><span class="line">    由于独孤寒似敌非友，寒酸古怪，又算不上英俊潇洒，谈话变得毫无顾虑。一</span><br><span class="line">种看法是，这少年给人可靠、可信的感觉。另一人补充说，更主要的是他很有风度，</span><br><span class="line">象个谦谦君子，出手点到为止。受伤这么重，居然挺了过来，真是条硬汉。</span><br><span class="line"></span><br><span class="line">    “他的眼神挺……挺什么来着。当然，他个儿不够高，长得……。”</span><br><span class="line"></span><br><span class="line">    “哟，你观察得相当仔细嘛。雨这么大。”笑，笑成一片。</span><br><span class="line"></span><br><span class="line">    施湛露没来由地烦了，叫道：“你们几个有完没完，快睡吧。”</span><br><span class="line"></span><br><span class="line">    静夜，雨声盖过了一切。檐下滴漏异常紧迫，好似睡梦中的时光。一阵若有若</span><br><span class="line">无的阴风吹来，灯笼内的光明打了个哆嗦。一声历历的惨叫，在客栈中回声不绝。</span><br><span class="line">叫声中带着极大的惊怖，甚是吓人。独孤寒惊醒。他仍然躺着，说不上自己听到了</span><br><span class="line">什么。我梦见了什么？我的梦里从来便没有风景，没有颜色，没有……。骤然醒来，</span><br><span class="line">时间随梦、似梦，声音般远逝。</span><br><span class="line"></span><br><span class="line">    他再一次认定自己若干时间前，若干时间后要有这种感觉。水乡、河道、青草、</span><br><span class="line">绿树、白墙、黑瓦、石阶、雨夜、孤灯。一切都曾有过，未曾失落，将要来过。一</span><br><span class="line">个女子在此等背景下纺纱，清唱着动听的歌儿。</span><br><span class="line"></span><br><span class="line">    他的梦向来不确。那个女子不见容颜，没有话语，不知是谁。她是否望着我？</span><br><span class="line">我没有梦见我罢？</span><br><span class="line"></span><br><span class="line">    无法入睡了。楼板上有脚步声、惊呼声，乃至阴谋般的说话声。死人了，而且</span><br><span class="line">不止一个。司空见惯、夏国剑、毕恭、毕敬、施主当即披衣出房。来升客栈共有多</span><br><span class="line">进院落。五人寻声来到东边二楼客房。几个小二候在那儿，道：“整屋都死光了，</span><br><span class="line">一共三人。”</span><br><span class="line"></span><br><span class="line">    司空见惯皱眉，抢过灯笼入房。出来时一脸阴沉，道：“‘一片瓦’的三个干</span><br><span class="line">将，死在床上，没有打斗痕迹，没有伤痕血迹。”“一片瓦”是浙西一带的私盐贩</span><br><span class="line">子，与三山帮偶有冲突。三山帮实力过之，却一直动摇不了它的根本。</span><br><span class="line"></span><br><span class="line">    “看不出凶杀手法，并非气窒、扼杀、重手法断经脉。不象被点了死穴，似乎</span><br><span class="line">未中毒。”司空见惯的语调、神情，便跟店伙向客人报菜单似的。</span><br><span class="line"></span><br><span class="line">    夏国剑摇头出房，有惊异之色。几个店伙抬出尸体，解衣脱裤，用吸铁石拢过</span><br><span class="line">全身，头发、嘴巴、鼻子、耳朵都没放过，一如在给死去的鸭子去毛。</span><br><span class="line"></span><br><span class="line">    没有呕吐痕迹，眼皮也翻过了，舌苔也瞧了，可以排除中毒的可能。“不象是</span><br><span class="line">心脏受到惊吓过度。也不会是瘟疫啊。”夏国剑道。毕恭毕敬沉声道：“定是他杀。”</span><br><span class="line"></span><br><span class="line">    “正是，正是，总不可能闹鬼。深夜雨大天黑，小舟抗不住乌镇河、烂溪洪峰。</span><br><span class="line">大船又容易搁浅在田野之上。如今没人出得王江泾，也没人进得来。当然，可能有</span><br><span class="line">例外。”司空见惯瞧着每个人的脸色。</span><br><span class="line"></span><br><span class="line">    “若是由莺豆湖北上呢？”施主问。那儿河道很宽。</span><br><span class="line"></span><br><span class="line">    “在下睡前得到消息，南边三塔湾堤岸毁了，山丘滑坡，大树阻压了河道。”</span><br><span class="line"></span><br><span class="line">    夏国剑道：“师弟，会不会是调虎离山？”他人已在丈外。众九华弟子、家眷</span><br><span class="line">的居处只留了东阳桢一人。</span><br><span class="line"></span><br><span class="line">    上房方向又传来一声历叫。一行人匆忙掠出。夏国剑回头对小二们道：“看好</span><br><span class="line">这些尸体。”他害怕凶手这回又是调虎离山。</span><br><span class="line"></span><br><span class="line">    东阳桢立在梯头。楼上西边回廊上也有数人。夏国剑与之一照面，双方的脸色</span><br><span class="line">都有些古怪。夏国剑抱拳道：“安师兄、从师兄、平公子，没想到会在这儿见到三</span><br><span class="line">位武林的精英。幸会、幸会。”双方互有戒心。</span><br><span class="line"></span><br><span class="line">    安石，外号“安石不出，苍生怎办”，乃是川西灌县青城派中兴主帅，不世出</span><br><span class="line">的人才。青城派向与唐门有隙，争斗中一直处于下风。尤其在十年前与魔教剧战后，</span><br><span class="line">大伤元气，越发不是唐门的敌手。青城东南不远的成都，亦成了唐门的地盘。后来，</span><br><span class="line">不用说，自是安石大败唐门高手。他对于暗器、毒药颇有研究，自谓人比石头，二</span><br><span class="line">者皆不惧。从衡是昆仑派大弟子，外号“西天王母”，性格极为慎重，善于外交。</span><br><span class="line"></span><br><span class="line">    振振公子少林俗家弟子出身，山贾会“平家”子侄。平生信佛，以不杀生闻名</span><br><span class="line">武林。</span><br><span class="line"></span><br><span class="line">    北方武林人士多为山贾会所笼络。少林众多的俗家弟子、旁支别派几乎都倒向</span><br><span class="line">它。昆仑派远居西域，吃、穿、用都靠山贾会接济。青城派态度较为骑墙，因为唐</span><br><span class="line">门也在观望。</span><br><span class="line"></span><br><span class="line">    天底下使毒名家屈指可数。伤人的毒物不少，实用的却极为难得。许多毒物难</span><br><span class="line">于施放、控制、培养、保存、携带。炼制一种独特的毒药，不比创出一套剑法简单</span><br><span class="line">多少。医林长于施救；唐门妙在下毒手法隐密；三尸青姑、白姑、血姑醉心于剧毒，</span><br><span class="line">不求解药。魔教最是神秘。</span><br><span class="line"></span><br><span class="line">    据说它独树一帜，堪与唐门分庭对抗。山贾会则将苗疆、岭南的山野异人招至</span><br><span class="line">门下，再网罗了几个回医、胡医，似乎也握有王牌。最近，安石，乃至整个青城派</span><br><span class="line">决意抱住山贾会这口“平底锅”，以便更好地以毒攻毒，对付唐门。</span><br><span class="line"></span><br><span class="line">    夏国剑能猜到此中的奥妙。</span><br><span class="line"></span><br><span class="line">    “夏师兄，方才那声惨叫是怎么一回事？”从衡问道。五大门派表面上互有往</span><br><span class="line">来，和和气气。</span><br><span class="line"></span><br><span class="line">    “死了几个小卒。从师兄，你们听到第二声历叫了么？”楼上楼下四周的客房</span><br><span class="line">皆有人探头出望，见着刀剑，又缩了回去。</span><br><span class="line"></span><br><span class="line">    “听到了，所以我们才抢了出来。”他们三人有意隐藏身份，挤在同一个房间</span><br><span class="line">内。第一声历叫时，他们也不出头露面。莫非有什么见不得人的意图？毕恭、毕敬</span><br><span class="line">的脸色不善。</span><br><span class="line"></span><br><span class="line">    东阳桢道：“我出门时，独孤寒已立身，直盯南边上房。”十几双眼睛打量着</span><br><span class="line">这一间房。里头住着的主人没有好奇心抑或睡得太死？</span><br><span class="line"></span><br><span class="line">    小二被叫过来。他流利地答道：“好教诸位大爷知晓，房中住的乃是一个珠宝</span><br><span class="line">商。昨日刚到，年纪四十有余，身边物件不多。听口音是本地人。”</span><br><span class="line"></span><br><span class="line">    一群人拥至南边的楼廊上。店伙上前用力敲门。房中仍无动静。他回头瞧着司</span><br><span class="line">空见惯。门由里头扣上。安石上前随手一推，木板折裂，门应声而开。</span><br><span class="line"></span><br><span class="line">    尸体温热，不见血迹伤痕，珠宝原封未动。司空见惯倒吸一口气，道：“手法</span><br><span class="line">一模一样。没有伤痕，原因不明。”在每个人心上，疑虑的伤痕已经形成。</span><br><span class="line"></span><br><span class="line">    小二验完尸，神色古怪，跟司空见惯在一旁耳语数句。司空见惯听了，在尸身</span><br><span class="line">上一阵摸索。“这个自称张十七的商人，居然是个女子，居然便是杏花花信！杏花</span><br><span class="line">烟雨江南，以她的武功，居然会无声无息、莫名其妙地死在小店之中。”</span><br><span class="line"></span><br><span class="line">    杏花花信行踪不定。世人只见其一鳞半爪，对她了解不多。她时常孤身做下大</span><br><span class="line">案，有偷盗首饰珠宝的癖好。出道二年多便弥补了危楼高百尺犯事后在江南黑道中</span><br><span class="line">留下的空白，声名直追烟水程何限，风雨任平生。</span><br><span class="line"></span><br><span class="line">    夏国剑叹道：“花信的易容术如此高明，连见多识广的店家也闪了眼。”在花</span><br><span class="line">信的尸身上略略看得出喉结、胡须，皮肤有些黑。模样只谈得上五官端正。</span><br><span class="line"></span><br><span class="line">    “她可能自小着男装。我看了看她随身带的包袱，没有任何女子的东西。她可</span><br><span class="line">能只在做案时才恢复女装。”司空见惯道。</span><br><span class="line"></span><br><span class="line">    安石道：“我以为，花信恢复女装后才会想到偷窃。”夏国剑听罢，暗自点头。</span><br><span class="line">这位安大侠的见识果然不凡。这花信的心理可能有些变态。她专偷首饰珠宝。</span><br><span class="line"></span><br><span class="line">    “她身上有杏花的独门暗器，有几件贵重的首饰。其中一枚猫儿眼宝石我认得，</span><br><span class="line">叫‘猫腻’。名字不中听，价值不菲，乃是大名府老徐家祖传之物，四个月前被盗。</span><br><span class="line">衙门怀疑是杏花花信所为。”</span><br><span class="line"></span><br><span class="line">    振振公子厌恶死人。他退避三舍。安石道：“凶手可能认得她，杀人之后不拿</span><br><span class="line">走珠宝，不知有何居心。”</span><br><span class="line"></span><br><span class="line">    “更奇怪的是，门窗都是由里面扣上关死的，也未见毁坏。房中顶板、隔板、</span><br><span class="line">地板均完好如初。真不知凶手是打哪里进来，又是打哪里脱身的。”司空见惯道。</span><br><span class="line">他的表情有如见着茶水里的苍蝇，那杯茶是端给客人的。</span><br><span class="line"></span><br><span class="line">    如果时间充裕，伪造门窗内扣并非无法做到。凶手费这么大的劲儿干嘛？那声</span><br><span class="line">惨叫虽是由本间房屋传出。但它肯定不是杏花所发。安石很自负。</span><br><span class="line"></span><br><span class="line">    夏国剑微笑道：“开门探头出望之人中说不得便有凶手。”他以为惨叫声不一</span><br><span class="line">定是由花信的房间传出。在他示意之下，店伙敲左首房门。无人应声。店伙用力擂</span><br><span class="line">着。“喂，你找揍是么？老子睡下了。”粗声粗气。</span><br><span class="line"></span><br><span class="line">    这位客人来自北方，胡子、头发都很长，看不出年纪，很有钱。</span><br><span class="line"></span><br><span class="line">    “他叫什么名字？”</span><br><span class="line"></span><br><span class="line">    “簿上没有登记。”</span><br><span class="line"></span><br><span class="line">    “我刚才没留意到有这么一个人，可记得房门开过。”</span><br><span class="line"></span><br><span class="line">    司空见惯强笑道：“有一个女子，是小店的……”众人却也明白。</span><br><span class="line"></span><br><span class="line">    “外面的人听着，老子号疯子叫白痴。老子不会写字，小二又不信老子叫这等</span><br><span class="line">名字。哈哈哈，美人，你叫老子什么？”</span><br><span class="line"></span><br><span class="line">    安石、夏国剑等人齐齐变色。他来此处做甚。</span><br><span class="line"></span><br><span class="line">    疯子白痴的武功也许不是非常高明，人却极是难缠。向来不在江南走动。他其</span><br><span class="line">实不疯也不傻，却是个十足的武痴。专好找人打架。他曾经在少室山上缠了二十一</span><br><span class="line">个月之久，几百次到少林寺山门前挑战。据说当今武林，除了罗汉堂、藏经阁的几</span><br><span class="line">个老和尚外，最熟悉少林七十二绝技的人就数他疯子白痴了。</span><br><span class="line"></span><br><span class="line">    少林寺不意伤人，拿他没法子。他根本就不要脸面，却又未做下什么十恶不赦</span><br><span class="line">的坏事。不出手也不成。他会带着洒肉硬闯入寺，夜访藏经阁，挡劫下山僧人，甚</span><br><span class="line">至举刀自残，无所不用其极。半年后，寺中所有俗家弟子皆已败北。又过得几个月，</span><br><span class="line">除了五大神僧：方丈界尘、藏经阁世尘、罗汉堂直尘、戒律院一尘、监寺微尘，诺</span><br><span class="line">大少林已找不到对手。</span><br><span class="line"></span><br><span class="line">    罗汉拳、疯魔杖、般若掌、龙爪功、拈花指、达摩剑、无相神功……，他一一</span><br><span class="line">拆解过。最后，据说五大神僧中有一位出手了，才换得佛门清净。疯子白痴扬言道：</span><br><span class="line">老子之所以下山，是因为再也不能从少林派的武功上获得启发了。</span><br><span class="line"></span><br><span class="line">    老子名扬天下只用了二十一个月功夫。这二十一个月可抵得少林弟子二十三年</span><br><span class="line">的苦练。他说，老子是疯子，是白痴，故而行事做人毫无顾虑，活得痛快、真实。</span><br><span class="line">他的武功与言语都富于攻击性。</span><br><span class="line"></span><br><span class="line">    振振公子曾败在他的手下，这回更是惟恐避之不及。</span><br><span class="line"></span><br><span class="line">    “老子就是看不惯这狗屁混帐东西爱瞧热闹的那个劲儿，象苍蝇一般地往臭肉</span><br><span class="line">上凑。死一两个人有什么大不了的？庸人都该死绝。老子就是最大的热闹。”</span><br><span class="line"></span><br><span class="line">    右首房中住着一家子，有男有女，有大有小。房中无异状，窗户未关死。男主</span><br><span class="line">人否认今晚有什么不对的地方。</span><br><span class="line"></span><br><span class="line">    安石冷笑道：“如此才是不对了。方才外边热闹非凡，你们居然睡得正香。”</span><br><span class="line">他打量着对方的脸色。这是一个懦夫。</span><br><span class="line"></span><br><span class="line">    毕恭、毕敬互望一眼，突然齐声道：“方才探头出房的是一个白衣男子。”凶</span><br><span class="line">手由此间房屋的后窗逃匿。他先摸入房中，点了这对夫妇的昏睡穴，再放声大叫。</span><br><span class="line">司空见惯很奇怪房中一个不足岁的婴儿居然未被闷死。</span><br><span class="line"></span><br><span class="line">    “窗外下着大雨，如果凶手要反扣窗户，身上难免沾上几点雨水，鞋子也会湿</span><br><span class="line">掉。”安石以为这一推断无懈可击。可这对年轻夫妇的房间内很干燥，见不着湿鞋</span><br><span class="line">印。他很是失望。</span><br><span class="line"></span><br><span class="line">    夏国剑道：“要推断出凶手离开花信的房间，进入这儿的时辰很容易。男女主</span><br><span class="line">人穴道被点后又被人解开，并无不适之感，可以肯定受制时间并不长。在下略懂忤</span><br><span class="line">作之道，方才验尸时看出那花信刚刚断气！”</span><br><span class="line"></span><br><span class="line">    他的话带来了恐惧及更大的疑问。古怪的杀人手法，扑朔迷离的凶杀现场，凶</span><br><span class="line">手究竟有何意图？他是如何离开花信的房间？</span><br><span class="line"></span><br><span class="line">    施湛露和女伴一块挨得紧紧地坐在床沿。她们多少都受了些惊吓，不敢再睡了。</span><br><span class="line">施夫人就在房中，她们也不敢出言评论。</span><br><span class="line"></span><br><span class="line">    施湛露伸伸舌头，与司空见惯同时异地、异口同声道：“说不得又要有一声历</span><br><span class="line">叫了。”语音未落，果然又响一声催命鬼叫。九华派的女弟子给吓得脸无血色。施</span><br><span class="line">湛露忍不住想到：如果这当儿房中的两截蜡烛灭了，只怕会吓死几个姐妹。她脸上</span><br><span class="line">有恶作剧般的笑容。</span><br><span class="line"></span><br><span class="line">    这回死了十一人。没有伤痕，死因不明。</span><br><span class="line"></span><br><span class="line">                                四、魔幻</span><br><span class="line"></span><br><span class="line">    非承认鬼神之不可能不存在不可，不是么？</span><br><span class="line"></span><br><span class="line">    此次的凶宅位于客栈西北角，距大门所在的前院上房最远，隔了几个垂花门。</span><br><span class="line">鬼叫声不因距离远而变得隐约不清。它仅是显得分外幽深，荡气回肠，仿佛由你的</span><br><span class="line">脑门里钻出，在鼻梁上萦绕三日；又如你捂了双耳后，却能清晰、响亮地听到牙齿</span><br><span class="line">上下咬切刮磨之声。</span><br><span class="line"></span><br><span class="line">    安石已出，未奈百姓如何，所以他高卧东山。振振公子向不杀生，但也不管他</span><br><span class="line">人死活。他不愿显得无能，不愿多管闲事。两人回房睡觉。施主、东阳桢放心不下</span><br><span class="line">门中弟子，也未随行。</span><br><span class="line"></span><br><span class="line">    从衡跑不掉。他生就一副媒婆老太太模样，拉不下脸，只好跟过去察看案情。</span><br><span class="line">传说中的西天王母人面兽身。做为外号，自然不是往他脸上贴金。可他也不着恼。</span><br><span class="line"></span><br><span class="line">    倒是独孤寒起了好奇心。因为这回撞上历鬼的据说是三山帮帮众。他远远地跟</span><br><span class="line">在四大高手身后。</span><br><span class="line"></span><br><span class="line">    现场有一人未死，吓得只剩下半条命了。来升客栈内共有了十五具死尸。司空</span><br><span class="line">见惯强笑道：“这么死下去，房钱亏空可就大了。只惜人肉包子没人买。”他想缓</span><br><span class="line">和一下气氛。</span><br><span class="line"></span><br><span class="line">    “大雨持续几天，别说人肉包子，蛆肉包子我都吃。”说话的是位华服老者，</span><br><span class="line">乡巴佬模样，胖胖的身子，矮矮的个子，圆圆的肚子。秃头，前额宽大，五官紧凑。</span><br><span class="line">一双无神、混浊，似乎纵欲过度的金鱼眼。他装着老于世故的腔调，举止却不大自</span><br><span class="line">然。</span><br><span class="line"></span><br><span class="line">    他往众人边上一站，谁也不识得。司空见惯望向店伙。店伙微微摇头。在江湖</span><br><span class="line">中混，有一事须得留心：对于不识得之人，要装作久仰大名，切切不可轻易主动打</span><br><span class="line">听对方姓名。</span><br><span class="line"></span><br><span class="line">    “喂，他们都是怎么死的？”夏国剑问。</span><br><span class="line"></span><br><span class="line">    “我不知道。不是我干的。我不知道。”那半死之人怔怔自语。这位三山帮的</span><br><span class="line">小人物显然心虚害怕。他大汗淋漓、唇青面白，不敢抬眼，声音颤抖。老者拍了拍</span><br><span class="line">他的肩膀，缓声道：“没人乐意听你说话，我们要回去歇息。”作势欲走。</span><br><span class="line"></span><br><span class="line">    从衡等人均防着老者对那小角色下毒手，尤其在拍肩那当儿。</span><br><span class="line"></span><br><span class="line">    老者欲擒故纵的法子很灵验。小角色开始回忆。言语上的倾吐令他感到好受一</span><br><span class="line">些。拥有听众，便寻回了部分自我。</span><br><span class="line"></span><br><span class="line">    “我们十二个弟兄挤在这儿，都已为外头的吵闹惊醒。点了根蜡烛，我们留意</span><br><span class="line">着门外的动静。”</span><br><span class="line"></span><br><span class="line">    “迷糊中，只见一位弟兄死盯着我，靠着墙歪头滑倒。我猛然注意到打呼噜的</span><br><span class="line">声音消失了。所有的弟兄都东倒西歪。此时，鬼叫声窜起。”</span><br><span class="line"></span><br><span class="line">    他说话逐渐流畅，眼睛眨动次数在减少。“当时我吓坏了。我起身寻找我自己</span><br><span class="line">的尸身。一地上的人都没理会我。我深信他们都在睡觉，却禁不住地害怕。这是叫</span><br><span class="line">魂，我的魂儿在夜间被人以巫术收去了。我听到鬼叫了。”他的身体在颤动，声音</span><br><span class="line">富于感染力。店伙不住张望。</span><br><span class="line"></span><br><span class="line">    听到“叫魂”二字，众人心中一凛。民间传说南方有茅山道士于夜间叫魂赶尸。</span><br><span class="line">如果你的名字由道士口中喊出，你便会不由自主地出门随他而去。你的魂魄已受他</span><br><span class="line">控制。这是一种极为利害的黑巫术。</span><br><span class="line"></span><br><span class="line">    小角色象鬼上身的神汉一般侃侃而谈：“我脑中全是眼里的意象，耳中全是无</span><br><span class="line">声的嗡鸣。屋内的烛光谋杀着黑暗。我的眼睛怕光，我见着了无数在红底上闪动的</span><br><span class="line">黑点。我复活于地狱之中。”</span><br><span class="line"></span><br><span class="line">    他象刚生完一场大病。这些话语已把他的灵气、力量带走。</span><br><span class="line"></span><br><span class="line">    夏国剑对老者道：“你好象会使催眠术，真了不起。所谓的叫魂，只怕也是催</span><br><span class="line">眠术在做怪吧。”他起了疑心。</span><br><span class="line"></span><br><span class="line">    “我听说只有明教中人才会波斯催眠术。老哥，你打京城来？”司空见惯终于</span><br><span class="line">想起了一个大大有名的人物。从衡的反应也不慢，抢道：“您老莫非便是天下第一</span><br><span class="line">神捕胡不归胡大人。在下昆仑从衡。”司空见惯也不甘示弱，道：“我听说过不少</span><br><span class="line">公案故事。名捕们微服私访。哪儿有案件，哪儿便有他们的身影。可放眼天下，有</span><br><span class="line">此古风有此本事的，就胡大人您了。请恕小店招待不周，竟未认出您来。”</span><br><span class="line"></span><br><span class="line">    “我有助手，因为我不想成为故去的传奇。悍棒，你把前院的四具尸体也放到</span><br><span class="line">这儿。”悍棒应声走出。他果然高瘦，双手拎了四具尸体，步伐利索轻盈。挺胸直</span><br><span class="line">腰，面无表情，似是行伍出身。“对我们来说，死者身份的确认很重要。”</span><br><span class="line"></span><br><span class="line">    悍棒放下尸体后，盯着独孤寒。独孤寒望着地上。</span><br><span class="line"></span><br><span class="line">    三山帮的小人物成了全场焦点。他似已昏了过去，但又不敢倒下。</span><br><span class="line"></span><br><span class="line">    “这案当真奇怪。老胡我一时也找不出头绪。若是以毒气杀人，却有一人未死。</span><br><span class="line">这些死人脸上无痛苦之色，并未垂死挣扎。”今晚的死人有一个共同的特征：未见</span><br><span class="line">血、无毒症，也非气窒，看不出死因。</span><br><span class="line"></span><br><span class="line">    他研究着地毯式的尸体，道：“死因真他妈的邪门。只惜‘钟馗’、‘蝙蝠’</span><br><span class="line">不在这儿。忤作活我不是内行。……他们似乎都是自然猝死。”</span><br><span class="line"></span><br><span class="line">    “我曾看到你上过茅厕来着，是去小解吧。”他的金鱼眼盯着那位三山帮小虾</span><br><span class="line">米，胖脸上推挤着不怀好意的笑。</span><br><span class="line"></span><br><span class="line">    那人矢口否认：“我一直呆在房中。我说的是真话呀。”</span><br><span class="line"></span><br><span class="line">    胡不归疑虑不减。他见过各式各样的人犯。有的坚信自己的慌言，有的怀疑自</span><br><span class="line">个的真话。有这种可能：此人回到房中后，见着一地尸体，受了刺激，产生幻象。</span><br><span class="line">也有可能是没有意识的谎言，绝望惊怖后的梦呓。胡不归拍他肩膀时，已试出他武</span><br><span class="line">功不高，反应迟钝。从他的眼神，也可以看出他确实受了不小的惊吓。</span><br><span class="line"></span><br><span class="line">    今晚的案情端是离奇古怪。如果此人所言不虚，世上便真有鬼神。胡不归不信</span><br><span class="line">邪，故而认定他撒谎了。他也象是个不老实的人。“你们不相信我？我自己也觉得</span><br><span class="line">难以置信。我是在说假话，开了个头就没办法煞尾。”他有些歇斯底里。夏国剑在</span><br><span class="line">冷笑。从衡、毕恭、毕敬脸色凝重。</span><br><span class="line"></span><br><span class="line">    自以为绝顶聪明的人对难以置信的话语总以为必是谎言无疑。胡不归对此有所</span><br><span class="line">警惕。如果你防备某些人，你开始说假话。如果你防备所有人，那么你听不到真话。</span><br><span class="line">胡不归的座右铭是：用人必疑，疑人必用。可疑的人不可放过一个。</span><br><span class="line"></span><br><span class="line">    “说真的，我自个也觉得不对劲。我似乎没有骇极大叫。”众人一想也是。莫</span><br><span class="line">非他曾昏过去，或者他有预谋有准备是个帮凶。他不象在闪烁其词，他很诚恳，却</span><br><span class="line">前后矛盾地供述着。</span><br><span class="line"></span><br><span class="line">    今晚有些事儿不可思议，不可理喻。“老实说，我并未睡着。我也没躲在门后。</span><br><span class="line">我忘了门是原来开着，还是鬼叫后我开门出房了。”胡不归盯着他的眼睛，徐徐道：</span><br><span class="line">“如非你梦游，便是凶手对你施过催眠术。只是明教一向不喜欢故弄玄虚。它懒得</span><br><span class="line">搭理一片瓦、三山帮之类的地方小势力，不屑于拿你们开刀。我倒希望你在撒谎。”</span><br><span class="line">那人神情并不委屈，似乎很有心事。在场众人俱在沉思。独孤寒往外走。一阵腥湿</span><br><span class="line">的冷风吹来，烛光畏畏缩缩。又一声鬼叫由前院传来。雨夜荒郊孤岛，没有人打更</span><br><span class="line">报平安，防火盗。恐怖与诡异趁虚而入，吆喝着兜售死亡。雨声、哭声、脚步声、</span><br><span class="line">低语声匆匆住店，四处游荡。</span><br><span class="line"></span><br><span class="line">    很快便会有几个伙计过来宣告死讯，司空见惯心想。这时，一件打死他也料不</span><br><span class="line">到的事情发生了。司空见惯脑中被抽出一记铁青。那三山帮小人物脸上现出极端痛</span><br><span class="line">苦的表情，扭曲得不成样子。他似要拼命喊叫什么，却只略抬双臂，重摔在地。</span><br><span class="line"></span><br><span class="line">    众人可真见了鬼，呆立当场。七大高手环伺之下，仍死了这么一个重要的可疑</span><br><span class="line">的小人物。从衡望着窗户，夏国剑仰头，胡不归俯身搭脉。一直装酷，什么事都蛮</span><br><span class="line">不在乎的毕恭毕敬兄弟也变了脸色。伙计飞奔而来，似乎有鬼追着他们几个。</span><br><span class="line"></span><br><span class="line">    “安爷和公子爷死了！”</span><br><span class="line"></span><br><span class="line">    以安石、振振公子的武功，南有疯子白痴，北有九华派诸人，居然也遭了毒手。</span><br><span class="line">由此看来真是闹鬼，这位小人物并未说谎？胡不归疑心他装死，点了火折子，伸手</span><br><span class="line">到他的手掌心上烘炙。甫一靠上，那手微微一缩，跟着嗅到一股焦臭味，最后便不</span><br><span class="line">能动弹了。胡不归长叹一声，灭火。</span><br><span class="line"></span><br><span class="line">    司空见惯见那死尸的手在动，已在捂嘴瞪眼。几个小伙计干脆就惊叫出声。高</span><br><span class="line">手们张着大嘴，惟有悍棒、独孤寒平静如初。胡不归束手无策了。杏花怎会死在紧</span><br><span class="line">闭密封的房间里，眼前这小子怎会突然毙命？绝无外来袭击的可能，任何暗器都不</span><br><span class="line">可能来去无踪。也没有理由是慢性毒药。那小子乃是闻听鬼叫声后乍然倒下的，未</span><br><span class="line">有先兆。他并未反胃呕吐。</span><br><span class="line"></span><br><span class="line">    胡不归察看死者瞳仁，眼睑。他放弃了撬开牙关，检查舌苔，用银针刺喉等尝</span><br><span class="line">试。他只怀疑此人装死。悍棒取出枷具，将之锁在死者身上，顺手捏碎了它的琵琶</span><br><span class="line">骨。</span><br><span class="line"></span><br><span class="line">    由于验尸工作尚未最终完成，一地的尸身得有人看着，所以胡不归决定由他本</span><br><span class="line">人、从衡、夏国剑、少年剑客上前院，悍棒、毕恭、毕敬、司空见惯留守。他说道：</span><br><span class="line">“如果我们一窝蜂似地跑过来跑过去，等于是被凶手所调度的没头苍蝇，于事无补，</span><br><span class="line">而且惹人耻笑。我们必须分头行事。但也不可不防着凶手个个击破。大家四人一组，</span><br><span class="line">不要散了。一旦有事，呼声示警。”前院到后院相距甚近，相互间容易照应。只是</span><br><span class="line">悍棒四人驻防后院，能否保得一方平安？</span><br><span class="line"></span><br><span class="line">    毕恭、毕敬不愿在众人面前示弱，一口应承。</span><br><span class="line"></span><br><span class="line">    夏国剑心中嘀咕着：这矮胖子不见得真是“式微式微，田园将芜胡不归”。存</span><br><span class="line">心将我们拆散，不知是何居心。他也不开口反对。跟独孤寒在一块，让他感觉放心</span><br><span class="line">不少。</span><br><span class="line"></span><br><span class="line">    夏国剑还怀疑掌柜司空是凶手内应。这司空见惯武功不弱，负责打理徽商帮浙</span><br><span class="line">北事务，已在王江泾干了十多年了。</span><br><span class="line"></span><br><span class="line">    一切都过于凑巧了。狂风暴雨，交通阻塞，孤岛上聚了众多武林高手，连续发</span><br><span class="line">生几起古怪诡秘的血案，死了十七条人命！</span><br><span class="line"></span><br><span class="line">    司空见惯没有理由不知道西天王母、振振公子、杏花花信、疯子白痴、胡不归、</span><br><span class="line">悍棒这些大名鼎鼎的人物住店了。夏国剑这么认为。</span><br><span class="line"></span><br><span class="line">    店中还住有何方神圣？冲着师弟身上的剑谱，还是盯上了毕氏兄弟和我？司空</span><br><span class="line">不知道我们三人的特殊使命。师弟们也蒙在鼓里。只有山贾会可能听说了一些风声。</span><br><span class="line">江南有不少他们的耳目。</span><br><span class="line"></span><br><span class="line">    今晚之事太过离奇了。夏国剑当镖头，随镖车走南闯北三十年，什么风浪没见</span><br><span class="line">过？没少在荒山野坟睡过，鬼食供品没少吃过。他从不相信鬼神之说。可今晚他不</span><br><span class="line">由想起了一个古老的故事：夜枭子在暗中数人的眉毛，一旦给它数清了，人也就完</span><br><span class="line">了。</span><br><span class="line"></span><br><span class="line">    纵使司空见惯是内应，仍无法解释许多疑点。夏国剑总以为有人在暗中盯着自</span><br><span class="line">己，不是从背后，而是面对面、眼对眼。这大宅子里有霍乱、天花、鼠疫投宿，有</span><br><span class="line">各式鬼魂歇脚避雨？他从未见过如此大的风，如此急的雨。现在想来，那便是今晚</span><br><span class="line">各种不幸的先兆。</span><br><span class="line"></span><br><span class="line">    从衡看上去很累。他似乎不太情愿回到前院去参观尸体。</span><br><span class="line"></span><br><span class="line">    九华派众弟子都已行动起来。廊上有着黑鸦鸦的人头。夏国剑心中一宽：人多</span><br><span class="line">了好办事。店中伙计安慰着房客们，劝他们各自回房歇息。疯子左拥美姬，右抱酒</span><br><span class="line">坛，啧啧道：“真他妈的邪门。老子拉了美人，叫上两个小二，端酒送菜，想请青</span><br><span class="line">城、少林两大高手赏脸喝酒。大伙儿好生聊聊。”</span><br><span class="line"></span><br><span class="line">    “当时安石出房道，他俩困了，明早得赶路。老子心里直骂娘，便也不理会他，</span><br><span class="line">想喊上九华派轮班警戒的朋友一块喝。不料他们也不给老子面子。老子正气愤不过，</span><br><span class="line">安石房门被风吹开，内中却全无动静。我凑过去一瞧，乖乖，两人皆无呼吸之声，</span><br><span class="line">一动也不动。”</span><br><span class="line"></span><br><span class="line">    施主道：“白兄所言不差。在下与师弟一直未睡。白兄叩门时，在下也瞧见安</span><br><span class="line">大侠了。在下素不喝酒，便拒绝了白兄好意。不料只片刻功夫，便听得一声怪叫。</span><br><span class="line">叫声分明就在左近。我与白兄见安大侠房门洞开，便奔了过去。只见安大侠与平公</span><br><span class="line">子衣冠整齐地躺在床上，似乎刚刚死去。房中一人也无，却开着窗户。”</span><br><span class="line"></span><br><span class="line">    “一眨眼功夫连杀两位一流高手。”疯子灌口酒道，“啧啧，实在高明，简直</span><br><span class="line">跟老子我一样厉害了。”</span><br><span class="line"></span><br><span class="line">    夏国剑存心考考神捕大人，道：“会不会是凶手趁安石起身开门之际，先杀了</span><br><span class="line">平公子，再施暗算？”</span><br><span class="line"></span><br><span class="line">    施主、东阳桢齐齐摇头。疯子笑道：“夏总镖头，老子的武功只比你高明三分，</span><br><span class="line">但对房中的动静还是了如指掌。天底下有谁有那个本事，在老子眼皮底下，在安石</span><br><span class="line">老狗屁眼上，一举灭杀平振振？”</span><br><span class="line"></span><br><span class="line">    从衡一言不发。他心中狐疑，而非兔死狐悲。他在担心自个的安危。莫非是安</span><br><span class="line">石、平振振暗中偷盗徽商帮的庄票雕版不成，露出形藏，反为施主、东阳桢、疯子</span><br><span class="line">白痴联手杀掉？</span><br><span class="line"></span><br><span class="line">    不象，不可能。没有发现打斗痕迹。安、平的武功不会比他们三人弱多少。这</span><br><span class="line">块庄票雕版非同小可，乃是杭州三槐堂与西冷印社合作的珍品。如果落入内行人手</span><br><span class="line">里，寻个上好印坊，弄到绝佳的高丽纸，便可伪造出真的徽商帮各大钱庄统一庄票，</span><br><span class="line">实在是无异于搞到聚宝盆、摇钱树。</span><br><span class="line"></span><br><span class="line">    据山贾会情报，徽商帮为了此次庄票统一制版，投入了大量的人力、物力、财</span><br><span class="line">力，费时达两年之久。对外已公布了新庄票样式。这种各大钱庄通用的庄票一旦推</span><br><span class="line">出，必会对山贾会的银号构成不小的威胁。</span><br><span class="line"></span><br><span class="line">    这块雕版上面的花纹并不很复杂，却有立体的感觉。印在纸上，图形似乎要破</span><br><span class="line">壁而出。更绝的是，雕版正面绝计看不出丁点木质纹理，没有色彩上的明暗变化。</span><br><span class="line">工匠们巧妙地利用冲刻花纹、字样，掩住了其纹路色斑。据说，用这块雕版印出的</span><br><span class="line">庄票图形异常清晰，色彩效果极佳。</span><br><span class="line"></span><br><span class="line">    从衡三人南下的使命便是借代表本门派为李者也祝寿的名义，明偷暗抢搞到雕</span><br><span class="line">版。山贾会想得到其中的制版技术，想让徽商帮后延推出新版庄票的时间，好在争</span><br><span class="line">竞中取得主动。</span><br><span class="line"></span><br><span class="line">    从衡想：夏国剑等人必定猜知我之使命，心中正在幸灾乐祸。西天王母心里打</span><br><span class="line">着主意， 脸上总带着微笑。 他认为剑道最高境界是“手中无剑，心中有剑”，即</span><br><span class="line">“口蜜腹剑”是也。</span><br><span class="line"></span><br><span class="line">    “胡大人，我怀疑平振振早就死了。安石要么是同谋，要么在他开门见疯子时，</span><br><span class="line">神智已为人所制。”夏国剑道。</span><br><span class="line"></span><br><span class="line">    疯子冷笑道：“傻蛋！老子听他说话很有分寸，目光炯炯，可不象是个猪油蒙</span><br><span class="line">心之人。如果他是同谋，杀掉平振振于他有何好处，结果他不是也死了么？安石这</span><br><span class="line">个人好大喜功，很爱面子，却也是条光明磊落的汉子。不象某些人，自命不凡，眼</span><br><span class="line">高手低，实则卑劣无耻。”言语中尽是讥讽。</span><br><span class="line"></span><br><span class="line">    在从衡听来，两人象是在演对台戏，一唱一和，更觉可疑。</span><br><span class="line"></span><br><span class="line">    胡不归道：“如果安石是同谋，平振振死在他开门之前，则见到疯子时脸上神</span><br><span class="line">情必然有异。因为疯子是冷不防过去敲门的。”他转向施主，问道：“从敲门到开</span><br><span class="line">门，隔的时间长么？”</span><br><span class="line"></span><br><span class="line">    施主与东阳桢齐齐摇头。</span><br><span class="line"></span><br><span class="line">    夏国剑并不甘心，道：“我看过《洗冤集录》，知晓一些验尸常识。冒昧问一</span><br><span class="line">句，胡大人，您验尸结果如何？”</span><br><span class="line"></span><br><span class="line">    胡不归起身，尤如一头猪双蹄直立。他的手短胖浑圆，他的嘴比猪鼻小巧，象</span><br><span class="line">它的肚脐眼。从衡心中暗笑。</span><br><span class="line"></span><br><span class="line">    疯子盯上了独孤寒，打量着他，一如方才悍棒暗中所为。</span><br><span class="line"></span><br><span class="line">    施湛露不顾母亲劝阻，站在一边观看。但只有疯子怀中的美姬瞧着她的容颜出</span><br><span class="line">神。孤寒也在楼上，背向大伙，似乎也在沉思。</span><br><span class="line"></span><br><span class="line">    她觉得今晚一切都很不寻常。这种氛围常见于传奇、神话中。自己肯定要涉身</span><br><span class="line">进入，成为一个角色，发生一系列由不得自己的故事。她不善于侦寻原由，不喜欢</span><br><span class="line">消极等待。她感到心神不宁的激动。</span><br><span class="line"></span><br><span class="line">    胡不归道：“由现场情形来看，不存在剧斗可能。没发现一点蛛丝马迹。他二</span><br><span class="line">人身上不见伤痕，死因不明。尸身温度较高，可证明他们刚死去不久。”这两具尸</span><br><span class="line">体生前确实是安石与平振振。</span><br><span class="line"></span><br><span class="line">    “胡大人，能请您回答一个问题么？您南下江浙有何公干？”</span><br><span class="line"></span><br><span class="line">    “无可奉告。不过，可以告诉诸位，与近来江南几宗大案有关。这些案子很复</span><br><span class="line">杂，头绪很乱，案情目前尚不明朗，有待追查。但我及我那些大智大勇的同僚们很</span><br><span class="line">有信心。保境安民是我等……。”</span><br><span class="line"></span><br><span class="line">    夏国剑又问：“在下听说，死亡时间稍长，尸体上会出现尸斑。”</span><br><span class="line"></span><br><span class="line">    “准确地说，在死者死后二至四个时辰内出现皮下浅紫色斑块。你们与平、安</span><br><span class="line">二人分手至今尚不足一个时辰。”</span><br><span class="line"></span><br><span class="line">    他似乎有意卖弄，从衡想，口中却道：“这就是了。我们得相信专家的推断。</span><br><span class="line">能做到在数招内无声无息地杀掉平、安二人，我想也不是没有这等人物。”他顿了</span><br><span class="line">顿，神秘地道：“东岳帝君，鬼帝沈魂！他有十年未在武林中露面了，武功真不知</span><br><span class="line">有多高。幸好在下与胡大人在一块。”</span><br><span class="line"></span><br><span class="line">    疯子道：“沈魂是东岳帝君，你从衡是西天王母，不会比他逊色多少。”</span><br><span class="line"></span><br><span class="line">    胡不归脸色肃穆。他知道不会是沈魂。这邪派第一高手极为自负，不屑于装神</span><br><span class="line">弄鬼。明教的嫌疑也很小。他告诫自己不要轻视这些人的看法，不要凭空地捏造出</span><br><span class="line">罪犯来。有这么一种可能：今晚的凶手不是人，而是动物。</span><br><span class="line"></span><br><span class="line">    衙门公人都偏执地自认为是，只想大事化小，小事化了。所谓的神捕却往往疑</span><br><span class="line">心太重。他们不相信自杀，自然死亡，以及非人力因素。</span><br><span class="line"></span><br><span class="line">    不要把问题复杂化，静观待变。死的人越多，对方的马脚越有可能露出。胡不</span><br><span class="line">归不在乎几条人命。他干捕快是出于对猫捉老鼠游戏的兴趣，喜欢绷紧神经的生活，</span><br><span class="line">舍不得那种八面威风的感觉。</span><br><span class="line"></span><br><span class="line">    独孤寒看够了，转身正待下楼。疯子道：“你叫独孤寒？”</span><br><span class="line"></span><br><span class="line">    “老子听说你剑法相当了得，不由技痒，咱俩比划比划。”</span><br><span class="line"></span><br><span class="line">    孤寒正想着事儿，不开腔。他曾暗地里飞快地多看了施湛露一眼，觉得这小姑</span><br><span class="line">娘怪怪的。她神色自如，面容俏丽，有种与众不同的气质，居然令他有丁点儿心慌</span><br><span class="line">意乱。双瞳翦水，梨窝轻现，肌肤胜雪，身形袅娜，风姿如仙，孤寒强烈地感受到</span><br><span class="line">了她的美艳。当然，他没有动心。</span><br><span class="line"></span><br><span class="line">    可他留心到这个漂亮得连小谢都把芳名挂在嘴上的少女居然瞧着自己，也觉得</span><br><span class="line">有些异样了。她在沉思，有些忧郁。他在想，这个施湛露居然不害怕。</span><br><span class="line"></span><br><span class="line">    独孤寒不似岑寂。岑寂有时会感到男女亲热时的神情、举止粗俗、轻浮，会厌</span><br><span class="line">恶、鄙视。孤寒没机会接受儒家礼教的熏陶。他也不似小谢，只肯追逐不谈婚嫁。</span><br><span class="line">小谢的逻辑是：爱人即是情人，情人即是女性朋友，朋友不妨多一点，不妨一些日</span><br><span class="line">子不见面。独孤寒不如周乐成熟，不比尉迟杯的彻底绝弃。</span><br><span class="line"></span><br><span class="line">    不知为何，他非常不乐意在她眼前，在她逼视之下比划武功。针芒在背！</span><br><span class="line"></span><br><span class="line">    疯子不与人商量。他的面子长在别人脸上。所以他推开美姬，摔下酒坛，扑向</span><br><span class="line">独孤寒。瞬间，他身形变幻三次，步法四进一退，双手连击十次，踢出二踢脚，总</span><br><span class="line">共使了四个半招。灯光下，疯子成了神汉，如历鬼附身。</span><br><span class="line"></span><br><span class="line">    这些招数都不是虚招，都大有来历，但在场众人谁也认不全。</span><br><span class="line"></span><br><span class="line">    独孤寒退步下梯。背身后踏二级阶，长剑平举。疯子停手，道：“下楼化劲，</span><br><span class="line">屈身躲拳，长剑克腿。好，难为你想得出来。”</span><br><span class="line"></span><br><span class="line">    疯子一拳冲着剑尖击出，整个身子似乎正要跃下楼去，其势不可挡。他打起架</span><br><span class="line">来，脑子不太正常，先求送命再求拼命。对手因而觉得他疯了，没有性命，划不来</span><br><span class="line">与他一般见识，更不敢拼命。比武之前已然心虚。抱着犯不着理会他，犯不着惹他</span><br><span class="line">的心理，再看到他龇牙裂嘴，嗬嗬吼叫，双眼闪动炽热的野性光芒，许多人无心应</span><br><span class="line">战，斗志尽失。孤寒右肋有伤。他比武时从不拼命。他向以理智著称。</span><br><span class="line"></span><br><span class="line">    他撩剑，侧头，起步拾阶。</span><br><span class="line"></span><br><span class="line">    眼看着两人便要一块儿滚下楼去，疯子悬崖勒马。他看到了孤寒古怪的上楼姿</span><br><span class="line">式。原本孤寒右脚在上，左脚在下，登楼时照理应该先抬左脚，可他迈出的是右脚。</span><br><span class="line"></span><br><span class="line">    “高明，果然高明。老子自信能击败烟水程何限与风雨任平生两人中的一个，</span><br><span class="line">却无法应付那两只老狐狸的联手进攻。老子不相信你能够做到。如今老子服了。”</span><br><span class="line"></span><br><span class="line">    “你破解了我的‘羚羊挂角，饿虎扑食’。老子这记马步冲拳有把握打飞你手</span><br><span class="line">中长剑，只是老子仍免不了有开肠破肚之虞。”大凡抵角拼力，重心总得低下。孤</span><br><span class="line">寒迈出右脚后，整个身子矮下，重心极低。受内力激荡，飞出的长剑会迎上自行撞</span><br><span class="line">下的疯子。</span><br><span class="line"></span><br><span class="line">    “你是唯一当我是疯子，却又丝毫不以为意的高手。只有白痴才不会欺软怕硬，</span><br><span class="line">老子有些怕你了。”</span><br><span class="line"></span><br><span class="line">    孤寒下楼。此所谓，不战而屈敌之兵。</span><br><span class="line"></span><br><span class="line">    胡不归对伙计们道：“去司空掌柜那儿，告诉他这里发生的事情并让他们过来。”</span><br><span class="line">他又道：“凶手躲在暗处，却有着强烈的表现欲，喜欢故弄玄虚。他不屑于杀不懂</span><br><span class="line">武功的平民。此外，杀人意图不明。主要由窗户出入。”</span><br><span class="line"></span><br><span class="line">    “他大概不会是冲我一人而来。诸位只怕也有怀璧之罪。我们面对的是一个杀</span><br><span class="line">人成性的恶魔。希望大家摈除成见，同舟共济。”五大门派的弟子向来没有吃公门</span><br><span class="line">饭的，不愿轻易开罪黑道上的朋友。各派之间的关系也很微妙。</span><br><span class="line"></span><br><span class="line">    “据我估计，凶手只有一个。死者都是死在房中。他们之间没有明显的连系。</span><br><span class="line">如果有的话，那就是他们皆为会家子。”</span><br><span class="line"></span><br><span class="line">    远处传来脚步声，那几个伙计气喘吁吁地跑来，身上均已淋湿，手中所提之灯</span><br><span class="line">笼不知落在哪了。“胡……胡大人……大事不好。我们掌柜……他们四人全死了。”</span><br><span class="line">这回尚未听到一声鬼叫。</span><br><span class="line"></span><br><span class="line">    “胡说，司空见惯刚刚来过这儿。你们几人是否想骗我上当，好在途中下毒手？”</span><br><span class="line">胡不归斥道。</span><br><span class="line"></span><br><span class="line">    伙计们更是魂飞天外，七嘴八舌地辨白。有一人道，可能是小的吓坏了，看花</span><br><span class="line">了眼。从衡笑着安慰他们，胡大人仅是在验证消息真假罢了。果然，胡不归点点头，</span><br><span class="line">走下楼，对着独孤寒道：“小兄弟，咱俩走一趟，如何？”</span><br><span class="line"></span><br><span class="line">    施湛露忍不住道：“娘，咱们摆明了拿对方没办法，验尸也是白搭。力量一分</span><br><span class="line">散，危险可就大了。可不要让敌人个个击破。”</span><br><span class="line"></span><br><span class="line">    夏国剑、从衡等人惊魂未定，已不愿随胡不归涉险。他们在想：凶手能够轻而</span><br><span class="line">易举地干掉司空见惯四人，手段何等厉害，说不得真是山魈历鬼；这个胡不归也不</span><br><span class="line">见得有何本事，划不来陪他送死。从衡更以为胡不归不是善类，故意将司空见惯等</span><br><span class="line">人丢在后院，分散己方力量；现在又想害独孤寒了。但他嘴上很严，一声不吭。</span><br><span class="line"></span><br><span class="line">    胡不归回头瞧了施湛露一眼，脸上居然有了笑容。夏国剑道：“胡大人，干脆</span><br><span class="line">让下人去把尸体扛回来得了。犯不着冒险。”</span><br><span class="line"></span><br><span class="line">    胡不归与独孤寒二人不带灯笼，也不秉烛，走上抄手廊。胡不归道：“我就知</span><br><span class="line">道你不会拒绝我。你比他们有勇气。”九华派三人分不开身，疯子谁的帐也不买，</span><br><span class="line">从衡只求自保。</span><br><span class="line"></span><br><span class="line">    “刚才我在怀疑司空见惯。让他们四人留在后院，好引诱凶手去攻击他们。悍</span><br><span class="line">棒最经打了，又已领会了我的意思。毕恭、毕敬兄弟武功均在夏国剑之上，又出身</span><br><span class="line">于绿林，做事以稳重、审慎、果敢著称，居然也难逃此劫。喂，你会不会觉得我很</span><br><span class="line">面？堂堂的刑部侍郎，第一神捕，竟会束手无策。……其实天底下有一半以上的凶</span><br><span class="line">杀案无法侦破。”黑暗中看不见夜的眼，雨声在逃避什么。</span><br><span class="line"></span><br><span class="line">    “你害怕么？独孤寒。”凶手的本事似是人力所不能及。</span><br><span class="line"></span><br><span class="line">    “我身即我敌，外物非所虞。因为我不会害怕，所以任何事情都不可能令我信</span><br><span class="line">神信鬼。”</span><br><span class="line"></span><br><span class="line">    胡不归一笑。与这少年在一块，确实让人勇气倍增。两人回到先前三山帮众所</span><br><span class="line">住的屋子外头。尸体横七竖八，一个灯笼兀自燃烧，想是伙计们慌乱时扔下的。另</span><br><span class="line">一个灯笼吊在房门口，却是原先便有之物。</span><br><span class="line"></span><br><span class="line">    独孤寒觉得鼻子很痒，不打个喷嚏，极不舒服，忙道：“速退，灯笼有毒。”</span><br><span class="line">两人后掠数丈，立在天井之中。胡不归运气，未觉不适，道：“你如何知晓灯笼中</span><br><span class="line">有毒。我未曾闻到任何异味。”</span><br><span class="line"></span><br><span class="line">    “我以前住的地方，空气格外清新。来到中原后，先是鼻、喉不太适应，如今</span><br><span class="line">好多了。方才似有什么东西混在空中，要钻入鼻道。那绝非燃烧的味道。”独孤寒</span><br><span class="line">在心中答道。</span><br><span class="line"></span><br><span class="line">    胡不归面对过无数死不开口的人犯，也习惯了。他扬手打灭灯笼中的蜡烛，屏</span><br><span class="line">气走过去，取出红烛，仔细端详。“不对，这根蜡烛无毒，烛芯亦是普通棉绒线。”</span><br><span class="line"></span><br><span class="line">    他自言自语：“再不，便是这个坏了的灯笼有毒。”这个少年话不多，可每句</span><br><span class="line">话都令人觉得不可不信。最后，胡不归提起吊挂在墙上的灯笼罩，探头细瞧好一阵</span><br><span class="line">子，道：“好家伙，把毒粉调湿涂在灯笼罩内壁。待烛火将它烘干，毒气便开始无</span><br><span class="line">色无味地散发出来，慢慢地催命。这一手真他妈的狠。咱们没赶上趟，它快用光了。”</span><br><span class="line"></span><br><span class="line">    “估计这种毒的毒性极大，发作快，人们不易察觉。当感到头晕时，已吸入足</span><br><span class="line">量毒气，说不出话来，脑子开始迷糊，随即倒地身亡。幸好这会儿毒粉将尽未尽，</span><br><span class="line">幸好我老胡拉了你一块来，否则如此完美，如此霸道的下毒手法，咱们要么没法识</span><br><span class="line">破，要么得再赔上两条命。”</span><br><span class="line"></span><br><span class="line">    他精神为之一振，蹲到地上察看尸体。“我有个相熟的朋友叫周乐。他不但人</span><br><span class="line">比我机敏，而且耳朵极灵。只惜他不愿受官府约束，不当捕快了。”</span><br><span class="line"></span><br><span class="line">    “他们四人皆死于毒气，死因很明显，怪不得未听到鬼叫。瞳孔缩小，双唇略</span><br><span class="line">略发黑，脸上有病态的红晕，作痛苦状。方才走在路上，我真希望司空见惯的尸身</span><br><span class="line">不见了，那样倒省事多了。”</span><br><span class="line"></span><br><span class="line">    司空可以装死，然后利用地上燃烧着的灯笼焚尸，造成身死尸毁的假象。</span><br><span class="line"></span><br><span class="line">    地上的司空见惯乃是不折不扣的、如假包换的客栈掌柜，身子温热，也属于中</span><br><span class="line">毒症状。胡不归暗中曾在他背后衣角上做了个记号，以防掉包。在检查他的尸体时，</span><br><span class="line">竟是分外的细致，有如在鉴定古董。</span><br><span class="line"></span><br><span class="line">    “我有个预感，凶手就要跳出来了。你见过泼墨作画么？一大堆浓墨中总要透</span><br><span class="line">气，留些亮点，不然便是一幅败笔之作。”今晚再恐怖不过了，气氛一直很沉闷。</span><br><span class="line">许多房客不敢睡觉，不敢说话，不敢出门。“方才咱俩要来这儿时，你注意到没有。</span><br><span class="line">夏国剑对毕氏兄弟的尸体较为关心，建议由伙计们将尸体抬回去。他似乎已准备抬</span><br><span class="line">脚随咱俩一块来了，却又有什么顾忌似的。”</span><br><span class="line"></span><br><span class="line">    “夏国剑、毕氏兄弟、安石、从衡、平振振都是武林中响当当的人物。他们不</span><br><span class="line">会那么凑巧在此地碰上。徽商帮究竟有什么宝贝，需要三大高手一路护卫？</span><br><span class="line"></span><br><span class="line">    一双金鱼眼死盯着毕恭、毕敬的尸体。“会藏在哪呢？鞋底？太俗了。”胡不</span><br><span class="line">归在“摸骨”搜身。上三路一无所获，最后还是脱了那四只鞋子。只听他一声低低</span><br><span class="line">的欢呼，道：“马脚露出来了。”四只鞋子里面均是空无一物！</span><br><span class="line"></span><br><span class="line">                                五、朦胧</span><br><span class="line"></span><br><span class="line">    “不隔”胜于“隔”，王静安先生如是说。可先生曾谓“雾失楼台，月迷津渡”，</span><br><span class="line">亦可称佳句。由是观之，看腻了“真”，“善”即是美。</span><br><span class="line"></span><br><span class="line">    “咱们的对手当真厉害，徽商帮的东西已落到他的手中。这两双鞋样式相同，</span><br><span class="line">大小一致，可有一双稍有异味。不留心还真瞧不出破绽。”男人的鞋，除非新买的、</span><br><span class="line">新纳的，否则不可能无异味。</span><br><span class="line"></span><br><span class="line">    胡不归与独孤寒心里都很纳闷：什么东西可藏入鞋中，又贵重非常，以至于凶</span><br><span class="line">手费了这么大的劲儿换鞋。凶手若是只冲着那东西而来，便没有必要乱杀无辜。也</span><br><span class="line">许他只是顺手牵羊而已。</span><br><span class="line"></span><br><span class="line">    “凶手似乎不急于对付我。他要把对老天爷的怒火怨气化成一肚子坏水，用来</span><br><span class="line">戏弄咱们这些上天的造物。”胡不归自我解嘲。</span><br><span class="line"></span><br><span class="line">    有种人认为生命不但没有意义，而且本身便是不可饶恕的罪过。</span><br><span class="line"></span><br><span class="line">    独孤寒盯着散落在地上的客栈来客登记本。由上面说不得可以发现一些线索。</span><br><span class="line">胡不归翻看着，一目一页。“店里居然还住了位会说官话的乌斯藏高僧，叫做素扎</span><br><span class="line">巴，宁玛红教大师，甘孜的噶陀寺堪布，乌斯藏第一高手。”</span><br><span class="line"></span><br><span class="line">    独孤寒一脸茫然。他没听说过此人，虽说他也来自于乌斯藏。</span><br><span class="line"></span><br><span class="line">    胡不归道：“虽说这位素扎巴在中原不为人知，但司空见惯不可能不留意到他。</span><br><span class="line">据说只要会讲藏语，就不可能不提到素扎巴。”独孤寒不会讲藏语。他只一心习武，</span><br><span class="line">从小便无先入为主的武林高手的形象，不会去模仿争竞。</span><br><span class="line"></span><br><span class="line">    “我了解司空大掌柜的底细。从前，他也是个出风头的人物。”簿本中随意地</span><br><span class="line">夹了张撕下来的历书。“丙子年七月初六，宜嫁娶、出行、放水、移民，忌交易、</span><br><span class="line">动土、行丧、安葬。”</span><br><span class="line"></span><br><span class="line">    胡不归骂道：“狗屁不通，宜放水、忌行丧！这他妈的不象今日之历书。”</span><br><span class="line"></span><br><span class="line">    “今日七月初七。”此时午夜已过，孤寒道。</span><br><span class="line"></span><br><span class="line">    今日乞巧，七七之夕牛郎织女相会。瞧这大雨下的，河汉坠地，鹊桥受淹，会</span><br><span class="line">有尾生之信么？</span><br><span class="line"></span><br><span class="line">    本日七赤。每日相煞，冲牛二十四岁煞西。每日胎神占门厕外正东。吉凶神方</span><br><span class="line">位，喜神正北，鹤神正东，吉门正东。</span><br><span class="line"></span><br><span class="line">    胡不归眼睛一亮。他扔掉手中历纸，道：“你知道吴中人最迷信什么？”他面</span><br><span class="line">有笑意。</span><br><span class="line"></span><br><span class="line">    “五通神。江湖中也有这样的五个人。”胡不归自答，“和合二大仙，三尸五</span><br><span class="line">通神。他们十人乃是邪派黑道中仅次于鬼帝沈魂的最最拔尖的高手。”五通神又称</span><br><span class="line">五显神，吴中人知其为邪神，又不晓得其来历，却非常敬畏他们。</span><br><span class="line"></span><br><span class="line">    和合二大仙行迹见于江北，指“太白金星”与“白胖子”。三尸即青姑、白姑、</span><br><span class="line">血姑。五通神包括凌迟、丁令威、哭夜郎、七巧唐图、迷神引。</span><br><span class="line"></span><br><span class="line">    “幸好他们向来分成三股势力，没有联合起来。三尸很少在江湖中走动。和合</span><br><span class="line">二大仙当年得罪了武当派，杀了几个武当弟子。当时的武当掌门冷苔道长与世尘大</span><br><span class="line">师并称武林泰山北斗，剑术通神，尚且奈何不了他俩。”</span><br><span class="line"></span><br><span class="line">    “凌迟是落第秀才，以算命、看风水为业，外号‘人不人，鬼不鬼，半仙凌迟’。</span><br><span class="line">他的心理有些变态，喜好折磨人至死。似乎还热衷于历书，经常装神弄鬼。凌迟多</span><br><span class="line">智。有鸟有鸟丁令威轻功高明。哭夜郎心狠手辣，武功最高。七巧唐图心眼多，是</span><br><span class="line">唐门叛徒。迷神引，名即唤引，长于各种下三滥的鬼伎俩，为天下第一采花大盗。</span><br><span class="line">后面这二人刚刚由京城刑部大狱中逃脱，按行程算，很有可能已到江南。”所以，</span><br><span class="line">胡不归出现在这儿？</span><br><span class="line"></span><br><span class="line">    “我们不杀唐图、迷神引，五通神便不出江湖，不杀无辜。嘿，如今他们出来</span><br><span class="line">了，磨刀霍霍向猪羊！从前抓他二人，可谓是机缘凑巧，今后不易得手了。丁令威、</span><br><span class="line">哭夜郎、凌迟三人的真面目谁也没见过。”两人边说边走，来到簿上所记素扎巴的</span><br><span class="line">房间。红教大师孤身到江南有何贵干呢？藏传佛教与中土佛教很少来往。胡不归想</span><br><span class="line">不出江浙一带，运河左近有什么寺院与红教有关。浙江有天台宗。禅宗在姑苏备受</span><br><span class="line">欢迎。庐山东林寺有南朝慧远大师传下的般若宗。</span><br><span class="line"></span><br><span class="line">    两人尚未及敲门，门已开。一红衣红帽，满面红光的老藏僧合什而出。</span><br><span class="line"></span><br><span class="line">    胡不归行礼道：“素扎巴佛爷，下官是中土刑部左侍郎，敢问佛爷欲往何处，</span><br><span class="line">需要下官帮忙么？”</span><br><span class="line"></span><br><span class="line">    佛教弟子不行俗礼。素扎巴估计没搞懂侍郎是多大的官，也不客气，粗声粗气</span><br><span class="line">地说道：“我去九华山化城寺。”胡不归一怔，敢情他走错道了。“我没有走错路。</span><br><span class="line">我是坐船来的。佛祖让我在这儿碰见九华门下弟子。”素扎巴径自往外走。</span><br><span class="line"></span><br><span class="line">    “你如何打听到这个消息的？”</span><br><span class="line"></span><br><span class="line">    “他们一来，我的房间便得腾出让与他们住。我如何不知？”素扎巴官话讲得</span><br><span class="line">不错。由于汉语难学，会讲官话的番僧多半很聪明。“曹之其居士曾跟我夸口他的</span><br><span class="line">《维摩诘经变禅机悟剑谱》。他说他的剑谱必会享誉江湖，名垂千古。二位居士听</span><br><span class="line">说过这本剑谱么？……没有？我得向他的徒孙们要过来瞧瞧。你俩也可开开眼界。”</span><br><span class="line"></span><br><span class="line">    “咱们这就过去。今天一大早我便已睡意全无。此刻不找上门去，说不得那帮</span><br><span class="line">九华弟子要被超度上西天了。”</span><br><span class="line"></span><br><span class="line">    看得出这位大师武功不弱，却不知他是否真的是素扎巴。中原流传的公案故事</span><br><span class="line">中，和尚多数不干好事，奸淫拐卖妇女，抢劫偷盗，无恶不作。胡不归不这么认为。</span><br><span class="line">在他的印象中，乌斯藏的和尚较怪，人倒是很老实。天竺来的和尚更令人佩服，个</span><br><span class="line">个都是佛经“嚼饭”家（翻译）。他有种直觉：文明的冲突不可避免。吐蕃有过多</span><br><span class="line">次论辩舌战，中土只怕也得有番较量。</span><br><span class="line"></span><br><span class="line">    “我应该不是眼前这位素扎巴的对手。”胡不归想。</span><br><span class="line"></span><br><span class="line">    胡不归见这藏僧哪里都象素扎巴，但他与疯子白痴一样，出现得太过突兀了。</span><br><span class="line">好象从地下冒出似的。但胡不归不认为他会是凶手，凭直觉。九华派带着剑谱，有</span><br><span class="line">怀璧之罪，至今却尚无一人出事。这是为何？</span><br><span class="line">    胡不归想不出《悟剑谱》是一本什么样的书。在他想来，九华派的剑法已经够</span><br><span class="line">多了、够好了。素扎巴何以认定这帮九华弟子身上带有剑谱？</span><br><span class="line"></span><br><span class="line">    施谌露有点困了，七月初七，七夕乞巧，赶不到那繁华热闹、天堂一般的姑苏</span><br><span class="line">了。恶鬼也愿意在这一天积点阴德。那历叫之声似乎不会再出现了。</span><br><span class="line"></span><br><span class="line">    佛祖（佛祖是佛爷之父？中国人之人伦五常体现得淋漓尽致。）释迦牟尼还是</span><br><span class="line">王子时，看到宫女们睡相之丑陋而下定决心出家。是否有些不可理喻？释尊的行为</span><br><span class="line">自然异于常人。</span><br><span class="line"></span><br><span class="line">    另一说与婆罗门有关：王子出城东，遇老人而悲；出城南遇病人，城西遇死人。</span><br><span class="line">他失去了昔日的欢乐，知晓世上有如此之多的痛苦。他出城北，遇见个出家人无忧</span><br><span class="line">无痛，故而决心修行。</span><br><span class="line"></span><br><span class="line">    东南西北这四个人均是天神净居天所变。施湛露的小女儿心思在想，昨日一天</span><br><span class="line">的变故是否是神明在度我？……佛祖的故事告诉我们，境遇可以在瞬间让人改变主</span><br><span class="line">意，改变自己的生活方式。</span><br><span class="line"></span><br><span class="line">    对于那句名诗“两情若是长久时，又岂在朝朝暮暮”，施湛露有些不以为然。</span><br><span class="line">牛郎织女乃是不死神仙，自然可以“两情长久”。再者，这句诗有为当权者辩解的</span><br><span class="line">味道，否定了牛郎与织女先前男耕女织的恩爱生活。她想，女诗人决计不会写出这</span><br><span class="line">种矫情的诗。</span><br><span class="line"></span><br><span class="line">    我能在葡萄架下听到来自上天的福音么？她心中九转回肠。</span><br><span class="line"></span><br><span class="line">    中原汉人中有许多没有宗教信仰。他们信天，信命运，信名教：道德、伦理。</span><br><span class="line">施湛露什么也不信，敬苍天，敬名教，骨子里头喜欢郭象的《庄子注》，喜欢新道</span><br><span class="line">家的魏晋风流。</span><br><span class="line"></span><br><span class="line">    有情无累乃圣人，新道家都是性情中人，至情之人。</span><br><span class="line"></span><br><span class="line">    施湛露不畏名教，不信运命。她是如此的大胆、自由。</span><br><span class="line"></span><br><span class="line">    施主看着未睡的夫人，觉得她很美，很贤淑，（这是当年施主不剃发出家的主</span><br><span class="line">要缘故。）却有些陌生。正如牛郎第一次听到他的老牛说人话。</span><br><span class="line"></span><br><span class="line">    施夫人却在想着女儿的将来。她感觉到了女儿举止神态上的怪异。应该嫁回姑</span><br><span class="line">苏，许个好人家。夫家不会武功是不可能的。但我坚决不同意她依旧嫁给九华同门。</span><br><span class="line">女儿她也是如此心高气傲，一如当年的我……。</span><br><span class="line"></span><br><span class="line">    施湛露在想，武功有助于我独立意识的形成，可以提高女子的地位。找个打不</span><br><span class="line">过我的老公着实可笑。</span><br><span class="line"></span><br><span class="line">    夏国剑、东阳桢、施主听说这藏僧要瞧瞧剑谱时，脸色全变了。他们先入为主</span><br><span class="line">地抱有戒心。斧头丢了，自然怀疑是邻人偷了。</span><br><span class="line"></span><br><span class="line">    藏传佛教与禅宗有一点相似。其密宗也讲究不着文字，师徒心传。佛教的经典</span><br><span class="line">向来公开刊行。当然，武功是末技，没必要刊行。但中原武林有多少悲壮的故事便</span><br><span class="line">是围绕着武学秘籍展开的，一如国外之冒险探宝。各大门派帮大打出手，武功因而</span><br><span class="line">大大提高。</span><br><span class="line"></span><br><span class="line">    这样很好，说明了有冲突才会有进步的道理。写秘籍的天才不意公开他的著作，</span><br><span class="line">原因有二：一、他自私，只想传给自己的后人；二、他不想让坏人练习绝世武功。</span><br><span class="line">他没有错。（我是学经济的。经济学认为人是理性，说得难听点，人是自私的。）</span><br><span class="line">抢秘籍的人则尊重知识，爱护前人的文明成果，追求进步。象这种对知识求之若渴</span><br><span class="line">的人自然也没有错。</span><br><span class="line"></span><br><span class="line">    可惜此非信史。真实的历史中，秘籍的作用没那么大。武林高手们也不会如此</span><br><span class="line">热衷于你死我活的拼抢。许多武功是写不进册子的（好多高手不识字）。但要让写</span><br><span class="line">出来的武侠故事书象秘籍一样受人欢迎，武林重宝与美人似乎不可或缺。</span><br><span class="line"></span><br><span class="line">    游侠的“游”字是游离的意思。在这本书里没有自始自终的秘籍、宝藏、仇杀，</span><br><span class="line">没有传统小说中的线索。但仍有冲突（矛盾），以冲突刻划人物形象。看似游离，</span><br><span class="line">只因为实际人生真的传记原本便是零散的。从衡是个聪明人。他不理会什么剑谱。</span><br><span class="line">纵使得到了，保住了，也不知猴年马月方能练成；练成后也没人真正认为你行，而</span><br><span class="line">是夸秘籍来着。他冷眼旁观，特地与众人都拉了一定距离。</span><br><span class="line"></span><br><span class="line">    夏国剑不是很关心剑谱安危。他只问道：“胡大人，毕氏兄弟……。”</span><br><span class="line"></span><br><span class="line">    “死了。”</span><br><span class="line"></span><br><span class="line">    “我的意思是……，其实也没什么。人死不能复生。”他担心着雕版，却又不</span><br><span class="line">好开口打听。自己一人过去查探，又着实害怕。</span><br><span class="line"></span><br><span class="line">    素扎巴道：“你们跟我打架。如果都打不过，就交出剑谱。”他二话不说，已</span><br><span class="line">摆开架式。</span><br><span class="line"></span><br><span class="line">    素扎巴，二十四岁起游历乌斯藏、尼泊尔、不丹、天竺，凡大寺院八十七处，</span><br><span class="line">或参详佛法，或切磋武功，有大智大勇之名。后遁入雪山修心悟空。二十六年前下</span><br><span class="line">山，自称显密兼修，尤精密法，身具无上武功，譬如自天感得轮宝，飞行空中所向</span><br><span class="line">无敌。（转法轮乃是对宣说佛法的比喻，即佛法无敌。）</span><br><span class="line"></span><br><span class="line">    当时花教势力很大，教中高手云集萨迦寺。素扎巴于雪天代表红教孤身拜寺，</span><br><span class="line">口诵密咒，身结手印，大败四大八小护法，破金刚伏魔大阵，慑服群僧。事毕，其</span><br><span class="line">光头顶上些微积雪竟未及化去。</span><br><span class="line"></span><br><span class="line">    曹之其佩服他的武功，曾西行拜会。两人先谈佛法，再切磋武功。比试结果谁</span><br><span class="line">也不知，大概是不分胜负。但据说剑圣曹之其身上没有带剑，只使了“三法印”与</span><br><span class="line">“青阳莲花掌”。</span><br><span class="line"></span><br><span class="line">    所以，素扎巴曰：“和尚修心，不分别心。悟空，灵台明净，然不足除一切见。</span><br><span class="line">余执拗刻意之心非空。余之武功如转轮有质有形，虽可无敌，却不如佛之光轮，战</span><br><span class="line">必胜。”从此不出寺门。今日突然来到中原，想是武功大成，有恃无恐。</span><br><span class="line"></span><br><span class="line">    素扎巴不理会辈份。他有句名言：排辈份，不如讲轮回；讲轮回，不如讲涅盘。</span><br><span class="line">前世今生，比较年龄没有多大意思。</span><br><span class="line"></span><br><span class="line">    九华派三位大侠无心与之交手，可无法不理会他的叫阵。东阳桢下楼。“喂，</span><br><span class="line">你不必下来。你打不过我的。”</span><br><span class="line"></span><br><span class="line">    东阳桢加快脚步。“你并未发火，却很在意我的言语。经不过激将，过于冲动，</span><br><span class="line">枉为曹之其徒孙。为何不可由我上楼？为何要与一位轻视自己的人比武？”</span><br><span class="line"></span><br><span class="line">    东阳桢心头一震，师祖也曾跟他说过类似话语。施湛露却想，下不下楼有何区</span><br><span class="line">别，胜负成败有何干系。他如此张狂，枉为佛爷。</span><br><span class="line"></span><br><span class="line">    夏国剑着实不愿多树强敌，道：“大师，你既与师祖相熟，便是我们的长辈了。</span><br><span class="line">晚辈不才，不敢与大师交手。更何况，昨晚此处闹鬼，害死了不少武林同道。强敌</span><br><span class="line">旁伺，晚辈哪还有闲思余暇？”不愧是大镖头，他的口才在同门中相当突出。他有</span><br><span class="line">意提到昨晚之事，希望能引起素扎巴的兴趣，多一个帮手，多一条生路。</span><br><span class="line"></span><br><span class="line">    素扎巴张口大笑，脸上尽是不屑的神情。独孤寒抢至前头，一剑疾迅刺出。</span><br><span class="line"></span><br><span class="line">    胡不归见素扎巴言行举止，心中更不怀疑他是凶手。只是不明白这番僧如何知</span><br><span class="line">道《悟剑谱》便在东阳桢等人身上。他不使剑，也不象是个见猎心喜、拾人牙慧之</span><br><span class="line">人。以他现在的武功，纵曹之其复生，亦未必能胜。要《悟剑谱》何用？莫非抢谱</span><br><span class="line">仅是借口，意在折辱九华派？</span><br><span class="line"></span><br><span class="line">    素扎巴信手出掌，道：“你要替他们出头？你很有斗志。我少时最喜辩论，很</span><br><span class="line">是好强……。”</span><br><span class="line"></span><br><span class="line">    “你输了，他死了。这便是你所说的好强？”独孤寒沉声道。</span><br><span class="line"></span><br><span class="line">    素扎巴不语，脸色如常，掌力却加大。灯笼里烛影摇红，两人衣裳皆已鼓起。</span><br><span class="line"></span><br><span class="line">    一般而言，人们年纪大了，内力都会衰退。他们的内功修为可能会老来成精，</span><br><span class="line">但却无法全部发诸于外变成拳掌上的力量。老人们的内功一半得用于苛延残喘、维</span><br><span class="line">持生命活力，只剩另一半可用于对敌。老人们面对这种残酷的事实，为了保住自己</span><br><span class="line">的生命与地位，只好编造了一个童话：内力等于内功，老年人的内力最是雄厚。由</span><br><span class="line">于每个人都有老的那一天，再加上中华民族尊老的优秀传统，武林接受了这个美丽</span><br><span class="line">的、冬天的童话。</span><br><span class="line"></span><br><span class="line">    素扎巴面容显老，年龄不到六十岁。他的内力委实惊人，可成为那则童话的例</span><br><span class="line">证。双掌如大铁锤般笨拙地横扫直砸，带起的劈空之声令人想到昨日百年难遇的台</span><br><span class="line">风。若非厅堂甚大，只怕要柱倒楼塌。</span><br><span class="line"></span><br><span class="line">    这便是乌斯藏的绝艺“龙象般若功”了。它与明教的“大象无形掌”一样掌力</span><br><span class="line">雄浑，有中土汉唐气象。所不同者是：它不工无巧，声威浩大；而大象无形掌如雪</span><br><span class="line">象涉河，古朴凝滞，不可捉摸。</span><br><span class="line"></span><br><span class="line">    此刻场外所有人都信了他便是那乌斯藏第一高手素扎巴。</span><br><span class="line"></span><br><span class="line">    独孤寒不敢退一步，因为一退便不可收拾。他使千斤坠，出剑尤如逆水撑篙，</span><br><span class="line">插在河水深处，借力前行。他的眼睛已经张不开了，一脸弊得通红，呼吸困难，心</span><br><span class="line">跳急促。</span><br><span class="line"></span><br><span class="line">    素扎巴双掌递不到他身上，甚至不敢挨近利剑。但比试已分出了高下。独孤寒</span><br><span class="line">有余力逃生，却无法勉力支撑下去了。素扎巴的掌力如雪崩阵阵，势不可缓；又如</span><br><span class="line">脉息汩汩，平和无衰绝之象，似乎可以掩埋一切，窒息一切。</span><br><span class="line"></span><br><span class="line">    独孤寒往斜地里一闪，右脚前踏，长剑强行挺入，抖手间刺出四剑。他有意将</span><br><span class="line">步法加快，剑招加速，展开抢攻，将局面搞乱，令素扎巴无法肆无忌惮地发挥掌力。</span><br><span class="line">这个策略立马见效。独孤寒满场游走、穿插；素扎巴反应较慢，转身不易，优势逐</span><br><span class="line">渐丧失。</span><br><span class="line"></span><br><span class="line">    激战中，独孤寒使一记妙招，长剑脱颖，迅如奔雷地射出。长剑瞬间近身，素</span><br><span class="line">扎巴不及躲闪、格架，当下赶忙回掌，遥遥抓向独寒持剑的手腕。左肩的空门仍未</span><br><span class="line">填上。</span><br><span class="line"></span><br><span class="line">    在将要得手的那一刻，独孤寒的直觉告诉他有什么地方不对劲。长剑已刺着肌</span><br><span class="line">肤。这时，奇峰突起，疏枝旁出，大和尚的手掌骤地变长，肘关节在本无可能的角</span><br><span class="line">度一折，手掌拍向剑身。这一掌拍实了，长剑脱手。</span><br><span class="line"></span><br><span class="line">    东阳桢忍不住脱口叫道：“天竺瑜珈功！”</span><br><span class="line"></span><br><span class="line">    对于独孤寒而言，似乎没有什么事情会让他感到意外，令他手足无措。他的防</span><br><span class="line">守功夫天下一品。他分明听到了一声关节脱臼的轻响，却来不及防备。</span><br><span class="line"></span><br><span class="line">    长剑直直荡开后，如落叶般下坠。可是叶落归根，独孤寒滑步，右手一捞，竟</span><br><span class="line">又已持剑在手。素扎巴罢手不攻，赞道：“你的武功很好。我要使兵器了。”</span><br><span class="line"></span><br><span class="line">    他身上似乎未藏有什么东西，用什么兵器？独孤寒内力消耗较多，腋下有冷汗</span><br><span class="line">顺着皮肤缓慢流下，有几丝寒意。</span><br><span class="line"></span><br><span class="line">    “我的兵器叫‘光轮刀’，你小心接着。”但见素扎巴念了句真言，双手合印，</span><br><span class="line">搓磨一会，立掌如刀连环劈出。只听得破空历响，不绝于耳。</span><br><span class="line"></span><br><span class="line">    素扎巴四十岁上练成藏北一无名寺院的镇寺之宝“火焰刀”。他糅入密宗大手</span><br><span class="line">印，克服火焰刀纯靠内劲，招式呆滞之弊。要知道火焰刀对内力要求太高，气息周</span><br><span class="line">转不灵，象那连珠弩箭，谈不上招式变化。素扎巴将自己新创的武功唤作“光轮刀”，</span><br><span class="line">取义它如光可及远，似轮可连环击出，是平生最为得意的武功。</span><br><span class="line"></span><br><span class="line">    厅堂中顿时刀气纵横。这刀气薄如蝉翼，集力攻一处，又快又准，有式无形，</span><br><span class="line">端是厉害。独孤寒只能躲闪。这回他后掠丈余，一改先前寸土必争的作风。刀气攻</span><br><span class="line">出二丈，已是强弩之末。</span><br><span class="line"></span><br><span class="line">    素扎巴不料他会即刻退缩，一触即溃，只得迈步从头越。年纪大了，提纵之术</span><br><span class="line">差强人意，素扎巴无法如影附形地追上独孤寒。</span><br><span class="line"></span><br><span class="line">    然而，独孤寒只是靠后掠助跑借力，双足一点，又和身向前扑来。他是在以退</span><br><span class="line">为进，还是飞蛾扑火？在场的观众看得明白，都替他捏了把冷汗。只要素扎巴祭起</span><br><span class="line">光轮刀，身在半空的独孤寒不好躲闪，难免受伤。</span><br><span class="line"></span><br><span class="line">    素扎巴再次住手，神情古怪。独孤寒安然落地。</span><br><span class="line"></span><br><span class="line">    胡不归看不明白了。</span><br><span class="line"></span><br><span class="line">    素扎巴道：“方才我完全可以伤你。”</span><br><span class="line"></span><br><span class="line">    孤寒点头。</span><br><span class="line"></span><br><span class="line">    “你右肋有伤，胜之不武。”素扎巴从小自视极高，无论是佛理，还是武功、</span><br><span class="line">口舌论辩，皆要高出同辈一截。因此，难免自负。象他这种绝顶聪明之人，明知自</span><br><span class="line">负有害，又绝不肯正视自身之自负，依然是一身傲气。他在十多年前未能战胜曹之</span><br><span class="line">其，心中极为不服，争竞之心日盛。</span><br><span class="line"></span><br><span class="line">    独孤寒出剑后，开口说出的那句话令素扎巴心中翻腾不已。先是忿然，再而羞</span><br><span class="line">愧，继而大彻大悟，直似中土禅宗所谓的棒喝。人人心中自有佛性，却敝而不明。</span><br><span class="line">故，顿悟可成佛。</span><br><span class="line"></span><br><span class="line">    店里只闻雨声。众人认定是素扎巴手下留情了。</span><br><span class="line"></span><br><span class="line">    素扎巴道：“要对付我的光轮刀，除非内力胜过我，否则便只剩下一条路可勉</span><br><span class="line">力一试了。曹之其与你都采取了先退后进的法子。方才我见当年故事重演，震惊之</span><br><span class="line">下，自然无心应战。”</span><br><span class="line"></span><br><span class="line">    原来，素扎巴为了胜过曹之其，贪功冒进，决心练成全部十三层的龙象般若功。</span><br><span class="line">可是，早先他练完第九层神功时，已极为吃力，难以为续。历史上鲜有人可练至十</span><br><span class="line">层以上，素扎巴只知道有五人。其中两人练成第十一层神功后，心力衰竭而死。另</span><br><span class="line">外三人只会第十层神功。没有足够的内力修为，勉力支撑，难免油尽灯枯。可是反</span><br><span class="line">过来说，你不练神功，内力又如何会强？</span><br><span class="line"></span><br><span class="line">    况且，第九层以上的神功，纵是当年写书、续书的几位武学大宗师也不会使，</span><br><span class="line">仅是凭空造出，可能是人力所不逮也。素扎巴自忖智慧、内功、佛学不可能比前人</span><br><span class="line">高过多少，有生之年只怕难于独立修成第十层神功。</span><br><span class="line"></span><br><span class="line">    人生最大的悲哀在于：生命是有限的，生命是不可重复的，故而生命之于自然</span><br><span class="line">是虚无的。</span><br><span class="line"></span><br><span class="line">    素扎巴想出了一个取巧的点子。乌斯藏佛教徒中流传着一种武功，叫“无上拙</span><br><span class="line">火空”，能控制脉息、真气、意念。内力可在同门数人之间融汇贯通，合力击出。</span><br><span class="line">素扎巴召集了几名大弟子，借助这无上拙火空，修习龙象般若功。他得了这么多人</span><br><span class="line">的辅助，内力大增，故而跌跌撞撞、勉勉强强练成第十一层神功。</span><br><span class="line"></span><br><span class="line">    依此法子练功极其凶险。别人的内力总不如自己的宛转如意。素扎巴心中有数，</span><br><span class="line">再练下去，只怕大伙儿会一道走火入魔。</span><br><span class="line"></span><br><span class="line">    他这法子，蒙童以冲龄背书诵读即与之相类。四书五经一古脑儿囫囵吞了，真</span><br><span class="line">知大义却是领会不得。待年纪大了，诵背渐差，理解渐强，功课水到渠成。</span><br><span class="line"></span><br><span class="line">    素扎巴的第十一层龙象般若功得打些折扣。内力博大，但不精深；高明，却不</span><br><span class="line">自然；真气偶而不听使唤，不甚连贯。各式“光轮刀”之间有空门。</span><br><span class="line"></span><br><span class="line">    当初，素扎巴与曹之其对敌时，曹之其看出他的光轮刀消耗内力太大，所以假</span><br><span class="line">退谋进，乘隙一击。如今的素扎巴已非当年吴下阿蒙，可历史竟惊人的相似。他的</span><br><span class="line">光轮刀早已更上层楼，威力大增，可老毛病并未根除，仍无法做到绵密无隙。</span><br><span class="line"></span><br><span class="line">    独孤寒仅是看出他的破绽而已，无法击败他。但素扎巴得知曹之其死去十年了，</span><br><span class="line">心中的失望程度不亚于当年战败。</span><br><span class="line"></span><br><span class="line">    更有甚者，他发觉自己多年苦练的神功也不见得能胜过曹之其，心神大乱。曹</span><br><span class="line">之其仍然活在他心中，摆脱不了。</span><br><span class="line"></span><br><span class="line">    譬如，你寒窗苦读大半辈子，待要赶考时，科举取消了。跟着你又发现八股文</span><br><span class="line">根本没用，科举应该取消。第一次，你的前途给否定了。第二回，你的过去、现在</span><br><span class="line">俱已抹杀，你靠什么讨口饭吃？</span><br><span class="line"></span><br><span class="line">    佛经上有许多故事，令人难以置信，甚至可断定它们本来便是假的。但道理是</span><br><span class="line">真的。你并不会嫌恶它们。例如有一则讲到，五百只蝙蝠于一大树上听佛诵经，路</span><br><span class="line">人点火误着树。蝙蝠不愿离去，俱焚身化灰烬，遂成五百罗汉。</span><br><span class="line"></span><br><span class="line">    素扎巴的转变似乎也不可理喻。可老子说，道只能是常人见了大笑的东西。素</span><br><span class="line">扎巴多年佛理积学，自有那个悟性。他想：世人之信佛者多矣，知佛者无几，知佛</span><br><span class="line">而能信佛者，不知道有谁。我佛怜世人忧苦，故而愚之。蝙蝠的可喜在于其化罗汉，</span><br><span class="line">可爱在于其痴，可用在于其假，可惑在于其感人。</span><br><span class="line"></span><br><span class="line">    他不信地狱，不信来生，因而否认了佛性，专心于武学之道。他做不到六根清</span><br><span class="line">净。六根清净则无我无佛。</span><br><span class="line"></span><br><span class="line">    素扎巴现下也未悟得什么，只是心里格外轻松，丢了包袱。信佛而不知佛，知</span><br><span class="line">佛则不信佛，再到不执于信佛，素扎巴经历了这三种境界。他走向客栈大门。</span><br><span class="line"></span><br><span class="line">    胡不归喊道：“大师，你上哪呢？外面很危险。”肯定有人故意将九华派弟子</span><br><span class="line">送剑谱北上的消息透露给素扎巴，将他引来王江泾凑热闹，好混水摸鱼从中渔利。</span><br><span class="line">胡不归想向素扎巴问个清楚。</span><br><span class="line"></span><br><span class="line">    危险在里边。素扎巴答道。他心中渴望活着，却也不害怕死。我没有脸面呆在</span><br><span class="line">店里。他想。皮囊要得，脸面丢不得。我不仅没脸面见那少年，也没脸面见……。</span><br><span class="line">我曾在他面前夸口……</span><br><span class="line"></span><br><span class="line">    危险在里面。夏国剑将自己的真实使命瞒着两位师弟，不是因为信不过，而是</span><br><span class="line">能蒙就蒙。“从来陌生最亲切”，遇人只说三分话，事不关己莫出头。夏国剑花了</span><br><span class="line">四十年学剑，很少使上；甫出江湖四个月学会的生存真义，一直用到现在，无时不</span><br><span class="line">武装着自己。</span><br><span class="line"></span><br><span class="line">    他犹豫着该不该唤伙计去搬尸身。凶手知道内情么？疯子、杏花花信、素扎巴</span><br><span class="line">他们投宿来升，不一定是冲着剑谱来的。会不会有人走漏了印版的消息？安石、从</span><br><span class="line">衡、平振振故意将消息放出，以求借刀杀人？</span><br><span class="line"></span><br><span class="line">    夏国剑一凛。疯子白痴他又上哪了？糟了！夏国剑害怕疯子抢先摸走印版。</span><br><span class="line"></span><br><span class="line">    由于素扎巴的出现，人们暂且忘了那杀人的鬼叫声。然而，它立马回来了，尖</span><br><span class="line">叫着将恐怖复辟。</span><br><span class="line"></span><br><span class="line">    疯子上地府了。前院的高手们如是想。疯子房中无人。后院传来一声鬼叫，一</span><br><span class="line">声女子惨叫，想是那位妓女一道遭殃了。</span><br><span class="line"></span><br><span class="line">    凶手若真的是鬼，人人面临着道德审判。因为鬼不会也不敢害好人（？）。如</span><br><span class="line">果凶手不是鬼，凶手激发了大伙人性恶的一面。</span><br><span class="line"></span><br><span class="line">    长夜漫漫，雨声沙漏一般，人们麻木疲倦。施湛露倚在在母亲肩上，轻声道：</span><br><span class="line">“娘，他不是武痴么，怎会放弃观看两大高手过招的机会呢？”</span><br><span class="line"></span><br><span class="line">    这小姑娘当真是冰雪聪明。胡不归受了启发。疯子是杏花右邻。他造访过安石、</span><br><span class="line">平振振。在悍棒四人死前，他挑斗独孤寒。他不是凶手，但其中必有蹊跷。他可能</span><br><span class="line">没死，只是隐去。这是否意味着会有什么毒计暗算这儿的人们？</span><br><span class="line"></span><br><span class="line">    胡不归相信他那腌制多年，风味颇佳的预感，于不疑处听惊雷。大厅的灯笼内</span><br><span class="line">有毒？这儿空间太大，毒气易失效。凶手会不会引来大水，将客栈淹没？</span><br><span class="line"></span><br><span class="line">                               六、 启蒙</span><br><span class="line"></span><br><span class="line">    恩格斯说，恶乃历史发展之动力，此为更伟大的真理。</span><br><span class="line"></span><br><span class="line">    是魔鬼引诱人类尝了智慧之果。</span><br><span class="line"></span><br><span class="line">    如果全部观众退场，主角便得上台谢幕。胡不归有了主意，道：“独孤寒，敌</span><br><span class="line">暗我明，殊为不利。小船应该还在，咱们索性也离开这儿。”</span><br><span class="line"></span><br><span class="line">    独孤寒忍不住瞥了施湛露一眼。两人打开店门，冷风挟着雨丝迎面袭来。</span><br><span class="line"></span><br><span class="line">    从衡急了，嚷道：“胡大人，请留步。咱们不能让凶手个个击破。难道你不设</span><br><span class="line">法替悍棒报仇么？”胡不归埋头不理。</span><br><span class="line"></span><br><span class="line">    又是一声历历的鬼叫，殿后的是铁器来回刮咬铁器般的令人烦躁恶心呕吐的尖</span><br><span class="line">锐的笑声。九华众弟子不由抓紧剑把，四处打量，不知是由恶梦醒来，还是正步入</span><br><span class="line">梦魇。</span><br><span class="line"></span><br><span class="line">    一物施施然走出，大大咧咧地往柜台上一坐，道：“你们这些徒有虚名、胆小</span><br><span class="line">怕事的高手，真令我失望。”他一袭白衣，中年，普通模样。“你们居然也以为店</span><br><span class="line">里闹鬼。唉，不做亏心事，不怕鬼敲门。名门正派的弟子俗鄙至此。”他连连摇头，</span><br><span class="line">对众人正眼不看。</span><br><span class="line"></span><br><span class="line">    “世上有神无鬼，你们既然是人，我便是神。世上庸人太多，社会是活埋他们</span><br><span class="line">的风水宝地。他们的命运注定要被愚弄。象猪一样蠢的人们不懂得尊重生命。我只</span><br><span class="line">好替天行道，代劳杀人。”</span><br><span class="line"></span><br><span class="line">    “我杀人，先慢慢地、好好地折磨他们一番，一如小猫戏弄老鼠。要令他们知</span><br><span class="line">生畏死，令他们忏悔，方是一种杀人的艺术。人们相信造物主，我相信我就是造物</span><br><span class="line">主。造物主可以造人，便可以毁人。同类不可相残。嘿，我是神，人神非同类。”</span><br><span class="line"></span><br><span class="line">    “人活着，要旨便是放肆；人死后，要旨与我无干。”他并非恶鬼。施湛露觉</span><br><span class="line">得他讲的是人话，有道理。对错是另外一回事。</span><br><span class="line"></span><br><span class="line">    胡不归也很悠闲，拉过一张凳子坐下，笑道：“人不人、鬼不鬼，半仙凌迟，</span><br><span class="line">你用的还是五年前的老皇历吧。我承认，生命轻贱，轻贱到不值得人去灭它。有时，</span><br><span class="line">怜悯、同情、宽恕才是优越、成就、智慧的标志。”</span><br><span class="line"></span><br><span class="line">    凌迟？众人惊惧。会不会五通神都来了？</span><br><span class="line"></span><br><span class="line">    凌迟认真听着，道：“有道理。我是在自我凌迟。我发觉在这个世界，优越、</span><br><span class="line">成就、智慧同生命一般无意义。你自我感觉良好，对猪们毫无影响。”</span><br><span class="line"></span><br><span class="line">    “退隐五年，我一人未杀，远离人世。人世也未变好。世人不但不入我眼，而</span><br><span class="line">且碍我牙眼。凭什么要我替他们着想，要他们替我着想。”</span><br><span class="line"></span><br><span class="line">    施湛露躲在门边，离得老远，细声细气地说道：“娘，他叫凌迟，是否讥讽世</span><br><span class="line">人没有脑袋，徒有手足。”凌迟是酷刑，先斩去手脚、剐肉，再而斩首。犯人尚有</span><br><span class="line">思想，因而有无能为力、不同于死亡的痛苦，痛不欲生、求死不得。</span><br><span class="line"></span><br><span class="line">    她的声音极微，凌迟却听到了，看了她一眼，语调缓下。“你们都已活不到天</span><br><span class="line">亮。我给你们讲个故事，好教你们死而无憾。或者令你等羞愧难当，只求速死。当</span><br><span class="line">然，现今人们的脸皮厚如棺材板，思想却如焚烧后的纸钱。”</span><br><span class="line"></span><br><span class="line">    “我根本不是冲着剑谱或者财宝而来。名利于我如浮云。我一向认为官府是世</span><br><span class="line">上最大的怪胎，它的存在只是由于它已无法不存在。它是为了对付强者而设立的，</span><br><span class="line">却只能吓唬弱者。”凌迟当过教书先生，有好为人师的习惯。</span><br><span class="line"></span><br><span class="line">    “我一向认为‘借刀’那些杀手拿钱杀人，仅是个幌子。杀人尚且做得，抢钱</span><br><span class="line">有啥不可？那样来钱快，风险少。他们当杀手同样是为了追求杀人的快感！所以，</span><br><span class="line">这次我帮明教做事，是不要报酬的。明教弟子令我感动之处在于：他们以反抗来坚</span><br><span class="line">持信仰，内心却能够保持平静；勇于杀人，也不惧死。”</span><br><span class="line"></span><br><span class="line">    众人都觉得凌迟有些不正常。他脸上也很平静，言语却极是偏激。</span><br><span class="line"></span><br><span class="line">    “一片瓦那三人被我于睡梦中点了穴道。他们死后身上为何会没有伤痕呢？理</span><br><span class="line">由很简单，有是有，你们瞧不出来罢了。我以灵犀指之‘心有灵犀一点通’将九寸</span><br><span class="line">长的银针由左臂下之肢窝刺入，挑断心脉。然后再行解穴。给死人解穴，你们没听</span><br><span class="line">说过吧。”</span><br><span class="line"></span><br><span class="line">    “人刚死时，气血尚在运行，自然还有穴位之说。肢窝之处毛发多，针眼又细，</span><br><span class="line">不易查找。由于蕴了内力，动作快，不会出血，没有痛苦。所以他们得到了解脱，</span><br><span class="line">脸色平和。”</span><br><span class="line"></span><br><span class="line">    施湛露很用心地听着，却难于全神贯注。她发觉自己在作茧自缚，在这雨天尘</span><br><span class="line">世，幻想搭了座神话小屋。我很幼稚，刚对人家有了丁点好感，便想入非非，编造</span><br><span class="line">了他的种种好处，对自个进行假想的情感操练与折磨。</span><br><span class="line"></span><br><span class="line">    胡不归面无表情。凌迟会站在明教那一边么？他向来不买任何帮会门派的帐，</span><br><span class="line">天马行空，野鹤闲云。明教中高手众多，人才济济，用得着由凌迟代劳么？</span><br><span class="line"></span><br><span class="line">    胡不归想不出其它理由。旁人大概已相信了。因为凌迟把眼前这些人看成瓮中</span><br><span class="line">之鳖，落网之鱼，正在披露他的杀人经过。他与明教无仇，他没有必要向临死之人</span><br><span class="line">说谎。</span><br><span class="line"></span><br><span class="line">    店内空寂。普通的房客们大概又已进入梦乡了。庸人真好。</span><br><span class="line"></span><br><span class="line">    “杏花花信自己不长眼，在第一宗命案发生后，夜间开窗，观察外边动静。她</span><br><span class="line">担心有人冲着她的珍宝而来。当时我在外头走动。她大概猜到我便是凶手，自恃武</span><br><span class="line">功高，竟然不喊不叫，不躲不逃，装作没看见。”</span><br><span class="line"></span><br><span class="line">    “我知道无法速取，便放出一只小咬。小咬产于西域阿尔泰山区，可咬死乌鸦，</span><br><span class="line">咬伤耕牛，端是厉害。七巧唐图多年前费了极大的心血，培育出一种带有剧毒的小</span><br><span class="line">咬。它咬人可致死，又不会令瞳孔缩小，不会在死者身上留下中毒的痕迹。伤口处</span><br><span class="line">只有一小块红肿。”</span><br><span class="line"></span><br><span class="line">    夏季雨天，蚊子还很凶，为了躲雨都在店中歇脚。众人不由得倒吸一口冷气，</span><br><span class="line">各自留心。“小咬出没无声，衣物挡它不住。可它咬人之后，自个也得同归于尽。</span><br><span class="line">饲养、保存、携带均相当不易。否则，当年唐图怎会落入官府手中？他研制小咬是</span><br><span class="line">为了杀回四川老家。天下的死暗器唐门已发挥至极致，唐图想以活的暗青子将他们</span><br><span class="line">比下去。”</span><br><span class="line"></span><br><span class="line">    只是，唐图刚出狱，凌迟哪弄的小咬？“五年前，他把小咬们交由我掌管。此</span><br><span class="line">刻，恐怕连唐图本人都经不起这些小东西的热烈欢迎。”</span><br><span class="line"></span><br><span class="line">    “小咬咬伤了杏花之后，她吃疼，却不敢叫出声，也未立即毙命。她只关窗以</span><br><span class="line">防小咬入内。她大概是没料到小咬如此厉害，自己将有性命之忧，又不愿惊动胡不</span><br><span class="line">归胡大捕快，不敢声张。我透过窗缝看到她的垂死挣扎。在她忍不住失声呻吟时，</span><br><span class="line">我历叫一声，将它盖过。哈哈，如此她便死在门窗由内扣上的密室之中，真是天助</span><br><span class="line">我也。”</span><br><span class="line"></span><br><span class="line">    “如果你们问我，如何知道她便是花信。原因很简单。迷神引与我臭气相投。</span><br><span class="line">我从他那儿，知晓了一些下三滥的伎俩。白天，杏花已落入我眼中。”杏花花信敢</span><br><span class="line">在凶案发生之后开窗，见到夜行人也不声张，自非常人。</span><br><span class="line"></span><br><span class="line">    “我迅速摸到西北后院。这回杀人全不费力，迷局之布置可是大费苦心。我点</span><br><span class="line">了三山帮众的穴道，然后如法炮制，用银针将他们一一刺死。只留下一个活口，一</span><br><span class="line">粒棋子。”</span><br><span class="line"></span><br><span class="line">    “我喂给那人一颗药丸，吓唬他那是慢性毒药，要他好好与我配合。他本非善</span><br><span class="line">类，见识了我那过人的手段，大惊之下，唯唯喏喏。说谎似乎也很在行，不需要我</span><br><span class="line">如何教他。我又拿出另一个黄豆大小的蜡封丸子，要那个笨蛋将它塞在牙缝，听到</span><br><span class="line">鬼叫声一起，便暗地里咬破表皮，吞入肚中。如此方可躲过我施放的毒气。”众人</span><br><span class="line">皆已猜到，第二粒丸子才是真正的烈性毒药。</span><br><span class="line"></span><br><span class="line">    “这家伙很听话，也不疑心我在骗他。所以他便在八位高手面前莫名死去。你</span><br><span class="line">们束手无策，惊恐万状。哈哈哈。”</span><br><span class="line"></span><br><span class="line">    “至于灯笼中的‘灰心丧气’之毒，也不如何难于布下。那个灯笼原本挂在墙</span><br><span class="line">上，无人搭理。司空见惯等人乃是死于毒气。”</span><br><span class="line"></span><br><span class="line">    “胡不归有本事瞧出三山帮的小笨蛋死于急性剧毒。但是，一来他只留心那人</span><br><span class="line">是否是以龟息功装死；二来此时传出安石、平振振的死讯，自可转移你们的视线。</span><br><span class="line">你们可能不知道，世上有不少毒药是用银针绝计试不出来的。瞳孔可能不会缩小，</span><br><span class="line">可能不会反胃呕吐，抽筋或者昏迷、高烧。”</span><br><span class="line"></span><br><span class="line">    “既然连他自个都死了，你们自不会怀疑他的鬼话。闹鬼的念头深入人心。”</span><br><span class="line"></span><br><span class="line">    “凌迟，我不相信‘五通神’中只有你一人在这店中。”胡不归微笑道，“我</span><br><span class="line">猜到了安石、平振振片刻间丧命的奥秘所在。若非迷神引、唐图等人帮忙搭台，你</span><br><span class="line">一人无法充当台柱唱戏。天下人不识哭夜郎、丁令威、凌迟的真面目。我有理由怀</span><br><span class="line">疑，你是三位一体。甚至于，‘五通神’实际上只有你一人。唐图他们四个是你的</span><br><span class="line">化身，或是你的帮凶手下。”</span><br><span class="line"></span><br><span class="line">    凌迟道：“胡不归，你第一个推断小瞧我了。第二个推断又着实抬举我了。这</span><br><span class="line">姑且不谈，我想听你说说平、安之死。”</span><br><span class="line"></span><br><span class="line">    “你们先已潜入他俩的房间，出其不意暗算得手。平、安被放倒后，迷神装扮</span><br><span class="line">成安石的样子开门见客。由于迷神的化装之术相当高明，大家都看不出破绽。你想</span><br><span class="line">让我们认为平、安二人死于鬼叫的瞬间，值门外有三大高手关切、守望之际。只有</span><br><span class="line">闹鬼的可能，否则无法解释。此时，再听得司空见惯四人之死讯，还怕我们不发疯</span><br><span class="line">发狂么？”</span><br><span class="line"></span><br><span class="line">    “安石这家伙平日里趾高气昂的，谁也不愿正眼瞧他。当时灯光也不是很明亮，</span><br><span class="line">疯子三人与他不算相熟，不易识破。‘安石不出，苍生怎办’。呸，他只会自吹自</span><br><span class="line">擂。安石其实未出房门，你们这些苍生无所适从。”凌迟道。</span><br><span class="line"></span><br><span class="line">    “凌迟，你从哪儿偷得一双新鞋，换在毕敬脚上。你分明早有预谋，盯上了那</span><br><span class="line">样东西。”胡不归道。夏国剑本来神色渐好，刚有点血色，听得此言，手脚酥麻，</span><br><span class="line">脑门剧痛。庄票印版落入半仙凌迟手里，自然无法追回了。</span><br><span class="line"></span><br><span class="line">    “山贾会的老财、徽商帮的富商只对钱有共同的兴趣。六大高手凑到一块，那</span><br><span class="line">东西的价值可想而知。我想将它送与明教，当做顺水人情。”</span><br><span class="line"></span><br><span class="line">    “我在给毕氏兄弟搜身时，心中不知那会是什么宝贝。两人的鞋子一模一样，</span><br><span class="line">里面空空如也。我把它们拿到手中掂了掂，发觉它们轻重不一，自然就识破机关了。”</span><br><span class="line"></span><br><span class="line">    夏国剑的脸色愈发难看，双唇颤动着，终未说出一言半语来。凌迟仰天长笑，</span><br><span class="line">道：“你们还有什么地方不明白么？没有问题的话，我不奉陪了。游戏结束，你们</span><br><span class="line">去死吧。”他翻身跃起，掷出两团弹丸。顿时，楼上楼下厅堂中弥漫了两团薄薄的</span><br><span class="line">轻雾。</span><br><span class="line"></span><br><span class="line">    在场的高手早已屏气凝神，小心戒备。九华年轻一代的弟子有些慌乱，加之内</span><br><span class="line">力不足，难免吸入丁点异气，居然没有不适感。凌迟在跟胡不归交手。</span><br><span class="line"></span><br><span class="line">    独孤寒看着雾逐渐散去。他闻出了大雨过后原野上泥土草根的味道，倍觉亲切。</span><br><span class="line">这不是毒雾。他下意识地寻找一个倩影。当一切清晰如故时，他感受到那对眼眸之</span><br><span class="line">流光溢彩。</span><br><span class="line"></span><br><span class="line">    凌迟显然无意久战。胡不归提防中毒，留了几分内力。在独孤寒看来，他的拳</span><br><span class="line">法胜过那“天保九如拳”名家崔殊先。据说这位小老儿的拿手好戏是“天夺之魄，</span><br><span class="line">神龙飞索”。</span><br><span class="line"></span><br><span class="line">    凌迟冷笑道：“胡大人，小的失陪了。”他急风骤雨般地攻出数招，逼退胡不</span><br><span class="line">归，再而双脚点地，身形曼妙地飞掠出去，顺手还打灭了厅中所有的灯笼。胡不归</span><br><span class="line">没有追下。他居然有些惊恐，失声叫道：“小心小咬！”</span><br><span class="line"></span><br><span class="line">    那两枚弹丸并非毒雾迷药，而是蚊子诱饵？</span><br><span class="line"></span><br><span class="line">    黑暗中，众人都听到了大群蚊子嗡嗡嗡的叫声。</span><br><span class="line"></span><br><span class="line">    胡不归似乎已为小咬围住了。他以“沾衣十八跌”护体，蹦跳着，打一路长拳，</span><br><span class="line">很是狼狈。</span><br><span class="line"></span><br><span class="line">    蚊子不找独孤寒。在他眼前，似乎仍可看到脉脉的秋波。</span><br><span class="line"></span><br><span class="line">    从衡呻吟着，趴倒在地上。九华派众弟子人人无事。小咬的数量不多，专咬内</span><br><span class="line">功高没吸入一丝雾气的高手们。蚊子乃是闻着味道寻人叮人。二三流角色吸入雾气</span><br><span class="line">后，小咬们便憎恶他们身上散发出来的“非人味”。</span><br><span class="line"></span><br><span class="line">    凌迟这一手着实高明：小咬数量有限，与普通人同归于尽划不来；高手们机关</span><br><span class="line">算尽，反误了卿卿性命。老想着上天堂的人，一脚先踏入地狱；相信性本恶的人，</span><br><span class="line">首先得承认自己性本恶。你武功再高，人再机警，也无法做到万无一失，一切努力</span><br><span class="line">都是如此的可笑。老子说得好：牙齿硬，舌头软，人到老时，牙齿会脱落，舌头却</span><br><span class="line">还在哩。</span><br><span class="line"></span><br><span class="line">    凌迟不知又从哪里冒了出来。他只攻击武功最强的胡不归。胡不归危急。独孤</span><br><span class="line">寒静立，猛然闪身出剑，帮他解了燃眉之急。凌迟对这少年有些顾忌，闪身跳开，</span><br><span class="line">扑向楼上的九华派弟子。</span><br><span class="line"></span><br><span class="line">    因为那施湛露的应变能力显然不让须眉。她不知从哪儿掏出火折子，擦出了火</span><br><span class="line">花。火光下，她的同门们要么在驱赶不存在的蚊子，要么呆立当场。</span><br><span class="line"></span><br><span class="line">    正当独孤寒追出时，凌迟一个空翻循去。他若是出手伤了施湛露，便毫无把握</span><br><span class="line">应付孤寒自背后刺来的长剑。</span><br><span class="line"></span><br><span class="line">    厅堂内有柴草烟火味，一个灯笼亮了起来。疯子白痴提灯而立，另一手抓了一</span><br><span class="line">大把冒着浓烟的茅草。天下飞虫都怕烟熏。疯子没逃，也未死。他返身回援，凌迟</span><br><span class="line">望风而逃，小咬们如鸟兽散。</span><br><span class="line"></span><br><span class="line">    从衡死在地上。夏国剑惊魂未定，拄剑而立。方才，小咬倾巢出动之际，施湛</span><br><span class="line">露情急之下，将怀中一小包香粉取出向父亲、师叔头上扬撒。小咬们似乎也害怕脂</span><br><span class="line">粉味，放过了施主等人。</span><br><span class="line"></span><br><span class="line">    时下闺中淑女，除了踏青、扫坟、上香外，极少抛头露面。象她这般知书达礼，</span><br><span class="line">却又练拳习剑，会使火折子的姑娘家，实在找不出几个来。</span><br><span class="line"></span><br><span class="line">    胡不归躺在地上，一动也不动。疯子安顿好几处灯笼，扔了手中茅草，喊道：</span><br><span class="line">“胡捕头，胡不归，小咬走了。你老没事吧，可别吓唬我。”</span><br><span class="line"></span><br><span class="line">    杏花中毒后，不以为意，未及运功逼毒，故而送命。但当小咬不止一只时，运</span><br><span class="line">功疗毒不仅白搭，而且会招来更多的小咬。因为一个一动不动的人会成为蚊子们的</span><br><span class="line">众矢之的。从某种意义上说，死后的从衡帮了九华派的忙。因为他中毒后，气绝身</span><br><span class="line">亡，却依然血热肉鲜，又不会抵挡，吸引了不少小咬。</span><br><span class="line"></span><br><span class="line">    所以，如果胡不归在装死，恰好会弄巧成拙，丧命黄泉。所以，他已经死了？</span><br><span class="line">疯子乃至所有人都不敢相信。疯子走近尸身正待说话，胡不归抖出一条黑铁索当头</span><br><span class="line">砸来。</span><br><span class="line"></span><br><span class="line">    疯子双手将铁索抓住。可铁索旋身，如蛇尾一般将他双手缠牢了。胡不归站起。</span><br><span class="line">疯子单脚踢出，被缚的双手一指天，一指地，作狮子吼：“天上地下，惟我独尊。”</span><br><span class="line">啷啷数声，神龙飞索居然为之挣开。</span><br><span class="line"></span><br><span class="line">    胡不归闪过拐子腿，迎着震耳欲聋的狮子吼，双手握爪，急探疯子脑侧的“率</span><br><span class="line">谷穴”、前胸的“乳根穴”、手上的“曲池穴”、腿间“居了穴”。疯子一个肘锤</span><br><span class="line">撞在他胸前，一个单鞭挂上他左臂，自个却已瘫倒。胡不归连连咳嗽，踉跄几步，</span><br><span class="line">显是受了不小的内伤。</span><br><span class="line"></span><br><span class="line">    这一变故更为突然。独孤寒忘了下楼，施主不顾身上香气袭人。不管疯子为人</span><br><span class="line">如何，方才他可是帮了大忙呀。如果他也是凌迟一伙的，似乎没有必要将小咬熏走，</span><br><span class="line">他们早已胜券在握了。</span><br><span class="line"></span><br><span class="line">    “胡不归，你在搞什么鬼？”疯子大声嚷道。</span><br><span class="line"></span><br><span class="line">    “哭夜郎，或者叫你白痴，戏已经演完了，还不卸下油彩么？”哭夜郎是五通</span><br><span class="line">神中武功最高的一个。</span><br><span class="line"></span><br><span class="line">    “你一定很奇怪我装死时居然不怕小咬上身。我从小体胖怕热，于是乎便练习</span><br><span class="line">一种至阴的内功，叫‘心静自然凉’。它本是用来克制走火入魔后的燥热的。能令</span><br><span class="line">心念静下，血液冷下。我冒险一试，体温内敛，蒙住了那些小咬。”</span><br><span class="line"></span><br><span class="line">    “我知道蒙不了你。但你武功本不如我，虽然有所防备，仍然折在我手下。我</span><br><span class="line">以‘天干地支拘劾鬼神点穴法’拿了你四处穴道，天下只我一人解得。”</span><br><span class="line"></span><br><span class="line">    “哭夜郎，你的佛门狮子吼着实了得，依稀可见当年哭夜的风采。”</span><br><span class="line"></span><br><span class="line">    暗里走出几人，凌迟当先，他在鼓掌。事情已然明朗。凌迟一伙最想杀的人乃</span><br><span class="line">是胡不归。因为胡不归怀疑五通神齐集王江泾，且不相信其背后主使是明教。为了</span><br><span class="line">除掉心腹大患，为了嫁祸明教，五通神都必须让胡不归消失。</span><br><span class="line"></span><br><span class="line">    只要九华派门下有那么几个人逃生，疯子出来“吓跑”凌迟后，编造一番言语。</span><br><span class="line">谁也不会与死去的胡神捕看法一致。三山帮、一片瓦、九华派、徽商帮、山贾会、</span><br><span class="line">昆仑派、青城派、官府都将这笔帐记到明教头上。</span><br><span class="line"></span><br><span class="line">    凌迟费了这么大的力气故弄玄虚妄杀无辜，原来不全是为了过瘾，不全是为了</span><br><span class="line">得到徽商帮的东西。这里头有个阴谋。人们很难想象得意忘形、胜券在握的凌迟会</span><br><span class="line">对着一群将死的人说谎。</span><br><span class="line"></span><br><span class="line">    凌迟主动吐露杀人真情，再不惜牺牲珍贵的小咬，假装要一网打尽，杀人灭口，</span><br><span class="line">仅是为了让人们唾弃明教，仇视明教。明教原本与五大门派有仇，明教无恶不作，</span><br><span class="line">明教与五通神合作，将给武林带来新的灾难……。说话有条有理，慢条斯理，全无</span><br><span class="line">隐瞒，毫无愧色的凌迟，怎会在洋洋洒洒、引人入胜的故事中插入一小句谎言呢？</span><br><span class="line"></span><br><span class="line">    直至此时，除了有数几人，大伙还是认定明教参与了昨晚之事。</span><br><span class="line"></span><br><span class="line">    凌迟左边那人也着白衣，一脸苦相，想是那“有鸟有鸟丁令威”。</span><br><span class="line"></span><br><span class="line">    《续搜神记》载：辽东城门有华表柱，有白鹤集其上，言曰：“有鸟有鸟丁令</span><br><span class="line">威，去家千年今来归。城郭如故人民非，何不学仙冢累累。”</span><br><span class="line"></span><br><span class="line">    右首有二人，一玄服，矮胖，一脸麻子，手中玩着一副七巧唐图。另一人直盯</span><br><span class="line">着施湛露，很斯文地笑着。他白净无须，背上有个包袱，道：“在下迷神引，名声</span><br><span class="line">不太好，为人其实不错。”</span><br><span class="line"></span><br><span class="line">    凌迟也笑道：“想不到，我们五通神五年来第一次联袂出手，便遭小挫。”</span><br><span class="line"></span><br><span class="line">    哭夜郎心下叹道：自己哪儿露出了破绽？</span><br><span class="line"></span><br><span class="line">    五年前江湖上还没有疯子白痴这个人。哭夜郎的声名正如日中天。他与凌迟一</span><br><span class="line">样，有自己的杀人标志。他使的是一张止夜哭状，上书：天黄黄，地皇皇，我家有</span><br><span class="line">个哭夜郎；君子路过念三遍，一觉睡到大天光。月黑风高，杀人放火，满门抄斩是</span><br><span class="line">他的拿手好戏。止夜哭状会在天黑前送至倒霉的那户人家手中。然后，不管他们如</span><br><span class="line">何躲、逃、防，均不免一死。而且，据说想自个寻死都不成。</span><br><span class="line"></span><br><span class="line">    “疯子并未露出马脚，只是老狐狸疑心太重，草菅人命。”迷神引正义凛然地</span><br><span class="line">说道。</span><br><span class="line"></span><br><span class="line">    胡不归点头。他确实没有多大把握，但五成足矣。</span><br><span class="line"></span><br><span class="line">    “他们确实走了么？他们倒是挺在乎伙伴的生死。”施湛露莞尔一笑，天真地</span><br><span class="line">说道。</span><br><span class="line"></span><br><span class="line">    天干地支拘劾鬼神，没有十二时辰穴道不会自解，不到十六个时辰无法恢复内</span><br><span class="line">力。凌迟四人没有把握胜。胡不归这人的武功深不可测。独孤寒也令人放心不下，</span><br><span class="line">方才唐图的眼睛就没从他身上挪开过。唐图有种预感：我中剑时，只怕七巧板尚不</span><br><span class="line">及出手。</span><br><span class="line"></span><br><span class="line">    九华派历经大变，全无损失。也许他们损失了颜面，见识了世面。没人担心五</span><br><span class="line">通神会将大小船只解缆放走，只盼着“纸船明烛照天烧”，将瘟神送走。</span><br><span class="line"></span><br><span class="line">    夜将尽，雨渐小，独孤寒背向着施湛露下楼。</span><br><span class="line"></span><br><span class="line">    施主身上还沾有雪白的香粉未。一个跑堂的伙计过来，拿着毛巾要帮他擦拭。</span><br><span class="line">施主挥手叫他不必过来，顺势一摸胸口，不由跺脚暗叫“糟了，苦也！”</span><br><span class="line"></span><br><span class="line">    剑谱不见了！莫非在方才灭灯之际，为人趁乱偷走。那时他处于本门众弟子中</span><br><span class="line">间。</span><br><span class="line"></span><br><span class="line">    独孤寒似乎猜知他的心思，回头道：“是他。”剑指伙计。那人慌了，脚底抹</span><br><span class="line">油，正要滑出，长剑暴长二尺，抵在胸口。独孤寒欺身掏出一个大信封。</span><br><span class="line"></span><br><span class="line">    独孤寒很奇怪自己居然也会多管闲事。施主等人却在奇怪：此人尚未近身，如</span><br><span class="line">何能偷去剑谱？</span><br><span class="line"></span><br><span class="line">    “小的不知道它怎会在小的怀中。”</span><br><span class="line"></span><br><span class="line">    “你身上也有香味。”孤寒道。挨近施主，伸手入怀掏物，自然会沾上几丝脂</span><br><span class="line">粉气。“如果小的偷书，小的还敢返身回来么？难道不怕大侠们怀疑么？”小伙计</span><br><span class="line">说的也有道理。</span><br><span class="line"></span><br><span class="line">    施主将大信封审视一番后，肃声道：“封口是重新粘上的。夏师兄，东阳师兄，</span><br><span class="line">咱们打开瞧瞧？”师训不可学剑，但没讲不可开封。</span><br><span class="line"></span><br><span class="line">    信封里有本线装册子，有些年代了，略微泛黄。可是上面每一页都是白纸！</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> 第四章 吴中本是老子经行处</span><br><span class="line"></span><br><span class="line">                             一、 诸神退位</span><br><span class="line"></span><br><span class="line">    泰山崩于前而色不变。此人定是面部神经萎缩。所以，尽管夏国剑、施主、东</span><br><span class="line">阳桢修习的是佛门内功心法“三法印”，讲究“诸行无常，诸法无我，涅盘寂静”，</span><br><span class="line">仍不免齐齐动容。《悟剑谱》被人掉包了！</span><br><span class="line"></span><br><span class="line">    施主头顶冒汗。他倒非害怕承担失窃责任，而是惟恐被师门怀疑为监守自盗。</span><br><span class="line">夏国剑拿过那本线装册子，就火烘晾，再用水沾湿了细瞧。终于，他双眼直盯畏缩</span><br><span class="line">一旁的伙计，东阳桢已站在身后。</span><br><span class="line"></span><br><span class="line">    独孤寒撤剑，感到自己跟那册白纸一般已然多余。施湛露兀自想着：他居然能</span><br><span class="line">嗅出香粉味来。</span><br><span class="line"></span><br><span class="line">    跑堂的伙计忽然从眼前消失。耳边有长剑劈空，衣袂挥动，大喝轻呼之声。施</span><br><span class="line">湛露眨眨眼，见这人已立在厅堂之中。东阳桢、夏国剑显然出手了，却未能将他截</span><br><span class="line">下。施湛露怀疑他才是真正的有鸟有鸟丁令威，否则轻功怎会如此高明。</span><br><span class="line"></span><br><span class="line">    “你们误会了。我根本就没偷剑谱。”他异常镇静。</span><br><span class="line"></span><br><span class="line">    “那你为何要逃走？”夏国剑冷笑着，“以你的身手，自然不怕在掉包时露出</span><br><span class="line">马脚。”</span><br><span class="line"></span><br><span class="line">    “笑话。我为什么要掉包？难道是想嫁祸施主不成？我不掉包，你们又能拿我</span><br><span class="line">怎样？”小伙计的口气变大了。</span><br><span class="line"></span><br><span class="line">    刚运功疗伤完毕的胡不归懒洋洋道：“梁上君子姜太公，别来无恙乎？”</span><br><span class="line"></span><br><span class="line">    九华众人又是一惊。“姜太公在此，诸神退位”，这姜太公是天下第一神偷，</span><br><span class="line">介于正邪之间。与“一点浩然气，千里快哉风”董大友善，都是极为难缠的人物。</span><br><span class="line">江湖中人将他俩并称为“北董南姜，明偷暗抢”。</span><br><span class="line"></span><br><span class="line">    胡不归道：“如果不掉包，一旦九华派发觉剑谱丢失，便会大举搜店。你有把</span><br><span class="line">握躲过我的火眼金睛么？更何况，你未料到独孤寒能识破你的形藏，以为上前掉包</span><br><span class="line">的风险不大，值得一试。”</span><br><span class="line"></span><br><span class="line">    纵使姜太公能从胡不归手里逃出，他也会惹下一身骚。武林中传开他身怀《维</span><br><span class="line">摩诘经变玄机悟剑谱》的消息，只怕会有无数个“周文王”寻上门去。</span><br><span class="line"></span><br><span class="line">    姜太公破口骂道：“老狐狸，你瞎凑什么热闹。方才若非我暗中替你挡了七巧</span><br><span class="line">唐图的‘一针不见血’，你的‘心静自然凉’有个屁用，假死只会变成真死。”</span><br><span class="line"></span><br><span class="line">    其时，民间上大梁，在梁上奉姜太公神位。传说是因为当年姜太公封诸神，惟</span><br><span class="line">独忘了自个，候不着缺。可他又着实是劳苦功高，所以给了他齐地封国不说，还授</span><br><span class="line">予他一个特权：姜太公在此，诸神退位。</span><br><span class="line"></span><br><span class="line">    五通神便是因为他在此地，这才遁去？</span><br><span class="line"></span><br><span class="line">    胡不归默认了。“我本不想插手此事。你死了对我未尝没有好处。大神捕铁面</span><br><span class="line">无私，不会领这份情。却不料你还倒打一耙。”</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    “老实说，我真是冲着宝物来的。但不是九华派剑谱。”姜太公道，“山贾会</span><br><span class="line">找到我，要我从徽商帮处偷出一件东西。酬金着实不菲。”</span><br><span class="line"></span><br><span class="line">    “待我发觉店中另有不少高人，血案频出时，已打算撤手了。犯不着与五通神</span><br><span class="line">结怨。方才灭灯之际，我不由技痒，便从施主身上掏出那个信封。不想，那里头只</span><br><span class="line">是一册白纸。当时我想，难道有人在暗中捉弄我么？抑或有人抢在我前头下手？不</span><br><span class="line">成，我不能替人背黑锅，于是便有璧还之意。”事实上，姜太公也有些怀疑九华派</span><br><span class="line">以假书蒙人耳目，真书仍在施主身上。所以他返身回来，梅开二度。象他这等神偷，</span><br><span class="line">焉有入宝山而空手归之理？</span><br><span class="line"></span><br><span class="line">    施主沉吟，缓声道：“在此之前，剑谱根本就不可能失窃。”</span><br><span class="line"></span><br><span class="line">    姜太公胸有成竹，道：“果真如此，令师给你的本是一册白纸。”《悟剑谱》</span><br><span class="line">名扬天下，曹之其以“剑圣”之尊，难道会开这种天大的玩笑？纵便是那曹老儿老</span><br><span class="line">糊涂，四香阁也不会送一本无字天书给二弟子贺寿。“我开封启口之前，留意到它</span><br><span class="line">未被人动过手脚。……施大侠怀中还有一个信封，内中似乎只有几页纸，想是令师</span><br><span class="line">给李者也的手谕。请拿出来念给大伙儿听听。如果剑谱真是白纸，令师会跟李者也</span><br><span class="line">讲明的。”</span><br><span class="line"></span><br><span class="line">    “否则，便只剩下一种可能。施主你早就将它掉包了。”施主的脸色很难看。</span><br><span class="line">他受不了别人的怀疑。不知为何，他既有愤然拆信大声念出的冲动，又有极大的忧</span><br><span class="line">虑，想一口将信吞下。</span><br><span class="line"></span><br><span class="line">    胡不归道：“方才姜太公确实帮了我一把，但谈不上救命之恩。我跟他打交道</span><br><span class="line">十多年了，他的为人我清楚。小错误不断，大错误不犯。再说，九华派的剑谱于他</span><br><span class="line">有何用？”如果胡不归两不相帮，九华派根本就留不下姜太公。</span><br><span class="line"></span><br><span class="line">    夏国剑三人互望一眼。他们早就闻听了《悟剑谱》的大名，却无缘见识。师父</span><br><span class="line">们也很少谈起。人们掌握的仅为掌故，传说的仅为传奇。师父们做不到“忘掉天台</span><br><span class="line">三千剑”，不想去练剑谱上的剑法。弟子们都会背诵那段极有名的名言，熟悉曹子</span><br><span class="line">语录，从不怀疑剑谱真的存在。</span><br><span class="line"></span><br><span class="line">    东阳桢长声道：“信是给二师兄的，我们如何可以拆看？咱们拳脚上见个高低</span><br><span class="line">吧。”武林信奉的真理不外乎四个字：弱肉强食。制服姜太公，难题迎刃而解。如</span><br><span class="line">果拆信后，个中内容表明剑谱存在。那时，纵拿下偷儿，脸上亦已无光。</span><br><span class="line"></span><br><span class="line">    天似乎亮了，雨声却也歇了。姜太公的神情有恃无恐。夏国剑当机立断，要过</span><br><span class="line">信笺，拆开。他在江湖中混了多年，晓得妥协有时比对抗更有用。</span><br><span class="line"></span><br><span class="line">    施主窃喜，东阳桢面如死灰。夏国剑不动声色，审视着笔迹、文法、语气。他</span><br><span class="line">有些怀疑这信乃是同门伪造的。施主师弟携家下山，会不会……？姜太公没有时间</span><br><span class="line">放回此信，不可能见过师父的墨宝。总而言之，他，夏国剑，死活不相信《维摩诘</span><br><span class="line">玄机悟剑谱》仅是一册白纸。</span><br><span class="line"></span><br><span class="line">    坐忘？嘿，李者也不会相信这番鬼话。好不容易到了拥有剑谱的年龄，却又节</span><br><span class="line">外生枝。棒喝顿悟，惮宗不着笔黑文字，师祖不会如此故弄玄虚吧？大师兄一向自</span><br><span class="line">谦，说什么不到花甲之年必不能窥剑谱门道，坚谢不学。会不会是他在捣鬼？……</span><br><span class="line">夏国剑有点幸灾乐祸，不愿与姜太公翻脸。</span><br><span class="line"></span><br><span class="line">    他的反应很快，当即道：“确实是一册白纸。我师父为了点醒二师兄，训诫他</span><br><span class="line">不可耽于习武。他老人家行事，出乎我们当弟子的意料。此中良苦用心，一时之间</span><br><span class="line">往往无法领受。”</span><br><span class="line"></span><br><span class="line">    姜太公大笑，额上的皱纹使他显得较为老而睿智。</span><br><span class="line"></span><br><span class="line">    胡不归道：“姜太公，昨晚你一直装聋作哑，难道你当真如此惧怕五通神？”</span><br><span class="line"></span><br><span class="line">    “是。单单一个丁令威就够难缠了。”</span><br><span class="line"></span><br><span class="line">    “姜太公在此，诸神退位。你可是犯了他们的名讳。”胡不归寻思着。若能与</span><br><span class="line">独孤寒、姜太公拧成一股劲，五通神不在话下。</span><br><span class="line"></span><br><span class="line">    “我与凌迟交情不浅。他有他不得已的苦衷。”姜太公面容严肃，压下嗓子道，</span><br><span class="line">“有时他的头脑不太正常。但任谁有他这般经历都非得发疯不可。少年凌迟大义灭</span><br><span class="line">亲，亲手刺死了疼爱自己的双亲。后来，他发现道貌岸然的师父更是禽兽不如。他</span><br><span class="line">弑父杀师为武林同道所不容。最后，他对世人失去了信心。”</span><br><span class="line"></span><br><span class="line">    “胡不归，你抓过迷神引、唐图，该清楚他俩的经历吧。迷神引小时是个家奴，</span><br><span class="line">被主人施于宫刑。唐图在唐门时，上下老少没人瞧得起他。族叔们拿他试毒，甚至</span><br><span class="line">于充当暗器靶子。唐门不允他习暗器，所以他只能玩着七巧唐图长大。”</span><br><span class="line"></span><br><span class="line">    胡不归道：“你告诉我这些有什么用呢？每一位人犯都有他们的苦衷。当你理</span><br><span class="line">解了所有人，你便会原谅所有人。……难道昨晚店中惨死之人个个该死么？难道我</span><br><span class="line">胡不归便得割肉饲鹰么？不在江湖，更是身不由己。”</span><br><span class="line"></span><br><span class="line">    “上回黄河改道，凌迟托我带去五十万两庄票。”</span><br><span class="line"></span><br><span class="line">    “根本无济于事，无济于世。五千万两都没用。”</span><br><span class="line"></span><br><span class="line">    姜太公直盯着他，低声道：“可你连一钱银子也舍不得。”</span><br><span class="line"></span><br><span class="line">    胡不归不耐烦了，道：“你在充当说客。其实现在是他们要我的命，我哪里奈</span><br><span class="line">何得了他们。”</span><br><span class="line"></span><br><span class="line">    “最近五通神复出江湖，似乎聚在某一个人或帮会帐下，正准备轰轰烈烈地干</span><br><span class="line">上一把。江南步入多事之秋。”有迹象表明，五通神皆是城隍庙组织的首脑人物。</span><br><span class="line"></span><br><span class="line">    “象凌迟这般狂傲之人，也会听命他人？”</span><br><span class="line"></span><br><span class="line">    “听命于信仰。胡不归，一个绝顶聪明的人会否定某些知识，以便给信仰留个</span><br><span class="line">位置。你们压抑了他们五人五个春秋，免不了要付出代价。”</span><br><span class="line"></span><br><span class="line">    “我姜太公是小偷儿一个，不以天兴亡为己任，不留恋这个哀鸿遍野的社会。</span><br><span class="line">但也不意因为自己不喜欢河底的淤泥、垃圾，便指望老天降下洪水猛兽，从新来过。</span><br><span class="line">有些河流泛滥之后，会留下肥沃的土壤，黄泛区却只有盐碱地。所以，本质上我反</span><br><span class="line">对五通神。”</span><br><span class="line"></span><br><span class="line">    胡不归有些吃惊，士别三日，当刮目相看，老偷儿长进多了。</span><br><span class="line"></span><br><span class="line">    “你不用如此看我。我这个姜太公只合在大街上卖姜鸭。有些话我听自于郑中</span><br><span class="line">孚郑大侠。”</span><br><span class="line"></span><br><span class="line">    胡不归沉吟着。他也不想招惹五通神。只是五通神此番大闹京师，越狱天牢，</span><br><span class="line">如入无人之境，成了皇上的一块心病。天牢看守房微、杜渐武功皆不在他之下，居</span><br><span class="line">然死于非命。御前侍卫总管“丁是丁，卯是卯”丁卯称劫狱之人，很可能包括东岳</span><br><span class="line">帝君沈魂。</span><br><span class="line"></span><br><span class="line">    江南大案迭出，刑案高手半数离京，胡不归、刘连南下。大理寺、京城九门提</span><br><span class="line">督、提刑按察司悉心防范有人趁机闹事。丁卯甚至有个想法：诱贼进京劫狱，聚而</span><br><span class="line">擒之。房微、杜渐吃住均在天牢。单以他二人计，凌迟、哭夜郎、丁令威便无法取</span><br><span class="line">胜。更何况，天牢守卫有近千人之多。所以，很可能是沈魂也参与了劫狱。</span><br><span class="line"></span><br><span class="line">    事情闹大了，几不可收拾，胡不归无法壁上观。弟子沈无名、助手悍棒接连归</span><br><span class="line">西。他对南北二商、五大门派殊无好感，却希望能联合起来共同对付城隍庙。</span><br><span class="line"></span><br><span class="line">    郑中孚的意思是不愿见到他与刘连都死在江南，刑部为丁卯所把持。为什么不</span><br><span class="line">能放手让明教与这股神秘的势力火并？或者，让五通神灭灭徽商帮、山贾会的气焰，</span><br><span class="line">借以打击官商浊流？</span><br><span class="line"></span><br><span class="line">                              二、风雨如晦</span><br><span class="line"></span><br><span class="line">    风雨如晦，鸡鸣不巳。君子，云胡不喜！</span><br><span class="line"></span><br><span class="line">    风停雨止，天色还很早，周乐与谢清发登舟上路。小谢吟诵着诗经中的《风雨</span><br><span class="line">如晦》。周乐则有些心事：给胡不归的信送到了没有？冉苒会在那儿么？李者也的</span><br><span class="line">寿辰上会上演什么样的好戏？</span><br><span class="line"></span><br><span class="line">    “即见君子”，独孤寒算不上君子，剑法却直可君临天下。姑苏五陵年少中以</span><br><span class="line">王堂剑法最高。周乐相信王堂在楚新狂剑下走不过百招。其父王臣，也就是小谢未</span><br><span class="line">来的岳父，王贞吉亲爹，交游广，见识多，脑瓜灵，平江王氏剑得其先祖真传，大</span><br><span class="line">概还可与孤寒一战。胜率估计为零。</span><br><span class="line"></span><br><span class="line">    小谢先看到施湛露，续而才发现孤寒。王江泾的船都被五通神放走了。一干人</span><br><span class="line">都在运河边上等船。姜太公孤身南下。</span><br><span class="line"></span><br><span class="line">    没有人想告诉周、谢昨晚之事，虽说他们记忆犹新。胡不归拉过周乐叙旧。小</span><br><span class="line">谢见猎心喜，无暇多问。独孤寒给晾在一边。</span><br><span class="line"></span><br><span class="line">    四人重上船后，小谢依依不舍，总以为施湛露还在望着自个。几乎有了留在王</span><br><span class="line">江泾的冲动。胡不归正在劝周乐到刑部供职，道：“你不愿当公门鹰犬，但至少也</span><br><span class="line">得看在私人情面上帮我一把。刘连、钟馗、蝙蝠远在金陵。”</span><br><span class="line"></span><br><span class="line">    周乐不置可否。他在刀尖上摸爬滚打多年，在验伤方面是个行家，瞧出独孤寒</span><br><span class="line">身上带伤，眼中极见关切。</span><br><span class="line"></span><br><span class="line">    独孤寒在想，五通神会不会放过九华派。他发觉自己心中惦着那位巧笑倩兮、</span><br><span class="line">顾目盼兮的少女。她不象大家闺秀，又非小家碧玉，清丽可人、聪颖妩媚。孤寒已</span><br><span class="line">然明白，如非为了施湛露，自己不会挂怀一帮陌生人。</span><br><span class="line"></span><br><span class="line">    船到姑苏，上岸时，小谢吟道“绿浪东西南北水，红栏三百九十桥”，象个小</span><br><span class="line">孩一样开心。四人入住城中上好的客栈清嘉馆。胡不归做东，到最有名的松鹤楼摆</span><br><span class="line">了桌酒席，点了松鼠桂鱼、雪花蟹斗、松子东坡肉等姑苏佳肴。</span><br><span class="line"></span><br><span class="line">    不知不觉折腾到了黄昏时分，西南方传来寒山寺钟声。谢清发已有了几分酒意，</span><br><span class="line">叫嚷着要上寒山寺找寒山老和尚。周、胡只好奉陪，孤寒却自回馆歇息。待他走后，</span><br><span class="line">周乐笑道：“如果我不喜欢武学的话，很难想象会与他交上朋友。”小谢摇头晃脑</span><br><span class="line">地道：“我恰与你相反。”</span><br><span class="line"></span><br><span class="line">    “与孤寒在一块，我看到了自己的所有不足。良友镜鉴也。我欣赏他，一如向</span><br><span class="line">往寒山拾得。他就象虎丘塔，值得钦佩。”他吃了两只八宝鸭，喝了花雕、女儿红，</span><br><span class="line">居然还想朝拜黄墙古寺，追仰寒山、拾得。</span><br><span class="line"></span><br><span class="line">    寒山寺名气大，其实不好玩。三人又去了吴中第一峰灵岩山，也不过三四十丈</span><br><span class="line">而已。在灵岩寺中转了个圈，小谢游兴不减，提议上姑苏西北的虎丘。虎丘有云岩</span><br><span class="line">寺塔，有剑池，有“天下第三泉”，为吴中第一名胜。胡不归曾到过姑苏数次，但</span><br><span class="line">行迹匆匆，难有雅兴游山。今晚他乐得忙里偷闲，携酒扶醉上虎丘。出城先见塔，</span><br><span class="line">入寺始登山，虎丘山藏寺里。三人由白莲池转到千人石。小谢指着石上那殷红之色，</span><br><span class="line">大笑道：“阴雨使之然也。千人为禾，故知百姓饥苦。”</span><br><span class="line"></span><br><span class="line">    沿海人民遭罪台风，应该先天下之忧而忧，宴游合适么？周乐勇于放纵自己。</span><br><span class="line">剑池在铁华岩与千人石之间，古木森森，崖壁耸立。天上无月，四下里寂静黑暗。</span><br><span class="line">胡不归小心提防谢清发跌入池中。</span><br><span class="line"></span><br><span class="line">    昨日昼夜大雨倾盆，周乐觉得池水似未上涨。他在姑苏呆的时日不短，知晓此</span><br><span class="line">中传说。当下道：“剑池呈剑状，相传是春秋时期吴王阖闾藏剑埋骨之所，因而得</span><br><span class="line">名。池中据说有不少机关暗道，古往今来不少人下水搜寻宝剑，一无所获。”</span><br><span class="line"></span><br><span class="line">    “干将、莫邪，金凫玉雁，名剑三千把。对于帝王将相，豪侠武士来说，诱惑</span><br><span class="line">力颇大。始皇帝来过此地。前年快哉风董大告诉我，他曾花了一个半月功夫研究池</span><br><span class="line">水的补充、泄漏问题。池水一向干净，必有进水泄洪之道。”</span><br><span class="line"></span><br><span class="line">    “他每个夜间都到天下第三泉，往水中放入许多小木块。结果有不少在剑池中</span><br><span class="line">发现了。这说明剑池水是打铁华岩下，自天下第三泉来的。然后他猜测池水是由千</span><br><span class="line">人石下，流入至白莲池的。于是又买来不少姑苏罕见的小河鱼，一古脑儿丢入剑池</span><br><span class="line">中，然后天天上白莲池边守株待兔。他在那儿找到了几尾翻着白肚的河鱼。”</span><br><span class="line"></span><br><span class="line">    小谢睡着了，样子比醒时斯文多了，鼻息轻微。胡不归仔细听着：“这与寻宝</span><br><span class="line">有何干系？”董大的目标肯定是宝剑。</span><br><span class="line"></span><br><span class="line">    周乐道：“董大干过盗墓贼。他说这条水道如此隐密，如此神妙，必是人工所</span><br><span class="line">为。剑池下说不得真有宝藏。只是池下淤泥不浅，水又深，不容易发现洞口罢了。</span><br><span class="line">他折腾多日，最后悻悻放弃。”</span><br><span class="line"></span><br><span class="line">    两人只是坐着，觉得身边的剑池是有性灵的生物。它在听着。</span><br><span class="line"></span><br><span class="line">    夜已深了，夏虫断续地唱过春秋。千百年来游人如织，却未能令它们绝迹。周</span><br><span class="line">乐看不见剑气，想着唐人古诗《宝剑篇》：虽复掩埋无所用，尤能夜夜气冲天。</span><br><span class="line"></span><br><span class="line">    吴国以剑利胜越，越学铸剑而灭吴？这如同越女剑的传说，如同西施误夫差，</span><br><span class="line">可信么？周乐很好奇，但绝不贪婪。没有钟声，不见明月，他想起了一句话，俳句、</span><br><span class="line">偈语：听静夜钟声，惊醒梦中之梦；观澄潭月影，窥见身外之身。</span><br><span class="line"></span><br><span class="line">    胡不归如老僧入定：田园将芜胡不归？剑池水清兮，可以洗手。</span><br><span class="line"></span><br><span class="line">    有几人正从云岩寺内下来，提着灯笼，边走边谈。听得几句，周、胡均已上心，</span><br><span class="line">寻了个暗处躲下。原来王堂，王家的千里驹也在打剑池古剑的主意。他们一行共七</span><br><span class="line">人，王琛、王玢兄弟也来了，另有雷堂的雷池，墨家的匡宽，及两个贴身小厮。王</span><br><span class="line">家交游甚广，王堂想借匡宽之力识破机关，靠雷池炸石。</span><br><span class="line"></span><br><span class="line">    几个风流少年、世家子弟凑在一块，自然是意气风发，目空一切。墨家古来有</span><br><span class="line">侠义之风，非攻尚俭，敬神去礼，很令人敬佩。到得后世却变味了，如今的墨家已</span><br><span class="line">沦为江湖帮派了，但约束子弟还是较严。</span><br><span class="line"></span><br><span class="line">    王堂俨然为这伙人的领袖，较为老成慎重，先打发小厮四下搜寻，再到外边守</span><br><span class="line">备。他道：“昨日雨大，不知咱们挖开的淤泥是否又填了回去？”王堂不是挖塘泥</span><br><span class="line">的料，周乐甚至没法想象他泅水的模样。可他居然这么干了。</span><br><span class="line"></span><br><span class="line">    去年冬旱，徽商帮李家使了几十个人用木桶提水，再而开挖池底的千年淤泥。</span><br><span class="line">最后，活干得差不多了，大的石洞一个也没发现，徒增笑柄。不过，王堂等人倒是</span><br><span class="line">从中捡了便宜，省了力气。</span><br><span class="line"></span><br><span class="line">    周乐见他们站在剑池北端“剑尖”处，便悄声对胡不归道：“是了，董大也说</span><br><span class="line">最有可能的石室入口应在那儿。王堂倒也非省油的灯。”</span><br><span class="line"></span><br><span class="line">    王堂说道：“独孤寒那小子大概快到姑苏了，搞不到一柄削金断玉的宝剑，我</span><br><span class="line">真害怕与他交手。”王家以剑法见长，孤寒肯定会找上门去。匡宽微笑道：“咱们</span><br><span class="line">已发现了那三角形的洞口。有一个晚上的功夫，我便可识破石室中的机关。”</span><br><span class="line"></span><br><span class="line">    雷池也道：“我们雷堂有一种炸药可在水底爆炸。扫除巨石障碍不成问题。”</span><br><span class="line"></span><br><span class="line">    周乐、胡不归都有点儿吃惊。这些纨绔子弟干得不赖呀，已经发现洞口了！王</span><br><span class="line">堂得意道：“王琛的功劳也不小。如非你在杭州搭理那个姓岑的书呆子，从他嘴里</span><br><span class="line">掏出有关洞口大致方位的推测，咱们也不比李家那帮人强到哪去。”</span><br><span class="line"></span><br><span class="line">    岑寂知古不通今，学识渊博，自能考证出“剑尖”直指墓室、倒执太阿的由来。</span><br><span class="line">这几个月来他出入杭城所谓的士子名流家中，居然凑巧受到王琛青眼。</span><br><span class="line"></span><br><span class="line">    胡不归对宝剑没有多大兴趣。他关心着这班少年的胡闹会不会招来五通神。他</span><br><span class="line">轻手轻脚地“巡山”去了。</span><br><span class="line"></span><br><span class="line">    周乐自己一人独处时，总免不了想想那古里古怪的冉苒。他倚靠在背后巨石壁</span><br><span class="line">上，思绪万千。……好似被石壁推搡一下，他猛然挺身，抬头四望。他隐隐约约听</span><br><span class="line">见了极细微的女子之声。冉苒？</span><br><span class="line"></span><br><span class="line">    周乐的听觉一向过人。这当儿他有些疑惑。是不是想疯了头？难道她在天上么？</span><br><span class="line">他有些明白了，俯身就石倾听。如果她在石壁上方，石壁虽厚却可回音。当下施展</span><br><span class="line">壁虎游墙功，要上去瞧瞧。</span><br><span class="line"></span><br><span class="line">    待快到顶端时，一只玉手作势击打。周乐笑道：“你要拉我上来么？”他翻身</span><br><span class="line">立定，见冉苒蒙着面纱，在危崖之上，夜色之中，当真是弱不经风。她的心情似乎</span><br><span class="line">不错。</span><br><span class="line"></span><br><span class="line">    “咱俩挺有缘份的，我误打误撞跑上虎丘，没料到会与你相会。六月荷花二十</span><br><span class="line">四，中秋无月虎丘山。冉苒，我陪你上塔，如何？”他一开口便如抚琴奏乐。</span><br><span class="line"></span><br><span class="line">    冉苒一言不发，作势让他闭嘴。周乐却想，只要不翻脸，便要谢天谢地了。雷</span><br><span class="line">池、王玢下水。</span><br><span class="line"></span><br><span class="line">    周乐低声道：“方才你是不是在叫我。”他想到被扔在下边的熟睡的小谢，重</span><br><span class="line">色轻友？</span><br><span class="line"></span><br><span class="line">    冉苒不语，似乎默认了。远处有人走了过来。周乐抬头，冉苒垂首。</span><br><span class="line"></span><br><span class="line">    胡不归走过来，笑道：“好个周乐。……教主，气神长老这厢有礼了。”周乐</span><br><span class="line">惊呆了。</span><br><span class="line"></span><br><span class="line">    胡不归身为刑部要员，天下第一神捕，居然会是明教长老！难怪他不相信王江</span><br><span class="line">泾凌迟造谣明教的言语。</span><br><span class="line"></span><br><span class="line">    “明教是一种信仰，我信明教，正如皇上信佛一样，没什么奇怪的。”</span><br><span class="line"></span><br><span class="line">    周乐却想到了老古董。怎么我的朋友都是明教中人。胡不归道：“如今江湖中</span><br><span class="line">的有志之士，不是加入十三行，就是成为我教弟子。周乐你交友慎重，不愿媚俗，</span><br><span class="line">自然要与我们攀上一些交情了。”</span><br><span class="line"></span><br><span class="line">    冉苒想走开，却又觉得不合适。她知道不论如何反抗，也无法欺骗自己了。免</span><br><span class="line">不了有异样的感觉。她怯生生地站着，竟不敢多看周乐一眼。</span><br><span class="line"></span><br><span class="line">    胡不归倒也知趣，道：“我先背小谢回去。教主小心了。”</span><br><span class="line"></span><br><span class="line">    冉苒的俏脸不向着剑池。小姑娘家看男人潜水总不成体统。周乐嘴角含笑，身</span><br><span class="line">畔吹气如兰，幽香阵阵，心中叹服姑苏真个天堂。两人相距已近。周乐狠狠地盯着</span><br><span class="line">她，似乎可以看到脸上的红晕，忍不住道：“冉苒，你不想理我么？静夜荒郊、孤</span><br><span class="line">男寡女，如果不聊聊天，很容易令人想入非非。”</span><br><span class="line"></span><br><span class="line">    一语双关，想入非非的人既有可能指长舌妇，似乎也包括了他自个。冉苒说也</span><br><span class="line">不是，不说也不是，一颗芳心嘭嘭嘭地跳。</span><br><span class="line"></span><br><span class="line">    周乐也不敢放肆，道：“你瞧那胡不归连真实身份都未瞒我，便是因为他认为</span><br><span class="line">我可靠，应加入明教。”</span><br><span class="line"></span><br><span class="line">    冉苒轻声道：“如今你已害得我在教中弟子面前……，还待怎样？我本不该…</span><br><span class="line">…，唉，跟你说不明白的。”她说话时没有面对周乐，吞吞吐吐，尤如“减字花木</span><br><span class="line">兰”。</span><br><span class="line"></span><br><span class="line">    不过，语句里的意思足于令周乐欣喜若狂。剑池中一声闷响，水花四溅，两人</span><br><span class="line">方才回过神来，相视一笑。</span><br><span class="line"></span><br><span class="line">    王堂等人赶回池边，雷池下水检查爆破效果。匡宽拿出一把曲尺，跃跃欲试。</span><br><span class="line"></span><br><span class="line">    周乐见到冉苒一双柔荑之手伸在外边，双眼却已合上，不由心猿意马，直想将</span><br><span class="line">小手握了，佳人拥了，好生温存。当下呼息略为急促，自觉笨拙之至。他算不上欢</span><br><span class="line">场老手，却也是个过来人。今晚这等情形，于他相当新鲜，令人兴奋。</span><br><span class="line"></span><br><span class="line">    《会真记》曰：“登徒子，非好色者，是有凶行。余真好色者，而适不我值。</span><br><span class="line">何以言之？大凡物之尤者，未尝不留连于心，是以知其非忘情者也。”周乐好色。</span><br><span class="line">现在他有限的几分理智已经不是用来盘算冉苒喜欢不喜欢自己，而是如何将这一切</span><br><span class="line">挑明。</span><br><span class="line"></span><br><span class="line">    他还在想：我是否在以貌取人？说王贞吉很漂亮，是有些恭维的成份。但未见</span><br><span class="line">冉苒前，周乐对她也有些上心。聪颖明慧的人儿总是讨人喜欢。与她相比，冉苒较</span><br><span class="line">为神秘，身份古怪，能够以自身的魅力支配周乐。</span><br><span class="line"></span><br><span class="line">    匡宽入水。静夜泛了道觳纹，欲皱还休。周乐惊回千里梦，留意到剑尖左首浓</span><br><span class="line">浓夜色中的虫鸣似乎有些异常。虫儿并不畏人，但人们乍然踏进，它们会齐齐歇住，</span><br><span class="line">再而引吭高歌。</span><br><span class="line"></span><br><span class="line">    周乐怀疑又有高手摸上虎丘了。来的会不会是五通神？五年前，姑苏是他们的</span><br><span class="line">大本营。传说中的城隍爷与五通神都是神道方面的人物，包括东岳帝君。所以沈魂</span><br><span class="line">是城隍庙组织的头儿？听说，沈魂学富五车，当过官，做过和尚、道士，是个不世</span><br><span class="line">出的天才。</span><br><span class="line"></span><br><span class="line">    周乐不担心胡不归与小谢在路上撞上强敌。 只要往小谢脸上扇上一巴掌， 说</span><br><span class="line">“你老子来了”，纵酒未全醒，也会逃得比任何人还快。有分教道，他老子小时似</span><br><span class="line">乎痛打过他，培养了这种过激反应。</span><br><span class="line"></span><br><span class="line">    周乐深知胡不归的底细，神龙飞索只是幌子，最厉害的是他的气功，最长于捱</span><br><span class="line">打。</span><br><span class="line"></span><br><span class="line">    匡、雷爬上岸。洞口的巨石已为除去，可容二人共进，似乎有很长的甬道。这</span><br><span class="line">回轮到王堂与王琛下水。</span><br><span class="line"></span><br><span class="line">    冉苒开口道：“周乐，你听说过工匠们被吴王杀死陪葬的故事么？”她的声音</span><br><span class="line">轻得不能再轻。他们的尸体就埋在剑池底下。</span><br><span class="line"></span><br><span class="line">    周乐道：“吴灭国后，西施并未得以隐退。越王夫人将她杀了，也等于是给吴</span><br><span class="line">王夫差殉葬。”虎丘的名胜有不少是吴王建给西施游玩的。</span><br><span class="line"></span><br><span class="line">    冉苒听懂了话中之话： 西施不该放弃浣沙的平静生活， 别理会越国的兴亡。</span><br><span class="line">“结局悲惨，是么？所以它无法流传下来。我的意思是，不该强迫别人以性命为社</span><br><span class="line">会陪葬，不管它如何腐败，如何老朽，如何拙劣，甚或如何尊贵，如何高尚，如何</span><br><span class="line">美好。”</span><br><span class="line"></span><br><span class="line">    冉苒静默一会，道：“你就会借题发挥，我只是想说……。”她望着周乐的样</span><br><span class="line">子天真无邪。“游人欣赏虎丘美景，有几个想到了工匠，想到了脚下的根基是建立</span><br><span class="line">在累累……之上。”她比同龄少女担子重，见识多，言下之意是：当教主总要做出</span><br><span class="line">牺牲，也许爱情便是殉葬品之一。周乐绝顶聪明，用话语趁先开导。</span><br><span class="line"></span><br><span class="line">    冉苒道：“咱们换个话题罢。……听说你认识王堂的妹子。她曾请你修琴调声，</span><br><span class="line">很欣赏你的才华。通过她，你才认识小谢的？”周乐大奇。她消息如此灵通。</span><br><span class="line"></span><br><span class="line">    冉苒笑靥喜人，如春花般灿烂。“我可以帮你的忙，告诉她小谢及你的想法，</span><br><span class="line">如何？”周乐张口结舌。她认识王贞吉？</span><br><span class="line"></span><br><span class="line">    两人间的窗纸已经捅破，虽然尚隔了一道墙。周乐知道冉苒并未当真。王堂、</span><br><span class="line">王琛湿漉漉地上岸，水珠遮不住笑容。王堂气喘吁吁地说道：“甬道尽头正是墓室。</span><br><span class="line">那儿气流不畅，室中只怕还有毒气。”他把火折子封在竹筒中，带下水去，但见火</span><br><span class="line">点不着，便无意涉险。</span><br><span class="line"></span><br><span class="line">    他们已打算离去。明日可领了大队人马前来开掘，扬威武林。</span><br><span class="line"></span><br><span class="line">                              四、金凫玉雁</span><br><span class="line"></span><br><span class="line">    四下里又恢复了平静，远古般的漆黑。未过多久，极轻微的脚步声传来，王家</span><br><span class="line">众人竟熄灯掩回细瞧有无盯哨。周乐觉得世家子弟中也不只小谢一人成器。敢情，</span><br><span class="line">王堂沾了他妹子的光，不仅不是个草包，而且有些谋略。</span><br><span class="line"></span><br><span class="line">    其实王贞吉人挺好的，可小谢见到她，便想到令人肃然起敬，却不觉可亲的把</span><br><span class="line">儿子推给奶妈的娘亲。是她为小谢找的娃娃亲，是她将小谢推向各种各样的女子的</span><br><span class="line">怀抱。</span><br><span class="line"></span><br><span class="line">    周乐见到王贞吉，首先想到小谢。这与王家的围墙、家丁一样，是横在中间的</span><br><span class="line">障碍。他寻思着：我不该在冉苒身旁想到另一个女子？她待在剑池边，为了什么？</span><br><span class="line">为了我，还是为了宝剑，为了对付王家？</span><br><span class="line"></span><br><span class="line">    王堂等人第二次离去。不一会，有说话声响起，王臣现身。还有王琮——王臣</span><br><span class="line">四弟，王琛、王玢之父。他俩已藏身多时。原来王堂等人的“晚间功课”早被留意</span><br><span class="line">了，二王是来“保驾”的么？</span><br><span class="line"></span><br><span class="line">    只听王臣道：“四弟，其实这些孩子还是相当出色的。世人皆谓江南三大家中</span><br><span class="line">数咱们家教最宽，子弟最不正经。殊不知只有如此才不至于抑其性灵。他们也得以</span><br><span class="line">广交朋友。”</span><br><span class="line"></span><br><span class="line">    “但少年心性只想着风光一把，未防着树大招风，忘记了韬光养晦。咱们得当</span><br><span class="line">头泼盆冷水。……这就下水，如何？”他俩要拆儿子们的台，抢先拿走墓室中的干</span><br><span class="line">将、莫邪、金凫、玉雁四柄上古神兵，免得他们四下张扬，惹鬼上身。习剑练武之</span><br><span class="line">人，有时把宝剑看得比性命还重。</span><br><span class="line"></span><br><span class="line">    王臣风流有雅量，好玄谈，平生仰慕阮籍、刘伶等魏晋名士，放浪形骸，似乎</span><br><span class="line">了无心机，却不想是只老狐狸。周乐想，明日王堂等人的神情一定很好笑。众目睽</span><br><span class="line">睽之下，大伙都信了王家功亏一篑，宝剑早被人拿走了。因为王家子侄不象在演戏。</span><br><span class="line">况且王家完全可以选择暗中寻宝，瞒过众人耳目，何必费事出丑。</span><br><span class="line"></span><br><span class="line">    姑苏王家各个厅堂的博古架上摆设了各种各样的奇珍异宝、古董名玩。他们好</span><br><span class="line">出风头，不怕露富。</span><br><span class="line"></span><br><span class="line">    剑池亮起了火光。王臣、王琮留在岸上的衣物烧着了。有人负手而立，冷冷地</span><br><span class="line">说道：“死者的衣物定得象纸钱一般烧毁么？死亡是火光后的灰烬？水葬的由来可</span><br><span class="line">看出什么样的集体意识？”他向着周、冉的方向说话。</span><br><span class="line"></span><br><span class="line">    周乐走出，道：“阁下可是沈魂？”此人年纪不轻，神情自负，内力深不可测，</span><br><span class="line">居然可瞒过周、冉耳目神秘地出现，并发觉二人隐匿于十来丈之外。“下笑世上士，</span><br><span class="line">沈魂北罗酆。”周乐直觉他一定是鬼帝。</span><br><span class="line"></span><br><span class="line">    “正是。……能否在火光未灭之际，让我见识一下贵友的容颜。”话正说着，</span><br><span class="line">人已到了跟前，伸手去掀冉苒面纱。冉苒后闪，周乐横挡。他使了“古西州阑干十</span><br><span class="line">二曲”，展开快攻，瞬间布下一阵，封了任何可能的后着、叠劲。</span><br><span class="line"></span><br><span class="line">    沈魂见他身手，点头道：“不错。”一拳直击。他的拳法不但力重，而且简单</span><br><span class="line">到无迹可寻。冉苒取出光阴箭。周乐知她心意，身形一变，以“十六天魔舞”的繁</span><br><span class="line">杂手法，硬生生地将沈魂逼退。</span><br><span class="line"></span><br><span class="line">    当时中土人士极少闻听“天魔舞”的曲子，故而周乐的招式显得极为古怪。纵</span><br><span class="line">是沈魂这样世间数一数二的大高手，乍然撞见也会措手不及。武功上的过招与下棋</span><br><span class="line">有些相似。最高明的棋手可以预推下几步的走法，棋路慎密，思虑周全。比武时也</span><br><span class="line">是如此，强者知道对手应付之道，自然占据主动。周乐的武功有时是异想天开，好</span><br><span class="line">比下棋时马走田象走日小卒过河往后退。</span><br><span class="line"></span><br><span class="line">    沈魂停手了。他见到冉苒手中的光阴箭，自言自语道：“这玩意儿，我不知可</span><br><span class="line">否躲过。光阴奔袭，唉！”他有些感伤。</span><br><span class="line"></span><br><span class="line">    光阴箭的威力在于威慑，在于没有必要发射，却可令敌人知难而退。它仅有一</span><br><span class="line">枚弹子。冉苒的手微微颤动。待火光一灭，它便不好派上用场。周乐点了火折子。</span><br><span class="line"></span><br><span class="line">    “咱们讲和罢。”这会儿沈魂象个穷困潦倒的教书匠，神光内敛。他对着冉苒</span><br><span class="line">微笑道：“小姑娘，我觉得你很象一个人。我对你的容貌相当好奇。”</span><br><span class="line"></span><br><span class="line">    江湖上传言沈魂喜欢破坏，破坏一切似乎很强大、有地位、有声望的东西。他</span><br><span class="line">似乎不近女色。</span><br><span class="line"></span><br><span class="line">    冉苒天生丽质，纵是黑夜，纵有面纱，亦是容光逼人，象仙子一般美好。“你</span><br><span class="line">的武功很奇怪，年轻人，有武当的底子。除了冷苔老道，没人能调教出这样的弟子</span><br><span class="line">来。”</span><br><span class="line"></span><br><span class="line">    “老了，都老了。不知郑中孚有没有长进。他的门生弟子遍天下，七绝圣手，</span><br><span class="line">五言长城。哈，我不收弟子，但想着一日天下人均为我的门生，天父门生。”大魔</span><br><span class="line">头沈魂，武林中人人谈而色变，可似乎不如何凶狠、无情。老人孤独、偏执、多言？</span><br><span class="line"></span><br><span class="line">    “你是周乐？新游侠的大周正乐。还有大学士小谢，大祭酒尉迟杯。有人提起</span><br><span class="line">过你，是个人才。……小姑娘，你是姓冉么？”</span><br><span class="line"></span><br><span class="line">    气氛开始紧张。冉苒拉了周乐之手。“故人之女初长成。可是，我呢？我的夫</span><br><span class="line">人，我的女儿呢？”沈魂突然暴怒，咆哮着。火折子为他一吓，登时灭了。“如果</span><br><span class="line">你喜欢人，最好统治他们！如果你仇恨人，那么只能杀死他们。”</span><br><span class="line"></span><br><span class="line">    “我憎恶西来的宗教。老子并未西出函关。……周乐不复闻，冉苒物华休。”</span><br><span class="line"></span><br><span class="line">    “这句诗如何？”</span><br><span class="line"></span><br><span class="line">    沈魂笑道：“我这人反覆无常，把你们吓着了。方才想到别一种可能的人生，</span><br><span class="line">觉得老天待我不公。其实，我又不相信鬼神、运命。”他莫名发火，转眼间又平静</span><br><span class="line">了。表情淡淡的，言语中自我解嘲的味道很明显。</span><br><span class="line"></span><br><span class="line">    “你是跋帝之女。他对我有恩。但是。”沈魂语气加重，恶狠狠地说道，“但</span><br><span class="line">是，我是受不得恩惠的。况且，我没有宽恕人的习惯，我对被杀者一视同仁。你俩</span><br><span class="line">只有各自猜一猜，王臣、王琮会不会拿到宝剑上得岸来？猜中了免于一死。”</span><br><span class="line"></span><br><span class="line">    “我不愿如此成全你们：噢，我只杀一人，谁愿受死？这等把戏只在书上有。</span><br><span class="line">以生别死离来证明爱情乃是再虚伪不过的乐事，温馨、甜蜜、令人同情。女人轻易</span><br><span class="line">地上当，交易做成了。其实，时常迁就对方比代之一死还难。爱情只能在日常生活</span><br><span class="line">中接受考验。”</span><br><span class="line"></span><br><span class="line">    沈魂这一着很绝。如果冉、周选择不一，理论上有一人免死，却显得两人并非</span><br><span class="line">爱得死去活来。如果选择同一，便失去了争先恐后为情人赴死的可能。</span><br><span class="line"></span><br><span class="line">    周乐没有借表白心迹。他冷静道：“王臣、王琮上岸后，你分身乏术，我们大</span><br><span class="line">占便宜。”他大可如是说：我选择死。待二王上岸，纵沈魂不放过他，只怕也是鞭</span><br><span class="line">长莫及了。周乐没有。</span><br><span class="line"></span><br><span class="line">    沈魂似乎在皱眉沉思。“你拆了我的戏台子，如今我意兴索然。战还是不战，</span><br><span class="line">这是一个问题。光阴箭有传说中可怕么？选择令人痛苦。你把烫手的山芋扔还给我。”</span><br><span class="line"></span><br><span class="line">    ……</span><br><span class="line"></span><br><span class="line">    冉苒与周乐拉了一段距离，道：“以后他会利用你来对付明教。”</span><br><span class="line"></span><br><span class="line">    周乐笑道：“如果他抓了我，你会受他胁迫么？沈魂太自负了，不屑于干这种</span><br><span class="line">事。”他心下清楚，冉苒不会妥协。</span><br><span class="line"></span><br><span class="line">    冉苒马上移开话题。“估计二王也能保命。”</span><br><span class="line"></span><br><span class="line">    “为什么？”二王的武功可能还不如他俩，纵有千柄利剑，亦非沈魂对手。</span><br><span class="line"></span><br><span class="line">    “因为他终归放了咱们。十年前的沈魂极为狂傲，不会在乎光阴箭的。</span><br><span class="line"></span><br><span class="line">    他败给郑中孚的‘心应手’，忍了十年。洗耻的想法很强烈，却不愿让天下人</span><br><span class="line">以为他很在乎。所以他大闹天牢，并未自报家门。你收藏过青瓷珍品么？工匠们在</span><br><span class="line">瓷器上刻了自个名字。”沈魂想让天下人活着，以便看到他战胜郑中孚？</span><br><span class="line"></span><br><span class="line">    冉苒发现周乐异样地望着自己，不由脸上发烧，闭口不语，向前赶了几步。她</span><br><span class="line">似乎想到了什么，道：“我得走了。”</span><br><span class="line"></span><br><span class="line">    “万一又撞上沈魂，五通神也可能在左近。”周乐不容商量地将她带回清嘉馆。</span><br><span class="line">胡、谢、独孤三人都不在。店家不明原由，只道有人曾给孤寒捎过口信，让他上玄</span><br><span class="line">妙观三清殿。胡、谢曾回来过，跟着便也外出了。</span><br><span class="line"></span><br><span class="line">    独孤寒在城中另有熟人？深宵比武，道观约斗？周乐来了兴致。</span><br><span class="line"></span><br><span class="line">                              五、玄妙三清</span><br><span class="line"></span><br><span class="line">    玄妙观是个道姑修行的地方，观前街为城中最繁华所在。此时倒也冷清。两只</span><br><span class="line">大灯笼如紫金锤一般，没有月光的观前街趴在地上求饶。观门宛若侧身的贞节牌坊，</span><br><span class="line">似乎原本立在街心，如今被挪到一边侍立。两边的围墙非礼、生硬地搂搂抱抱，飞</span><br><span class="line">檐青筋突起。</span><br><span class="line"></span><br><span class="line">    玄妙观的彩绘雕画因阴暗而变形，显得怪异。大门紧闭，里头有人声，四周似</span><br><span class="line">乎弥漫着惨绿色的薄雾。</span><br><span class="line"></span><br><span class="line">    胡、谢掠上三清殿房顶。仅有夏国剑、施主、东阳桢三人在场，不见孤寒，也</span><br><span class="line">没有五通神金身。九华的同门师兄弟低声吵着。夏国剑怀疑师父给李者也的信有假，</span><br><span class="line">认定了剑谱不可能空无一字。东阳桢觉得应该将事情经过向李者也合盘托出。施主</span><br><span class="line">总以为自己有过失，正担着几分嫌疑，夹在中间不便多言。</span><br><span class="line"></span><br><span class="line">    夏国剑道：“咱们最好将争论搁在一边，否则会让外人笑话的。他们也该来了。</span><br><span class="line">对方武功最高的哭夜郎有伤在身，穴位受制。以四敌四，咱们应无性命之虞。”</span><br><span class="line"></span><br><span class="line">    以四敌四？五通神来四人，九华派却只有三人。施主与东阳桢也不明所以。</span><br><span class="line"></span><br><span class="line">    “我让湛露去请独孤寒前来助阵。”夏国剑道，“这位少年剑术通神，沉默寡</span><br><span class="line">言，对我们九华派似乎颇有好感。”他隐隐觉察到独孤寒在留意施湛露。由美丽可</span><br><span class="line">爱的小侄女出面，自能将他唤来。</span><br><span class="line"></span><br><span class="line">    请外人帮忙是迫不得巳，施主与东阳桢也不表示异议。他俩对独孤寒的为人都</span><br><span class="line">很放心，没有往别的地方想。比如，为何要让湛露而不是旁人去请呢？在他们的印</span><br><span class="line">象中，孤寒没有杂念、没有欲望。</span><br><span class="line"></span><br><span class="line">    “老实说，纵使真有剑谱，我也不敢肯定剑谱已落到五通神手中。但凌迟捎话</span><br><span class="line">过来说，有件东西想归还我们，让我带钱来赎。师门重宝自当完璧，所以我宁可信</span><br><span class="line">其有。但我们又不能不防着点，说不得这是五通神设下的圈套。”</span><br><span class="line"></span><br><span class="line">    “五通神中没有使剑的，剑谱跟他们用处不大。所以凌迟开口只要了十五万两</span><br><span class="line">的赎金。我辛苦半辈子，走镖多年，积蓄也有四万余两。”</span><br><span class="line"></span><br><span class="line">    施主与东阳桢默然不语。</span><br><span class="line"></span><br><span class="line">    夏国剑的样子慷慨激昂。“再将我家的院子押了，勉强凑足了数。”</span><br><span class="line"></span><br><span class="line">    施主与东阳桢不知道说什么好。</span><br><span class="line"></span><br><span class="line">    胡不归心中雪亮：夏国剑口中的那件东西不是剑谱，而是徽商帮的宝贝。五通</span><br><span class="line">神将它从毕氏兄弟的鞋底夺走，要徽商帮拿钱来赎。东西是在夏国剑手中丢的，做</span><br><span class="line">为镖头，他有责任追回，所以得出点血破些财。五通神还有可能提出了一个附加条</span><br><span class="line">件，即徽商帮中只允许夏国剑一人前来。夏国剑为了保全自己的性命，便捏了句谎</span><br><span class="line">言骗来两位师弟。</span><br><span class="line"></span><br><span class="line">    小谢与施主、东阳桢一样蒙在鼓里，哪里猜得到夏国剑竟有如此一箭双雕的妙</span><br><span class="line">计。既可骗来帮手，又可赚得同情。</span><br><span class="line"></span><br><span class="line">    胡不归坚信五通神没有机会搞到九华派的《玄机悟剑谱》。他甚至在想，剑谱</span><br><span class="line">纵然存在也不见得有多大价值。剑圣曹之其盛年时创下的剑法已是巅峰，风烛残年</span><br><span class="line">后绝不可能逾越。</span><br><span class="line"></span><br><span class="line">    但胡不归还是想不出毕氏兄弟丢失的那件东西究竟是什么，盐引还是银票？</span><br><span class="line"></span><br><span class="line">    小谢不明前因后果，正听得津津有味。突然，“吱呀”一声，大门被缓缓推开，</span><br><span class="line">门边立着独孤寒。身后丈许另有一女子低眉垂首，居然是那施湛露。两人的神情都</span><br><span class="line">有些不自然，感觉象是头一遭进妓院且刚好撞见熟人。</span><br><span class="line"></span><br><span class="line">    夏国剑当即道：“湛露，你怎么也来了。我不是叫你传话后回屋休息么？”施</span><br><span class="line">主更是着急，女儿呆在这儿有危险。</span><br><span class="line"></span><br><span class="line">    施湛露上前，只唤了声“爹”便不言语。她不知道今晚玄妙观三清殿将有一场</span><br><span class="line">交易，交易的另一方是五通神。她只是觉得既然是自己去邀请孤寒，便该陪他一块</span><br><span class="line">前来。</span><br><span class="line"></span><br><span class="line">    房顶的小谢觉得施湛露娴静得一如道姑。她与孤寒走到一块时会是什么样子呢？</span><br><span class="line">小谢忍不住展颜窃笑。</span><br><span class="line"></span><br><span class="line">    独孤寒站了一会儿，见九华派众人没有理会自己，反倒镇静下来了。</span><br><span class="line"></span><br><span class="line">    “人都到齐了，神也该现身了。”凌迟仿佛永远由黑暗的角落中踱出。唐图把</span><br><span class="line">七块七巧板拼成方形，变戏法一般地立在掌心之上。迷神引涎脸笑着。</span><br><span class="line"></span><br><span class="line">    夏国剑道：“钱我带来了。”</span><br><span class="line"></span><br><span class="line">    凌迟摇头道：“我向来讨厌商人，也不喜欢为了钱财而替人做事。但这一次是</span><br><span class="line">个例外。”</span><br><span class="line"></span><br><span class="line">    夏国剑面有喜色。“看在十五万两银子的份上，我愿意替李者也杀你。至于那</span><br><span class="line">块庄票雕版，我不小心将它扔入运河了。”</span><br><span class="line"></span><br><span class="line">    夏国剑似乎还想说些什么。凌迟已向他扑来。</span><br><span class="line"></span><br><span class="line">    胡不归按住小谢，不让他暴露形藏。不知丁令威是否在暗中伺伏，胡不归无意</span><br><span class="line">贸然涉险。他还想看一看凌迟的武功路数。</span><br><span class="line"></span><br><span class="line">    小谢却想着“英雄救美”，笑道：“你拉我干嘛？路见不平拔刀相助，乃是我</span><br><span class="line">辈中人份内之事。我下去帮那位姑娘。”他知晓己方尚有胜算，乐得充好汉。</span><br><span class="line"></span><br><span class="line">    凌迟面色不变，微笑道：“胡大人，你也来赶庙会么？清嘉馆的伙计真帮了不</span><br><span class="line">少忙。”敢情他另有安排对付胡、谢等人。</span><br><span class="line"></span><br><span class="line">    唐图揸摩着手中的七巧板，恶狠狠地盯着胡不归。他这七巧板喂过毒，有个名</span><br><span class="line">堂叫“玲珑七窍”，见血封喉，剧毒无比。云南边境荒山野林中有一种“见血封喉</span><br><span class="line">树”，树脂可凝血。唐图的七巧板上便涂有这种毒物。迷神却对胡谢二人正眼不瞧。</span><br><span class="line">他与小谢一样，心思放在女人身上。</span><br><span class="line"></span><br><span class="line">    胡不归理一理衣襟，叹气，然后取出神龙飞索。夏国剑的手从剑把上松开。</span><br><span class="line"></span><br><span class="line">    这时，观门外走进三个高矮胖瘦不一的中年女子，发髻高耸，分着红、白、青</span><br><span class="line">色道袍。拆开来看这三人，个个稀松平常，除开头顶发式外，浑身上下土里土气。</span><br><span class="line">将三人凑在一块时，却只会让你觉得妖艳、怪异。</span><br><span class="line"></span><br><span class="line">    三人皆是面无表情，眼珠子一动不动，举手投足较常人缓慢。如非她们头上戴</span><br><span class="line">有金银饰物，留有长长的指甲，你难辨雄雌。</span><br><span class="line"></span><br><span class="line">    胡不归心中暗暗叫苦：三尸也来了，五通神什么时候与她们勾搭在一块。江湖</span><br><span class="line">中“三尸五通神”并称。“三尸”，道教谓人体内之神，上、中、下分别为青姑、</span><br><span class="line">白姑、血姑。</span><br><span class="line"></span><br><span class="line">    凌迟以灵犀指迎向胡不归。三尸也不吭声，整齐划一地出掌，迫开独孤寒，围</span><br><span class="line">住夏国剑。单对单地比试武功，三尸不如夏国剑。但她们从不单打，且长于用毒，</span><br><span class="line">指甲间可弹射出毒粉，一丈之内神仙难逃。夏国剑不及防备、不明就里，所以不明</span><br><span class="line">不白地死了，长剑咣啷掉在地上。</span><br><span class="line"></span><br><span class="line">    九华派众人给震住了。唐图掩护，迷神引趁机制住施湛露。施湛露又气又恼，</span><br><span class="line">却作声不得。</span><br><span class="line"></span><br><span class="line">    眨眼之间，玄妙观中的局势已起了很大的变化。小谢在盘算着如何窜出去，找</span><br><span class="line">周乐来帮忙。胡不归也退到墙边。</span><br><span class="line"></span><br><span class="line">    独孤寒走向迷神。迷神引暖昧地笑着。慢慢地，孤寒近了，引没来由地害怕，</span><br><span class="line">叫道：“唐图，快将他杀了。”抱着施湛露退向观门。迷神已是个“太监”，虐杀</span><br><span class="line">过不少女子，手段残忍。</span><br><span class="line"></span><br><span class="line">    独孤寒看着迷神引，握着剑把，非常冷静。</span><br><span class="line"></span><br><span class="line">    他不知迷神引有天下第一迷药“轻扬落花风”，有名震江湖的绝招朝天脚。他</span><br><span class="line">知道唐图正在一旁虎伺，手中玩弄着喂毒的暗器。他只觉得这小姑娘很可爱，男人</span><br><span class="line">们没有理由不喜欢她，应该善待她。</span><br><span class="line"></span><br><span class="line">    他意料之中的“图杀”活动正在进行。“图杀”的刑具为一副七巧板，五个三</span><br><span class="line">角，一个方板，一个四不象，七个喂了“见血封喉”树脂的七巧板。</span><br><span class="line"></span><br><span class="line">    “倏忽出七窍，而浑沌丧！”</span><br><span class="line"></span><br><span class="line">    孤寒只见到一大块方板射来，尚来不及散成七片。当下掠身迎向“图杀”。长</span><br><span class="line">剑没头没脑地挥舞，前递，抵在唐图腰际。唐图本意是以七巧板分打他身上七处穴</span><br><span class="line">道，却不料他反应奇快，七巧板刚一离手，便被斫落。唐图蒙了，怎么也料不到游</span><br><span class="line">戏结束得如此之快。</span><br><span class="line"></span><br><span class="line">    七片铁板落叶般地铺在地上。从岑寂手中飞出的暗器是破壁的神龙，获得了自</span><br><span class="line">由与灵气。唐图的暗器脱手之后，有如树叶离枝，虽有肃杀之气，却已断了生机。</span><br><span class="line">暗器的精髓不在于毒，而在于力道。</span><br><span class="line"></span><br><span class="line">    唐图害怕如七巧板般被肢解，斗志已被剑上寒气冻结。小谢拍手道：“咱们走</span><br><span class="line">马换将，如何？”</span><br><span class="line"></span><br><span class="line">    凌迟点头。迷神引怔了一会，忽然转身跑出门外。独孤寒点了唐图穴道，一把</span><br><span class="line">提了，冲向三尸。三尸不知他的来历，见他剑术通神，显然也有些心虚，下意识地</span><br><span class="line">闪身。施主、东阳桢、凌迟相继追出门去。小谢趁此良机以“对影成三”轻功身法，</span><br><span class="line">晃过三尸，逃之夭夭。</span><br><span class="line"></span><br><span class="line">    三尸似乎死了心只想缠住胡不归一人，如蛆附骨一般环伺着。胡不归找不到空</span><br><span class="line">当脱身，数招过后，开始落在下风。</span><br><span class="line"></span><br><span class="line">                              六、王者之风</span><br><span class="line"></span><br><span class="line">    孤寒提了唐图，眼见着追不上迷神引了。当下仿照天竺掷象功将唐图扔出。迷</span><br><span class="line">神已是惊弓之鸟，回手扬撒“轻扬落花风”。唐图未及开口说话，迷神引转身飞出</span><br><span class="line">一个“拐子脚”，把他由迷雾中踢出，直直地撞在道旁墙上。</span><br><span class="line"></span><br><span class="line">    施湛露吸入迷药，顿时晕了。迷神淫邪地笑着：“你是不是喜欢她呀？她长得</span><br><span class="line">很漂亮，只惜撞到砖块上，头破血流。”他兴奋之下，神智不清，似乎已一脚将施</span><br><span class="line">湛露踢死了，双手在她头上乱摸。</span><br><span class="line"></span><br><span class="line">    “轻扬落花风”一旦施放，没有人可以由中穿越。因为即使你屏息静气也没有</span><br><span class="line">用。它会附在你鼻孔之中，嘴唇边上。除非你永远不呼吸，否则只要粘上一丁点儿</span><br><span class="line">粉末便足于令你躺上一两个时辰。它又名“王者之风”，是天下第一迷药。</span><br><span class="line"></span><br><span class="line">    它会逆着微风扩散；它不但会沉至地面，也会上飘空中，轻功上佳者也无法幸</span><br><span class="line">免。它会附上眼睛，令你流泪；钻入鼻道，使你昏迷。迷神引为了保住“轻扬落花</span><br><span class="line">风”的配方，在天牢中多遭了无数罪。</span><br><span class="line"></span><br><span class="line">    御前侍卫总管丁卯尤其关心引与唐图两人。因为他二人可以令整个带刀侍卫营</span><br><span class="line">死得不明不白。牢中五年，唐图棱角渐没，迷神日趋颠狂。</span><br><span class="line"></span><br><span class="line">    冲得太急的独孤寒也应付不了这种“王者之风”。他长剑拄地。迷神大声笑着，</span><br><span class="line">放手令施湛露摔下。地上铺着青石。</span><br><span class="line"></span><br><span class="line">    孤寒快撑不住了，眼中的“她”变得模糊，正离自己而去。头又沉又疼，忍不</span><br><span class="line">住想合眼睡上一会。</span><br><span class="line"></span><br><span class="line">    街上很暗，距玄妙观已有一段路了。凌迟在观门口截住施主、东阳桢，三人正</span><br><span class="line">战成一团。迷神狂笑着，喊着：“我要杀了你们这一对奸夫淫妇，让你们横尸街头，</span><br><span class="line">丢尽脸面。呜呜……。”他古怪地哭着。他发现了浑身是血，死在墙边的唐图，不</span><br><span class="line">顾一切地爬了过去，嚷着：“是谁害得你死得这么惨，是谁！呜呜。”</span><br><span class="line"></span><br><span class="line">    他喃喃着：“人都死了么？凌迟上哪呢？”他的头脑开始有些清醒了。担心着</span><br><span class="line">那战无不胜的少年，便靠了过去，夺下长剑。迷神引打量一番，猛然一剑砍向孤寒</span><br><span class="line">左腿。剑刚触肤，划开一道血口子，孤寒缩腿，抬头坐起。</span><br><span class="line"></span><br><span class="line">    迷神吓了一跳，迟疑中又是一剑。孤寒翻身，左手骤长抓住剑柄，顺势撞中他</span><br><span class="line">的“膻中穴”。两人齐齐倒地。</span><br><span class="line"></span><br><span class="line">    独孤寒吸入迷药后，昏昏然几无知觉。但由于他天生异禀，后天训练有方，内</span><br><span class="line">力根基极为扎实，生存意志极为顽强，所以还留有一分元气。待腿上吃疼，本能中</span><br><span class="line">便会有反应。</span><br><span class="line"></span><br><span class="line">    孤寒迷糊听得有马车辗地而来，似乎不只一辆。车子停了下来。有人在说话。</span><br><span class="line">车上走下不少人，个个头大身斜。孤寒的眼睛发黑，脑子与听觉一同消失了。待他</span><br><span class="line">醒来时，记不起那时刻最后一幕的情形。“我似乎也没有听到什么；我滑入舒适，</span><br><span class="line">丧失了自我。临界，一如情窦初开般混沌。”</span><br><span class="line"></span><br><span class="line">    王堂、王琛、王玢等人下了马车，发现了躺在街心的男女。灯笼下，雷池失声</span><br><span class="line">道：“他便是迷神引，五通神之一。我见过官府的通缉告示。他还没有死哩。”</span><br><span class="line"></span><br><span class="line">    王堂却只注意着地上的少女。这少女并非漂亮到了极点，但神质绝佳，明艳可</span><br><span class="line">人。王堂一向认为自己定力不错，却差点儿听不到观前街打斗之声，以及雷池的话</span><br><span class="line">语。</span><br><span class="line"></span><br><span class="line">    他伸手重重地点了迷神、孤寒身上几处要穴，吩咐家丁将三人抬入马车中，微</span><br><span class="line">笑道：“咱们过去瞧瞧。”</span><br><span class="line"></span><br><span class="line">    迷神引蜷曲着身子，面容绝不猥琐，但很是苍白。至于孤寒，给王堂第一个感</span><br><span class="line">觉便是：我不可能胜他。手中紧握长剑，牙关紧闭，衣裳带血，森然侯在大地之上，</span><br><span class="line">黑暗边缘。有一种比五通神的名头更令人敬畏的剑士之气。</span><br><span class="line"></span><br><span class="line">    王堂等人不认得“人不人、鬼不鬼、半仙凌迟”，却记下了他的指法。施主、</span><br><span class="line">东阳桢剑招门户很紧，反击有力。而凌迟笑着，白衣飘摇。“灵犀指”挥洒自如、</span><br><span class="line">酣畅淋漓，快捷、任意。其玄思灵感是利剑所挥不去的。即兴之作气势逼人，盛气</span><br><span class="line">凌人。</span><br><span class="line"></span><br><span class="line">    指东指西令人发指千人所指仙人指路，心无所指而无所不指，无关宏旨却可比</span><br><span class="line">世尊五指，拇指食指中指无名指小指指头指甲……。灵活、犀利，故名灵犀。</span><br><span class="line"></span><br><span class="line">    王堂五人早无睡意，惶惑、奇怪、惊讶等等表情均留在了马车上。他们兴奋，</span><br><span class="line">却苦于不知打哪下手。凌迟令人气愤地不在乎他们的存在。他的武功正如一件旷世</span><br><span class="line">奇珍的艺术品，又如一位绝代舞女，令人眩目，令人血脉贲张。</span><br><span class="line"></span><br><span class="line">    王堂再一次给震住了。漆黑的地上掠过影子，有如雪白的神驹过隙。缥缈的精</span><br><span class="line">灵戏弄着持剑作法的道士。</span><br><span class="line"></span><br><span class="line">    玄妙观中抢出几人，凌迟立马长啸而去。东阳桢与施主亦朝王堂等人身后撞出。</span><br><span class="line">施主略略回头道：“有无见着一个小姑娘？”他脚步不停，咬字清晰。</span><br><span class="line"></span><br><span class="line">    王堂微笑道：“有的。您是九华派的师伯罢？小侄王堂。方才有一男子抱着一</span><br><span class="line">人与小侄擦肩而过。”黑暗中他的脸色很自然。他有点儿不安，却未到咬啮灵魂的</span><br><span class="line">地步。为了追求道德文章，险韵美文，从小他便认定了虚伪是高尚的兄弟，矫饰做</span><br><span class="line">作不著于文字，但研和于墨中。</span><br><span class="line"></span><br><span class="line">    王堂总能为自己出格的举止找到好听的借口。他看到了未来的妹夫谢清发，以</span><br><span class="line">及引诱他毫不迟疑地撒谎的大周正乐。周乐身边有一个蒙面少女，一个老者，同站</span><br><span class="line">在凝重的暗中。</span><br><span class="line"></span><br><span class="line">    暗中白色的石狮尤如传说中触不直、触不正的獬豸。王堂笑着打招呼，目送四</span><br><span class="line">人隐去。</span><br><span class="line"></span><br><span class="line">    小谢在路上碰到了周乐与冉苒。三人赶到玄妙观，三尸知趣地知难而退。王堂</span><br><span class="line">不知道观中发生的好戏，挂念着马车中的人儿。他目睹着施湛露为丫环送入房中。</span><br><span class="line">为了一个不如何肮脏的念头，他流了不少冷汗。声音也变了罢？</span><br><span class="line"></span><br><span class="line">    王堂猜到那少年男子便是新近光彩夺目的剑客独孤寒。除此，他想不出还有哪</span><br><span class="line">位年轻人能杀死唐图，击败迷神引。</span><br><span class="line"></span><br><span class="line">    今晚，老天爷似乎特别垂青王大少爷。御史中丞舒用舒大人由金陵便衣南下，</span><br><span class="line">为避人耳目，此刻就寄寓在王府。王臣要儿子抓住良机，攀个宦道大宗师。</span><br><span class="line"></span><br><span class="line">    王家惹不起五通神，如今舒大人在此，更不可无事生非。王堂打算扣下迷神引</span><br><span class="line">的“轻扬落花风”，私下里将他放走。至于施湛露，王堂还未拿下主意。他乐于有</span><br><span class="line">英雄救美、千里送京娘的壮举，可又舍不得那种偷偷摸摸胡来的滋味。</span><br><span class="line"></span><br><span class="line">    天快破晓了。王堂有些犯困。</span><br><span class="line"></span><br><span class="line">    “刀笔吏”刘连天未破晓便已醒来。舒大人并未出事。此行只他一人护卫，着</span><br><span class="line">实睡不安稳，总觉得要有什么事发生。果然，上司胡不归、李府师爷臧三耳由王大</span><br><span class="line">少爷王堂陪同，找上门来，发布了一系列的坏消息。胡不归略略地讲了五通神、三</span><br><span class="line">尸的事情。</span><br><span class="line"></span><br><span class="line">    臧三耳的外表没有师爷的样。他没有尖钻小脑袋，鼠须斗鸡眼。他更象个饱学</span><br><span class="line">儒士。他足智多谋，消息灵通，所以得了个外号“臧三耳”，本名倒被人忘了。据</span><br><span class="line">说，天下第一大组织，以消息来源广、快、准、多著称江湖的“十三行”也有求到</span><br><span class="line">臧三耳的时候。</span><br><span class="line"></span><br><span class="line">    象他这样的人才，最大最难得的好处却是不多嘴。他与胡不归一样，一句话便</span><br><span class="line">道出了事情经过。昨晚丁令威拜会过徽商帮苏州会馆，李、叶两家高手包括帮中帐</span><br><span class="line">房总管卞梁、李者也的师弟申猛、武当殷清客均只能干瞪眼，无可奈何。</span><br><span class="line"></span><br><span class="line">    王堂说话时腔调不太自然。胡、臧两人上门时，王堂想找到父亲大人，通报有</span><br><span class="line">客来访，却得知父亲与四叔均已外出，不知去向。他俩不愿惊动旁人，似乎不是遇</span><br><span class="line">上敌人。</span><br><span class="line"></span><br><span class="line">    更奇怪的是，就在他合眼小憩的当儿，不见了独孤寒与施湛露。王堂很是懊丧：</span><br><span class="line">天底下没有几个象他这样坐怀不乱的君子了；做为美德的报偿的人儿居然飞了。</span><br><span class="line"></span><br><span class="line">    正在王堂懊丧之时，胡不归、刘连、臧三耳齐齐扭头朝向房外。胡不归做了个</span><br><span class="line">手势，刘连追出。待他进房时，手中捏着一张纸，沉声道：“止夜哭状。”纸上书</span><br><span class="line">有“三日之内，舒迟丧命”。来人轻功绝佳，想是丁令威。五通神怎会知道舒大人</span><br><span class="line">在这儿呢？</span><br><span class="line"></span><br><span class="line">    刘连盯着臧三耳：徽商帮是知道的。“我们有金陵来的消息。李老爷、叶老爷</span><br><span class="line">想结识舒大人，所以让我过来，请王家引见。”在朝中，舒用是庶族，属于浙东集</span><br><span class="line">团。徽商帮与淮西集团往来甚密，常巴结南渡侨姓。胡不归忽然道：“我有一种感</span><br><span class="line">觉，迷神确在府中，但他早已脱离监制。他长于化装术。”众人都听明白了。金蝉</span><br><span class="line">脱壳之术！迷神引有足够时间找一个下人化装成自己穴道受制的模样，再弄走独孤</span><br><span class="line">寒与施湛露，探听舒用的住所，改头换面、偷梁换柱地接近。</span><br><span class="line"></span><br><span class="line">    这个猜测马上被证实了。迷神不见了。王府危机四伏。哭夜郎写下的“止夜哭</span><br><span class="line">状”比军令状还要讲信用，不仅排山，而且倒海，从未失手。</span><br><span class="line"></span><br><span class="line">    王堂在想：那迷神引是否是故意让我擒住，目的只是为了卧底？不象。也许是</span><br><span class="line">我低估了独孤寒。</span><br><span class="line"></span><br><span class="line">    胡不归、臧三耳的共同意见是王府太复杂了，不可留。最佳的避难所当是虎丘</span><br><span class="line">云岩寺塔七层上的石室。虎丘塔高近十六丈，天下无人有能耐一跃而上。塔在矮山</span><br><span class="line">上，地处城郊，旁边没有什么高层建筑。风景很美，舒大人大概也不会反对。</span><br><span class="line"></span><br><span class="line">    当下商议已定。王堂、雷池等五个年轻人守在塔下。姑苏精干捕快遍布虎丘，</span><br><span class="line">禁止游人上山。臧三耳、刘连塔中策应。李者也、胡不归陪着舒用呆在塔顶。</span><br><span class="line"></span><br><span class="line">    李家派人打扫塔室，备下酒菜。上上下下、里里外外、仔仔细细地搜寻一番，</span><br><span class="line">连塔顶的相轮刹柱也未放过。</span><br><span class="line"></span><br><span class="line">    胡不归提防着“小咬”。王堂留心着剑池。年轻气盛的他还在着恼。迷神引在</span><br><span class="line">他房中贴了张纸条，曰：“‘轻扬落花风’藏在你枕下，殊为不当。清白的大少爷，</span><br><span class="line">只合使爽身粉。小心你妹子。知名不具。”</span><br><span class="line"></span><br><span class="line">                              七、虎丘古塔</span><br><span class="line"></span><br><span class="line">    小谢问周乐道：“他俩怎样了？我这个月老不赖吧？”</span><br><span class="line"></span><br><span class="line">    周乐道：“两人大概能睁眼了，手脚依旧酥麻。方寸之地，四目相对，估计少</span><br><span class="line">不了发生一些事情。”</span><br><span class="line"></span><br><span class="line">    “我又一次忍痛割爱了。唉，小谢总是如此伟大。”他作痛苦状，“要不是看</span><br><span class="line">到孤寒对她如此关心，关系已有一些眉目，我真想趁火打劫，装大尾巴狼，大献殷</span><br><span class="line">勤，定可手到擒来。”</span><br><span class="line"></span><br><span class="line">    “迷神挺听话的，帮咱们化装。胡不归将他怎样了？”</span><br><span class="line"></span><br><span class="line">    周乐道：“我也不清楚。老胡做事，你我放心。”胡不归把迷神交回官府手中。</span><br><span class="line">昨晚，周乐等人看到地上的唐图尸身，不相信迷神奈何得了孤寒。在自称了解王堂</span><br><span class="line">为人的小谢的坚持下，三人潜入王府，终于有所收获。小谢当时说了三点：王堂心</span><br><span class="line">眼坏；孤寒剑掉了；马车。胡、周折服。</span><br><span class="line"></span><br><span class="line">    “你胆子也忒大了，居然敢到王府中装神弄鬼，还进入王贞吉的闺房中。幸好</span><br><span class="line">王臣未归。”周乐没有发现二王踪迹。他俩似乎躲在吴王墓室中不愿出来。</span><br><span class="line"></span><br><span class="line">    “王贞吉是我未过门的媳妇。老公关心媳妇天经地义，无可厚非。我本想装作</span><br><span class="line">迷神吓唬吓唬她。可转念一想，不行。此事传到外间，不是给小谢我戴绿帽子么？</span><br><span class="line">虽然。”他得意之极，“我看不上她，老早便想将她休了。只是担心小女孩受《列</span><br><span class="line">女传》毒害至深，会闹出人命来。”</span><br><span class="line"></span><br><span class="line">    小谢内心中有种异样的感觉，甜甜的，很受用。与她之间有个名份，似乎也不</span><br><span class="line">全是坏事。两人连系在一块，便有了亲切与怜爱？</span><br><span class="line"></span><br><span class="line">    周乐道：“王贞吉有什么不好？你俩一静一动，刚柔相济，性格互补。她有容</span><br><span class="line">人雅量，凡事看得开，不会死缠着你。”</span><br><span class="line"></span><br><span class="line">    “我也没说她不好。她长相过得去，似乎很贤慧，不会让人腻烦。脾气好，却</span><br><span class="line">自以为是、自作聪明，好象打心眼里瞧不起我。在美女如云的吴中，她还是可以倾</span><br><span class="line">苏城，迷吴县，惑淞江。我好人做到底，再贡献一个老婆也没什么了不起的。周乐，</span><br><span class="line">你要她么？”</span><br><span class="line"></span><br><span class="line">    小谢看着周乐唯恐避之不及的样子大笑：“己所不欲，勿施于人。我一念之差，</span><br><span class="line">没有冒你周乐大名，给她留张粉红色的信笺，让她茶饭不思地呆上几天。”王贞吉</span><br><span class="line">认识周乐，似乎对他这样懂风雅、真性情的布衣侠士极有好感。</span><br><span class="line"></span><br><span class="line">    小谢喜欢沾花惹草，但很少来真的。他是那种在众多女子身上寻找一个女性原</span><br><span class="line">型——一个空幻的、理想的女子的男人。</span><br><span class="line"></span><br><span class="line">    如果王贞吉较有生活情趣一些，开心活泼，也许我会考虑。小谢忍不住窃笑。</span><br><span class="line"></span><br><span class="line">    独孤寒醒来后，几乎再次昏迷。施湛露与他相距如此之近，吹气如兰，幽香阵</span><br><span class="line">阵，足于令这个铁打一般的人狂乱。他怀疑药物仍在身上起作用。</span><br><span class="line"></span><br><span class="line">    他鼓起勇气，欣赏眼前的绝世容颜。她尚未醒来。她的睫毛、发丝、玉颈都是</span><br><span class="line">美到了极致。</span><br><span class="line"></span><br><span class="line">    幸好此时我手足酥软。纵身跳入清凉的高原错子，内心依然是燥热的。施湛露</span><br><span class="line">娇羞无限，怯生生的，垂首不语。她下意识地审视自己身上的衣着。不是当心受辱，</span><br><span class="line">而是一种女儿家“为悦己者容”的本能。</span><br><span class="line"></span><br><span class="line">    ……一时便胜过人间无数。天堂，这儿便是天堂么？我俩的灵魂坐在这儿，眼</span><br><span class="line">神、形容、心跳、喘息声，均是天上的花儿与仙乐。</span><br><span class="line"></span><br><span class="line">    两人渐入佳境，恢复自然。施湛露开了个头，两人聊了起来。孤寒暗自松了一</span><br><span class="line">口气。他还担心着哩。有些不知所措。</span><br><span class="line"></span><br><span class="line">    在爱情的战局中，岑寂有孤寒防守之能，未求胜先求不败；小谢耍着轻功，四</span><br><span class="line">处游击；周乐大军长驱直入；孤寒围而不打，积极备战，尤如乐毅破齐的尾声，攻</span><br><span class="line">心为上。所以，从这个意义上说，岑、谢读书多，未免华而不实。认真的讲，仅有</span><br><span class="line">岑寂将意中人当成了对手，过于陪着小心。这是他性格上的弱点。</span><br><span class="line"></span><br><span class="line">    周乐担心施氏夫妇挂念，终于现身。他发觉这对“新人”神采飞扬，脸色很轻</span><br><span class="line">松，却有些不好意思。周乐好不容易才没笑出声。</span><br><span class="line"></span><br><span class="line">    孤寒送她回李府。两人一路上不敢说话。施湛露在想：爱情也是一种顿悟，先</span><br><span class="line">有“积学”，再得良机经当头“棒喝”，最后是质的飞跃。</span><br><span class="line"></span><br><span class="line">    “怎当她临去秋波那一转？”独孤寒一夜未睡，却无乏意。“轻扬落花风”是</span><br><span class="line">王者之风，还是郑风？他知道自己还是躲不开那样东西，想不到这种结果。</span><br><span class="line"></span><br><span class="line">    姑苏的风光很好。章台柳顺眉顺眼，画楼蓝天一样的清纯可爱。他忘了自己是</span><br><span class="line">如何回到清嘉馆的。差点儿踢断门槛，脑中尽是倚门回首的定格。</span><br><span class="line"></span><br><span class="line">    孤寒开始有了回味无穷的回忆。</span><br><span class="line"></span><br><span class="line">    “周乐，你说我跟御史中丞大人开的那个玩笑如何？臧三耳、刘连居然相信了</span><br><span class="line">那是真的止夜哭状。人家都说小谢我志大才疏，只会吹牛。可昨晚夜间，我一连干</span><br><span class="line">下几桩大快人心之事。这又该怎么讲呢？你小子不是周公，亦非伯乐，但请你说句</span><br><span class="line">公道话。”小谢的嘴巴与脑瓜一样闲不住。“舒用是来调查苏州知府被炸案的，可</span><br><span class="line">能会对徽商帮不利。徽商帮乐得认为那张夜哭状是真的，借机将舒用变相软禁，令</span><br><span class="line">案子不了了之。只苦了云岩寺的和尚，救大人一命，胜造几座七级浮屠？浊物污胜</span><br><span class="line">景。”</span><br><span class="line"></span><br><span class="line">    小谢又道：“对了，周乐，你说王臣、王琮会上哪呢？”总不成双双出入烟柳</span><br><span class="line">之所吧。</span><br><span class="line"></span><br><span class="line">    “我还以为你全然不关心泰山大人。总算有点儿良心。”周乐在脑中想象二王</span><br><span class="line">的狼狈样。</span><br><span class="line"></span><br><span class="line">    王大、王四身着水靠，抖着水珠爬上岸，笑容尚且湿漉漉的，却发觉衣物不见</span><br><span class="line">了，正待破口大骂。东岳帝君沈魂飘然而至，伸手抢下宝剑。二王被点了穴道，扔</span><br><span class="line">在草丛中，留待今日出丑。</span><br><span class="line"></span><br><span class="line">    天气很好，登虎丘而小姑苏。周乐想着冉苒，不知她会不会来。剑池边没有发</span><br><span class="line">现二王。他俩没有资格做干将、莫邪千年后的陪葬？</span><br><span class="line"></span><br><span class="line">    今日虎丘没有游人，可热闹非凡。周乐笑道：“不管怎么着，舒用死不了。沈</span><br><span class="line">魂不屑于出头，哭夜郎道行尚浅。”</span><br><span class="line"></span><br><span class="line">    小谢偏就不信，出言抬杠。然后，远远地望见七层高的塔顶跳下一物，转眼不</span><br><span class="line">见，代之以惨叫。地上想必绽放一大朵状元红大金粉，炒作一道姑苏名菜：烂焐肉</span><br><span class="line">丝。小谢闭上眼睛。</span><br><span class="line"></span><br><span class="line">    是否是古塔吐出一口浓痰，抑或咳血？</span><br><span class="line"></span><br><span class="line">    周乐难堪之至。自信的他完全猜错了。凌迟、哭夜郎各提着泥鳅般的王臣、王</span><br><span class="line">琮，似乎也呆住了。王堂五人泥塑一般，不知是惊讶于长辈之洋相，还是震惧于大</span><br><span class="line">人的惨相。雷池与匡宽另有一个想法：王臣、王琮着水靠干嘛？莫非王家留了一手，</span><br><span class="line">想暗渡陈仓，过河拆桥，独吞剑池宝藏？刘连、臧三耳已赶出塔来。四下里一片混</span><br><span class="line">乱。</span><br><span class="line"></span><br><span class="line">    凌迟与哭夜郎大笑，扔下手中二王，扬长而去。唐图尸体上的伤明显是“朝天</span><br><span class="line">脚”的杰作。至于迷神引，既是落到刑部手中，便与江南富贵三家无关。</span><br><span class="line"></span><br><span class="line">    周乐很奇怪塔顶全无动静。他曾见过一份刑部重案宗卷，讲的是一件陈年旧案。</span><br><span class="line">此案相当经典，却与武林无关，不喜读书的胡不归肯定不知，刘连外号“刀笔吏”，</span><br><span class="line">理应过目才是。</span><br><span class="line"></span><br><span class="line">    有一伙惯匪仇恨某富翁，扬言于某个乡间鬼神的生日杀他。那富翁便躲到高塔</span><br><span class="line">之顶，并请了不少保镖把住入口。</span><br><span class="line"></span><br><span class="line">    鬼神生日当天，匪徒们在塔下叫嚷，也不强攻。他们乱蹦乱跳，指天划地，似</span><br><span class="line">乎在举行某种古怪的宗教仪式，施用某种神秘巫术。塔中所有人都探头出望。后来，</span><br><span class="line">保镖们发现富翁不见了，尸身躺在塔外不远的地上。谁都认为他被匪徒的巫术暗算</span><br><span class="line">了。</span><br><span class="line"></span><br><span class="line">    小谢摸着脑袋，想不明白。匪徒们不会轻功，暗器想也不如何高明。富翁自个</span><br><span class="line">失足掉下塔？他又不是三岁小孩。</span><br><span class="line"></span><br><span class="line">    多年后，一匪徒自首，道出真相。原来，有凶犯预先伏于塔顶檐间。当保镖的</span><br><span class="line">注意力被塔下巫术吸引时，他用绳索套住探头出窗的富翁，勒死后拉上，再将尸身</span><br><span class="line">用力扔出。</span><br><span class="line"></span><br><span class="line">    小谢歪头听了，不解地问：“凶犯怎么可能预先藏在塔顶呢？”</span><br><span class="line"></span><br><span class="line">    此为疑案关键。“富翁家无坞堡，不足于自保。最理想的避难所在当地只能是</span><br><span class="line">那座塔。”周乐道，“我也是觉得有些古怪，故而将这件案子记得忒牢。”</span><br><span class="line"></span><br><span class="line">    胡不归、李者也均是当世绝顶高手，逗留在虎丘塔顶的飞鸟亦逃不过他们的耳</span><br><span class="line">目。旧案不会重演，舒用舒大人究竟为何会坠塔身亡？</span><br><span class="line"></span><br><span class="line">    小谢笑道：“丁令威不是尚未露面么？会不会是他在背后耍花招？比方说，放</span><br><span class="line">出一只大风筝，借脚直跃塔顶。或者在顺风的上方向，利用纸莺扬散毒物。”</span><br><span class="line"></span><br><span class="line">    “主意相当新奇、花哨，只惜难有成效。我怀疑是李者也为了讨好五通神，保</span><br><span class="line">全自身，趁胡不归不注意，将舒用推下塔。”</span><br><span class="line"></span><br><span class="line">    徽商帮与官府勾结，世人皆收入眼底，对它颇不以为然。城隍庙做的那几件江</span><br><span class="line">南大案，目的在于将徽商帮拉下水去，利用朝廷中的派系斗争打击它，捞些钱财，</span><br><span class="line">占些地盘。徽商帮炸死了参本告状的苏州知府，适逢江浙二省几位长官及苏无名惨</span><br><span class="line">死，自然担心事态闹大，受到牵连。</span><br><span class="line"></span><br><span class="line">    目前京里头有不少人正盯着徽商帮，想寻它的把柄，捅它一刀。徽商帮便借杀</span><br><span class="line">舒用之机立威，警告对手不要乱来。</span><br><span class="line"></span><br><span class="line">    小谢洗耳恭听，居然忍住不插嘴。他徐徐笑道：“周乐，你当过琴师、磨镜工、</span><br><span class="line">货郎，想也曾是个说书艺人。交代了这么一大通，就为了掩饰你先前的失误。你只</span><br><span class="line">是在耍嘴皮子。天下大势你看得很透彻，可要命的是你据此牵强附会。什么事情都</span><br><span class="line">力求复杂化。”</span><br><span class="line"></span><br><span class="line">    他一本正经地、一字一句地说道：“我以为，舒用未死。”也就是说，他改口</span><br><span class="line">了，认为周乐先前并未猜错。</span><br><span class="line"></span><br><span class="line">                             八、 所以解惑</span><br><span class="line"></span><br><span class="line">    周乐有几分惊讶。舒用未死？那并非没有可能。问题是，舒用为何要装死？欺</span><br><span class="line">骗五通神？不可能。李者也、胡不归、刘连等人不会如此示弱的。况且，舒用是何</span><br><span class="line">等身份，装死太没面子了。</span><br><span class="line"></span><br><span class="line">    胡不归、李者也出现在人群中。周、谢招呼着胡不归，走到塔门口。小谢笑嘻</span><br><span class="line">嘻地问，舒大人是否正躲在某个销金窟享乐。无人应和，大家脸上都很阴沉。步入</span><br><span class="line">塔中，刘连道：“舒大人死了，不是玩笑。”</span><br><span class="line"></span><br><span class="line">    李者也接腔：“说来惭愧，我居然想不明白舒大人为何会掉下塔来。不太可能</span><br><span class="line">是中了毒手。他身上没有其它伤痕，也未中毒。事情发生时，胡大人与我均没有发</span><br><span class="line">现异常之处。”</span><br><span class="line"></span><br><span class="line">    胡不归闭口不语，似乎心情沉重。李者也又道：“大家都不是外人。老实说，</span><br><span class="line">我以为舒大人是自杀。除此别无可能。”</span><br><span class="line"></span><br><span class="line">    小谢张大了嘴。以御史中丞之尊，有什么想不开的？害怕五通神？担心回京后</span><br><span class="line">无法交差？都不可能。或者，他早萌死志，向佛厌世？据内部可靠消息，舒用喜欢</span><br><span class="line">写些悲悲切切、凄惨忧愁的诗句词调。他与他夫人间据说也有别扭。</span><br><span class="line"></span><br><span class="line">    文官，尤其是京里的文官，在人们的印象中是弱不经风的。有人害怕马，几乎</span><br><span class="line">无个不晕船。他们长期苟活在皇帝的淫威之下，处于复杂的官场之中，心态不太正</span><br><span class="line">常。所以舒用自杀并非绝无可能。</span><br><span class="line"></span><br><span class="line">    胡不归与周乐在塔室中单独辞别。胡不归告诉他，哭夜郎便是疯子白痴，行事</span><br><span class="line">不可以常理论之。周乐只是一笑，问舒用之事背后有什么文章？胡不归盯着他，道：</span><br><span class="line">“不出月内，岭南剑派、罗浮组、南拳门会放弃对广州十三行的支持。石塘会独木</span><br><span class="line">难支，十三行的西洋货船堪忧。跟着，昆仑派坐壁上观，高昌沙堡及山贾会的镖局</span><br><span class="line">都不会插手十三行西域驼队被抢之事。”</span><br><span class="line"></span><br><span class="line">    十三行靠的是金山银山，以及其慈善声名，各地会员中练家子不多。武林左圣</span><br><span class="line">人郑中孚久不理事，财路被截断后，十三行行么？</span><br><span class="line"></span><br><span class="line">    周乐想了想，又道：“老胡，舒用真的死了？”</span><br><span class="line"></span><br><span class="line">    胡不归点头。</span><br><span class="line"></span><br><span class="line">    “你该不会替李者也欺上瞒下吧？”</span><br><span class="line"></span><br><span class="line">    “是我杀了舒用。”</span><br><span class="line"></span><br><span class="line">    周乐只觉得整座虎丘塔都要塌了。他不敢相信自己的耳朵，怀疑胡不归的神经</span><br><span class="line">是否正常。他问：“为什么？”</span><br><span class="line"></span><br><span class="line">    胡不归低声道：“舒用十年前在浙省任上，参与围剿明教。”</span><br><span class="line"></span><br><span class="line">    “难道你不怕暴露身份么？李者也有什么反应？”</span><br><span class="line"></span><br><span class="line">    李者也不愿轻易得罪胡不归，如果有他的把柄，对于李家可是大大有用。李者</span><br><span class="line">也老奸计滑，以为胡不归在替朝中某个派系卖命，只想置身事外。</span><br><span class="line"></span><br><span class="line">    朝廷中有四个朋党，两个山头。徽商帮支持南渡侨姓、淮西集团。山贾会以关</span><br><span class="line">西、山东郡姓大族及浙东集团为后台。浙东集团与淮西水火不相容。南渡侨姓一心</span><br><span class="line">压过北方的郡姓。</span><br><span class="line"></span><br><span class="line">    胡不归官拜刑部左侍郎、总捕头，吃公门饭多年，门生故旧遍天下。如若为李</span><br><span class="line">家所用，无异于争取了南北各省的三班六房公差。</span><br><span class="line"></span><br><span class="line">    李者也是绝顶聪明之人，知道胡不归胆敢这么做，必有十成把握。自己何必自</span><br><span class="line">讨苦吃。说不得，这只是个圈套，应该装傻。李者也很清楚，在官场上要比做生意</span><br><span class="line">多十分慎重。</span><br><span class="line"></span><br><span class="line">    天下无人会傻到认为胡不归如此之傻：当着不是朋友的高手之面，将从一品的</span><br><span class="line">上司推下塔去。他保护舒用南下途中，尽可以有其他更完善、更安全、更隐秘的毒</span><br><span class="line">手杀着。甚至，他完全可以不出面，假旁人之手除之。胡不归行这一步险棋，只为</span><br><span class="line">了报仇？据说，百年来凡与明教为敌者，均不得善终。明教弟子前仆后继，势在必</span><br><span class="line">得。</span><br><span class="line"></span><br><span class="line">    周乐目送胡不归远去，突发奇想。听说“梁上君子”神偷姜太公与“一点浩然</span><br><span class="line">气，千里快哉风”董大新近加入十三行。这“北董南姜，明偷暗抢”会不会是明教</span><br><span class="line">派入十三行卧底的奸细呢？</span><br><span class="line"></span><br><span class="line">    周乐回味着胡不归的话语：“我真捉摸不透刘连。刀笔吏没有伪装，我却是虚</span><br><span class="line">伪自私。我俩合得来，总觉得不该提防他，却又做不到。”</span><br><span class="line"></span><br><span class="line">    笔落惊天地，书成泣鬼神。刘连有进士功名，有望于四十五岁以后升任刑部尚</span><br><span class="line">书。山东郡姓旁系破落子弟出身，为人坚忍，办事极为认真，没有朋友，有妻室。</span><br><span class="line"></span><br><span class="line">    地上与天边均有一滩温温的血。一行不知名的鸟儿优雅地飞着。它们上下交错，</span><br><span class="line">前后交织，似乎合了某种阵式，象吹箫时按眼的十指变幻着起落。而这一切正在远</span><br><span class="line">去，消失于物象之外。</span><br><span class="line"></span><br><span class="line">    看不到二十四桥，玉人何处？</span><br><span class="line"></span><br><span class="line">    这日，杭州，崔府，岑寂读《庄子内篇》。他喜欢其行文，观点则无法接受。</span><br><span class="line">他对个人独立及尊严相当敏感，所以他喜欢读书，讨厌学堂；耽于幻想，不敢表白</span><br><span class="line">爱慕之情。住在崔府，令他颇为难堪，自觉斯文扫地。岑寂很想再见她一面。他也</span><br><span class="line">知道真有那个机会，自己说不得不敢抬眼。但只要能遇到她，便会给岑寂带来极大</span><br><span class="line">的喜悦，并用以证明所谓的缘份。他认为天下人如恒河沙数，只要双方能有几番见</span><br><span class="line">面，留些许印象，便是有缘了。</span><br><span class="line"></span><br><span class="line">    正想着，有人推门而入。</span><br><span class="line"></span><br><span class="line">                             九、 幽人贞吉</span><br><span class="line"></span><br><span class="line">    来人请岑寂入内府，说几位少爷想向他讨教武功。岑寂不识得这个家人，武功</span><br><span class="line">二字他没放在心上，进内宅可是投其所好。</span><br><span class="line"></span><br><span class="line">    他心跳加速，眼睛进退维谷。只一群毛头小子，似乎不可能有佳人在帘后窥视。</span><br><span class="line">岑寂有些失望。崔家的少爷们个个服饰光鲜，自己如鸡立鹤群。少爷们提出比试拳</span><br><span class="line">脚。岑寂推脱着。比试而非比划，可见有丁点火药味。岑寂不喜欢与少女之外的人</span><br><span class="line">肢体接触。君子善假于物，徒手相搏，正如以手挟饭。</span><br><span class="line"></span><br><span class="line">    “非危不战”，打架有失儒士风范，成何体统。</span><br><span class="line"></span><br><span class="line">    少爷们却不肯罢休。这等好玩的事岂可放过？岑寂问，叔伯长辈们是否知晓此</span><br><span class="line">事。回答是一阵哄笑。他觉得自己与这儿、与这儿的人格格不入，傲然抬头，瞥见</span><br><span class="line">杜蘅这丫头正在门外偷笑。他脑中开始发晕，手脚不自在。她会不会也在左近？</span><br><span class="line"></span><br><span class="line">    某一人出拳了。岑寂分不清是哪个。太阳穴处给打中了。没待他反应，衣袖扬</span><br><span class="line">动，小腹又是一阵疼痛。张张年轻的笑脸，雪白的牙齿。他没有开口，笑声抽打着</span><br><span class="line">他的耳光。没有女子的惊呼之声。</span><br><span class="line"></span><br><span class="line">    岑寂于拳脚功夫所知不多。而崔家的“天保九如拳”乃是拳中之祖，稳、狠、</span><br><span class="line">重。他不大会躲闪格架，似乎注定只能挨打。</span><br><span class="line"></span><br><span class="line">    他害怕动粗，在打架方面胆小怕事。他狼狈地叫声“停手”。一少爷住手，很</span><br><span class="line">有礼貌地问：“你准备好了么？”一个上步冲拳，跟着化为炮锤。岑寂吃了个正着。</span><br><span class="line">众人以为他在装蒜，马上有人过去关上房门。四五个人一块儿围了上来。“你不还</span><br><span class="line">手，是不是瞧不起我们？”</span><br><span class="line"></span><br><span class="line">    岑寂知道他们年纪尚小，只是在寻自己开心，但他仍然生气了。气愤之下，却</span><br><span class="line">只想着离去。</span><br><span class="line"></span><br><span class="line">    拳头擂来。岑寂手中多了把小刻刀，右手挥动。刀尖躲过拳头，刺入笑容之中。</span><br><span class="line">惊呼、扭曲、奔跑、尖叫，房中极为热闹。岑寂这当儿神志极为清醒。不可伤人，</span><br><span class="line">他想。刀贴着对手的肌肤掠过眼际。</span><br><span class="line"></span><br><span class="line">    他于心中念念有词：逍遥游、齐物论、养生主、人间世、德充符、大宗师、应</span><br><span class="line">帝王，庄子内七篇。他仿佛沉缅于读书的快乐之中，感到心旷神怡，痛快舒畅。庄</span><br><span class="line">子肆无忌惮、一泄千里的文风很奇怪地溶入他的自制力之中，似乎合着《桑林》的</span><br><span class="line">节拍，在皮肉间游刃有余。</span><br><span class="line"></span><br><span class="line">    使出逍遥游时，少爷们还未看清他手中的刀。德充符出现时，眼前尽是刀的影，</span><br><span class="line">刀风几令他们昏倒。岑寂想到了斧正的典故。这才是大宗师！我要用刀削去你们脸</span><br><span class="line">上的白灰。</span><br><span class="line"></span><br><span class="line">    应帝王，应帝王讲了些什么？他扬手挥刀，竟然将五个活宝的衣袖串到一块。</span><br><span class="line">在他们惊慌地挣扎中，袖子撕裂，岑寂飘然出门。</span><br><span class="line"></span><br><span class="line">    他开始高兴，明白自己都干了些什么。大凡拿刀子唬人，总不会有什么招式。</span><br><span class="line">不过是胡乱挥舞罢了。目的是告诉对方：别乱来，我不会在乎你的。有人索性合了</span><br><span class="line">双眼，为求逼真，以示无忌。</span><br><span class="line"></span><br><span class="line">    而岑寂高明之处便在于：少爷们看不清他的出手，却已为森严刀气吓坏了；刀</span><br><span class="line">法在伤人与不伤人之间优雅地走钢丝。他们忘记了岑寂手中有刀，下意识地抬手格</span><br><span class="line">挡。岑寂的刀却连他们的手也避开了。收发在于一心，这是“决气法”的作用么？</span><br><span class="line"></span><br><span class="line">    杜蘅的叫声给他当头泼了盆冷水。收刀入怀，听清她在喊救命。岑寂道：“我</span><br><span class="line">没有事的。”杜蘅睁大眼睛，很奇怪地道：“你自然没事。我担心少爷们被刀子划</span><br><span class="line">伤。喂，你怎能掏出刀子拼命呢？”</span><br><span class="line"></span><br><span class="line">    岑寂哭笑不得。反而是我的不是。这小姑娘也站在他们一边。杜蘅、杜若均有</span><br><span class="line">仙草香芷之意，却也不能免俗。</span><br><span class="line"></span><br><span class="line">    岑寂有些后悔，但很坦然。转眼间，却又六神无主。那位崔小姐居然闻声而来。</span><br><span class="line">她瞧见了我的眼光，似乎嗔怪我轻薄失态。</span><br><span class="line"></span><br><span class="line">    岑寂低头转身，略略抬脚，走了一小步。他听到了她的声音，温柔动听，并不</span><br><span class="line">夸张、急切。他针芒在背。</span><br><span class="line"></span><br><span class="line">    快步走出数丈，他忍不住回头。稍远一点的打量令他放松。她的样子极美，似</span><br><span class="line">乎不食人间烟火。岑寂在想：仕女画应该有大突破，否则无法描绘气韵生动的真正</span><br><span class="line">的美人。</span><br><span class="line"></span><br><span class="line">    留给她什么样的印象了？很糟！没有礼教，一介武夫。他注意到了她的神情似</span><br><span class="line">乎是郁郁寡欢。在这个小大夫看来，那绝非病态的娇弱。她只是有心事，只是对眼</span><br><span class="line">前的一切都不感兴趣。她对杜蘅的大惊小怪也不生气。她甚至没有看我一眼，岑寂</span><br><span class="line">想。漠然的羞涩，有些让人捉摸不透，但也不会拒人于千里之外。</span><br><span class="line"></span><br><span class="line">    岑寂心想，我应该离开此地，再也不能作茧自缚了。看见她又能怎样？令我更</span><br><span class="line">觉自惭形秽，令她看轻我，视我如草芥？根本没有机会。</span><br><span class="line"></span><br><span class="line">    岂不尔思，畏子不敢。岂不尔思，子不我即。《诗经》讲得真好。</span><br><span class="line"></span><br><span class="line">    岑寂回房，算卦。他不信天运气数，只是觉得心里不踏实，不适于读书。他想</span><br><span class="line">到《周易》上的一句话：履道坦坦，幽人贞吉。</span><br><span class="line"></span><br><span class="line">    周乐、小谢回到清嘉馆，见孤寒躺在床上发呆，各觉有趣。谢清发一晚没睡好，</span><br><span class="line">嚷嚷着要歇息。周乐笑道：“方才你没跟泰山大人打招呼，不算过错。午后再不登</span><br><span class="line">门拜谒，恐怕说不过去吧？”</span><br><span class="line"></span><br><span class="line">    小谢不情愿地出门，晚饭后满心欢喜地回来。周乐问他，他反常地含笑不语。</span><br><span class="line">周乐马上猜到与王贞吉有关。可这也不至于让他乐成如此模样啊。</span><br><span class="line"></span><br><span class="line">    小谢躺在床上，毫无睡意。这会儿，周乐再问，他必定乐于倾诉。他自个傻笑</span><br><span class="line">着，觉得王臣真逗。王氏夫妇苦口婆心地劝他学好。王堂自以为比他出色，高他一</span><br><span class="line">等，也在一旁鼓励劝勉。小谢只是含笑地听着。终于他们似乎对他失望了，抑或认</span><br><span class="line">为他听进去了。</span><br><span class="line"></span><br><span class="line">    王家在诱导他主动解除婚约。小谢原本巴不得如此，现在则存心唱反调。世家</span><br><span class="line">大族都爱面子，女方总担心为人笑话。王家不敢公然悔婚。小谢父母却着实喜欢王</span><br><span class="line">贞吉这女娃娃，想靠她稳住儿子的心。</span><br><span class="line"></span><br><span class="line">    王贞吉已到了婚嫁年龄。所以王臣告诉小谢，他已向亲家翁修书一封，希望早</span><br><span class="line">日下聘书，择日成亲。小谢第一反应是：姑苏不可留，小谢赶快溜。王家问得他寄</span><br><span class="line">寓客栈，大惊小怪地说道，虽然讲礼避嫌是应该的，可也不能生分见外呀。</span><br><span class="line"></span><br><span class="line">    小谢怀疑自己是因为烦王家的人，故而先入为主地有意排斥王贞吉。她这女孩</span><br><span class="line">有什么不好？我早晚得成家，夫人不可能是舞女歌妓，王贞吉也不赖。他与周乐、</span><br><span class="line">岑寂有个相近的看法：大家闺秀要得，世家子弟少来。喜欢前者，因为她们有才识、</span><br><span class="line">有教养；厌恶后者，方显得小谢他们有才识、有教养。这也是对立的统一。</span><br><span class="line"></span><br><span class="line">    次日，用过早膳，周乐自个出去逛大街，指望着能找到明教的秘密联络记号。</span><br><span class="line">谢清发继续上床，追忆碰见王贞吉的情形。</span><br><span class="line"></span><br><span class="line">    每当他看见这个小姑娘，想象着与她一块生活的情景，总以为是件很荒唐的事</span><br><span class="line">儿。他亲姨妈则一个劲儿地努力玉成美事。她说，女儿家图个什么呢？你爹娘很疼</span><br><span class="line">她。你小子哪点都不太好，可至少从不打骂丫环婢女，就冲着这一点，王、谢两家</span><br><span class="line">没几个比得上你。</span><br><span class="line"></span><br><span class="line">    王臣知道小谢的性子，知道他二人相互看不上。所以他从不阻止他俩来往，却</span><br><span class="line">希望破坏他俩的婚姻。</span><br><span class="line"></span><br><span class="line">    王贞吉面对着自己未来的丈夫，应该是深恶痛绝，虽然她外表安适恬静。小谢</span><br><span class="line">如是想。她看着我时象个无锡泥娃娃阿福，又如祭祀的牺牲品，大义凛然，神圣不</span><br><span class="line">可侵犯；似乎是观世音，决心下嫁强贼，度其成佛。他让这些不伦不类的比方给逗</span><br><span class="line">乐了。</span><br><span class="line"></span><br><span class="line">    小谢心里明白：王贞吉实际上是挺活泼的一个女孩，至少不会冷若严霜。只不</span><br><span class="line">过自己不是她活泼的对象罢了。她想要的可是周乐那般的郎君？</span><br><span class="line"></span><br><span class="line">    昨日王贞吉神色较为轻松。小谢脱口而出道：“如果我家不退亲，你会不会去</span><br><span class="line">寻死？希望你能给我一次救人的机会。我这人心眼坏，但也不想害人性命。如果你</span><br><span class="line">想私奔，我还可以帮忙牵线送信。”</span><br><span class="line"></span><br><span class="line">    王贞吉也不生气，一言不发。房中只有他二人。</span><br><span class="line"></span><br><span class="line">    小谢又道：“如果你没意见的话，那就上我家，守活寡，改名谢王氏。”小谢</span><br><span class="line">很干脆的样子，似乎什么都无所谓，不在乎家里多一张嘴吃饭，更不在乎煮熟的鸭</span><br><span class="line">子飞上天。他在暗示对方，谢家可是个大火炕，连你老公都呆不住。</span><br><span class="line"></span><br><span class="line">    “总有嫁人的时候，想想能到你家也是我的福份。”王贞吉说道，“身在尘世</span><br><span class="line">中，何处非樊笼。……有时我在想，现下的我已具备了寡妇的心态。”独立、自由、</span><br><span class="line">坚强、封闭、苦闷、谨慎、平淡、怀旧、清醒、禁欲……，已失去过不少东西，心</span><br><span class="line">灵负有重担，却还有希望。也许这种情绪是病态的，却也是正常的。</span><br><span class="line"></span><br><span class="line">    在中国古代历史中，这种寡妇的心态构成了独立女性的主流意识。</span><br><span class="line"></span><br><span class="line">    “也许我根本就不在乎你婚后的行为。”王贞吉幽幽道，“我不会哭哭啼啼地</span><br><span class="line">四处投拆告状，不会缠着你、管着你，也不会败坏家风、不守妇道。……对我而言，</span><br><span class="line">嫁与不嫁没什么两样，嫁给你或者他人也无甚区别。”</span><br><span class="line"></span><br><span class="line">    小谢很奇怪，觉得王贞吉真他妈的古怪，似乎心如止水，小小年纪看破世情。</span><br><span class="line">更奇怪的是，他居然不会懊丧，心中反而有些得意。没有黄金屋，也能贮阿娇。只</span><br><span class="line">要她不约束我，我乐得看着她自生自灭，乐得让王臣的阴谋落空。</span><br><span class="line"></span><br><span class="line">                              十、莫非王臣</span><br><span class="line"></span><br><span class="line">    小谢正自陶醉，听得房门撞开。跟着肚子吃疼。他从床上跳起来，发觉刺中自</span><br><span class="line">己小腹的是一柄长剑。他没有盖被子。天幸那剑还连着剑鞘。他使出家传轻功“退</span><br><span class="line">避三舍”，再而“对影成三”，闪至墙角。他两眼还不大能睁得开，依稀看见对方</span><br><span class="line">身材纤小，蒙面，包着头发。</span><br><span class="line"></span><br><span class="line">    小谢糊里糊涂地吃了记重创，直不起腰来。他叫道：“你有没有搞错？独孤寒</span><br><span class="line">住在隔壁。”他心下想，孤寒怎会没有过来援手呢？“你是个女子？……你是借刀</span><br><span class="line">杀手么？”</span><br><span class="line"></span><br><span class="line">    对方不语，转身关门，然后凶巴巴地持剑砍来。小谢赤足闪避，见这人掌中有</span><br><span class="line">剑，剑中有掌，嚷道：“绵里藏针！你是武当弟子么？我认识很多武当道长，比如</span><br><span class="line">……。对不起，我一下子想不起来。”</span><br><span class="line"></span><br><span class="line">    小谢慌乱中捞了张凳子，挥舞开来，也有些谢家剑法的味道。那蒙面人劲力不</span><br><span class="line">沉，索性扔了剑鞘，剑芒突现，剑光缥缈。凳上四只腿只余其一了。小谢分明看到</span><br><span class="line">了自己被肢解的下场，斗志全失。</span><br><span class="line"></span><br><span class="line">    “喂，你别来真的。我投降，成么？……我认出来了，这招叫‘斜汉左界’。</span><br><span class="line">你是空山灵雨樊家剑的……。哎哟！”小谢被剑势迫得丢掉手中凳几，睁目待毙。</span><br><span class="line">那蒙面人反手别剑，左手当胸点穴。</span><br><span class="line"></span><br><span class="line">    小谢见对方没有杀意，勇气大增，涵胸出拳封了上三路。他小时学过“查拳”，</span><br><span class="line">此时使来，似是而非，倒也威猛。那人一愣，正待出剑，却见他迎面撞来。</span><br><span class="line"></span><br><span class="line">    小谢一记“坠飞絮无影”旋身闪出，跟着是“帘压卷花影”、“云破月来花弄</span><br><span class="line">影”，将“对影成三”的逃身轻功发挥得淋漓尽致。他一脚跨过门槛，脖子迎上一</span><br><span class="line">截剑尖。蒙面人的轻功居然也不错，已候在门边。小谢苦笑：“如非房间太小，如</span><br><span class="line">非我分心开门，你抓不到我。”</span><br><span class="line"></span><br><span class="line">    他摊手道：“现在我认栽了。”纵使他手中也有剑，也得落败。反抗无益。</span><br><span class="line"></span><br><span class="line">    两人退入房中。小谢猜想自己的前胸要穴可能会遭受剑柄撞击。这倒点醒他：</span><br><span class="line">怀中还藏有迷神引的一小包“轻扬落花风”。他立马蹲身就地十八滚。</span><br><span class="line"></span><br><span class="line">    那人有恃无恐，倒也没出手伤他，困兽犹斗？小谢摸出药粉，捏在手心，慢腾</span><br><span class="line">腾地站起身，猛地将它掷出。</span><br><span class="line"></span><br><span class="line">    那人滑步，随手一剑撩开。药包破了，粉末洒落。小谢早已掩了鼻嘴合眼夺门</span><br><span class="line">而出。“轻扬落花风”飘散全屋。蒙面人意料不及，弃剑倒地。小谢在门外呆了好</span><br><span class="line">一阵子，看清客栈中并无别的动静，孤寒、周乐人去房空，这才回房。他小心地进</span><br><span class="line">门，掩扉开窗，伸手扯下杀手的面罩。果然是个雌儿！</span><br><span class="line"></span><br><span class="line">    既然是个小姑娘，那么应该相当漂亮吧。“阵前招亲”在许多故事里都是备受</span><br><span class="line">欢迎的保留情节。小谢很失望。眼前这位女杀手姿色一般，怪不得她要蒙面。搜她</span><br><span class="line">全身，竟一物也无。</span><br><span class="line"></span><br><span class="line">    小谢想到，瞧她身材挺不错的，会不会另有一层薄如蝉翼的面具？他在女杀手</span><br><span class="line">脸上乱摸一气，却未发现什么，悻悻放弃。</span><br><span class="line"></span><br><span class="line">    她不施杀手，是否意味着其背后主使是王家？小谢总算理清了头绪。这女子年</span><br><span class="line">纪不过二十出头，武功居然不错，说不得真是“借刀”杀手。“借刀杀人，水到渠</span><br><span class="line">成”。他见识了三次杀手突袭，次次侥幸逃身。</span><br><span class="line"></span><br><span class="line">    这三个杀手不一定都属“借刀”组织。“借刀”杀手不可能失手？小谢将这女</span><br><span class="line">子抱上床，点了几处要穴，藏起利剑，直往王府而去。</span><br><span class="line"></span><br><span class="line">    独孤寒说不得已在那儿。如果王臣想害我，他会指望我成什么样子？毁容破相，</span><br><span class="line">缺胳膊少腿？那容易令人联想到悔婚的借口，太露骨了。况且，那时王家也不一定</span><br><span class="line">敢悔婚，王贞吉可能还得嫁与残疾的小谢。</span><br><span class="line"></span><br><span class="line">    小谢脑袋突然灵光：杀手是个女人，她会与自己大摇大摆地从正门并肩出去，</span><br><span class="line">到得荒郊野外，将自己杀了，毁尸灭迹。再将客栈房中整理一番，令人相信自己乃</span><br><span class="line">是因为逃婚而隐姓埋名，不知所终。大家会以为风流小谢看不上王贞吉，与别的女</span><br><span class="line">子私奔了。谁也不会想到王家在背后捣鬼。待时日一长，王家名正言顺地解除婚约。</span><br><span class="line">老爹老妈说不得还要表示万分歉意。小谢愤然，虽然对自己的推断只信了几分。他</span><br><span class="line">买了张面具，快步前往王家。</span><br><span class="line"></span><br><span class="line">    门房认得他这姑爷，却挡了去路，言语支支吾吾，神色不自然。小谢知道孤寒</span><br><span class="line">肯定来了，王家怕丢人现眼，不愿外人观战。他大声道：“独孤寒正在府中吧，大</span><br><span class="line">老爷特意让我来的。”不管三七二十一，径往里闯。王府他熟门熟路，一会儿便寻</span><br><span class="line">到了演武厅。</span><br><span class="line"></span><br><span class="line">    他挨近，戴上面具。在场的王家子侄、叔伯正议论纷纷。迎面站着孤寒。王堂</span><br><span class="line">刚刚落败。小谢有些幸灾乐祸。从小，比剑就没赢过王堂，念书也没他用功。当然</span><br><span class="line">在搞女人方面，两人各有千秋，一明一暗，一唱红脸，一唱白脸；一个广种薄收，</span><br><span class="line">一个兼收并蓄。</span><br><span class="line"></span><br><span class="line">    王臣进场。小谢欺近，极细声道：“我把谢清发摆平了。”众人皆没反应过来。</span><br><span class="line">他又飞快地取下面具，大笑道：“伯父，是我。”四处哗然。由于小谢行为一向怪</span><br><span class="line">诞，王家众人也未觉有异。</span><br><span class="line"></span><br><span class="line">    王臣先是一怔，继而嘴角抽动，有些许惊讶。小谢没看出什么名堂。王臣的反</span><br><span class="line">应似乎很正常。莫非是因为我视力不好？小谢想。</span><br><span class="line"></span><br><span class="line">    王臣拉开架式，随意、自如地拔剑出鞘。兵者，以恬淡为上。孤寒没读过《孙</span><br><span class="line">子兵法》，却遵循着另一个书本上的原则，“昔之善战者，先为不可胜，以待敌之</span><br><span class="line">可胜。不可胜在己，可胜在敌。”他知道王臣不会抢先出手，当下跨步，挥剑提挑。</span><br><span class="line"></span><br><span class="line">    王家子弟中有人轻声道：“齐州九点烟，杯中一泓水。他怎也会琅琊王家的剑</span><br><span class="line">法？”王氏分为好几个宗系，山东琅琊王家出过大书法家王右军父子。</span><br><span class="line"></span><br><span class="line">    姑苏王家的平江剑法，闲逸、高灵、超脱、空幻，小处玲珑别致，有当地园林</span><br><span class="line">叠石、 堆山、 理水的味道。“平江第一剑”王臣王大好整以暇，不慌不忙，一招</span><br><span class="line">“长桥串月”轻松拆解。跟着清啸一声，使出“快雪时晴四十二剑”。</span><br><span class="line"></span><br><span class="line">    长桥串月是姑苏石湖一景。“快雪时晴贴”是书法中的瑰宝。王家的剑招名称</span><br><span class="line">均起得相当风雅。小谢抱臂旁观，笑道：“伯父，这一招‘花迎剑佩星初落’真让</span><br><span class="line">您给使绝了。”</span><br><span class="line"></span><br><span class="line">    据“借刀”组织月前由三槐堂印发刊行的“黄金榜”之“刻舟求剑”排名，王</span><br><span class="line">臣的剑法位于天下第十二名。冷苔老道依然第一。东岳帝君沈魂十五年前以毫无章</span><br><span class="line">法的“大道天遁剑法”大败太白金星后，早已是名列第二名的解元。</span><br><span class="line"></span><br><span class="line">    借刀的“黄金榜”包含两个部分：概观论定，刻舟求剑。前者基于综合的武功</span><br><span class="line">实力，后者只是考评剑法。“黄金榜”编排天下英雄，具有极大的权威，影响深远。</span><br><span class="line">上榜的武林人士多半不愿公开加以评论，似乎不关心自己在榜中名次，其实心里着</span><br><span class="line">实在意。一帮好事者茶余饭后也很喜欢嚼此话题。</span><br><span class="line"></span><br><span class="line">    人们曾怀疑过借刀杀手评选“黄金榜”的动机。但不管怎么说，它做得相当成</span><br><span class="line">功，立场不偏不倚。</span><br><span class="line"></span><br><span class="line">    目前王臣的排名高于孤寒。但小谢相信这个次序马上要颠倒了。</span><br><span class="line"></span><br><span class="line">    孤寒只守不攻。王臣将剑法发挥得淋漓尽致、爽快酣畅。众子弟中有人数落孤</span><br><span class="line">寒盛名之下，不符其实。可他不动声色，非常顽强地拆招破招。</span><br><span class="line"></span><br><span class="line">    王家众人听说过他的剑法，知道他一旦反击，便不可收拾。王臣见久攻不下，</span><br><span class="line">当即变招，速度慢了，剑意更是灵动。</span><br><span class="line"></span><br><span class="line">    王玢嚷道：“月赋剑法！”他相当兴奋，似乎拾到了什么宝贝。王氏剑法自成</span><br><span class="line">一家，号称江南无双，非同小可。王臣自幼被誉为神童，“月赋剑法”是他盛年时</span><br><span class="line">自创的，历十年才定型。它把王氏平江剑的宗旨演绎得炉火纯青。</span><br><span class="line"></span><br><span class="line">    白露暧天、素月流天、长河韬映、圆灵水镜，……。王臣的样子相当潇洒。小</span><br><span class="line">谢打量四周，想：王贞吉是不会前来观人打斗的。</span><br><span class="line"></span><br><span class="line">    王臣转入防守。姑苏园林闻名天下，有拙政园、留园、网师园、沧浪亭等。王</span><br><span class="line">臣又换了一套剑法，叫“拙政网师剑”。它的本义在于经营自我的小天地，与世隔</span><br><span class="line">绝， 曲折深邃， 别有洞天。它讲究自足的防守，根本不理会对手出招变化。是为</span><br><span class="line">“拙政”。</span><br><span class="line"></span><br><span class="line">    “网师”可能是指引来京城名妓李师师收于园中。小谢如此曲解。</span><br><span class="line"></span><br><span class="line">    事实上，苏州园林苦心追求的是：当你身处其中时，不论从哪个角度，在哪个</span><br><span class="line">地点，眼前都是一幅别致、和谐、美丽的山水画，而且绝不会雷同。王臣的剑法也</span><br><span class="line">似如此。</span><br><span class="line"></span><br><span class="line">    孤寒的反击是如此的莽撞，大大破坏了王氏剑法的素雅。他任意挥斫，一剑欺</span><br><span class="line">入中宫，点眼，寻了个“漏窗”，绕过“障景”，当胸直刺。王臣微惊，退步划上</span><br><span class="line">几处假山，添加一汪池水。可他对牛弹琴了。</span><br><span class="line"></span><br><span class="line">    孤寒的剑尖指在他眉间。姑苏园林着眼小处，未免不够大气，有些短视，较不</span><br><span class="line">实用。王臣败了。孤寒止剑不刺，在那瞬间，众人尚未瞧清楚。甚至于王臣本人也</span><br><span class="line">不明所以，看不出败笔所在。他兀自吟着：“妙手解连环，片绣点重茵。”语声方</span><br><span class="line">落，两人分开。</span><br><span class="line"></span><br><span class="line">    孤寒对胜负手最为敏感。他清楚自己胜了。王臣最后两招先绞杀己方攻势，再</span><br><span class="line">而清辉点点，水银泻地般奔来，凌厉至极。所以他退了一步。而王臣之所以跃开，</span><br><span class="line">也是想躲开凝在眉间的剑气。</span><br><span class="line"></span><br><span class="line">    王臣自觉侥幸。胜负未分，可他已想不出拿什么招数来款待这位少年了。园林</span><br><span class="line">的失败不在于为人摧毁破坏，仅在于不被欣赏、劳而无功。未能令人叹服。</span><br><span class="line"></span><br><span class="line">    目送孤寒远去后，耳边听着子弟们的议论，王臣又有些后悔。还有一套“包孕</span><br><span class="line">吴越横云剑法”尚未使出，应该与他缠斗。这个念头只是一闪而过，更多的是后怕。</span><br><span class="line">王臣在想：方才若是失手，英名与声望会付之东流！与孤寒战成平手绝不丢人。他</span><br><span class="line">安慰自己。后悔与后怕？王臣终于领悟：我还是输了，心理上已经垮了！</span><br><span class="line"></span><br><span class="line">    小谢坚信孤寒胜了。他问：“你用了几招击败王堂。”</span><br><span class="line"></span><br><span class="line">    “我只反击一次。你用谢家剑法中的‘雨花石’与他游斗，再用‘殒石流星’</span><br><span class="line">间隙反击，应该不会落败。”孤寒知道小谢曾败在王堂手中。“姑苏还有什么剑道</span><br><span class="line">名家么？”</span><br><span class="line"></span><br><span class="line">    “徽商帮的帐房总管卞梁，长相不堪，斜眼鼠须，武功却与臧三耳齐名，剑法</span><br><span class="line">在王臣之上。‘悲秋剑气’和‘轻生一剑知’皆为武林绝技。”</span><br><span class="line"></span><br><span class="line">    “他为人极为心细，追求完美近似于偏执。非常谨慎、稳重，跟你的风格有些</span><br><span class="line">相似。据说他的剑法是天底下破绽最少的，先已将自己置于死地，轻生而不拼命，</span><br><span class="line">冷静地悲伤哀愁。”</span><br><span class="line"></span><br><span class="line">    “许久没听说他与谁动手了。从小到大，我从未听说他曾与谁动手交战、比划，</span><br><span class="line">也不知道他如何成名。”小谢道，“不过，据江湖传说，和合二大仙之白胖子曾碰</span><br><span class="line">到卞梁，避战而去。”</span><br><span class="line"></span><br><span class="line">    白胖子、太白金星都比三尸、五通神厉害。太白金星与白胖子齐名，在“刻舟</span><br><span class="line">求剑”上排名第五。连白胖子都怕与之交战，可猜知卞梁的水平如何。他的剑法能</span><br><span class="line">排到天下第十。</span><br><span class="line"></span><br><span class="line">    小谢很高兴。似乎孤寒已经打败了卞梁，进入黄金榜的前几把交椅。</span><br><span class="line"></span><br><span class="line">    两人回到清嘉馆。小谢当先奔向自己的房间。他看到房门未由外面锁上，先是</span><br><span class="line">吐舌惊讶，再而释然。敢情是自己走得急了，忘了上锁。他推门而入，却发现躺在</span><br><span class="line">床上、中了迷药、点了穴道的女杀手不见了！</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">第五章 休休者回去也</span><br><span class="line"></span><br><span class="line">    儒事功名重，人大顾虑多，奈何无端动心弦。形秽未敢呼芳名。回想小园香径，</span><br><span class="line">如此锦书难托，月下逾墙，心事谁寄，一见单思历经年。再睹花容成奢念。更哪堪，</span><br><span class="line">有道是，相识相知遥无边。此时此景难为情。秦晋虽近，参商永远，壑深缘浅。天</span><br><span class="line">上人间！</span><br><span class="line">                                                    ——陈毅聪，于人大。</span><br><span class="line"></span><br><span class="line">                             一、 东家之子</span><br><span class="line"></span><br><span class="line">    岑寂心中填着那几句词，有些感伤。由自尊引发自卑，由自恋导向自虐，他警</span><br><span class="line">惕着。年纪尚轻的文人中流行着一种病：当他们喜欢上淑女时，总要将自己之所以</span><br><span class="line">自恋的某些因素投射到“秋娘”身上，使之神化，立于更高的祭坛。他们为无法高</span><br><span class="line">攀而苦恼不巳，似乎摆脱了“为赋新词强说愁”之嫌。正如血友病乃是皇族的专利，</span><br><span class="line">这种洛神式的精神恋爱、高雅爱情（COURTLY LOVE）可谓是文艺之母，只与文人联</span><br><span class="line">姻。</span><br><span class="line"></span><br><span class="line">    许多年后，现代，在写这篇东西时，我想着一位女孩，想起某一天我读过的荣</span><br><span class="line">格神话中的女性神圣原型是否可译成“狐仙”，想到岑寂的时代有没有出国的概念，</span><br><span class="line">想象他怎样在另一天的清晨穿着白衫走过黑暗逃出崔府。</span><br><span class="line"></span><br><span class="line">    只有狐仙才是穷书生们的颜如玉。</span><br><span class="line"></span><br><span class="line">    岑寂打算回到医林，干些正事。他认为自己应与病人伤者归入一类。他在关帝</span><br><span class="line">庙找着尉迟杯。 尉迟向大淮扬镖局要了个差使， 几天后便要押镖远行。尉迟说：</span><br><span class="line">“我在这几天内将无法恢复七成功力。但我不相信。”这是摩尔的悖论。岑寂想，</span><br><span class="line">哲人，真不愧为“祭酒博士”。</span><br><span class="line"></span><br><span class="line">    台风甫过，水大路泞，不少镖师无意遭罪。尉迟不必养家，但得糊口。岑寂听</span><br><span class="line">说尉迟曾有过一个女人。两人恩恩爱爱。但后来，简而言之，她死了。从此，尉迟</span><br><span class="line">便四海为家，漂泊不定。</span><br><span class="line"></span><br><span class="line">    尉迟乐哈哈道：“兄弟，瞧你这个蔫样，必定是在想女人。当年，大哥象你这</span><br><span class="line">般年纪时，也没少干过傻事。其实，讨上媳妇后，你就会大彻大悟。过日子就是过</span><br><span class="line">独木桥，两人成天绑在一块，哪有不摔跟头的。”</span><br><span class="line"></span><br><span class="line">    有人说，只有傻瓜才想结婚。那么为什么傻瓜与傻瓜结婚所生的孩子——人类，</span><br><span class="line">竟会一代比一代聪明？</span><br><span class="line"></span><br><span class="line">    岑寂不知道那算不算打击。崔府中已议论开了：据可靠消息，虽然出了婢女被</span><br><span class="line">杀，杭城黑帮火并这等凶事，当朝红人裴泗水还是打算差人下聘礼，裴公子指日南</span><br><span class="line">下。山东郡姓与江南侨姓南北通婚实不多见，足以轰动一时，下人们少不了多分得</span><br><span class="line">几分利是。</span><br><span class="line"></span><br><span class="line">    又及，早在去年，裴公子曾暗中来杭，对崔小姐未见而倾心。他一表人才，如</span><br><span class="line">玉树临风，且满腹经纶，温文尔雅，与小姐正是天造地设的一双。老爷夫人们都很</span><br><span class="line">中意。</span><br><span class="line"></span><br><span class="line">    岑寂在那个瞬间，忘了自己在想些什么。他出奇镇定。“爱他那几句儿诗，共</span><br><span class="line">他那一操儿琴，也有改嫁时。”怕什么，文君还会与相如私奔。岑寂居然淡淡地笑</span><br><span class="line">着。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    机会还是有的。瞧她那付神情，似乎满怀心事，谅来不以婚姻为喜。她会不会</span><br><span class="line">到白衣庵当尼姑？当晚，岑寂更是睡不着。三更过后，忍不住披衣出门。“人悄悄，</span><br><span class="line">帘外月胧明”，最后一夜“绕阶行”，向遗体告别。然后，出埃及？</span><br><span class="line"></span><br><span class="line">    枯叶们躺在石径上，惨淡的月光下，一切都很暧昧。岑寂的紧张不久便适应了</span><br><span class="line">黑暗。</span><br><span class="line"></span><br><span class="line">    他漫无目标，漫不经心地走着。一不留神，没有预谋地，他抬头。他的眼见到</span><br><span class="line">了他心中的物象。崔九家的小姐正回避着目光，有别样的幽艳。不远处还站着一个</span><br><span class="line">男子。岑寂没有看清那人的脸，仅从衣服判断，那是个男子。</span><br><span class="line"></span><br><span class="line">    他急忙扭头，脑子里头很乱，努力回忆着：我是否惊叫出声了；他二人好象很</span><br><span class="line">投入，以致于听不到我走近的脚步声？转身逃窜，他坚信自己不是在做梦。他很奇</span><br><span class="line">怪自己居然没有撞在枪口上鲜血淋漓的感觉。谁会是惊弓之鸟？</span><br><span class="line"></span><br><span class="line">    他很想表白一番：我没有听见什么，也没有看见多少。——错过了道歉。岑寂</span><br><span class="line">脸上发烧。</span><br><span class="line"></span><br><span class="line">    岑寂回到床上，思索着终生大事。知难而退，识趣而逃？崔府中不姓崔的，不</span><br><span class="line">算家仆的中青年男子只有自己一人。那个男子会是谁呢？岑寂甚至已经忘了那人所</span><br><span class="line">穿衣服的样式与颜色。但他确信自己见着了那位小姐。他怀疑自己的感情更甚于怀</span><br><span class="line">疑自己的视力。</span><br><span class="line"></span><br><span class="line">    我真正的不可自拔了。经过此事，我更念着她了。回想过去几十天的心路历程，</span><br><span class="line">对自己颇为不屑。那时我的感情太不成熟，幻想成份太大。也许还谈不上爱她。如</span><br><span class="line">今呢？我已能经受任何打击，因为我原本便未拥有什么。</span><br><span class="line"></span><br><span class="line">    也许我有病，也许。但可以肯定，我没疯，我拥有绝对的纯粹理性。</span><br><span class="line"></span><br><span class="line">    次日，崔二家的大公子找上门。这位少爷的谈吐仍是十分的得体。他随口闲扯</span><br><span class="line">几句，便开始评书论画，言语间对岑寂极见赏识。岑寂心中受用，却在想：他无事</span><br><span class="line">不登三宝殿，究竟有何意图？——原来我天生就这般提防着他人。</span><br><span class="line"></span><br><span class="line">    坐了一会儿，没词了。岑寂有些不自在。大少爷回头一望。他跟着看到门外空</span><br><span class="line">地。四下里静极。“咱们都是读书人。我就打开天窗说亮话了。昨晚你是否没睡好？</span><br><span class="line">我在后花园瞧见你了。”</span><br><span class="line"></span><br><span class="line">    岑寂怔住了。“很凑巧，不是么？当时你是否看到我正在与一女子说话。不瞒</span><br><span class="line">你说，她是我九叔的独女。”他一脸赤诚，言语恳切。“这关系到堂妹的名节。我</span><br><span class="line">担心你有所误会。”</span><br><span class="line"></span><br><span class="line">    “唉，我这堂妹自小任性，不乐意远嫁北地。我当兄长的只得好言相劝。”他</span><br><span class="line">堆着笑脸，推心置腹。</span><br><span class="line"></span><br><span class="line">    岑寂面无表情。大少爷略一犹豫，似乎下了决心，道：“你也许听到了什么。</span><br><span class="line">但事实上并非那一回事。我想请你千万别张扬出去。……是我约她出来的。昨晚心</span><br><span class="line">情激动，有些话实在……。”</span><br><span class="line"></span><br><span class="line">    他以为岑寂什么都明白，正在装蒜呢。“我希望她能留在家里。从兄弟中，她</span><br><span class="line">只与我有话可谈。唉，实际上，我也一心希望她幸福。总有出嫁的时候。”</span><br><span class="line"></span><br><span class="line">    他自言自语，渐渐失去顾虑，神色痛苦、温柔、愧疚。“很荒唐是么？荒唐的</span><br><span class="line">仅是我一人。她冰清玉洁，少不更事，单纯到想不出那层意味。在这节骨眼上，我</span><br><span class="line">不希望听到任何对她婚事不利的消息。”</span><br><span class="line"></span><br><span class="line">    岑寂只是点头。这位大少爷年过三十，尚未成亲，也不出仕，原本就令人奇怪。</span><br><span class="line">眼前，他自伤自艾之下，吐露了心曲。岑寂猜想着：这人打听堂妹口风，结果委实</span><br><span class="line">令他失望，堂妹似乎可以接受裴公子。此人情急之下，约她夜半后花园见面，企图</span><br><span class="line">说服她。也许他还闪过私奔的念头。</span><br><span class="line"></span><br><span class="line">    她为了堂兄整日紧锁眉关，出于伦理顾忌，决意远嫁？这着实荒唐。此堂兄的</span><br><span class="line">人品令人怀疑。会不会是他在纠缠她呢？他故意不打自招，想借我之口撒播流言，</span><br><span class="line">惟恐天下不乱？</span><br><span class="line"></span><br><span class="line">    岑寂还有一个更为大胆的假设：她不是崔九的亲生女儿！</span><br><span class="line"></span><br><span class="line">    他刻意避免想到“乱伦”这个词。怎能有如此龌龊的念头呢？与这小姑娘相连</span><br><span class="line">的应是神圣的光环。</span><br><span class="line"></span><br><span class="line">    少爷前脚刚走，杜蘅来了。崔夫人的病又犯了。岑寂与杜蘅走在正午的阳光下，</span><br><span class="line">心中均有片阴影。夫人鼻喉疼痛，浑身发烧，很不舒服。</span><br><span class="line"></span><br><span class="line">    她昨日还好好的，也许是有人暗中算计。虽然这是夫人的老毛病了。杜蘅快人</span><br><span class="line">快语。</span><br><span class="line"></span><br><span class="line">    花粉热？这时节已近秋季，似乎不可能对花粉过敏。花粉热发病多在春天。岑</span><br><span class="line">寂满腹狐疑。然而，崔夫人真的具有典型的花粉热症候，似乎病得不轻。他开了贴</span><br><span class="line">药。</span><br><span class="line"></span><br><span class="line">    崔杜氏有些神经质， 看上去势单力薄、 懦弱恐惧、楚楚可怜。她身怀白衣庵</span><br><span class="line">“梅萼兰花指”的绝技，武功想来不错，但此时她声音微弱，脸色死白。“这里头</span><br><span class="line">有个大阴谋，正冲着我们母女而来。岑公子。”她的脑子烧得不轻，似乎正说着胡</span><br><span class="line">话。</span><br><span class="line"></span><br><span class="line">    大凡大宅子，年代久远，子孙繁多，高墙内总围着一些隐事秘史。她目前需要</span><br><span class="line">一座靠山，夫君却远在京师。外来的和尚好念经，她似乎很信任医林出身的岑寂。</span><br><span class="line">“叔伯兄弟间早已是水火不相容。我没惹上谁，却是他们共同的眼中钉。”她出身</span><br><span class="line">不好，人又太漂亮了，也没给崔九生个儿子，自然受到排斥。</span><br><span class="line"></span><br><span class="line">    “你该听说了崔裴连姻之事吧。裴家门风不错，裴公子人也斯文。照理说我该</span><br><span class="line">赞成这桩婚事。可是我隐隐觉得不对劲。好象有个火炕正等着小女往下跳。”</span><br><span class="line"></span><br><span class="line">    杜蘅嘴快，领岑寂出屋时，又在添油加醋。“我曾经见到一年青男子装成家丁</span><br><span class="line">闯入内宅，并且无礼地惊扰小姐。而几天前，城中死了许多黑帮高手，血流成河。</span><br><span class="line">还有，听说苏州也发生了几件血案。联想到月来外头的局势，可知我家夫人的担心</span><br><span class="line">并非没有来由。你认为呢？”</span><br><span class="line"></span><br><span class="line">    岑寂唯唯喏喏，心中颇不以为然。女人都过于敏感，总爱胡思乱想。寡妇门前</span><br><span class="line">是非多，崔杜氏算得上守活寡，又有个天底下最美的女儿，由不得她不提高警惕、</span><br><span class="line">草木皆兵。病根可能正出在她自个身上。</span><br><span class="line"></span><br><span class="line">                                二、心病</span><br><span class="line"></span><br><span class="line">    岑寂算得上是个半拉子医生，长于诊断推测。他已有相当的把握揭破崔杜氏所</span><br><span class="line">谓的“阴谋”。他认为，夫人的身世、处境使她患有幽避症、外倾性癔症、受迫害</span><br><span class="line">幻想症。她长期独守空房，闲来冥思苦想，疑神疑鬼，脑子里头总会生出些毛病来。</span><br><span class="line">神经一直绷得很紧，故而脆弱。她女儿的性情是否也如此这般？岑寂以为自己亦有</span><br><span class="line">轻微的精神病，而且由来已久。</span><br><span class="line"></span><br><span class="line">    病是夫人自个想出来的。按时令节气，当此物候，不可能令人复发花粉热。她</span><br><span class="line">可能在白衣庵呆过，如今亦把自己设想成一个尼姑，为夫守节。并且在潜意识里希</span><br><span class="line">望女儿加入这一行列。也许连她自个亦未觉察：她内心中并不赞成女儿的婚事。她</span><br><span class="line">怕因此无依无靠。她用生病来表示自己的不满。</span><br><span class="line"></span><br><span class="line">    岑寂开出的药只能治标，却宣称疗效绝佳，明日便可痊愈，希望以此缓解崔夫</span><br><span class="line">人的心理压力。</span><br><span class="line"></span><br><span class="line">    次日岑寂与姨父、姨妈告别，准备回医林。他心灰意懒，却编造着一种白日梦：</span><br><span class="line">这女孩终于喜欢上我了，由于我故意地疏远她，她首先忍不住……。他沉缅于虚假</span><br><span class="line">的想象之中，满足于惯性的一时快感。英雄救美？崔、裴二家不象是火炕。世家少</span><br><span class="line">爷也不象是大恶人。假若她婚后生活不幸福，……。</span><br><span class="line"></span><br><span class="line">    与此同时，岑寂又很清醒。他知道绝望是他离去的行李。</span><br><span class="line"></span><br><span class="line">    但事情还没完。下午，丫环将他请到了夫人病榻前。病情又有反复。以岑寂之</span><br><span class="line">绝顶聪明，一时也不明所以。这回，倒是见着了崔小姐。他心慌耳热。</span><br><span class="line"></span><br><span class="line">    夫人屋内地方不大，摆设不多。龙涎香过敏的嫌疑可以排除。屋外种了不少花</span><br><span class="line">草树木，但没有正在开花播粉的。门窗长年紧闭，庭院深深。会不会是由于前几天</span><br><span class="line">下大暴雨，地面潮湿，温度下降，正好与春天梅雨时节的天气相似，导致崔杜氏旧</span><br><span class="line">病复发？</span><br><span class="line"></span><br><span class="line">    小姑娘静静地坐在母亲床头，一言不发，似乎一见到岑寂，脸就阴下。也许她</span><br><span class="line">根本就没留意自己，岑寂心中不大好受，随口道：“这几天转凉了。”他想：以我</span><br><span class="line">之低贱，假使生病了，只要她在床头那么一坐，我便挣扎着爬起来，什么病也好了。</span><br><span class="line"></span><br><span class="line">    谢清发发现那女杀手不见了，第一个反应便是蹲身。他看清了床下无人。敢情</span><br><span class="line">她还有同党。否则那“轻扬落花风”岂不成了香粉之类的玩意么。小谢我还在她软</span><br><span class="line">绵绵的身子上点了几处穴道，包括哑穴。</span><br><span class="line"></span><br><span class="line">    他也不与孤寒解释，箭一般地射出房门，追问店中伙计。伙计们的回答令他困</span><br><span class="line">惑。他们未见到有女子被人背出店。中了“轻扬落花风”之人力气恢复不快。会不</span><br><span class="line">会仍在店中？那女杀手的同伴另外开了一间房？</span><br><span class="line"></span><br><span class="line">    小谢打点精神，拉上孤寒当保镖，挨门挨户查访。结果大失所望，到手的肥羊</span><br><span class="line">溜了。距离解开一个大迷团，粉碎一个大阴谋，破获一个秘密组织，只有一步之遥</span><br><span class="line">了，可惜功败垂成。</span><br><span class="line"></span><br><span class="line">    他悻悻回房，迎面撞上笑嘻嘻的周乐。他疑心大作，斜眼打量周乐，差点儿就</span><br><span class="line">凑到身上嗅嗅气味了。周乐是个色中饿鬼。他有可能上我房中，见色起意，将她收</span><br><span class="line">入哪个偏房了。</span><br><span class="line"></span><br><span class="line">    周乐笑道：“瞧你房中情形，我猜到她是位刺客。当下软硬兼施，想套出口风。</span><br><span class="line">可她不买帐。无奈之下，只好……。”</span><br><span class="line"></span><br><span class="line">    他卖了个关子，可小谢沉得住气。“小谢，我自作主张、借花献佛、惜香怜玉、</span><br><span class="line">放虎归山了。她乃是由正门出。我雇了辆马车千里送京娘了。”</span><br><span class="line"></span><br><span class="line">    小谢耷拉着头，叹道：“你给了店伙好处，所以他们跟我说了假话。周乐，我</span><br><span class="line">并不在意那个女子的死活，而是心疼你白花了不少冤枉钱。”</span><br><span class="line"></span><br><span class="line">    他很睿智地、徐徐地道：“周乐，你别得意。这事你做得不地道。她必定担心</span><br><span class="line">你跟在马车后面，探出组织秘密，必不敢回家。所以周乐你自称仁义，自认聪明，</span><br><span class="line">实际上却坑苦了一位羸弱的少女。”</span><br><span class="line"></span><br><span class="line">    周乐目瞪口呆，脸上再无笑容，随即道：“好个谢清发，真没白疼你，长进了</span><br><span class="line">不少，问到点子上了。我与车把式讲，将那女子带到嘉兴白衣庵。”那儿的尼姑不</span><br><span class="line">问江湖是非，好事没少做，收容了一些无依无靠的女子。</span><br><span class="line"></span><br><span class="line">    小谢道：“碰巧那车把式是你们十三行的成员，也不怕他半路劫色。唉，周乐！”</span><br><span class="line">平地绽起春雷，小谢大嚷出声。“她辣手无情，差点儿要了我的命。这事我跟你没</span><br><span class="line">完。”</span><br><span class="line"></span><br><span class="line">    杜若慢条斯理地答道：“岑公子，前几天的天气确实凉了。我们从衣柜里翻出</span><br><span class="line">了不少厚衣薄被。春天那会儿将它们洗净晾干后，就一直没用过。”</span><br><span class="line"></span><br><span class="line">    言下之意，天凉好个秋。可在岑寂听来，直如当头棒喝。他立马想到，会不会</span><br><span class="line">是衣物衾被在屋外晒晾时，粘上了春天的花粉。花草们为了传宗接代，其花粉的生</span><br><span class="line">命力很旺盛，历半年不死。待将衣被翻出来用时，崔杜氏接触了花粉，因而过敏。</span><br><span class="line"></span><br><span class="line">    她们，包括自己，思维都有着某种定式，倾向于把问题复杂化、神秘化、悲观</span><br><span class="line">化，总以为人心惟危；总是看到自己的身影便怀疑有个敌人躲在暗处。我们过于排</span><br><span class="line">斥凑巧的非人力因素。更进一步地说，事情的原由非得搞清楚么？“案子”一定得</span><br><span class="line">破，一定可破么？</span><br><span class="line"></span><br><span class="line">    这种先入为主的想法最是桎梏。</span><br><span class="line"></span><br><span class="line">    说不得此次自己的猜测、分析仍然是错的。岑寂想。</span><br><span class="line"></span><br><span class="line">    离开崔府时，他依依不舍。他有点儿认为自己无能，但也有另一个新发现：自</span><br><span class="line">己并非相当伤心，却也没有解脱后的轻松。假以时日，这种可能是病态的情感也许</span><br><span class="line">会渐渐淡去……</span><br><span class="line"></span><br><span class="line">                             三、我害怕人多</span><br><span class="line"></span><br><span class="line">    我害怕人多。真的，人一多我会心烦。本质上，我是反平民主义的。看着一张</span><br><span class="line">挨着一张幸福、凄惨、漠然、兴奋、迷惑的同类的脸，我在想，做一个人道的大夫</span><br><span class="line">是最不人道的选择，却有一种自我牺牲式的伟大。</span><br><span class="line"></span><br><span class="line">    医生得对人满为患的世界负部分责任。他得学会冷静，甚至是冷酷地面对病者。</span><br><span class="line">他的同情心消解在弥漫着的苦涩药味中。</span><br><span class="line"></span><br><span class="line">    此刻医林正遭到其积下的天大阴德带来的不幸的报应。医林来了许多外人。它</span><br><span class="line">的所在不是特别的隐密，至少不比我所发现的真理隐密。</span><br><span class="line"></span><br><span class="line">    周围方圆几里的百姓都赶来了，不下几百人。幸好我不是真正的医生。这些百</span><br><span class="line">姓很令人同情，你不得不耐着性子给他们，或他们的牲口治病。他们如何知道医林</span><br><span class="line">所在？怎会一窝蜂涌来？是否闹瘟疫，鸡瘟鸭瘟，抑或天花霍乱？</span><br><span class="line"></span><br><span class="line">    百姓中有提鸡擒鸭的，有挎着鸡蛋篮子的，想是为了付医药费。所有的大夫都</span><br><span class="line">挽着袖子，忙得不可开交。岑寂瞧得出这些民众的病都不难治，不过上吐下泄、肚</span><br><span class="line">疼头晕罢了。但人数一多，便有古怪。估计附近村庄的井水被人做了手脚。应该是</span><br><span class="line">冲着医林来的。</span><br><span class="line"></span><br><span class="line">    当晚关门歇业后，医林中鸡飞鸭叫，震天价的噪杂声。大夫们捋须摇头。岑寂</span><br><span class="line">也在自我讥讽：斯文扫地地混迹人群，却想着不食人间烟火的她；本身便是平民一</span><br><span class="line">个，却又不怎么瞧得起平头老百姓。</span><br><span class="line"></span><br><span class="line">    他渴望着发生什么事，相信一定会有什么事接踵而来。对方花了不少力气，目</span><br><span class="line">的应该不简单。</span><br><span class="line"></span><br><span class="line">    第二天，只有一个人坐着马车来看病。医林恢复了往日清净，却多了肃杀之气。</span><br><span class="line">这个病人很不一般。他身上的伤明显是由于“血瘀大手印”所致，而且他的手少阴</span><br><span class="line">经、带脉、阴桥诸经脉亦为强力震动，症状与尉迟有些相似。医林马上警觉了，上</span><br><span class="line">回枉送了一位大夫的性命。如今，又会有什么阴谋呢？</span><br><span class="line"></span><br><span class="line">    这病人的伤没有尉迟重，他的作用有如一封信，带来对方所要传达的信息。岑</span><br><span class="line">寂与古天真、林几道会诊，瞧出了名堂。仍旧是回抽伤脉，到不了借力伤敌、一泄</span><br><span class="line">千里的境界。但“入刻三分、被之甚广”，其中的功力、技艺足于骇世惊俗。此人</span><br><span class="line">的“决气法”业已越过十二经外加任督二脉的十四经，开始涉足冲、带等余下的奇</span><br><span class="line">经六脉，进展似乎快了一点。这回，此人，即“蒙面大汉”再与古天真对掌比拼内</span><br><span class="line">力，只怕会大占上风。因为古天真的内力流已丧失了速度优势，抢不到先手。</span><br><span class="line"></span><br><span class="line">    现在，纵使尉迟杯运气护身，认真防备，只要沾上“蒙面大汉”的掌力，被它</span><br><span class="line">集力入攻，回撤时带动的震波足于令尉迟杯吃到更大的苦头。</span><br><span class="line"></span><br><span class="line">    这种真气极为锋利、迅速，可破一切护体内功。更为高明的是，真气回抽时，</span><br><span class="line">与护体内力激烈碰撞，便会大面积地震伤经脉。唯一的弱点乃是“决气法”难以持</span><br><span class="line">久。</span><br><span class="line"></span><br><span class="line">    这个蒙面大汉很可能便是伤尉迟的杀手。眼前的病人也极有可能是他送来的。</span><br><span class="line"></span><br><span class="line">    古、林脸色凝重。病者之伤不易好，也不难治。对方等于是下战书来了。岑寂</span><br><span class="line">沉吟道：“你们瞧这种伤势，是否可以说那人的掌力过于阴毒，带有寒气。”</span><br><span class="line"></span><br><span class="line">    古、林不解。血瘀大手印走的是阳刚一路，那人的内功底子在着哩，怎会乍然</span><br><span class="line">转成阴寒？古天真道：“伤者的血瘀不重，唇黑，牙关闭，虚热不明显。但我想，</span><br><span class="line">他内力的本质并未改变。”</span><br><span class="line"></span><br><span class="line">    “他一心求快，贪多务杂，用功过于迅猛。故而正经之脉隆盛，则溢于奇经。</span><br><span class="line">他转入修习奇经八脉。但对于后者，书中不明之处甚多，极为凶险艰辛。他内力长</span><br><span class="line">进不小，‘阳热太盛、反见假寒’。此所谓‘阳盛格阴’也。”</span><br><span class="line"></span><br><span class="line">    “所以，我认为他不是在示威，而是在示弱。修习决气法遇到了难题，身体开</span><br><span class="line">始不适，内息难于调和。昨日之百姓，今日之伤者，均是他试探性的举动。说不得，</span><br><span class="line">他会主动上门延医求治。”岑寂的推论很大胆。蒙面人希望医林能对所有求医者一</span><br><span class="line">视同仁。</span><br><span class="line"></span><br><span class="line">    林几道点头称是，“也许他还指望能通过这名伤者澄清自个心中的疑问。咱们</span><br><span class="line">治病，他从中看出门道，便可能找出自救的法子。”</span><br><span class="line"></span><br><span class="line">    伤者醒过来了。可他的言语多少令他们有些意外，虽然伤他之人确实高大、蒙</span><br><span class="line">面。林几道的想法似乎走得太远了。两年前，蒙面人带着一患者登门求医，跟着却</span><br><span class="line">痛下杀手，断送了医家、患者两条性命。今天的伤者坦言：“我是四川人，虽然不</span><br><span class="line">是嫡系青城派弟子，却协助管理着都江堰。”蒙面杀手是被唐门收买来对付青城派</span><br><span class="line">的，动机似乎很单纯。</span><br><span class="line"></span><br><span class="line">    岑寂马上想起一宗几年前血手印伤青城弟子的案例。那名弟子并非什么重要人</span><br><span class="line">物，似乎不值得请杀手大动干戈。青城地近藏边，而血瘀大手印原本是高原上的绝</span><br><span class="line">学，双方偶有冲突并非怪事。</span><br><span class="line"></span><br><span class="line">    “我们与唐门冲突由来已久，势不两立。交战多次后，我方渐占上风。唐门弟</span><br><span class="line">子少，人手不足，所以请来了几个血手印高手。”藤牌是暗器的克星，毒药又极其</span><br><span class="line">难于研制。青城弟子都培养出了一点抗毒血清。况且还有医林，它两不相帮、中立。</span><br><span class="line">当青城派前来请教治毒疗伤之法，总得据实相告。所以，唐门与医林并称“四术”，</span><br><span class="line">关系却有点僵。</span><br><span class="line"></span><br><span class="line">    也许，蒙面人是唐门请来发出警告的，要医林不去理会青城派。“四术”中雷</span><br><span class="line">堂重利，墨家爱名声，医林坚持医道原则，只有唐门毫无顾忌，最为放肆。它自恃</span><br><span class="line">下毒手段、暗器功夫，垄断川中井盐，富甲一方，称霸川贵滇边。</span><br><span class="line"></span><br><span class="line">    更何况，最近医林正准备刻版印书，刊行天下。此书名《医林证方要·疗毒》，</span><br><span class="line">患了唐门大忌。由于医林人缘好，受其恩惠的高手权要不少，唐门迟迟不敢上门动</span><br><span class="line">手。所以他们找来了蒙面人？找上了杀手？</span><br><span class="line"></span><br><span class="line">    如此说来，蒙面人所为似乎与《决气法》没有干系了。他杀大夫是应唐门所请，</span><br><span class="line">伤四川佬也不是为了偷师？</span><br><span class="line"></span><br><span class="line">    事情的发展使岑寂碰到他料想将会碰到的事。下午，有小童送来一封信，并要</span><br><span class="line">等取到回执才肯离去。信是蒙面人写来的。信封上并无赤蝎粉之类的毒物，言语相</span><br><span class="line">当谦和。</span><br><span class="line"></span><br><span class="line">    他指望能获得医林有关《决气法》最新的研究成果。因为这本书，我已走火入</span><br><span class="line">魔，他说，救人一命胜造七级浮屠，医林大夫不该见死不救。他的脸皮如此之厚，</span><br><span class="line">怎还需要蒙面呢？岑寂知道医林很难拒绝。医林的原则之一便是：救死扶伤，不管</span><br><span class="line">求医人的道德水准如何。大夫们不希望他滥杀无辜，招来不必要的麻烦。况且蒙面</span><br><span class="line">人身上隐约的内伤，不易根治。纵然他聪明过人能修习奇经八脉部分的心法，既已</span><br><span class="line">走了岔道，内功修为还是会落下不少。</span><br><span class="line"></span><br><span class="line">    古天真认为不得不防。鬼才知道对方有没有耍花招，说不得走火入魔是假，探</span><br><span class="line">听医林虚实，一举搏杀修习《决气法》的对手是真。当下，林几道写了一封短信，</span><br><span class="line">表示欢迎其前来治病。</span><br><span class="line"></span><br><span class="line">    又过得几天，《医林证方要·疗毒》要送去印书社了。岑寂自告奋勇。他人小，</span><br><span class="line">较不会落入蒙面人眼中受到劫持狙击。对方会顾及身份。而且他与书社相熟。林几</span><br><span class="line">道、古天真都不放心，觉得出版此书绝不会顺利。眼见着风雨欲来。</span><br><span class="line"></span><br><span class="line">                             四、书局中的局</span><br><span class="line"></span><br><span class="line">    工匠们烧字、排版、印刷、装订，几日后一大堆书带着墨香堵在岑寂面前。诸</span><br><span class="line">事顺利，医书安全送出了。但他保持着一贯的疑心，总觉得会有什么事情发生。</span><br><span class="line"></span><br><span class="line">    这天，有人将他约到大街上，客气地道：“你们那批书我全部买下了。你开个</span><br><span class="line">价吧。”岑寂明白了，唐门在半道上抢走医书。</span><br><span class="line"></span><br><span class="line">    眼前这人头戴白巾，操着一口内江活。岑寂口才虽棒，此刻却也蔫了，不知如</span><br><span class="line">何是好。他有些气恼。</span><br><span class="line"></span><br><span class="line">    那人冷笑道：“你们医林喜欢救人，那我便将你打伤了，好让那帮老头救个不</span><br><span class="line">亦乐乎。”于是就动手。这位唐兄自恃暗器功夫高明，根本不将岑寂放在眼里。他</span><br><span class="line">不仅会“乱石穿空”，而且长于唐门七大暗器绝技中的“蒙笼暗碧”、“千条线、</span><br><span class="line">万条线、落到水里看不见”。</span><br><span class="line"></span><br><span class="line">    他一抬手便发动了“水云袖”，一大团毒雾窜向岑寂。岑寂只能后掠，抑或纵</span><br><span class="line">身上跃。但如此一来，他便将自己的空门卖与对方，无暇躲避后续的杀着。距离一</span><br><span class="line">拉开，便只有挨打的份儿了。</span><br><span class="line"></span><br><span class="line">    所以岑寂下意识地弹出一枚泥活字。活字是活的，因为它速度太快了，迫不及</span><br><span class="line">待地钻入毒雾之中。那位唐兄无法不接纳它。</span><br><span class="line"></span><br><span class="line">    岑寂胜在：大敌当前，他却分心二用；一面躲闪，一面以“决气法”还击。此</span><br><span class="line">为决气法分力析气的妙处。</span><br><span class="line"></span><br><span class="line">    岑寂屏息静气，退避三舍，老大一阵子才回到原地。他看到对手身前散落了不</span><br><span class="line">少亮晶晶、绿莹莹的小小锐器，暗红色的鹿皮手套已戴在手上。</span><br><span class="line"></span><br><span class="line">    “小大夫，你可知道这种暗器的名称？”声音浑厚、低沉，来自身后。岑寂转</span><br><span class="line">身，见到一个高大的蒙面人，已在丈外。他也不惊慌，只是摇头。</span><br><span class="line"></span><br><span class="line">    以岑寂的江湖阅历、内功修为，自然觉察不到高手近身，防不了杀手破袭。</span><br><span class="line"></span><br><span class="line">    “那叫‘狼眼’。你的运气不错。”蒙面人训导着，“如果这傻瓜不轻敌，一</span><br><span class="line">上前便放出‘狼眼’，躺下的只会是你。凭你三脚猫的把式，半桶水的内功修为，</span><br><span class="line">居然能击倒外号为‘水银泻地，冰雹满天’的唐圭，想来是受了‘决气法’之助。”</span><br><span class="line">他这话等于自个承认偷盗了《十四经决气法》。</span><br><span class="line"></span><br><span class="line">    “透过毒雾，他已看清你的出手。但不料暗器来速如此之快，更不料打击如此</span><br><span class="line">沉重。那枚活字并未击正穴道。它的目标指向无处不在的经脉气血。用心不在于监</span><br><span class="line">禁动作，而是打压真气内力。”</span><br><span class="line"></span><br><span class="line">    岑寂面对着高大的蒙面杀手，手心湿漉漉的。“眼下你还不是我的对手，因为</span><br><span class="line">你劲力虽快，出手太慢，指腕稍僵，我有足够的时间防备。第一流的暗器名家，如</span><br><span class="line">地上这位唐圭，讲究出手绝无先兆，追求手法隐蔽，简单快捷。”</span><br><span class="line"></span><br><span class="line">    “小大夫，我是个冷血杀手。可我有资格在道义上瞧不起唐门。为什么呢？唐</span><br><span class="line">门不是伪君子，不需要盗世欺名，却是真正的小人。杀手们并非道学家，但至少还</span><br><span class="line">讲些原则。刺杀恶人，乃替天行道；谋害好人，却也令之避免了强充好人的烦恼与</span><br><span class="line">痛苦，并且获取了恶人的钱财。我们蒙面，表明我们还珍视这张脸。”</span><br><span class="line"></span><br><span class="line">    岑寂想，也是，否则以这些杀手的武功，来钱还不容易？他长吸一口气，道：</span><br><span class="line">“你属于借刀组织？”话一出口，他开始后悔。自己的好奇心太强，竟然忘了杀手</span><br><span class="line">们的讳忌。</span><br><span class="line"></span><br><span class="line">    蒙面人盯着他，静了一会，然后淡淡地答道：“不错。我是借刀杀手。我的代</span><br><span class="line">号叫杀手锏。”</span><br><span class="line"></span><br><span class="line">                              五、 杀手锏</span><br><span class="line"></span><br><span class="line">    我曾写过一首歪诗曰：“从来陌生最亲切，贴心私语独邀月。适当距离产生美，</span><br><span class="line">交往不忘以为戒。”那是那段时期我性格的真实写照。所以我害怕人多，我喜欢读</span><br><span class="line">书，我居然跟杀手锏相处不错。我的心情逐渐放松。身伴天底下最厉害的杀手，我</span><br><span class="line">不再病态的小心翼翼。言语相当投机。</span><br><span class="line"></span><br><span class="line">    “我猜到你是借刀杀手。因为以你的剑法足以打入‘借刀’公布、三槐堂刊行</span><br><span class="line">的黄金榜‘刻舟求剑’前二十名，甚至是前十名。‘概观论定’中也不该没有你的</span><br><span class="line">位置。除非你是借刀杀手，无需有量身估价的必要，同时也不可以树大招风。”</span><br><span class="line"></span><br><span class="line">    锏道：“你知道杀手与刺客的区别么？”</span><br><span class="line"></span><br><span class="line">    岑寂答曰：“前者的血腥味更重些，更象商业性操作。”</span><br><span class="line"></span><br><span class="line">    “非常正确。我有一点补充。前者只是杀人的工具，后者是人。前者仅是为了</span><br><span class="line">杀人而杀人。”杀手锏望着天空，双手笼在袖中，声音中杂有感伤的成份。</span><br><span class="line"></span><br><span class="line">    “锏，你的剑呢？”</span><br><span class="line"></span><br><span class="line">    “若说剑在我心中，那太过老套了。我的剑在敌人手中？似乎又脱不掉文学中</span><br><span class="line">的夸张手法。真实的情况，很遗憾，不带有一丁点的传奇色彩。没有草绳缠剑，而</span><br><span class="line">是一把锋利的宝剑。用钱可以大方，对待自己的性命可不敢奢侈、浪费。”</span><br><span class="line"></span><br><span class="line">    “我未带剑，仅因为有求于医林。我这人实在，自私，却还算识趣。”</span><br><span class="line"></span><br><span class="line">    “我曾听说，杀手的剑便等于他的妻子、他的眼睛、他的手，一刻也不能离身。”</span><br><span class="line"></span><br><span class="line">    “那是唬人的神话。老扛着剑，你不会厌烦么？更何况，如此显眼的招牌很容</span><br><span class="line">易暴露身份，令你死得更快。”</span><br><span class="line"></span><br><span class="line">    “你如此健谈，如此坦白，是否违反了杀手的职业原则？”</span><br><span class="line"></span><br><span class="line">    “一成不变亦是大忌。我们都是千面人，凡事讲究权变。我的所言所为不是令</span><br><span class="line">你感到颇为意外么？我们生活在常人想象不到的世界，因为我们负责把人们带到另</span><br><span class="line">一个未知的世界。”</span><br><span class="line"></span><br><span class="line">    医林大夫对于这个凶手加杀手，可没有岑寂那么宽容。由于《疗毒》印书受挫，</span><br><span class="line">医林更是沸沸扬扬。一班中青年大夫按捺不住怒火，叫嚷着应该施行“新孤立主义”。</span><br><span class="line">医林的“三尺法”应该革新，由“中立、非攻、不留宿”修改为“中立、自卫、不</span><br><span class="line">治病”。他们想做医隐，不理世事人情，专心研究医道。</span><br><span class="line"></span><br><span class="line">    林几道、古天真、岑寂均未表态。拯救与逍遥不可兼得。三人在研究杀手锏身</span><br><span class="line">上古怪的内伤。他们明白：如果详细地讲解《十四经决气法》要义，假以时日，锏</span><br><span class="line">的内伤便会不治而愈。但这样做无异于引狼入室、倒执太阿。</span><br><span class="line"></span><br><span class="line">    大家都熟知猫和老鼠的故事：老虎学了猫的本事，头一个要吃的对象便是猫。</span><br><span class="line">幸好猫还留有一手——爬树。如此一来，老虎为自己的忘恩负义找着了借口：好啊，</span><br><span class="line">你藏私，甭怪我不客气啦。似乎一开始，先是猫的错。</span><br><span class="line"></span><br><span class="line">    医林不想成为道义上有亏的猫。它只能以身饲虎？</span><br><span class="line"></span><br><span class="line">    依古天真的意思，要治“阳盛格阴、经脉絮乱”的内伤，有一个法子——散功。</span><br><span class="line">如此医林大夫免了性命之忧，杀手锏亦可趁此番契机，从头练习《十四经决气法》，</span><br><span class="line">收效必然奇佳。二十年后，又是一条好汉。但散功凶险不小，古天真认为与锏谈此</span><br><span class="line">事，无异于与虎谋皮。双方四人围坐，摊牌。</span><br><span class="line"></span><br><span class="line">    古天真翻眼道：“那本书有无第二人瞧过。”</span><br><span class="line"></span><br><span class="line">    没有。“借刀”杀手上道后，相互间极少往来，并不切磋武功。</span><br><span class="line"></span><br><span class="line">    岑寂玩着小刻刀，道：“你为何要杀死那位大夫？”</span><br><span class="line"></span><br><span class="line">    因为我受人雇佣。</span><br><span class="line"></span><br><span class="line">    谁？</span><br><span class="line"></span><br><span class="line">    杀手不能泄露雇主的名字。我们以信誉（性欲？）求生存。</span><br><span class="line"></span><br><span class="line">    岑寂自个觉得不好意思，喃喃道：“我不是在审讯你。那太强人所难。”</span><br><span class="line"></span><br><span class="line">    良久，林几道问：“内伤愈后，可有意金盆洗手？”</span><br><span class="line"></span><br><span class="line">    “那样做与散功何异？同为废物。”</span><br><span class="line"></span><br><span class="line">    四人也没商讨出什么结果。最后，林几道拍板，该怎么治便怎么治，反正是祸</span><br><span class="line">躲不掉。也要看杀手锏自身造化与悟性，因为《决气法》及其它书籍均无法替代习</span><br><span class="line">武者的主观能动性，领进门后修行靠个人。从此，杀手锏整日闭门不出，盘膝打坐，</span><br><span class="line">似乎把医林当成武馆了。</span><br><span class="line"></span><br><span class="line">    终有一天，杀手锏的内伤痊愈了。林几道为他搭脉，道：“走岔的真气暂时理</span><br><span class="line">顺了。只是还得静养，半年内不要妄动真气。古大夫，你认为呢？”</span><br><span class="line"></span><br><span class="line">    古天真明白林几道的用心。 先将锏稳住， 让他心有余虑，不敢与医林翻脸。</span><br><span class="line">“是啊，冰冻三尺非一日之寒。你原先的内功底子太深，不容易进行扎实的决气冲</span><br><span class="line">穴。”</span><br><span class="line"></span><br><span class="line">    杀手锏笑了笑，道：“我身上的真气汹涌澎湃、跃跃欲试。它等不及了。”他</span><br><span class="line">从怀中掏出一柄短刀。“我也不愿暗算你们。咱们光明正大地过过招，检验一下治</span><br><span class="line">疗效果。”</span><br><span class="line"></span><br><span class="line">    林几道上前搭脉时，双眼瞄了关前一分的“人迎穴”，心中存有戒备。岑寂却</span><br><span class="line">呆在一旁，想不明白杀手锏怎会说翻脸就翻脸。“你手中这把刀便是……。”</span><br><span class="line"></span><br><span class="line">    “正是当年我用来刺杀大夫的刀子。没想到吧？”</span><br><span class="line"></span><br><span class="line">    这柄短刀一直藏在岑寂修习《决气法》的房间里。杀手锏暗地里曾去过那儿，</span><br><span class="line">翻箱倒柜搜了一番。也许他一直有心多猎取几本“武学秘笈”。</span><br><span class="line"></span><br><span class="line">    杀手锏如鬼魅般欺上，一刀分刺林几道、古天真。刀子似乎长在他手上，灵活</span><br><span class="line">多变。刀光封了边边角角，寒气逼人。</span><br><span class="line"></span><br><span class="line">    岑寂从未见过林几道与人动手，今天仍没有那个眼福。因为林几道与古天真均</span><br><span class="line">只顾躲闪，无暇反击。他们的手垂在腰侧，不敢抬举。两人各退了几步，相距已然</span><br><span class="line">不近，中间还隔了些家具摆设。但杀手锏依旧同时迫住了他二人。</span><br><span class="line"></span><br><span class="line">    岑寂已忘记喊人帮忙，潜意识里害怕上前助阵。在他眼中，林、古二人均象是</span><br><span class="line">一只刺猬，身上插满了剑麻般的“利刃”。他根本就没瞧清楚，两位大夫是如何倒</span><br><span class="line">下的。他俩身上未出血。</span><br><span class="line"></span><br><span class="line">    杀手锏以掌拍刀，笑道：“小大夫，我这一手如何？以气驭刀，刀尖点穴。刀</span><br><span class="line">速快到极致，锐不可挡。”</span><br><span class="line"></span><br><span class="line">    “现在你明白何谓‘刀气’了吧？并非真气由刀尖逸出，亦非指刀锋所带出的</span><br><span class="line">破空风气。‘刀气’乃用以形容出刀之快，招招无形，了无痕迹，不可捉摸。刀子</span><br><span class="line">已幻化入劲风之中，有神致、有生气，令敌手感到极大的压力。”</span><br><span class="line"></span><br><span class="line">    岑寂手中紧抓着小刻刀。“在我刀气笼罩之下，出手格架是最不明智的。近些</span><br><span class="line">日子我的内力有些衰退，但精纯多了，胸中再无气塞之感，使起刀来华丽舒畅。”</span><br><span class="line"></span><br><span class="line">    “我的剑法以凌历见长，讲究速战速决。决气法于我适得其所。上回我受雇刺</span><br><span class="line">杀九命尉迟，只一剑便全身而退。当时我知晓他未断气，只惜内力亦几乎耗尽。现</span><br><span class="line">在，我出手的速度快过你发射暗器，刀上所附的内力又能强过空手技击。”</span><br><span class="line"></span><br><span class="line">    岑寂相信。方才，杀手锏刺出的十来刀并无高下强弱之分。似乎也谈不上招式，</span><br><span class="line">尽是信手挥成。林几道与古天真之所以落败，不是因为无法拆招、破招，也非因为</span><br><span class="line">锏的武功逐渐发挥，压力陡增。都不是！</span><br><span class="line"></span><br><span class="line">    杀手锏每出一刀，真气皆有损耗。所以照理说，第十刀过后，林、古应该好受</span><br><span class="line">一些。事实则不然。林、古躲过开头的杀着已是竭尽所能、心惊肉跳。他们的落败</span><br><span class="line">是应付第一招时埋下的伏笔。将死之人哪里经得往风寒、高烧？</span><br><span class="line"></span><br><span class="line">    “你放过两位大夫吧。现在你武功已经恢复，并且远远超过我们。反正也没人</span><br><span class="line">出钱雇你杀……。”</span><br><span class="line"></span><br><span class="line">    “你凭什么认为没人雇我杀医林大夫。借刀杀手永远神鬼莫测。我上医林有双</span><br><span class="line">重目的、双重身份。谁也不会想到病人居然也是谋杀大夫的杀手。唉，你们居然没</span><br><span class="line">有吸取上回的教训。”杀手锏道。岑寂傻眼了。</span><br><span class="line"></span><br><span class="line">    这阴谋比锏的武功更可怕。医林静悄悄的，人们还不知道这儿发生了什么事。</span><br><span class="line">岑寂不想喊人帮忙，因为没有用。锏可以从容地干掉林、古二人，再从容离去。没</span><br><span class="line">人挡得了他。</span><br><span class="line"></span><br><span class="line">    古天真想不起来有谁会买自己的性命。他道：“杀手锏，你胡编什么骗人的神</span><br><span class="line">话。那无非是顾全脸面的借口罢了。根本就没人雇你。”</span><br><span class="line"></span><br><span class="line">    “看来你心有不甘，待会儿会死不瞑目。雇主放过话了，愿意把话讲明白了。</span><br><span class="line">他的大名叫大丈夫唐果。”</span><br><span class="line"></span><br><span class="line">    古天真尚无反应。林几道听得“唐果”二字，眼皮眨了眨，嘴角抽动，表情有</span><br><span class="line">异。</span><br><span class="line"></span><br><span class="line">    “唐果颈以下全身瘫痪，只有头能动弹，成天裹着棉被，一不留神便可能冻死。</span><br><span class="line">他是唐门上下老少娇纵的千里驹。原先身材伟岸，强壮俊朗。六年前在研制一种烈</span><br><span class="line">性毒药时，不慎中毒。唐门高手个个束手无策，只能先迫住毒性，不远千里送到医</span><br><span class="line">林求医。”</span><br><span class="line"></span><br><span class="line">    锏道：“故事跟着是这样的。医林大夫们，其中也许便有林大夫，忙了几日，</span><br><span class="line">无法拔尽唐果身上之毒。残毒留于关节骨椎之中，令他吃尽了苦头。据说当年医林</span><br><span class="line">大夫曾犹豫过，当心其中有诈，害怕唐门是为了套取解毒的法子而来，耽搁了一阵</span><br><span class="line">子。”</span><br><span class="line"></span><br><span class="line">    “所以，唐果就迁怒医林的大夫，是么？”天下有许多庸医骗人钱财，害人性</span><br><span class="line">命。世人对之深恶痛绝。</span><br><span class="line"></span><br><span class="line">    “也许。唐果也许是个大丈夫，却非伟君子。据说，他从未掉过眼泪。残废后</span><br><span class="line">心理也很健康，在暗器与毒药方面不时有创造性发现。他是唐门研发的智囊。”</span><br><span class="line"></span><br><span class="line">    杀手锏微笑着，不担心林、古二人以决气法冲开穴道，更不把岑寂放在眼里。</span><br><span class="line">他似乎有预谋地交待着一切。岑寂鼻子喘着粗气，刻刀裹着热汗，很紧张。</span><br><span class="line"></span><br><span class="line">    岑寂猛地扬手。兵刃相交，“叮啷”声响。杀手锏的短刀只剩下半截，刻刀已</span><br><span class="line">掉在地上，差点碰着古天真。“你果然奈何不了我。小大夫，你早已失去了信心。”</span><br><span class="line">锏笑得很开心。他心下有些顾忌岑寂的暗器。方才瞧不清刻刀来势，但能够看明岑</span><br><span class="line">寂手腕的动作，提前挥刀格挡。岑寂跳心不巳，只想着夺门而逃。半截刀子在锏手</span><br><span class="line">中晃着光，刺眼。岑寂右手甩动。杀手锏硬生生止步，侧身，短刀盘面，一记漂亮</span><br><span class="line">的“孔雀开屏”。然而，在孔雀开屏的炫目光彩中，正暴露了它的缺陷与不足，—</span><br><span class="line">—连屁股眼也现出来了。</span><br><span class="line"></span><br><span class="line">    半截短刀伴着身子摔下，并未脱手。杀手锏败了。一枚方方正正、又轻又小的</span><br><span class="line">泥活字将他击倒了。他真想扯下蒙面布，看清方才那一幕。林几道、古天真来不及</span><br><span class="line">喝彩，目瞪口呆地仰视这精彩绝伦的“一字之师”。</span><br><span class="line"></span><br><span class="line">    岑寂的泥活字救命克敌，端是厉害。可奇怪的是，杀手锏怎会躲得过刻刀，躲</span><br><span class="line">不开活字呢？后者更不适于充任暗器。</span><br><span class="line"></span><br><span class="line">    岑寂这才发觉自己两腿酸软，跌坐在椅子上。“小大夫，真人不露相，想不到</span><br><span class="line">你还藏有一手，佩服、佩服。我捉了一辈子鹰，今日却让雏鹰啄瞎了眼。”杀手锏</span><br><span class="line">悻悻说道。言下之意，岑寂发射暗器的手法隐蔽、简单、快捷，却伪装成门外汉的</span><br><span class="line">样子，终于麻痹了锏。</span><br><span class="line"></span><br><span class="line">    “我盯住了你右手的动作，估计了大致的暗器飞行路线，没有理由躲不开呀。”</span><br><span class="line"></span><br><span class="line">    岑寂解释道：“我的手法依然极臭。今日取胜完全是拜你之赐。你曾经提醒过</span><br><span class="line">我，指出不足。方才我急中生智，右手只是虚晃，左手发射。我在印坊时一直是左</span><br><span class="line">右开弓。……你躲闪的动作已经做老，况且咱俩的距离如此之近。”</span><br><span class="line"></span><br><span class="line">    如此幼稚、简单的谋略居然是最有效的。“如果我短刀未断，以原先的长度，</span><br><span class="line">你不一定能得手。……如果我不回刀格挡的话，咱们便会两败俱伤。”岑寂躲不过</span><br><span class="line">他的雷霆一击。</span><br><span class="line"></span><br><span class="line">    岑寂俯身，想推拿林几道身上的气血穴脉。大势已定，该如何处置锏呢？纵虎</span><br><span class="line">归山？执行私法？</span><br><span class="line"></span><br><span class="line">    这当儿，门外闯进一人，惊呼出声。此人曾折在杀手锏手中，心有余悸。岑寂</span><br><span class="line">回头，见是那位四川伤者，心道：房门关着，你怎能贸然闯入？掌管堰闸的你，行</span><br><span class="line">事如此莽撞，渠道两岸的百姓必然没少受罪。</span><br><span class="line"></span><br><span class="line">                             六、青城门下狗</span><br><span class="line"></span><br><span class="line">    这人到医林有些日子，伤已好了。他大惊小怪、富于表情、饱含感情地询问岑</span><br><span class="line">寂事情原委。岑寂简略答了，心中叹道：大夫们不分青红皂白地治病救人，与杀手</span><br><span class="line">们收钱后随意杀人有何本质区别？这位四川豪强比杀手更令人受不了。</span><br><span class="line"></span><br><span class="line">    四川人捡起地上残废了的短刀，道：“今日我替天行道，将这恶人宰了。”他</span><br><span class="line">扬刀杀向锏。林、古二人不及出声劝阻。岑寂则暗暗庆幸。天大的难题竟会如此简</span><br><span class="line">单地得到解决。他很阴险地不加于阻挡，心中也并未不安。借刀杀人，多妙的法子</span><br><span class="line">啊。</span><br><span class="line"></span><br><span class="line">    马上，他便为自己的肮脏念头付出代价。四川佬根本就没有把刀刺入锏的胸膛，</span><br><span class="line">而是顺势回拉，挥了道弧线，砸在岑寂的脑袋上。岑寂措手不及，几乎疼昏了过去。</span><br><span class="line">头上火辣辣的。身上的要穴跟着遭了几处重击。</span><br><span class="line"></span><br><span class="line">    杀手锏也颇感意外，却镇定如常，道：“方才这招‘横空出世’以刀代剑，绝</span><br><span class="line">无半点拖泥带水，凌历、冷僻，可见你已得了‘青城天下幽’剑法的真传。我们都</span><br><span class="line">看走眼了。”</span><br><span class="line"></span><br><span class="line">    那人却不理会他，只从身上搜走《十四经决气法》一书，狞笑道：“不错，我</span><br><span class="line">扮猪吃老虎。咱们废话少说，早送你上路。我的武功不高，所以没有功夫、没有胆</span><br><span class="line">量跟你们耗下去。咱们抓紧时间。”</span><br><span class="line"></span><br><span class="line">    他猛地一刀刺出。杀手锏被岑寂以“决气法”制住经脉，内力尽失，但穴道并</span><br><span class="line">未封住，手脚可以动弹。当下，大喝出声，侧身躲闪。四川佬心神受震，略一迟疑，</span><br><span class="line">只刺中锏的右手手臂。鲜血如注。岑寂视伤病为家常便饭，仍不由得一阵恶心。</span><br><span class="line"></span><br><span class="line">    锏的脸色极为难看，牙关紧咬。鲜血有如井喷，失血的速度很古怪的快。四川</span><br><span class="line">佬身上绽开一朵状元红大金粉。恶之花？</span><br><span class="line"></span><br><span class="line">    四川佬很得意：“这一招‘急急如律令’又如何呢？天师剑法一向是我的弱项。</span><br><span class="line">……上回与你过招时，我自知绝非你的对手，索性装孙子。你低估了我的武功，下</span><br><span class="line">手不重，还让人将我送到医林。”他狞笑着，再次提刀。</span><br><span class="line"></span><br><span class="line">    杀手锏正在全力调息运气。岑寂的内力不强，解除禁制的机会是存在的，时间</span><br><span class="line">却来不及了。眼见利刃当头刺来，锏不由暗叫：“苦也。”他正依着“决气法”强</span><br><span class="line">行打通经脉，极为吃力，颇见凶险。小臂挨了一刀后，真气开始松懈。</span><br><span class="line"></span><br><span class="line">    他做不到真气大周天循环运转。真气流走岔了道，竟然一浪高过一浪地汩汩泄</span><br><span class="line">出，消失于体外。阴脉之海的任脉再无知觉，仿佛已被连筋抽出。血海空空如也，</span><br><span class="line">却有些发胀。功力正在散去。</span><br><span class="line"></span><br><span class="line">    连那四川佬也瞧出了端倪。对头嘴唇苍白，脸上青一阵紫一阵，手脚不住颤动。</span><br><span class="line">机不可失，他一刀急剧插下。</span><br><span class="line"></span><br><span class="line">    这一刀插在地上。岑寂起身。他以“决气法”冲开寻常的点穴手法，失却了借</span><br><span class="line">刀杀人、搪塞自个的借口。他射出活字撞歪短刀，救了锏的性命。</span><br><span class="line"></span><br><span class="line">    那青城弟子的反应也很快。他立马掷出短刀，飞身投入岑寂怀中。岑寂刚躲开</span><br><span class="line">利刃，便中了青城派的“紫金仙人掌”，胸口剧疼，气闷，整个身子重重地摔向后</span><br><span class="line">边的墙壁。此仙人掌非彼仙人掌，并非以那种旱生、多刺的植物作比。“日色才临</span><br><span class="line">仙掌动，香烟欲傍衮龙浮。”青城派的这套掌法招式变化繁杂，神鬼莫测，而且缥</span><br><span class="line">缈神秘，有如云龙一现。</span><br><span class="line"></span><br><span class="line">    岑寂的“决气法”缺少火候，根本就没有什么护体真气。“决气法”在防守方</span><br><span class="line">面是跛脚鸭。加上他临敌经验不足，中掌后一时缓不过气来，竟象泥一般瘫在地上。</span><br><span class="line">背倚砖墙，再无退路。</span><br><span class="line"></span><br><span class="line">    杀手锏散功后形同废人，经脉血路是否打通，已殊无意义。当下，他挣扎着跪</span><br><span class="line">起，和身前扑，双手握爪，扣向四川佬的左脚“悬钟”、“昆仑”、“太溪”诸穴。</span><br><span class="line"></span><br><span class="line">    四川佬不料此着，以为他恢复了功力，原本便惧他，于是便有了惊弓之鸟的过</span><br><span class="line">激反应。当下单脚后挑，再而化成“跳神式”，向前蹦出，跟着“鹿回头”，挥掌</span><br><span class="line">打出一记“掌心雷”。</span><br><span class="line"></span><br><span class="line">    杀手锏背心挨实了这一掌。他口中本已含了不少鲜血，借了掌力，尽数吐出。</span><br><span class="line">好个青城门下狗，反倒宽心定神，矮身侧头，摆开“手把芙蓉”的防守架式。</span><br><span class="line"></span><br><span class="line">    杀手锏捡了岑寂掉地的小刻刀，狠命扎出。四川佬回身后跃，正待夺门而逃。</span><br><span class="line">他医书在手，担心医林后援，不愿久战。</span><br><span class="line"></span><br><span class="line">    岑寂刚恢复了部分元气，又站了起来。四川佬哪容他出手发射暗器，贴身抢近。</span><br><span class="line">岑寂手足无措。肉搏的武功，他原本不济。</span><br><span class="line"></span><br><span class="line">    古天真急忙喊道：“快使招‘推窗望月’。”岑寂不及细想，依言使出。那四</span><br><span class="line">川佬闪身，左手虚晃，右掌摇曳，自下而上砍出。岑寂不识此招精妙，不知如何破</span><br><span class="line">解。林、古等人皆不及出言指点。这一掌使了全力，双手充血呈紫金之色。</span><br><span class="line"></span><br><span class="line">    “紫金仙人掌”中的绝命杀着“比划天下”已然发动！</span><br><span class="line"></span><br><span class="line">    岑寂倚墙，无路可退，只好依样画葫芦，以其人之道还治其人之身，勉强也出</span><br><span class="line">招“比划天下”。四川佬看得真切，心下冷笑：这“比划天下”乃是我青城派绝招，</span><br><span class="line">浸淫了二十年功力，会怕你这野狐禅么？双方交手。</span><br><span class="line"></span><br><span class="line">    围棋中有种“模仿棋”，即以不变应万变，如影随形地紧盯对方，模仿行棋落</span><br><span class="line">子。“模仿棋”是某些棋士克敌制胜的法宝。</span><br><span class="line"></span><br><span class="line">    四川佬出招较快，右掌砍在岑寂左手腕。他已想到对手壮士断腕的悲烈。“模</span><br><span class="line">仿棋”若无先手占天元，会功败垂成；纵有先手占天元，对方走一个引向中央的征</span><br><span class="line">子之形，仍不免一举崩溃。岑寂运气要好一些。他修习“决气法”，自然不怕对掌</span><br><span class="line">拼内力。在这“对杀”局中，他的“棋形”较为单薄，但“气”较长。</span><br><span class="line"></span><br><span class="line">    岑寂的真气如决堤的洪水，不可一世、不可收拾；速度也快到了极致，一泄千</span><br><span class="line">里。他这招“比划天下”打得对手气血沸腾、肠胃翻滚。四川佬浑身一颤，竟直挺</span><br><span class="line">挺地前倾，摔倒在地。</span><br><span class="line"></span><br><span class="line">    古天真在喝彩。岑寂不明白自己何以一击得手，却见林几道走过来。“他忘了</span><br><span class="line">我的外号叫‘妙手神针’。这根三棱针击正他的‘肾脊穴’，够他受了。”岑寂的</span><br><span class="line">内衣全然湿了，贴在身上。</span><br><span class="line"></span><br><span class="line">    林几道一直不作声，暗暗用功，终于解开了禁制。他的“决气法”与岑寂一样，</span><br><span class="line">是依着刺穴冲穴，感悟经脉运行起家的，基础扎实，功夫老到。锏以刀尖点穴，封</span><br><span class="line">他脉路，毕竟用不了全力。</span><br><span class="line"></span><br><span class="line">    杀手锏捡回一条命，可生不如死。他已成为一个普通人。修习“决气法”原本</span><br><span class="line">凶险，有可能会走火入魔。要知道，《十四经决气法》号称“第一老人书”，没有</span><br><span class="line">百岁写不了、看不了、学不了。杀手锏先前修习时走了邪路，不可能在十来天内全</span><br><span class="line">部纠正。</span><br><span class="line"></span><br><span class="line">    他被岑寂以活字封住正经气血，真气运行转走奇经。但挨刀子后，心神稍乱，</span><br><span class="line">丹田无法聚气，竟依了平日修习的路线，冲穴决气，终于散功。</span><br><span class="line"></span><br><span class="line">    所以，这也是天意？他自作自受。医林的两难悖论迎刃而解，迎着闪亮的刀锋</span><br><span class="line">……。</span><br><span class="line"></span><br><span class="line">    在江湖上，武林中，流传着这么一句话：阎王拘命，借刀杀人。“借刀”二字</span><br><span class="line">令人谈虎色变。它仿佛是杀手中的神话。谁都不知道它是否有失手的记录；持肯定</span><br><span class="line">答复的人都死绝了。谁都把武林中的无头血案归功于它，——除非他自个才是隐匿</span><br><span class="line">的凶手。“借刀”是传奇式的冤大头，又出名又得利。</span><br><span class="line"></span><br><span class="line">    然而，对于唐门，人们更是惟恐避之不及。它是晦气、是讳忌。好事人们不会</span><br><span class="line">想到它；坏事人们不敢提到它。唐门本身便是一种毒药，摸不得，尝不得，闻不得。</span><br><span class="line"></span><br><span class="line">    五大门派之一的青城派却敢公开与它叫板。“城门失火，殃及池鱼。”四川人</span><br><span class="line">暗地里如是说。现在，医林也成了池中之物。</span><br><span class="line"></span><br><span class="line">    “借刀”折了，这一回。到目前为止，至少有四个活人看到断刃的模样。锏的</span><br><span class="line">血汗令蒙面布过份地亲近他的脸。我们可以看到他苟延残喘的鼻嘴。</span><br><span class="line"></span><br><span class="line">    他手中紧抓着岑寂的小刻刀，即便在包扎右臂伤口时。岑寂笑道：“我用一小</span><br><span class="line">块泥巴打飞了你的万两白银。所以，你拿我的刻刀做为补偿？”</span><br><span class="line"></span><br><span class="line">    锏苦笑道：“我们杀手有另一个雷打不动的原则：只要有口气在，就能杀人；</span><br><span class="line">杀不了旁人，至少能自杀。”</span><br><span class="line"></span><br><span class="line">    有几个大夫在房外药圃干活。医林里的鸟语便是惨叫声，花香便是药味。所以</span><br><span class="line">尽管岑寂房中闹翻了天，却无人在意。</span><br><span class="line"></span><br><span class="line">    “没料到我的杀手生涯竟是以自个鲜血洗手告终。”锏笑道，“蒙面对我来说</span><br><span class="line">已没必要了。只是我怕丢人。……你信不信，假使将来我内力恢复了，如果有人雇</span><br><span class="line">我杀你，我不会迟疑。”</span><br><span class="line"></span><br><span class="line">    岑寂点头。他想着医生与杀手共同的悲哀，抑或共同的骄傲。</span><br><span class="line"></span><br><span class="line">    锏又道：“你不觉得我卑劣无耻么？”</span><br><span class="line"></span><br><span class="line">    岑寂摇头，长长地吐出一口气，道：“你原本便没有自称侠义。对于蒙面的杀</span><br><span class="line">手而言，不需要见不得人的道德面具。道德是这样一种伪装：它不必戴给死人看，</span><br><span class="line">正如戏是演给活人看的。”杀手有道，无德。“以你的内力，不该打不过那位青城</span><br><span class="line">弟子。”</span><br><span class="line"></span><br><span class="line">    “我拿什么对付‘青城天下幽’、‘天师剑法’、‘紫金仙人掌’？青城派并</span><br><span class="line">非浪得虚名。”岑寂很坦然。他一向认为肉搏不雅，象……狗咬狗。</span><br><span class="line"></span><br><span class="line">    只有拳脚功夫不太好的人，暗器方面才可能上佳。锏道：“那你练过何种拳法？</span><br><span class="line">……‘八段锦’会么？”</span><br><span class="line"></span><br><span class="line">    会，怎么不会，每位学医行医的人都会。八段锦是一套健身养气的体操，对吧？</span><br><span class="line">那你说说看，究竟是哪八段？一、两手托天理三焦；二、左右开弓似射雕；三、调</span><br><span class="line">理脾胃须单举；四、五劳七伤往后瞧；五、摇头摆尾去心火。行了吧？再念下去没</span><br><span class="line">啥意思。</span><br><span class="line"></span><br><span class="line">    锏说你就把这八段锦念完吧，我从未曾听过哩。他那藏在布幕后的笑容，好象</span><br><span class="line">阳光穿过乌云，丝丝缕缕都触动人的心事。六、背后七颠百病消；七、攒拳怒目增</span><br><span class="line">气力；八、两手攀足固肾腰。聪明的岑寂有些糊涂。杀手锏居然不知道这八句口诀。</span><br><span class="line"></span><br><span class="line">    锏笑了笑道咱俩属于两种不同的话语体系，武术中的八段锦完全是另一回事，</span><br><span class="line">但同样简单。一、伍员举鼎；二、左右开弓；三、上步提掌；四、回马枪；五、细</span><br><span class="line">柳迎风；六、苍山负雪；七、怒目金刚；八、童子拜佛。姿式相近，目的大异。</span><br><span class="line"></span><br><span class="line">    岑寂忍不住大发感慨。水可以载舟，亦可以覆舟。八段锦又何尝不是如此？锏</span><br><span class="line">道，不论你遇到什么样的强敌，这八招也足够抵挡一阵了。</span><br><span class="line"></span><br><span class="line">    它顾及上中下三路，迎击前后左右，故而数百年来一直是武林人喜爱的基础拳</span><br><span class="line">术之一。相形之下，健身用的八段锦倒较不为人知了。</span><br><span class="line"></span><br><span class="line">    “保全自身的代价便是出不了名。我本身是个极好的例子。”锏道，“也许这</span><br><span class="line">并非坏事。因为我也只可能拥有坏名声。”</span><br><span class="line"></span><br><span class="line">    从他的声音里听不到半点感伤与悔恨，但可以过滤出苍老。大夫把人类分成病</span><br><span class="line">人与健者；道学家眼中只有好人与坏人。而杀手，杀手的复式帐簿上，一方是雇主，</span><br><span class="line">另一方是苦主，仅此而巳。</span><br><span class="line"></span><br><span class="line">    岑寂对他谈不上好感，自知没有资格同情他。但心中有些沉重。杀手果真冷血</span><br><span class="line">么？“我们也有自己的家庭、朋友，时常守在家里过着平静的生活。”</span><br><span class="line"></span><br><span class="line">    “这些也是你们的伪装之一？”岑寂问得很尖锐。</span><br><span class="line"></span><br><span class="line">    锏缓缓点头。有时候，我都分不清生命中哪一部分更为重要，哪种生活更为充</span><br><span class="line">实。我们全家都是佛门信徒。我的收入大半被家人捐给寺院，成了香火钱。</span><br><span class="line"></span><br><span class="line">    “不久，大丈夫唐果会来医林。此人心机极深，智谋出众。怕死的我有些怕他。</span><br><span class="line">我要在他到来之前离去。……请务必小心。”</span><br><span class="line"></span><br><span class="line">    无毒不丈夫。大丈夫唐果全身只有头能动弹，裹在棉被之中，仍有法子施毒害</span><br><span class="line">人？唐门的暗器功夫冠绝天下，鬼才知道有无自口中吐出的暗青子。残废人的心境</span><br><span class="line">往往不同常人。唐果的仇恨没有理由，这么多年隐而不发更没有理由。难道他的病</span><br><span class="line">情在恶化，时日无多矣？</span><br><span class="line"></span><br><span class="line">    一位狂傲、优秀的少年，忽然变成连蚕宝宝都不如的废人，居然没有“结茧自</span><br><span class="line">杀”，从未掉过一滴眼泪。岑寂开始担心了。</span><br><span class="line"></span><br><span class="line">    对于医林而言，毒药与暗器不在话下，险恶的人心最可怕。</span><br><span class="line"></span><br><span class="line">    “小大夫，请务必转告医林管事的头儿。我强烈要求在大丈夫唐果到来之前离</span><br><span class="line">去。唐门与青城派是累世仇家。我知道医林大夫面慈心善，必会原谅我的过失。我</span><br><span class="line">上无高堂老母，但有个老父；下无年幼子女，但我婆娘正身怀六甲……。”青城门</span><br><span class="line">人诚挚地说道。</span><br><span class="line"></span><br><span class="line">    “今后，我一定克制贪念，不杀生、养性情。但求别让我呆在这儿，唐果不想</span><br><span class="line">见到我。”</span><br><span class="line"></span><br><span class="line">    唐果，如此一个半死之人，当真这般厉害？他会带什么人来？没有人抬他，则</span><br><span class="line">动弹不得。</span><br><span class="line"></span><br><span class="line">    这小子怎会知道唐果要来呢？岑寂起了疑心，想套出词儿。可这青城门人口风</span><br><span class="line">紧，滴水不漏。</span><br><span class="line"></span><br><span class="line">    青城门下狗，这是恭维你了。岑寂想不到后世有个徐青藤，还有个隔了几代的</span><br><span class="line">治一印自谓“青藤门下狗”的极富个性的大画家。岑寂认为这小子的头脑比狗聪明</span><br><span class="line">多了。在青城派中他也许是个响当当的大人物。</span><br><span class="line"></span><br><span class="line">    “你别以为我身后有什么来头。此番下江南，车子是我自个雇的。由于走了霉</span><br><span class="line">运，心中窝着一口气，便指望着能有什么油水可以捞一把。凡夫俗子如我，贪心是</span><br><span class="line">免不了的。咱是在刀口上讨饭吃的，杀人放火自然不当一回事。您老就别多心了。”</span><br><span class="line"></span><br><span class="line">    他口齿伶俐，言语似乎很有道理。每个人都有办法认定自己无可指责，所以，</span><br><span class="line">借口比“借刀”厉害十倍？岑寂搞不明白世上人心，也许常人便不是好人——好人</span><br><span class="line">是难得的非常人？人心惟危，谁也不简单。考虑到“大德容乎下”，好人的标准应</span><br><span class="line">该降低。</span><br><span class="line"></span><br><span class="line">    医治人心的大夫不可能有。纵使有，也是想都不该想的念头所滋生、感染的恶</span><br><span class="line">魔。这决非医道的另一项悲哀，却是人类的幸事。</span><br><span class="line"></span><br><span class="line">                             七、 等待唐果</span><br><span class="line"></span><br><span class="line">    等待唐果，辗转反侧；若欲所作，于梦中见。</span><br><span class="line"></span><br><span class="line">    借刀杀手与青城门下狗居然有共通之处，共同语言。岑寂想笑，但笑不出声。</span><br><span class="line">大丈夫唐果有什么本事，居然令人害怕至此？这两只惊弓之鸟有伤，但唐果根本就</span><br><span class="line">没有能力拉弓。如果他真的神通广大，为何需要雇杀手对付医林？</span><br><span class="line"></span><br><span class="line">    岑寂查过六年前的医案。有关唐果的记录异常简单，却有两种不同笔迹，由两</span><br><span class="line">人写就。“疑为蓄蛊之祸，中金蚕毒。病楚不可忍，惟啜百沸汤，可暂息须臾。便</span><br><span class="line">血，眼色赤红。”另一行为同一人所记，“试白矾、黑豆、石榴根皮，煎汁饮之，</span><br><span class="line">未有效果。”</span><br><span class="line"></span><br><span class="line">    岑寂的家乡福建乃是当时天下蛊毒最盛之地。又以古田、长溪为最，距其家不</span><br><span class="line">远。他从小听说了很多关于蛊毒巫术的故事。后来读书繁杂，见先代蛊虫记载比比</span><br><span class="line">皆是，不免怀疑、好奇、畏惧、恶心。来医林学医，他了解到蛊道巫术中也有医理，</span><br><span class="line">巫医也能治病。</span><br><span class="line"></span><br><span class="line">    蛊毒一直非常神秘，历代大夫捉摸不透。民间向来谈蛊色变，流传的故事非常</span><br><span class="line">恐怖，而且真切生动，皆深信有其事。</span><br><span class="line"></span><br><span class="line">    难道唐门也在研究蛊毒，唐果便是出师不利的急先锋？川中也是蛊毒较盛之所。</span><br><span class="line"></span><br><span class="line">    国朝《铁围山丛谈》云：“金蚕始于蜀中，……。状如蚕，金色，日食蜀锦四</span><br><span class="line">寸。”家中畜金蚕，必定聊有资财。但是日子一久，必须“嫁金蚕”（将金蚕送人），</span><br><span class="line">否则会毒死自家主人。遣之极难。</span><br><span class="line"></span><br><span class="line">    蛊毒分为：虫蛊、挑生蛊。虫蛊有四：蛇蛊、金蚕蛊、蜈蚣蛊、蛤蟆蛊。挑生</span><br><span class="line">蛊更为稀奇古怪，有三种：一、肋生植物；二、腹生动物；三、挑气胀肚。鸡肉挑</span><br><span class="line">生，腹生鸡头、鸡尾、鸡翅。鱼肉挑生，腹生活鱼。挑气则肚皮高胀，病块如覆盆，</span><br><span class="line">余年而卒，痛苦异常，无药可解。如此种种，皆骇人听闻。</span><br><span class="line"></span><br><span class="line">    挑生蛊蛊主，屋宇洁净，无流尘蛛网，多为妇人。</span><br><span class="line"></span><br><span class="line">    第三行显然是另一名大夫的手迹。“蛊，不知何虫，疑为挑生。可否以襄荷、</span><br><span class="line">大豆豉、乌龙肝治之。”这位大夫心中殊无把握。“毒有反复。平生仅见的苦楚。</span><br><span class="line">病者抱肚翻滚，不成人声。再试以野葛、巴豆一两。”此后无下文。</span><br><span class="line"></span><br><span class="line">    这三种药方均是前代传下的治蛊良方。野葛合巴豆是以毒攻毒之法，向来为医</span><br><span class="line">家大忌，轻易不用。野葛是巫药，剧毒，又名钩吻，主治金疮、中恶风，并不至于</span><br><span class="line">令人瘫痪。</span><br><span class="line"></span><br><span class="line">    除了传说中最为可怕的挑生蛊外，任何虫蛊都有办法对付。唐果所中的蛊毒似</span><br><span class="line">乎非常难治。所以，此中另有隐情？</span><br><span class="line"></span><br><span class="line">    （“挑生”本是福建话的发音，翻译到中原官话借字注音。在闽南话中，“挑</span><br><span class="line">生”的意思是“畜生、牲口”，养蛊被称作“饲挑生”。以上是我个人得出的结论，</span><br><span class="line">谈不上考据，看官姑且听之。）</span><br><span class="line"></span><br><span class="line">    岑寂躲在床上，恍惚中，强烈怀疑蛊虫受药毒刺激，在唐果体内乱窜，钻入颈</span><br><span class="line">间骨椎，吃掉髓质。蛊虫叫声象鸟鸣，是一种可怖的啾啾之声。蛊主眼睛发红，似</span><br><span class="line">乎还有蜡黄脸色。受害者更惨，五脏皆烂，便血不止。</span><br><span class="line"></span><br><span class="line">    “百虫置器密封之，自相啖食，经年后，独存者为蛊。”</span><br><span class="line"></span><br><span class="line">    喉咙痒痒。也许是疑神疑鬼，心理作用而巳。岑寂翻身，决定尽快入睡。蓄蛊</span><br><span class="line">之人自信通灵，能与鬼神交谈，心理往往不太正常。医学称之为心理变态或精神分</span><br><span class="line">裂。巫师们多少都有这种职业病，行为不可理喻。黑巫术中以下蛊最毒。</span><br><span class="line"></span><br><span class="line">    对了，会不会是唐果偶染小恙，疑心自己为蛊虫反噬，导致信心崩溃，元神大</span><br><span class="line">伤，一发而不可收拾。</span><br><span class="line"></span><br><span class="line">    岑寂忍不住又想到自己曾读过的巫书，《增补秘传万法归宗》、《搜神记》、</span><br><span class="line">《淮南万毕术》等，隐隐觉得有什么东西不对劲。“寝寐无为，辗转伏枕。”他忍</span><br><span class="line">不住张眼，屋里没有“压被孩子”，檐下没有“扫晴娘子”。没有铜镜、铁剑、玉</span><br><span class="line">枕，门窗紧闭。</span><br><span class="line"></span><br><span class="line">    秦时南方有落头民，其头能飞，相传为刑天之后。唐果全身只有头能动弹，成</span><br><span class="line">天裹在棉被之中。他会飞么？会“白鹤紫芝遁法”么？四周黑沉沉的，不知窗户在</span><br><span class="line">哪儿。唐果要来医林，必定得由别人抬着。我不相信蛊虫是活生生地长在体内，不</span><br><span class="line">相信破窗飞入的人头会说话。……大丈夫唐果外号“无毒不丈夫”，他会什么巫术</span><br><span class="line">呢？……屋宇洁净，无流尘蛛网，挑生蛊主多为妇人。</span><br><span class="line"></span><br><span class="line">    崔杜氏的病会不会与蛊毒有关。她的房间馨香舒适，我若是金蚕，也乐于呆着！</span><br><span class="line">岑寂拉了拉被子。挑生蛊主有着血红的眼睛，象雌兔子。崔杜氏极有可能也患有轻</span><br><span class="line">度的精神分裂症。她的思想、感情和行为三者不一致，明知与事实不符，自己却不</span><br><span class="line">能控制和纠正。妄想别人要害自己，便是症候之一。</span><br><span class="line"></span><br><span class="line">    岑寂躺在床上，实在不愿意离开温暖的被窝。睁开了眼睛，却封闭了脑中那扇</span><br><span class="line">神秘之门。他努力追忆昨晚的情形。</span><br><span class="line"></span><br><span class="line">    他隐隐记得自己梦回崔府了。一粒硕大的头颅在半空中跳跃。白色的长发在风</span><br><span class="line">中飞舞。它张嘴嗬嗬乱叫，双眼如红灯笼一般。在它下面，我没命地逃。</span><br><span class="line"></span><br><span class="line">    我并脚跳过溪流，在水田与紫云英之上踏雪无痕。我的颈部忽然觉得冰凉。那</span><br><span class="line">是它那暗青色的涎水呀。</span><br><span class="line"></span><br><span class="line">    我埋头穿过树林。树林在我背后燃烧。那具断头吐着赤红的长舌。我好不容易</span><br><span class="line">进了杭州城，望见关帝庙。我一脚分明已跨过门槛，另一脚却紧紧钉在台阶上。我</span><br><span class="line">被绊倒了，泥塑的神像轰然压来。关帝，居然也长着那断头的眉眼。……</span><br><span class="line"></span><br><span class="line">    岑寂承认自己还是忘记了一些东西。门槛似乎曾经象莲花宝座般冉冉升起。我</span><br><span class="line">从梦中惊醒，回味着：该如何突破水墨淡彩的传统技法，大胆表现梦魇般绚丽激烈</span><br><span class="line">变形的幻景，表现出那令人惊心动魄永志不忘的喊叫。</span><br><span class="line"></span><br><span class="line">    入睡前，我还在琢磨着唐果、崔氏母女。最后如何临界睡去，如何过渡到梦境，</span><br><span class="line">着实想不起来了。</span><br><span class="line"></span><br><span class="line">    他出门，寻了个空地，打拳。“八段锦”各式间缺少连贯性，演练起来并不流</span><br><span class="line">畅。但打完一遍后，岑寂自觉精神好多了。有种服石发汗后的清爽。原来武功还有</span><br><span class="line">这等好处。它令你豪气倍增，似乎是天人合一的仪式化。</span><br><span class="line"></span><br><span class="line">    等待唐果，好奇的岑寂期盼他来。这套名唤“八段锦”的拳法将要喂给蜀中的</span><br><span class="line">金蚕。天下，我的天下，打出来的天下，欢迎朝拜者的到来。</span><br><span class="line"></span><br><span class="line">                                八、神色</span><br><span class="line"></span><br><span class="line">    令人神往的颜色；精神食色——众神看着我的脸色两个病人先后下山，大丈夫</span><br><span class="line">唐果尚未登门拜访。高爽的天没有一丝云彩，仅有的凉意被空投下凡。想念崔府的</span><br><span class="line">那位女孩成了岑寂意识自己存在的重要依据。</span><br><span class="line"></span><br><span class="line">    他每晚睡前都得做一番白日梦，思考各种万分之一可能的桃花运。然后惊恐地</span><br><span class="line">发现，自己很少思念建安的家人，少得可怜。</span><br><span class="line"></span><br><span class="line">    蒹葭苍苍，白露为霜。所谓伊人，在水一方。逆洄从之，路远且隔；逆游从之，</span><br><span class="line">宛在水中央。真正的好逑君子只能是懦夫，岑寂安慰自己。她跟了自己，免不了要</span><br><span class="line">受苦。为她为己计，目前的状况令人满意。至少她不会因此受伤，我也能有个女孩</span><br><span class="line">可想。</span><br><span class="line"></span><br><span class="line">    逃避了心灵重压之人，往往必须面对生命中不能承受之轻。精神恋爱是爱情观</span><br><span class="line">尚还幼稚的头脑中的情感游戏、演习及操练。当然，这仅是后来岑寂安慰自己的言</span><br><span class="line">语。当时，他并不这么认为。他的爱情立场坚定而且高尚。我相信他，却怀疑自己。</span><br><span class="line">我得承认，写下这些文字时，我与他一样，皆未曾有过初恋，双方皆有投入的那种。</span><br><span class="line">自惭形秽的我已逐渐冷静下来，找回了不少空虚的感觉。我不再抱有纪想，不再有</span><br><span class="line">一种强烈的矛盾心理，不再时不时地折磨自己。</span><br><span class="line"></span><br><span class="line">    我找着了退却的理由。我发现事实上并非她在彼岸，而是我在彼岸。她毕竟不</span><br><span class="line">是本书中的崔小姐。</span><br><span class="line"></span><br><span class="line">    闽洛学说的拥护者如岑寂亦不能免俗。他亦以貌取人。他无法不喜欢那用任何</span><br><span class="line">比方形容不了的指尖、秀发，以及她轻咬下唇的模样。他无法不喜欢那映着一泓秋</span><br><span class="line">波的眼眸，那份只有孩童才可能拥有的亮丽、清澈、晶莹。</span><br><span class="line"></span><br><span class="line">    如果我是女人，我喜欢什么样的男人？首先要人品过得去；其次，他的性子要</span><br><span class="line">好；第三，他不能太笨，得有些学识；第四、至少有中人之姿，身体健康；最后，</span><br><span class="line">他最好聊有家财。</span><br><span class="line"></span><br><span class="line">    小女人的心态真是古怪。岑寂想不明白为什么会有那么多的女子倾心于风流浮</span><br><span class="line">滑的轻薄之徒。比方说小谢清发。（岑寂曾有过一个念头：那崔家的小姐会不会对</span><br><span class="line">仅有一面之缘的小谢颇有好感。当时小谢夜闯崔府，贸然惊艳。）还有些女子不顾</span><br><span class="line">一切地疯狂爱上上述五项条件皆不具备的男人，为什么？</span><br><span class="line"></span><br><span class="line">    心思细腻的女子更可能自作多情，终日以泪洗面。岑寂对此颇为不屑，真正的</span><br><span class="line">个人主义与自由精神不会容忍这种保守的爱情至上论。应该主动一点，放松一点。</span><br><span class="line"></span><br><span class="line">    维克多·雨果写过一句话：真正爱情的最初症状，在青年男子方面表现为胆怯，</span><br><span class="line">在青年女子方面却是胆大。</span><br><span class="line"></span><br><span class="line">    岑寂承认自己胆怯，但看不出哪一位少女对他大胆一点。他想，我也别指望将</span><br><span class="line">来，崔小姐足够聪明的话，真该嫁给裴公子。不幸的是，她看上去确实比我聪明。</span><br><span class="line"></span><br><span class="line">    这天，他收到尉迟杯来信。他沉着冷静地读完全文，心中暗道：完了，彻底没</span><br><span class="line">戏了。裴家下了聘礼，双方家长已在商议订亲之事，日内举行仪式。裴公子到得崔</span><br><span class="line">家，赢得交口称赞。</span><br><span class="line"></span><br><span class="line">    岑寂不觉如何难过。一切早在预料之中。他希望这剂猛药能够帮助自己淡忘过</span><br><span class="line">去。</span><br><span class="line"></span><br><span class="line">    尉迟杯着重指出，特别交待：小谢在苏州见过裴公子，立马托人火速南下，转</span><br><span class="line">告你一句话。只有二十个字，“风紧，扯乎。点子扎手，小谢暗服。请速上路，姑</span><br><span class="line">苏小住。”裴公子人才出众，最苟刻、最古板的崔三太爷据说也点头了。又及，在</span><br><span class="line">泗水，有位妙龄少女投河自尽。当晚，岑寂沐浴着碎碎的月光，漫步林中。月亮不</span><br><span class="line">太圆，很亮。然而，月朗星不稀，岑寂略为惊奇，若有所悟。</span><br><span class="line"></span><br><span class="line">                           九、子不语怪力乱神</span><br><span class="line"></span><br><span class="line">    七月初四，立秋前日。医林已有肃杀之气。大清早，由于做恶梦，岑寂很晚起</span><br><span class="line">床。他发现地里冒出来的落叶反常地多。太阳似乎心怀鬼胎，躲躲闪闪在云层之后。</span><br><span class="line"></span><br><span class="line">    这一切都预示着不详的兆头。今日“宜捕捉取鱼，忌嫁娶、动土、上梁、安葬”。</span><br><span class="line">岑寂顺手扯下当天的日历，转身欲走。</span><br><span class="line"></span><br><span class="line">    眼前漂出一张白纸。第一反应是自己看错了，看到了历书的背面。当下他扭头</span><br><span class="line">细查。明日的日历居然是白纸一张。岑寂不相信人的脸会惊吓成一张白纸，更不相</span><br><span class="line">信剩下的半本通书空无一字。难道往后的日子已被恶心的壁虎吃去？</span><br><span class="line"></span><br><span class="line">    “买来时便是这个样子么？”“不清楚，谁也不会认真读它。除非时日无多的</span><br><span class="line">病人。”这，实在不是个好兆头。</span><br><span class="line"></span><br><span class="line">    用过早饭的医林付出惨重的代价证实了岑寂的预感。几乎所有的大夫与病人都</span><br><span class="line">中了毒。医林三老、林几道、岑寂是漏网之鱼。那本不寻常的日历使岑寂躲过一劫，</span><br><span class="line">使他倍感世事无常。——往日里，最积极用早膳的是他。</span><br><span class="line"></span><br><span class="line">    鱼的死相相当可怖。门前的半亩方塘见不到死水，惟有死尸。大大小小的鱼的</span><br><span class="line">尸身正列队示威。鱼死后浮出水面是为离天堂近些，岑寂想，天空的倒影欺骗了它</span><br><span class="line">们，故而死不瞑目。</span><br><span class="line"></span><br><span class="line">    这是安南龙牙姆树叶之毒。唐门高手揉烂龙牙姆树叶，提炼出一种叫“浣溪纱”</span><br><span class="line">的毒药，取其音近“泛溪杀”是也。当年陇西大豪芝麻李全堡上下三百零三口人众，</span><br><span class="line">一并死于此毒。堡中用水取自太白山山泉，仍不能免。林几道告诉岑寂。</span><br><span class="line"></span><br><span class="line">    泉水出山，流入小溪十里，毒死两头耕牛，一群鸭子，鱼虾蟹集体陪葬。是夏，</span><br><span class="line">蛙声绝迹，蚊虫罕见。农家秋收得了个好年成。</span><br><span class="line"></span><br><span class="line">    “浣溪纱”的毒并非无药可治。在医林，死神谢绝入内，唐门高手却可以来去</span><br><span class="line">自如，神不知鬼不觉地往饮水中施毒。</span><br><span class="line"></span><br><span class="line">    唐门弟子只来了一人。大丈夫唐果半躺在轿子中。四个轿夫都是丫头片子。她</span><br><span class="line">们一开口，竟是地道的苏白。唐门暗器与下毒功夫一向传男不传女。</span><br><span class="line"></span><br><span class="line">    唐果的嗓音很好听，底气足，不象个长年卧榻的病人。他的气色相当不错。身</span><br><span class="line">上围了床大棉被，把一乘软轿塞得鼓鼓囊囊。</span><br><span class="line"></span><br><span class="line">    唐果笑道人们看到被子总会联想到床总会忍不住多看几眼诸位大夫一直盯着敝</span><br><span class="line">人想也是这个理儿。他说官话，川味十足。</span><br><span class="line"></span><br><span class="line">    今日想请诸位大夫看我，看我身上的病。我的病比我的人更有来头。时隔六年，</span><br><span class="line">唐果再上医林，目的就如此简单？严重的瘫痪是无法医治的。林清任道：“唐先生，</span><br><span class="line">六年前对你身上的病，我们束手无策，很是惭愧。后来，我们找着了真正的病根所</span><br><span class="line">在。”</span><br><span class="line"></span><br><span class="line">    “如果我们没猜错的话，当年你培养虫蛊的用心不在于提取毒虫身上的毒液。</span><br><span class="line">你想搞清楚蛊毒何以如此厉害，如此神秘。凭你的绝顶聪明，你做到了。”</span><br><span class="line"></span><br><span class="line">    唐果发现，蛊虫身上带着某种肉眼看不到的、活生生的、会飞的东西。它们混</span><br><span class="line">杂在风中，进入鼻口，便可令人生病。它们才是真正的蛊毒。人们认识不了这种无</span><br><span class="line">形、无味、无法觉察的东西，故而以为存在蛊神。唐果将它们命名为“细菌”。</span><br><span class="line"></span><br><span class="line">    蓄蛊之人，即蛊主，长期与蛊虫打交道，身上带有一定的免疫力，或者说血液</span><br><span class="line">中培养出了抗毒的血清。</span><br><span class="line"></span><br><span class="line">    虫蛊之毒并非不治，所以唐果转而研究挑生蛊。挑生蛊之毒极易传播，交叉感</span><br><span class="line">染，而且无须利用毒虫为媒介，令人至死不明所以。这种挑生蛊毒，若非及时对症</span><br><span class="line">下药，任谁也回春无术。</span><br><span class="line"></span><br><span class="line">    更为可怕的是，它有如瘟疫，病毒扩散很快。死尸必须火化。林几道、岑寂均</span><br><span class="line">是头一回听说蛊虫的秘密，心中皆是一凛。</span><br><span class="line"></span><br><span class="line">    林枢与庞安常留守内堂，照看中毒人众。医林三老中只有林清任一人压阵。他</span><br><span class="line">说道：“唐先生，你们唐门的第一号毒药‘毒由心生，怨不得人’，向称武林四宝</span><br><span class="line">之一。以天下之大，居然无人能瞧出它的底细，无法防备，无药可治。我留心到，</span><br><span class="line">它的出现，是近十年的事了。”</span><br><span class="line"></span><br><span class="line">    “毒由心生，怨不得人”，施毒于无形，防不胜防。武林中相传，这种毒药潜</span><br><span class="line">入身体之中，并不立即发作，而且全无异状。经过一段时间，却会突然要去你的性</span><br><span class="line">命，似乎不是外来而是内在的毒素在作怪。任何人与中毒者密切接触后皆有性命之</span><br><span class="line">虞。</span><br><span class="line"></span><br><span class="line">    岑寂恍然大悟：原来，“毒由心生，怨不得人”便是经唐果改良后的挑生蛊毒！</span><br><span class="line">怪不得唐门要找医林麻烦。它不希望武林人士丧失对“毒由心生，怨不得人”的敬</span><br><span class="line">畏，不希望他们找到解救之法。</span><br><span class="line"></span><br><span class="line">    当唐果自个中了这种奇毒时，唐门也一筹莫展，虽然想到医林求助，却不愿让</span><br><span class="line">大夫们了解唐果所中之毒的真相。他们特地让唐果又感染上虫蛊之毒，一方面以毒</span><br><span class="line">攻毒，一方面以桃代僵、混淆耳目。</span><br><span class="line"></span><br><span class="line">    唐果又笑了，道：“你们猜对了不少东西。”</span><br><span class="line"></span><br><span class="line">    医林大夫面对着挑生与虫蛊双毒合璧，自然是晕头转向。</span><br><span class="line"></span><br><span class="line">    “现在我们有药方根治你当年之病。”但是时日已晚，无法补救了。</span><br><span class="line"></span><br><span class="line">    唐果颈部以下全身瘫痪，是他自个在蜀道上摔出来的。当时他已捡回了一条性</span><br><span class="line">命，正在回家途中。林清任摇头叹道：“我们给你服下的药，虽然勉强压住了蛊毒，</span><br><span class="line">却在你身上留下了后遗症，一种极为罕见的慢性病。”</span><br><span class="line"></span><br><span class="line">    “我们称它作原发性震颤麻痹症。”岑寂脸上现出不解之色：有此症者，一般</span><br><span class="line">熬不了多久；唐果怎会至今还活着？</span><br><span class="line"></span><br><span class="line">    唐果笑道：“我自个的病，自个最清楚。当年，若非我四肢逐渐僵化，日益无</span><br><span class="line">力，也不会失足跌下马去。医林欠我不少东西……。林老大夫，你知道‘子不语怪</span><br><span class="line">力乱神’这句话么？”</span><br><span class="line"></span><br><span class="line">    “子不语怪力乱神”出自《论语·述而》。孔子认为，对于鬼神是否存在的问</span><br><span class="line">题应该存而不论。岑寂想，唐果在委婉地指责林清任言多必失。</span><br><span class="line"></span><br><span class="line">    岑寂忍不住插嘴道：“子曰，不教而杀谓之虐，不戒视成，谓之暴。”岑寂的</span><br><span class="line">书呆子脾气又上来了。</span><br><span class="line"></span><br><span class="line">    唐果歪头眯眼，会心地笑着。他笑起来似乎绝不出声。“人谓半部论语治天下，</span><br><span class="line">唐果一直不服气，瞧不起穷酸的那付模样。”</span><br><span class="line"></span><br><span class="line">    “这位少年，我有两句话向你请教，何谓‘天下之达尊三，爵一齿一德一’，</span><br><span class="line">何谓‘君子欲讷于言，而敏于行’。”他的意思是岑寂也太多嘴了，并且不顾“尚</span><br><span class="line">齿尊长”的礼节，抢着出头。</span><br><span class="line"></span><br><span class="line">    “子曰‘人而不仁，如礼何？’‘当仁不让于师。’”岑寂也笑了。这个唐果</span><br><span class="line">恐怕不止会半部论语。</span><br><span class="line"></span><br><span class="line">                               十、莫须有</span><br><span class="line"></span><br><span class="line">    “我也有两个问题向你请教。”岑寂道。</span><br><span class="line"></span><br><span class="line">    “第一，你自个的病，自个最清楚。应该知道高肢位瘫痪是不治之症。上医林</span><br><span class="line">是为了求医么？”震颤麻痹更是绝症，没人可以得善终。</span><br><span class="line"></span><br><span class="line">    唐果笑道：“我纠正你一处错误。我清楚我身上的病，不等于清楚治病之法，</span><br><span class="line">不等于清楚医林大夫们的医术。”</span><br><span class="line"></span><br><span class="line">    “如果你诚心治病来着，为何要施放‘浣溪纱’之毒。”</span><br><span class="line"></span><br><span class="line">    “我没有，我否认。”</span><br><span class="line"></span><br><span class="line">    “那么，你也可以否认你曾雇一位‘借刀’杀手来对付医林。”</span><br><span class="line"></span><br><span class="line">    “唐门与‘借刀’绝少往来。我们自己就会杀人。”</span><br><span class="line"></span><br><span class="line">    “第二个问题是你这次出门东行来杭州，知道的人多么？”绝对不会少，青城</span><br><span class="line">派、杀手锏……。</span><br><span class="line"></span><br><span class="line">    “我做事惟恐天下不知，天下不乱。世人有谓我唐果早已驾鹤西去，为了辟谣，</span><br><span class="line">只好现身说法。”他本来是个大名人，性格狂而不狷。七八年前，大丈夫唐果只身</span><br><span class="line">一人，空手上青城山天师洞踏青。此举轰动四川武林，唐果入围“盖观论定”排行</span><br><span class="line">榜。</span><br><span class="line"></span><br><span class="line">    如果仇家们认为唐果已死，必然蠢蠢欲动，必然会妨碍人心稳定。岑寂能够理</span><br><span class="line">解。他认真听着，很怜惜那四各苏州少女。她们弱不经风地站着。他于心不忍，爱</span><br><span class="line">莫能助。</span><br><span class="line"></span><br><span class="line">    唐果出川，乘船顺江而下。到苏州后，雇了四名楼子里的清倌，经苏杭运河抵</span><br><span class="line">武林。费了不少周折，耽了不少时日。</span><br><span class="line"></span><br><span class="line">    那么，唐圭呢？他又是怎么回事。岑寂不相信唐门高手只来了一人。唐果似乎</span><br><span class="line">也是惜香怜玉的。他对那四名姑苏少女道：“你们可以自回苏州。”他担心少女们</span><br><span class="line">在血战中被误伤？</span><br><span class="line"></span><br><span class="line">    “我已是破釜沉舟了。”唐果沉默一阵，道，“你们真的治不好我的病？震颤</span><br><span class="line">麻痹有如此厉害么？……那么，你们为我陪葬吧。”他脸上的表情很古怪，似在悲</span><br><span class="line">天悯人。</span><br><span class="line"></span><br><span class="line">    “我们唐门有一种毒药，叫‘苦命鸳鸯’，又名‘相思苦’，系由两种不同的</span><br><span class="line">药物组成。当它俩相依为命时，仅有略略的脂粉香味，无毒无害。当它俩被拆散时，</span><br><span class="line">人们不知不觉便会眼睛发干发涩，再而流泪不止。如果不及时医治，只怕会晕倒在</span><br><span class="line">地。”</span><br><span class="line"></span><br><span class="line">    乍然分手时，相思最苦。相思欲断肠。</span><br><span class="line"></span><br><span class="line">    岑寂三人已无心听下去了，只顾着合眼掩鼻，见不到唐圭，那外号“水银泻地，</span><br><span class="line">冰雹满天”的唐圭，居然也笑吟吟地漫步走来。他的鹿皮手套中抓着一大把唐门七</span><br><span class="line">大暗器之一的“几点流萤明灭”。</span><br><span class="line"></span><br><span class="line">    岑寂三人无暇召唤屋内二老帮忙。“苦命鸳鸯”奈何不了武林高手，却足于令</span><br><span class="line">之方寸大乱，找不着北。“几点流萤明灭”才是攻击的主力。它的名字很风雅，却</span><br><span class="line">是不折不扣的要命玩意。</span><br><span class="line"></span><br><span class="line">    大夫是人类中较少犯错误的一族。他们多数生性谨慎。然而，今日，医林大夫</span><br><span class="line">们几乎全都着了道儿，跌了个大跟斗。岑寂三人无法识破“苦命鸳鸯连环相思毒”。</span><br><span class="line"></span><br><span class="line">    他们三人煎了一上午药，闻着门外死鱼的味儿，嗅觉退化。跟唐果讲话时，三</span><br><span class="line">人各自小心戒备着，未发现有任何异常之处。唐果浑身上下确实只有头能动弹，一</span><br><span class="line">举一动皆落在岑寂三人眼中，自然是做梦也想不到有毒气袭人。</span><br><span class="line"></span><br><span class="line">    “苦命鸳鸯”的两种药物相克相生，中和则无害，分析则有毒。唐果将它们分</span><br><span class="line">别放于少女身上及软轿之中，收到了一箭双雕的效果：以诡异的施毒手法对付医林</span><br><span class="line">大夫；并令那些姑苏女子在路上毒性发作。</span><br><span class="line"></span><br><span class="line">    他事先已想好每一处微小的细节，时间算计极准。所以，当唐圭赶到医林时，</span><br><span class="line">双方刚好撕破脸。</span><br><span class="line"></span><br><span class="line">    “几点流萤明灭”已经发动。岑寂双眼模糊，头脑眩晕，却分明感受到了这种</span><br><span class="line">暗器破空的绚丽与灵动。它们的速度不太快，似乎杂乱无章，若隐若现，飘乎不定。</span><br><span class="line">岑寂知晓自己躲不开。</span><br><span class="line"></span><br><span class="line">    林清任、林几道也躲不开。</span><br><span class="line"></span><br><span class="line">    锏也是如此，更是如此。他显然已挂了彩，性命垂危。若非唐圭犹豫了一下，</span><br><span class="line">若非他还心存顾虑，锏的生涯至此而终。唐圭被突然在背后十丈外出现并大喝一声</span><br><span class="line">的蒙面的高大的锏吓了一跳。仓促之下，急急出手，“几点流萤明灭”的狠毒暗器</span><br><span class="line">冲着杀手锏而去。林清任、林清任、岑寂三人逃过一劫。</span><br><span class="line"></span><br><span class="line">    坐在轿中的唐果似乎也怔住了。唐圭一直在山谷口把风，怎会有人在这当儿撞</span><br><span class="line">进来呢？他看到岑寂摸出小刻刀，扬手……。</span><br><span class="line"></span><br><span class="line">    有谁会害怕一个颈部以下全身瘫痪，一不留神便会冻死的病人？杀手锏用行动</span><br><span class="line">证明他不怕。但青城门下狗不是唯一害怕的人。因为还得算上岑寂。岑寂的小刻刀</span><br><span class="line">居然是射向唐果，没有还手之力的唐果。刀没入层层棉被之中，不知见血了没有？</span><br><span class="line"></span><br><span class="line">    锏在紧要关头帮了大忙。缓过神来的林几道发射银针，制住了唐圭。林几道的</span><br><span class="line">眼神一向很准，手法一向很稳，否则如何成为针灸业内第一人？纵使张不开眼，只</span><br><span class="line">要给他针眼大小的时间便已足够。林清任也已跃出“苦命鸳鸯”的势力范围，对锏</span><br><span class="line">实施急救。</span><br><span class="line"></span><br><span class="line">    锏已失去内力。他提剑狠命奔出，大喊一声，中了五枚暗器。唐圭没料到锏会</span><br><span class="line">是先期进入谷中，在医林房外潜伏。</span><br><span class="line"></span><br><span class="line">    唐果仍然端坐在轿中，眼睛转而注视岑寂。“医林大了，什么样的鸟都有。你</span><br><span class="line">的飞刀，令我叹为观止。唐圭的暗器象是在班门弄斧。我感觉你那飞刀的速度可比</span><br><span class="line">‘光阴箭’。我已看清你出手的姿式，却见不着一闪而过的刀光。”</span><br><span class="line"></span><br><span class="line">    岑寂沉声道：“你不是唐果。你藏在被中的双手正准备发射唐门的几大暗器，</span><br><span class="line">‘蒙笼暗碧’、‘烛影摇红’等。我应该没有猜错吧。”</span><br><span class="line"></span><br><span class="line">    “唐果”静默片刻后，道：“你如何知道？”</span><br><span class="line"></span><br><span class="line">    “我只有三分把握。患了震颤麻痹的人很容易染上各种并发症。唐果的内功可</span><br><span class="line">能不弱，六年后活下来的几率却也很小。”岑寂道，“唐果死后，为了掩人耳目，</span><br><span class="line">你们严守秘密，并迟迟不向医林寻仇。”唐果是唐门的传奇，是定海神针，不能让</span><br><span class="line">敌人知晓其死讯。</span><br><span class="line"></span><br><span class="line">    “我叫唐贞。唐果两年前脑炎发作，神智皆失，事实上已是个活死人。我们老</span><br><span class="line">祖宗最最疼爱这个孙儿，所以我们一直向她隐瞒真相。”唐贞挣开被子，黑乎乎、</span><br><span class="line">亮晶晶的锐物掉了一地，岑寂的小刻刀也在其中。它居然透穿了厚厚的棉絮。</span><br><span class="line"></span><br><span class="line">    没有血迹。林几道看出他的经脉气血已然受震，有内伤。</span><br><span class="line"></span><br><span class="line">    “我扮演过几回唐果。大家都认定我不如他，看我的神情尤为古怪，仿佛看着</span><br><span class="line">木偶一般。我真受不了了。唐果真有那么重要么？难道他一死，人们就会不把唐门</span><br><span class="line">放在眼中么？今日换作他来，他能将你们医林灭了么？”唐贞走出软轿。</span><br><span class="line"></span><br><span class="line">    他感到真正的废人反而是自己。唐果是唐门不世出的人才，是唐门全家的千里</span><br><span class="line">驹。唐果怎么能死呢？怎么可能死呢？今后，在唐贞前头，仍然有一个唐果，不死</span><br><span class="line">的唐果。</span><br><span class="line"></span><br><span class="line">    唐贞不否认在装扮唐果时，手足不能动弹，却别有一番豪气。那股气势也曾令</span><br><span class="line">他激动。很快，他发现自己错了。唐果值得他唐贞模仿，但他成就不了唐果。</span><br><span class="line"></span><br><span class="line">    也许，唐果不会对后面冲出的锏分心，但绝对也躲不过岑寂的小刻刀。</span><br><span class="line"></span><br><span class="line">    唐贞扶起唐圭，蹒跚而去。</span><br><span class="line"></span><br><span class="line">    杀手锏再次捡回一条命。大夫们救了他。</span><br><span class="line"></span><br><span class="line">    岑寂觉得人类的行为有时真不可思议。人心隔肚皮，这句话不一定是愤世之语，</span><br><span class="line">不一定持贬意。</span><br><span class="line"></span><br><span class="line">    锏很平静地说，其实唐门并没有雇他刺杀医林大夫。“我潜伏在谷中，并冲出</span><br><span class="line">来朝着唐圭大喊，只是因为当时我想寻死。就这么简单。”</span><br><span class="line"></span><br><span class="line">    岑寂觉得他还是在说谎。岑寂也曾说过谎话。一不留神，谎言便滔滔不绝，带</span><br><span class="line">着紧张与快感破堤而出。口舌不听使唤，脸在发烧，却防它不住。</span><br><span class="line"></span><br><span class="line">    锏笑道：“杀人与被别人杀，不一定需要理由。纵使有理由，也不一定讲得清</span><br><span class="line">楚。套句现成的话，叫‘莫须有’。你何必追向我行为的动机呢？”</span><br><span class="line"></span><br><span class="line">    岑寂认定他做了莫须有的好事。莫须有的含义莫须有。</span><br><span class="line"></span><br><span class="line">    人生而有罪，莫须有之罪。岑寂知道，自己有七分可能误杀一位颈部以下全身</span><br><span class="line">瘫痪的病人。自己居然没有犹豫。</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> 第六章 秋天里的长短句</span><br><span class="line"></span><br><span class="line">                                一、立秋</span><br><span class="line"></span><br><span class="line">    七月初五，立秋。小谢与周乐均不在清嘉馆中。独孤寒很忙，忙着洗衣服。对</span><br><span class="line">于男人来说，这是件顶顶麻烦的事儿。孤寒没心思抱怨，甚至顾不上思念那俏丽可</span><br><span class="line">爱的施湛露。</span><br><span class="line"></span><br><span class="line">    他在想，我该怎样才能发财？下一顿饭钱尚未有着落。房钱，胡不归胡大捕快</span><br><span class="line">已经预付结清。他忍不住摇头，又是一桩人情债。</span><br><span class="line"></span><br><span class="line">    与王臣交过手后，他犹豫再三，把那柄得自九华派的剑当了。所以，那天晚上</span><br><span class="line">周乐、小谢、他三人美美地享用了一盘红烧肉。真不该放走老胡，小谢道，他的油</span><br><span class="line">水十足。我真想赶去金陵找他，只惜另有要事在身，得赶往浙北，一刻也耽搁不得。</span><br><span class="line"></span><br><span class="line">    周乐瞅着他乐，你真正不想放过的是那位女杀手。死了这条心吧。借刀组织的</span><br><span class="line">秘密，几十年来一直没人能够揭破。</span><br><span class="line"></span><br><span class="line">    周乐心里头也在后悔，后悔没跟冉苒走。他一连寻了几天，就是找不着任何线</span><br><span class="line">索，没有三干树，没有东阿拉米方言。……没有钱。</span><br><span class="line"></span><br><span class="line">    三个人同样穷困潦倒。周乐却很开心，道，孤寒，你待我有漂母之恩。日后我</span><br><span class="line">要报答于你，你可不该拒绝。咱们兄弟有饭同吃，有钱同赚。我知道有个地儿埋了</span><br><span class="line">不少无主的上古珍宝。咱们将它取出，就不愁没银子花了。</span><br><span class="line"></span><br><span class="line">    你不肯同去可不行。有个恶人也盯着那堆珍宝。我打他不过。周乐很担心鬼帝</span><br><span class="line">沈魂。他可能是城隍庙的主脑。王臣一家子大概再无胆量动那些古剑。所以，它们</span><br><span class="line">还在墓中安静地躲着？</span><br><span class="line"></span><br><span class="line">    这天早上，周乐说，我去踩踩盘子，饿着肚皮便出门。独孤寒认为，周乐的主</span><br><span class="line">意听上去挺不错的。事实上，他差一点便没有福份参与。</span><br><span class="line"></span><br><span class="line">    卞梁很同情独孤寒的处境。绝顶高手们大都惺惺相惜。他居然自己一人到清嘉</span><br><span class="line">馆拜访孤寒。</span><br><span class="line"></span><br><span class="line">    当时，孤寒刚洗完衣服。</span><br><span class="line"></span><br><span class="line">    孤寒应该倍感荣幸。卞梁混得相当不错。他是天下巨富、二商之一的徽商帮的</span><br><span class="line">红人。身兼帐房先生、库房总管二职，轻易不出来走动。</span><br><span class="line"></span><br><span class="line">    卞梁人很和气、直爽，尽管他是绍兴人，标准的师爷模样，个儿不高，背有些</span><br><span class="line">驼，瘦得足于令最苛刻、多疑的老板宽心。</span><br><span class="line"></span><br><span class="line">    在武林中，卞梁享有好名声。据说很乐于参与慈善活动，徽商帮的赈灾款都由</span><br><span class="line">他一手经办。徽商帮的另一位总管臧三耳，同样很会做人，影响力更大，但在背后，</span><br><span class="line">只被骂为奴才。——卞梁好点，再不济也是门客幕僚。</span><br><span class="line"></span><br><span class="line">    卞梁说，我说话不喜欢兜圈子，今日登门，想请你加盟徽商帮。独孤寒没有反</span><br><span class="line">应。你不需要做任何你厌恶的事，我保证，替我们老板保证，绝不会束缚你的手脚。</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    “你也不必匆忙决定，可以缓几天给答复。”</span><br><span class="line"></span><br><span class="line">    “借刀”公布，三槐堂刊行的最近一期“黄金榜”之“刻周求剑”上有你。三</span><br><span class="line">十年来，初出江湖便入围“刻舟求剑”的剑客不少。但首次上榜便已打入前二十名</span><br><span class="line">的只有两人。一位是“下笑世上士”的鬼帝沈魂。他以没有章法的“大道天遁剑法”</span><br><span class="line">一月间击败二十八位高手。另一位便是独孤少侠你。</span><br><span class="line"></span><br><span class="line">    传言你一直在找人比剑。我忝居“刻周求剑”榜第十名，不知你有无兴趣与我</span><br><span class="line">过招。孤寒的眼睛一眨不眨。不过，你应该听说我从不与人动手比试。</span><br><span class="line"></span><br><span class="line">    我一向信奉和气生财，不喜欢见到流血流泪的不幸事件发生。孤寒的心沉了下</span><br><span class="line">去。</span><br><span class="line"></span><br><span class="line">    当然，不打不相识，为了结交你这位朋友，今日我舍命陪君子。卞梁说道。不</span><br><span class="line">论你是胜是负，是否将我击伤刺死，徽商帮都欢迎你。</span><br><span class="line"></span><br><span class="line">    居然会有成名高手主动上门找自己比剑！孤寒用力点头，注意到卞梁随身带来</span><br><span class="line">的一个长条形的包袱。卞梁关上房门，笑道：“实不相瞒，我怕死，咱们点到为止</span><br><span class="line">吧。”江湖人都是如此：没钱时拼命；有钱时好赌博。</span><br><span class="line"></span><br><span class="line">    几天前，在大街上，小谢说过，卞梁极为细心，追求完美近似于偏执，非常谨</span><br><span class="line">慎、稳重。据说他的剑法是天底下破绽最少的。难怪他掌管库房、帐本。</span><br><span class="line"></span><br><span class="line">    “我所使的剑法叫‘轻生一剑知’，轻生剑法。以‘悲秋剑气’贯注剑身，打</span><br><span class="line">防守反击。往往只需有一记进手剑招，便击败对手。”置于死地而后生，轻生而不</span><br><span class="line">拼命，冷静地悲伤哀愁。</span><br><span class="line"></span><br><span class="line">    名堂真不少，怪不得和合二大仙之白胖子遇到卞梁，居然避战而去。如果卞梁</span><br><span class="line">没有把握，他不会上门挑战？</span><br><span class="line"></span><br><span class="line">    知彼知己，百战不殆。孤寒发觉自己似乎很了解卞梁了。“我我……一般而言，</span><br><span class="line">我……。”他说不出自己的剑术风格。自觉很对不起卞梁，好象故意藏私似的。</span><br><span class="line"></span><br><span class="line">    卞梁没有在乎。他打开长条包袱，里头有两把剑。一把寒气逼人，装饰精美，</span><br><span class="line">显然是名贵锋利的宝剑。另一把是仅见于古书中的草绳缠剑，剑头圆钝，打造粗糙。</span><br><span class="line"></span><br><span class="line">    “请你任挑一把。”孤寒仔细端详一番，拿起钝剑，临空挥砍，然后递与卞梁。</span><br><span class="line">“我要利剑。”</span><br><span class="line"></span><br><span class="line">    “你谨慎、不轻敌，不故作大方，实在是我生平罕逢的对手。剑质好坏，在比</span><br><span class="line">试中相当重要。换作我先挑，也会取利剑。”高手过招是以性命相搏，并非儿戏。</span><br><span class="line">心态得端正，然后才谈得上发挥水准。如此也有敬重对手之意。</span><br><span class="line"></span><br><span class="line">    草绳缠剑是传奇兵器，似乎很能彰显个性，大出风头。它可能适合于谢清发，</span><br><span class="line">但绝对不吸引独孤寒。</span><br><span class="line"></span><br><span class="line">    两人摆好架式。“请赐教。”卞梁全神贯注，进入状态。突然，他瞅向窗外，</span><br><span class="line">似乎觉察到了什么动静。在比剑中，这亦是大忌。他低声道：“有人在监视我们。</span><br><span class="line">武功不错，不止一人。你在这儿可有仇家？”如果两人打得筋疲力尽，两败俱伤，</span><br><span class="line">岂不让敌人乘虚而入。卞梁的江湖经验毕竟比孤寒老到。</span><br><span class="line"></span><br><span class="line">    周乐曾提醒过孤寒，五通神会认为唐图之死以及迷神引的失踪与你有关，凡事</span><br><span class="line">多加小心。</span><br><span class="line"></span><br><span class="line">    “会不会是五通神？最近，他们几人到苏州来了。”卞梁沉吟道，“要不，让</span><br><span class="line">我出去瞧瞧，打他一个措手不及。”合他二人之力，自然不怕五通神。</span><br><span class="line"></span><br><span class="line">    清嘉馆中人来人往，并不冷清。卞梁是否是疑神疑鬼，过于敏感？孤寒走到窗</span><br><span class="line">边，静立一会儿。他有预感，确实是来了敌人。卞梁提剑，抢出一步，道：“我去</span><br><span class="line">去就回。”</span><br><span class="line"></span><br><span class="line">    然后，他以“悲秋剑气”使出“轻生一剑”，又狠又准地将钝剑刺入独孤寒体</span><br><span class="line">中，划、切、抽。孤寒面向着他，却没有防备他偷袭。当下晃了晃，鲜血自胸口涌</span><br><span class="line">出。</span><br><span class="line"></span><br><span class="line">    窗外有人鼓掌。远处，凌迟从暗处淡出。</span><br><span class="line"></span><br><span class="line">    孤寒扬手点穴止血。脸色发白，站立不稳。卞梁早已退开一步。剑身不带一丝</span><br><span class="line">血。这小子反应真快，居然来得及后仰侧身，肌肉收缩，运功卸力。没刺正要害。</span><br><span class="line">但不妨等待，小心他拼命一击，小心防守。他迟早会扛不住，耗尽最后一滴血。</span><br><span class="line"></span><br><span class="line">    孤寒以剑杖地，并不出手。任何人受了重伤后，如果不想即刻丧命，便不该妄</span><br><span class="line">动妄为。他的运气似乎糟透了。哭夜郎，五通神中武功最高的一个，站在凌迟身旁。</span><br><span class="line">也许，丁令威也来了，正在外头把风。</span><br><span class="line"></span><br><span class="line">    卞梁干笑道：“两位来得正好。他是你们的仇家。权充见面礼送与二位。老夫</span><br><span class="line">还有些事，先走一步。”</span><br><span class="line"></span><br><span class="line">    凌迟与哭夜郎进屋。凌迟笑道：“卞老头，我总算明白了，你那所谓的‘轻生</span><br><span class="line">剑法’原来不指自个轻生，而是指轻贱对手的性命，必欲置之死地。”</span><br><span class="line"></span><br><span class="line">    哭夜郎也道：“我亦有不少收获。我发现，卞老头进‘刻周求剑’前十名，当</span><br><span class="line">之无愧。你与借刀杀手的剑法有共通之处，有异曲同工之妙。都是暗算、偷袭的料，</span><br><span class="line">怪不得借刀慧眼识英雄，发现了你的才华，挖掘出你这个人才。”</span><br><span class="line"></span><br><span class="line">    卞梁能听出讥讽之意，却只是陪着笑脸，留神独孤寒。五通神奈何不了他，但</span><br><span class="line">他也得罪不起五通神。“江湖中传言连白胖子都害怕与你比剑。我们不信。今日一</span><br><span class="line">战令我大开眼界，我服了。”</span><br><span class="line"></span><br><span class="line">    “你最好杀了他。否则，我们就放他走，一块儿在外边渲染你方才那番表演之</span><br><span class="line">精彩。”凌迟这一招很绝。</span><br><span class="line"></span><br><span class="line">    “凌半仙。”凌迟的外号叫“人不人鬼不鬼、半仙凌迟”。“实际上，我没骗</span><br><span class="line">他。你们确实埋伏在外边。你们还故意弄出声响，令他信以为真，分散了注意力。</span><br><span class="line">否则，我无法得手。”</span><br><span class="line"></span><br><span class="line">    一开始，卞梁存心诓孤寒。当孤寒在窗前往外张望时，凌迟与哭夜郎已猜出卞</span><br><span class="line">梁的心思，帮了他一把。</span><br><span class="line"></span><br><span class="line">    凌迟阴阴地笑道：“出色的算命先生，总是把人往最坏处想，然后尽挑着好听</span><br><span class="line">的讲，你有什么花肠子，我一清二楚。……你还不赶快杀人灭口？小心夜长梦多。”</span><br><span class="line"></span><br><span class="line">    卞梁一凛，举剑出招。孤寒不敢挪步，动作不敢过猛，只是格架。十几招下来，</span><br><span class="line">卞梁占不了丝毫便宜，没有一点机会。“听说这少年也擅长防守，剑招中很少破绽，</span><br><span class="line">后劲十足。”凌迟道。</span><br><span class="line"></span><br><span class="line">    “卞老头的防守及破袭有两下子，却不长于进攻，连一个半死的少年也拿不下</span><br><span class="line">来。”</span><br><span class="line"></span><br><span class="line">    卞梁不急躁，却露了个破绽，一个剑招中的真正的漏洞。它不是人为的、故意</span><br><span class="line">的，而是细小的、隐蔽的白玉微瑕。你不易抓住它，不敢利用它。孤寒却挺剑直刺。</span><br><span class="line"></span><br><span class="line">    卞梁正等着这招，早已准备好侧身、压剑、反撩，一气呵成。他少年时苦练这</span><br><span class="line">一诱敌深入的定式三年，已到了随心所欲的境地。对手的各种反应在意料之中。若</span><br><span class="line">敢轻进，少不了开膛破肚。</span><br><span class="line"></span><br><span class="line">    我的内力强过他。受伤后，他的身手没我敏捷。卞梁有十分的把握。凌迟在摇</span><br><span class="line">头：独孤寒这位天才少年剑客还欠火候，江湖历练太少，有心速战速决，无谓轻进</span><br><span class="line">冒险。</span><br><span class="line"></span><br><span class="line">    卞梁痛极出声，滑步闪开。直刺的这一剑居然会匪夷所思地在他肩头划出一道</span><br><span class="line">血口子。弄巧成拙。</span><br><span class="line"></span><br><span class="line">    在独孤寒眼中，在某个瞬间，假破绽便是真破绽。每一记剑招都有破绽，组合</span><br><span class="line">在一块便可以弥补。所以，你若能快到楔入剑招之间的夹缝，机会无处不在。</span><br><span class="line"></span><br><span class="line">    哭夜郎道：“我瞧着他的气势就害怕。他进攻起来，如行云流水，见缝插针。</span><br><span class="line">预谋已久，蓄劲而发……。”</span><br><span class="line"></span><br><span class="line">    凌迟点头。“他的冷静沉稳比卞梁的阴险狡猾更为可怕。卞老头已转入防守，</span><br><span class="line">真没出息。”</span><br><span class="line"></span><br><span class="line">    “幸好，有他替咱们卖命。不然要干掉独孤寒，只怕得大费手脚。”两人一唱</span><br><span class="line">一和，幸灾乐祸，似乎巴不得卞梁早些落败。</span><br><span class="line"></span><br><span class="line">    卞梁不闻不见。他性子一向很好，涵养不错。成天与帐本、算盘、数字打交道，</span><br><span class="line">不时将自己关在库房中，六十岁的人，尤其是会武功的男人，可能会沉不住气么？</span><br><span class="line"></span><br><span class="line">    相对孤寒而言，他还占有优势，受伤较轻。他的防守非常从容，有些闲适，不</span><br><span class="line">露败象。曾经有人评论道，卞梁的防守剑法，缜密如帐本天衣无缝，牢固如库房重</span><br><span class="line">地滴水不漏。</span><br><span class="line"></span><br><span class="line">    凌迟道：“这般打下去，可不容易分出胜负。虽说周乐徒步去了城外的虎丘山，</span><br><span class="line">但也得防着他。以脚程计，再过半个时辰，他便有可能回来。”</span><br><span class="line"></span><br><span class="line">    “三尸大魔姑足于击杀两个周乐。况且，还有丁令威在外头呢。”哭夜郎道。</span><br><span class="line"></span><br><span class="line">    正说着，卞梁再次中剑，老头儿忍不住惨叫，手中钝剑掉地。他有意变换步法，</span><br><span class="line">退向墙边，令独孤寒被迫将背后空门卖与五通神。他自以为熟悉了独孤寒进手剑的</span><br><span class="line">套路。为什么？为什么我会败？</span><br><span class="line"></span><br><span class="line">    凌迟、哭夜郎也是一脸诧异。凌迟叹道：“我总算明白了。周乐这个人非常聪</span><br><span class="line">明。他怎会如此放心地将孤寒一人留在城里呢？……我想通了。”天底下没有几个</span><br><span class="line">人追得上小谢，连丁令威也不行。天底下没有几个人抓得住周乐，神捕胡不归承认</span><br><span class="line">自己做不到。柿子要挑软的吃，所以五通神盯上孤寒。</span><br><span class="line"></span><br><span class="line">    孤寒的轻功不好，称不上不坏。更何况他已中了卞梁的暗算，受了不小的剑伤。</span><br><span class="line"></span><br><span class="line">    卞梁垮了，苍老无力，尤如陈年的帐本。“为什么我败了？”</span><br><span class="line"></span><br><span class="line">    独孤寒道：“你眨眼了。”是人就不可能不眨眼。孤寒也眨眼，但当他眨眼时，</span><br><span class="line">他心中雪亮。因为，他反应极快，悟性奇高，能推演出每一种潜藏的招数变化。他</span><br><span class="line">可以凭借潜意识出招。这个道理有如下盲棋，功力浅的人是学不来的。</span><br><span class="line"></span><br><span class="line">    卞梁的防守象座坚不可摧的城堡。以孤寒的功力，无法开锁破门而入，无力轰</span><br><span class="line">毁那堵厚实的城墙。但他依旧进攻。他随手几招，从城堡外头把门锁上，围困监禁</span><br><span class="line">了卞梁。</span><br><span class="line"></span><br><span class="line">    孤寒“临机一动”的剑招封锁了卞梁的生气，打压了他的性灵。故而，当他闭</span><br><span class="line">眼时，与瞎子何异？</span><br><span class="line"></span><br><span class="line">    高手过招时，内力、招数、经验、心态、运气都很重要。但若缺乏创造力与判</span><br><span class="line">断力、适应性与悟性，一切都白搭。</span><br><span class="line"></span><br><span class="line">    本月，“刻周求剑”榜中，第五名依旧是“和合二大仙”之的太白金星。前五</span><br><span class="line">人的排名一十年不变，哭夜郎想：从今日起，卞梁被逐出前十，独孤寒不知能否活</span><br><span class="line">着进入前五？</span><br><span class="line"></span><br><span class="line">    卞梁退缩墙角，跟着慢慢地挪向门户。凌迟与哭夜郎只是盯着独寒。他俩有着</span><br><span class="line">同样的心思：此子不除，必成大患；今日是最好的时机。独孤寒胸口处的衣裳尽是</span><br><span class="line">血迹。他以剑仗地，只轻轻地说过四个字，全部力气似乎都用于呼吸了。</span><br><span class="line"></span><br><span class="line">    凌迟笑道：“如果唐图不死就好了，可先用七巧板充任前锋。”他二人没有把</span><br><span class="line">握杀掉独孤寒，不论其受伤与否。</span><br><span class="line"></span><br><span class="line">    卞梁闪出门外，跟着又退回。丁令威的脑袋探入屋来。他的嘴巴闭着，却有一</span><br><span class="line">个声音道：“我这个人不喜欢暴力。大伙儿能否好好谈谈？”周乐，周乐提着穴道</span><br><span class="line">受制的丁令威。武林中数一数二的青年高手——周乐，身上两处受伤的卞梁自然怕</span><br><span class="line">他。更何况他居然生擒了有鸟有鸟丁令威！</span><br><span class="line"></span><br><span class="line">    “对不起，吓着诸位了。”周乐摊手微笑，“我猜到诸位光临寒舍，发现了丁</span><br><span class="line">令威藏身之所。我在暗，他在明，碰巧我的武功比他高不少，轻功又不比他差多少，</span><br><span class="line">脑瓜长得比较大，所以……。”</span><br><span class="line"></span><br><span class="line">    哭夜郎道：“你没上虎丘么？”</span><br><span class="line"></span><br><span class="line">    “我去了。回来的路上见着了三尸。我打不过她们，于是撒腿就跑。”以青、</span><br><span class="line">白、血姑三人之力居然截不下周乐。</span><br><span class="line"></span><br><span class="line">    他望向卞梁，道：“卞总管的到来，倒令敝人颇感意外，倍感荣幸。”卞梁的</span><br><span class="line">脸比身上的血还红。</span><br><span class="line"></span><br><span class="line">    凌迟很了解周乐，所以很干脆地说道：“放了他，我们走人。”五通神走后，</span><br><span class="line">卞梁干笑几声，随之离去。</span><br><span class="line"></span><br><span class="line">                               二、 处暑</span><br><span class="line"></span><br><span class="line">    七月二十一，处暑。七月十四鬼节，七月十五中元节。所有的死鬼从阴间回到</span><br><span class="line">阳世，百姓当街烧香普渡。</span><br><span class="line"></span><br><span class="line">    立秋甫过，每一页日历上都有“七月二十一，处暑”的字样，直到七月二十二</span><br><span class="line">止。然而，在百姓心里，想的只是七月十五的中元节。中元祭鬼，中秋团圆，两者</span><br><span class="line">一样热闹。人们大吃大喝，彻夜狂欢。</span><br><span class="line"></span><br><span class="line">    活人与死人，恶鬼与亲朋，差距只是一个月？区别仅在于仪式？意义在于吃喝</span><br><span class="line">的狂欢。中元与中秋，对于周乐与独孤寒来说，殊无意义。孤寒伤好得快。鬼节的</span><br><span class="line">晚上，两人拥着人流上街。</span><br><span class="line"></span><br><span class="line">    城隍庙前人山人海。城隍爷是看管本地鬼魂的正神。今日他老人家休息。百姓</span><br><span class="line">们却不肯放过他，拼命烧香磕头。</span><br><span class="line"></span><br><span class="line">    假的牛头马面、牛鬼蛇神在游行，判官们踩着高跷。小丑模样的鬼夸张地跳跃，</span><br><span class="line">口中喷火。独孤寒还见到不少大户人家的女眷，想起了施湛露。她尚未回九华么？</span><br><span class="line"></span><br><span class="line">    大家闺秀一般足不出户，除非元宵、中元，或者是清明踏青扫墓。平日里偶而</span><br><span class="line">上寺院烧香许愿。施湛露在外祖家里，不敢造次，也许并未出门。独孤寒如是想，</span><br><span class="line">眼前浮现出一幅星夜小楼佳人的画面。他想上玄妙观。从前的那个晚上，两人谈了</span><br><span class="line">一阵。她不会再认为我是个木头人是把剑吧？我的言语太少了。她待我象是……象</span><br><span class="line">是熟人一般，很少顾忌……。</span><br><span class="line"></span><br><span class="line">    周乐则想去虎丘，不是为了捞取古剑。</span><br><span class="line"></span><br><span class="line">    人多鬼少，孤寒已被人群隔开，一只恶鬼跌跌撞撞地从后面冲向周乐。它的面</span><br><span class="line">具上涂有重重的油彩，裤子很长，长过高跷。周乐矮它三尺。</span><br><span class="line"></span><br><span class="line">    面具上是铜铃一般大的眼睛和血盆大嘴。</span><br><span class="line"></span><br><span class="line">    它双手僵直地挨上周乐肩部，却无不轨行为。周乐向前跨出一步，想避开它。</span><br><span class="line">恶鬼如影附形，依旧按了他的“肩井穴”。它的动作似乎笨拙，装出重心失衡的样</span><br><span class="line">子。踩高跷原本不易，摔下跌倒更是常事。但周乐感觉到有针芒在背。这可是不寻</span><br><span class="line">常的事！</span><br><span class="line"></span><br><span class="line">    周乐探身回头下蹲，使出一记扫膛腿。对方踩着高跷，跳跃不便，最大的弱点</span><br><span class="line">在下盘。只听“劈啪”声响，大个子鬼趴倒在地。任何人从高跷上摔下恐怕都不会</span><br><span class="line">好受。鬼也不例外。所以周乐拍手立身，神色轻松，在人群的惊呼声中，俨然一个</span><br><span class="line">打鬼英雄。</span><br><span class="line"></span><br><span class="line">    哪料那恶鬼居然韧性十足，一个鲤鱼打滚，鹞子翻身，高大的身材又立了起来。</span><br><span class="line">它脚下的高跷似乎没被折断。腰间伸出了一只人手，急迅无比、精妙绝伦地击出。</span><br><span class="line">此招不仅突兀，而且劲力十足。</span><br><span class="line"></span><br><span class="line">    周乐大惊。这恶鬼扮猪吃老虎，装作武功二流，实际上却是一等一的好手。周</span><br><span class="line">乐勉力挥出一掌。这原本是困兽犹斗的意味。事已不济，他不敢指望对手会躲闪不</span><br><span class="line">及。哪料恶鬼的头颅却应声而碎，一团生石灰投奔周乐双眼。</span><br><span class="line"></span><br><span class="line">    周乐闭眼，在一片惊叫声中摔倒。他明白过来了，这只恶鬼脚踏实地，并没有</span><br><span class="line">踩在高跷之上。其头部不是血肉之躯，笨拙的动作仅是装出来的！</span><br><span class="line"></span><br><span class="line">    独孤寒与所有的观众一样目瞪口呆，略为不同的是他感到事态严重，知道对手</span><br><span class="line">的武功极高。究竟是何方神圣？“城隍庙”还是“借刀”？这位“恶鬼”的手法快</span><br><span class="line">捷、小巧、隐蔽，象是在变戏法一般。孤寒身上没有带剑。但纵使有剑，也无法救</span><br><span class="line">周乐。因为他找不到插手的空隙。他看不懂这种戏法。</span><br><span class="line"></span><br><span class="line">    恶鬼脱去行头，现出人形。周乐居然还能笑出声来：“你挺能演戏的，似乎真</span><br><span class="line">有两只高跷踩在脚下。……。”</span><br><span class="line"></span><br><span class="line">    “尤其了得的是那招‘小梅花缚虎手’。我以为武圣人郑中孚郑大侠本人见了</span><br><span class="line">也会叹为观止。”郑中孚的“七绝圣手”早被他自个公诸于众，任人研习。只是鲜</span><br><span class="line">有成就者。“你不搞花样，不弄玄虚，乍然撞上，我也没什么好法子解开此招。”</span><br><span class="line"></span><br><span class="line">    那装鬼之人道：“咱俩的武功原本便不分上下。只是你心眼较多，每回过招我</span><br><span class="line">都着了你的道儿。……周乐，你唤我来姑苏，有什么好事？”周乐起身，拍打衣上</span><br><span class="line">石灰。“孤寒，你俩认识一下。这位小鬼叫董大，年纪确实比你我大，外号‘一点</span><br><span class="line">浩然气，千里快哉风’，干地下营生。”“天地有正气，杂然赋流形。……于人曰</span><br><span class="line">浩然，沛乎塞苍冥。你觉得奇怪么？我的外号很中听，干的勾当却见不得人。……</span><br><span class="line">我喜欢黑暗，因为光明让我见到了世间的莫大罪恶。”</span><br><span class="line"></span><br><span class="line">    感到很奇怪的人是董大，明明点了周乐的穴道，却无法监禁他的行为。“周乐，</span><br><span class="line">方才你是否事先封了自个穴道？……难道我所演的戏穿帮了？”</span><br><span class="line"></span><br><span class="line">    周乐笑道：“我讲个故事，听过后你就开窍了。从前有三位剑客比剑。第一位</span><br><span class="line">剑客一剑劈烂了一只苍蝇。第二位剑客更是高明，随手一剑砍下了苍蝇的脑袋。第</span><br><span class="line">三位剑客深孚众望，名气很大。他在掌声雷动中上场，在观众们屏息静气的漫长等</span><br><span class="line">待中出剑，砍向一只从眼前飞过的苍蝇。”</span><br><span class="line"></span><br><span class="line">    “剑光闪过，苍蝇依然哼哼唧唧地飞着。观众一阵嘘声。剑客不慌不忙，道，</span><br><span class="line">你们没看出此剑妙处，我乃是天下第一人，我的剑法最高。他说出原因后，有些观</span><br><span class="line">众居然信服了。你俩猜猜看，这是为什么？”董大笑道：“想转移话题？……我猜</span><br><span class="line">呀，第三位剑客一剑杀死了头两位剑客。”</span><br><span class="line"></span><br><span class="line">    “不对。如此观众怎会有嘘声？”</span><br><span class="line"></span><br><span class="line">    独孤寒道：“剑客习剑，不是用来对付苍蝇的。”</span><br><span class="line"></span><br><span class="line">    董大与周乐齐齐点头。周乐道：“如果这个故事是则寓言，孤寒对了。可它是</span><br><span class="line">个笑话。”</span><br><span class="line"></span><br><span class="line">    “原来，第三位剑客对那只可怜的苍蝇施以了宫刑。”大笑，连孤寒也不例外。</span><br><span class="line"></span><br><span class="line">    董大道：“他的运气真不错，碰巧是只母苍蝇，可就难办了。……周乐，你讲</span><br><span class="line">这则笑话是什么意思？”</span><br><span class="line"></span><br><span class="line">    “我的意思是……没有什么意思。只是说来玩玩。笑话还能有什么意思？”</span><br><span class="line"></span><br><span class="line">    “董大，最近三尸五通神一直打算超度我，所以我把你找来当帮手。当然，好</span><br><span class="line">处少不了。那虎丘剑池的秘室入口已为我发现。”周乐跟他讲了那天晚上在剑池之</span><br><span class="line">畔的所见所闻。</span><br><span class="line"></span><br><span class="line">    董大当即跃跃欲试。可时候尚早。中秋时，虎丘通宵有游客。中元则不然，城</span><br><span class="line">里人不上郊外。三人转到玄妙观。这儿的人群水泄不通。孤寒忍不住东张西望。离</span><br><span class="line">去时，周乐注意到他的神色有些异样，心里不由暗笑：对敌时，他脸上可是一丝表</span><br><span class="line">情也没有呀。</span><br><span class="line"></span><br><span class="line">    剑池占地不大，池水在圆月下积蓄了暗绿色的光。四周再无一人。正对的石壁</span><br><span class="line">戴着鬼面具。董大极为谨慎地考察了半个时辰。</span><br><span class="line"></span><br><span class="line">    周乐下水，不多时上岸，大叫：“晦气。”一面换裳，一面道：“墓室中的宝</span><br><span class="line">剑不知是否被人拿走了。”</span><br><span class="line"></span><br><span class="line">    “我尚未深入腹地。入内不远就见着两具尸体！”周乐的声音有些颤抖，不知</span><br><span class="line">是因为害怕，还是因为水冷。</span><br><span class="line"></span><br><span class="line">    “废话！既然是墓室，尸体当然少不了。”董大只关心宝剑，以为周乐又在开</span><br><span class="line">玩笑。</span><br><span class="line"></span><br><span class="line">    “死人中一个是墨家弟子匡宽，另一个是雷堂的雷池。他俩是王堂、王玢的朋</span><br><span class="line">友，一直住在王府。正是这帮世家少年找到墓室入口的。”周乐道。</span><br><span class="line"></span><br><span class="line">    “如果你敢招惹墨家、雷堂、平江王家，你自个下水寻剑。”牵涉到人命，纵</span><br><span class="line">使拿到古剑，也不好脱手。</span><br><span class="line"></span><br><span class="line">    “尸体尚有尸斑，无热气，未发生尸僵。他俩刚死不久。现场无血迹，无打斗</span><br><span class="line">痕迹。”</span><br><span class="line"></span><br><span class="line">    当日在虎丘云岩寺塔下，匡宽、雷池见到被擒的着水靠的王琮、王臣，口中不</span><br><span class="line">说，心里却认定王家不够朋友，想私下独吞吴王宝藏。王琮、王臣栽了个大跟头，</span><br><span class="line">有如哑巴吃黄连，绝口不提自个的丑事。他俩告诫子弟，千万不可妄动剑池珍宝。</span><br><span class="line">王家虽为富贵三家之一，剑术冠绝江南，必竟惹不起沈魂、五通神。</span><br><span class="line"></span><br><span class="line">    匡宽、雷池却以为王家在吓唬人，另有图谋。他二人年轻，不知天高地厚，哪</span><br><span class="line">会轻易放过露脸扬名的机会。于是，借中元节王家上下忙碌之际，利用街上人多的</span><br><span class="line">环境“失踪”，偷偷溜到这儿寻宝。周乐如此推断。</span><br><span class="line"></span><br><span class="line">    董大点头道：“王琮、王臣兄弟几个好附庸风雅，为人却相当正派，而且胆小。</span><br><span class="line">凶手不会是他们。死因如何？”</span><br><span class="line"></span><br><span class="line">    “表象为溺死，但肺中无积水。身上有剑伤，无中毒现象。”</span><br><span class="line"></span><br><span class="line">    “飞燕草、马钱子等毒物皆不会在死者身上留下痕迹。”</span><br><span class="line"></span><br><span class="line">    “两人口中没有异味。”周乐非常专业。</span><br><span class="line"></span><br><span class="line">    “是了，凶手想嫁祸王家，挑起事端。”雷堂好斗，墨家护短，王家有财有势、</span><br><span class="line">朝中有人。三方斗起来肯定不会不精彩。</span><br><span class="line"></span><br><span class="line">    世人没有不透风的墙。五陵年少们探寻剑池宝剑之事，说不得匡宽、雷池的家</span><br><span class="line">长、师长略有所知。“只要城隍庙故意放出消息，尸体也不难找到。”董大道。</span><br><span class="line"></span><br><span class="line">    周乐道：“否。任何知道剑池秘密的人都有杀人嫌疑。所以，如果王家装傻，</span><br><span class="line">你、我、孤寒撒手旁观，城隍庙也不会贼喊捉贼。因为这笔帐终将记到明教帐上。”</span><br><span class="line">这种事从来就没少过。明教曾经杀死过不少武林名门子弟。</span><br><span class="line"></span><br><span class="line">    “溺死的假象造得相当笨拙，内行的明眼人可轻易识破。墨家巨子、雷堂族长</span><br><span class="line">有幸见到那两具尸体，定然不会认为是王家干的。因为王家弟子也很聪明。”</span><br><span class="line"></span><br><span class="line">    “如此说来，你周乐也不笨，笨蛋都加入了城隍庙？”</span><br><span class="line"></span><br><span class="line">    “非也，至少还有你一人天马行空、独来独往。”周乐笑道，“城隍庙更愿意</span><br><span class="line">嫁祸给明教。不过，也有可能是明教想嫁祸对方。各种可能性都是存在的。象我这</span><br><span class="line">样的聪明人不会轻易下结论。”</span><br><span class="line"></span><br><span class="line">    董大道：“有无其它线索？”</span><br><span class="line"></span><br><span class="line">    “两人身上着水靠，没有带私人物件。剑池四周没有他俩留下来的衣物。”</span><br><span class="line"></span><br><span class="line">    独孤寒在闭目养神。董大忍不住道：“周乐，你讲了许多，尽是废话。我们仍</span><br><span class="line">然不知道凶手是谁，用心何在。其实你只需说死了两人，毫无线索，足矣。”</span><br><span class="line"></span><br><span class="line">    “以前我当差时，都是这么干的。破案比做案乏味。许多案子根本就没法子破。</span><br><span class="line">我打心眼里承认，严刑逼供更有用，所谓推理，尽是胡猜加上巧合。有时，做案者</span><br><span class="line">很笨、不入流，无意间搞个小动作，却足于让最聪明的破案者想破头。”周乐懒洋</span><br><span class="line">洋地说道。</span><br><span class="line"></span><br><span class="line">    “其实，以上所述纯属虚构。因其虚构，方有悬念可言。”董大张嘴，孤寒睁</span><br><span class="line">眼，吃惊之至。</span><br><span class="line"></span><br><span class="line">    周乐一脸正气，并无羞愧之色。</span><br><span class="line"></span><br><span class="line">    周乐道：“我刚入墓室，便发觉呼吸很困难。火石根本无法打燃。”匡宽、雷</span><br><span class="line">池上回入水，凭借了特制的器皿，从岸上盛气入内。</span><br><span class="line"></span><br><span class="line">    “这是我的疏忽。当时，我正想转身退出，脚尖碰着……。我用手摸知有两具</span><br><span class="line">尸体。”</span><br><span class="line"></span><br><span class="line">    董大将信将疑。周乐这小子太狡猾了。“我不知那两具死尸生前是谁的皮囊。</span><br><span class="line">它们还有些热气……。”</span><br><span class="line"></span><br><span class="line">    董大忽然道：“王琮、王臣！”暗中隐约可见他的脸已经扭曲了。此言惊人，</span><br><span class="line">周乐再次觉得浑身浸水般阴凉。城隍庙偷梁换柱、移花接木，杀了二王，让人冒充</span><br><span class="line">二王入主姑苏王家？</span><br><span class="line"></span><br><span class="line">    “不可能。王臣被释放后，孤寒与他交过手。”周乐松了一口气，“咱们还是</span><br><span class="line">趁早离开这个鬼地方。否则，只怕会担些干系。”</span><br><span class="line"></span><br><span class="line">    回到城里，一打听，匡宽、雷池果然失踪，确是鬼节当晚神秘消失。王家人等</span><br><span class="line">似乎都没有做案时间。他们应酬多。</span><br><span class="line"></span><br><span class="line">    “如果是王家干的，暗地里便不会寻到剑池去。”周乐道。三人探听完消息，</span><br><span class="line">正吃着夜宵。</span><br><span class="line"></span><br><span class="line">    “吴王阖闾可能早为人盗过，池底可能只剩下一两把剑。纵使真有宝藏，沈魂</span><br><span class="line">也早就捷足先登。”董大很懊悔。剩汤剩饭还可能轮到王家，董大我只配望“洋”</span><br><span class="line">兴叹。这时，他看到，王家子弟提着灯笼往虎丘的方向赶去。</span><br><span class="line"></span><br><span class="line">    “目前王家还不能确认匡、雷二人已死，必定不会下水。他们只会在池边等候。”</span><br><span class="line">周乐道。</span><br><span class="line"></span><br><span class="line">    次日，姑苏十三行传出一连串震撼新闻。城隍庙恶鬼昨晚四处出动，全力出击，</span><br><span class="line">制造了中国的“水晶之夜”：骇人听闻的屠杀，血与火的狂欢游行。</span><br><span class="line"></span><br><span class="line">    七月十四，鬼节；七月十五，中元。它们早就等着这一天？</span><br><span class="line"></span><br><span class="line">    各地的十三行组织损失惨重。财物被哄抢，不会武功的商人、店伙、脚夫横尸</span><br><span class="line">街头。城市流氓在一夜之间，证明了谁是秋风，谁是落叶。暴乱吧！以神的名义。</span><br><span class="line">城隍庙的成员说，商人有罪，我们这些穷人要拿回应得的财富。</span><br><span class="line"></span><br><span class="line">    罗浮派、岭南剑派、南拳门、黎族默不作声，石塘会玉碎，十三行中势力最大、</span><br><span class="line">财富最多的广州十三行损失了两队西洋货船。南海海盗背后靠着大陆上的“大码头”，</span><br><span class="line">开始敢对着十三行掀风作浪了。广州，那可是十三行的“龙兴之地”呀。</span><br><span class="line"></span><br><span class="line">    西北的消息未到。周乐估计，如胡不归所言，山贾会、昆仑派、高昌沙堡放弃</span><br><span class="line">对十三行的支持，西域丝绸之路荆蒺丛生，玉门关变成了鬼门关。</span><br><span class="line"></span><br><span class="line">    明教与一行二商称雄武林，很大程度是因为它们都拥有自己的商队，拥有庞大</span><br><span class="line">的生意。明教的圣物多是珠宝，一向保护商人利益。一行二商原本便是贾人出身。</span><br><span class="line"></span><br><span class="line">    所以，城隍庙也必须建立自己的商业王国。白手起家自然不如抢夺别人的财富</span><br><span class="line">方便。十三行是一头肥羊。</span><br><span class="line"></span><br><span class="line">    同时，城隍庙也对明教实施了报复。他们血洗了几处隐蔽、偏远的“食菜事魔”</span><br><span class="line">村落。朝廷一直有此心愿，只惜找不着“地下”明教徒。“城隍爷”显灵了，不求</span><br><span class="line">即应。</span><br><span class="line"></span><br><span class="line">    明教有如过街的耗子。那我就是田鼠，周乐自嘲。老鼠的孩子会打洞。冉苒、</span><br><span class="line">冉忠、列天熙等人都不见踪影。他们很明智地避免了跟城隍庙硬碰硬。</span><br><span class="line"></span><br><span class="line">    水晶，在那传来明教的西方有预言的意味。水晶之夜，好听的名字后面是没有</span><br><span class="line">理智的狂热，是黑暗。我们可以预言的将来只有悲剧？所以，回忆中的过去才会如</span><br><span class="line">此美好。</span><br><span class="line"></span><br><span class="line">                               三、 白露</span><br><span class="line"></span><br><span class="line">    八月初六，白露。小谢清发在回忆自己近一个月来的经历。“蒹葭苍苍，白露</span><br><span class="line">为霜。”为了伊人，奔走四方。为了抓回女杀手，他追到浙江嘉兴的白衣庵。他决</span><br><span class="line">意与自己未来的岳父斗下去，证明王臣便是那女杀手的雇主。</span><br><span class="line"></span><br><span class="line">    小谢做事随心所欲，率性而为。所以身无分文的他卷走了周乐仅有的几个铜板。</span><br><span class="line">他是这样自我安慰的：周乐有手艺，有青楼中的朋友，最不济也能得到柳屯田一般</span><br><span class="line">的下场。</span><br><span class="line"></span><br><span class="line">    他相当无礼地闯入尼姑庵中。他的时间很宝贵，没功夫罗嗦。一两天内那女杀</span><br><span class="line">手恢复力气，小谢就玩完了。</span><br><span class="line"></span><br><span class="line">    然而，聪明的小谢还是费了一番口舌。白衣庵的武功“梅萼三两枝，素手兰花</span><br><span class="line">指”他曾见识过。已经够风流的他可不想死在牡丹花下。他向老尼姑说那女孩是他</span><br><span class="line">小媳妇，由于为坏人所害，神智不清，昏迷不醒。</span><br><span class="line"></span><br><span class="line">    她被歹人劫持出门。当我历尽艰难险阻把歹人扭送官府时，发现找不着她了。</span><br><span class="line">原来，某个好心人救了她，托十三行的马车将她送到贵处疗伤。所以，我立刻赶来</span><br><span class="line">了。</span><br><span class="line"></span><br><span class="line">    我很感激诸位大师收留她。……我能坐下来谈么？小谢油嘴滑舌，脸上总带着</span><br><span class="line">轻薄的嘻笑，看起来怎么也不象是正人君子。</span><br><span class="line"></span><br><span class="line">    施主，庵里确实寄住了一位生病的姑娘。这就是了，大师，我想即刻带她回家。</span><br><span class="line">不好意思再麻烦大师了，况且我爹妈都等急了。</span><br><span class="line"></span><br><span class="line">    施主是苏中人吧？你怎未雇辆车呢？——既是来接媳妇，怎能出无车？瞧你衣</span><br><span class="line">饰光鲜，其中必定有诈。小谢脸不红耳不赤心不跳，道瞧我这记性，一心惦着她，</span><br><span class="line">把什么事都给忘了。心中暗叫糟糕：马车没有，马脚倒露出来了。老子自个尚且坐</span><br><span class="line">不起车呢，哪有余钱侍候女杀手。</span><br><span class="line"></span><br><span class="line">    几位老尼姑都很和气，保养得不错，象个老妖精，小谢想，可能是会家子。施</span><br><span class="line">主，不瞒你说，十三行的那位马车夫转告我们，你口中的好心人交代过这位少女是</span><br><span class="line">冷血杀手，是极危险的人物。……她真是你夫人么？</span><br><span class="line"></span><br><span class="line">    小谢在肚子里大骂周乐，道大师你们有所不知，这里头有误会。我媳妇儿哪会</span><br><span class="line">是杀手？笑话！瞧她的样子象么？她又温柔又体贴，知书达礼，善良贤惠。她一向</span><br><span class="line">吃素，烧香拜佛，见到血就头晕。……当然，在她神智不清时，可能干过傻事。但</span><br><span class="line">纵使有，也是无心之过，对吧？恭维女性，他很有一手。</span><br><span class="line"></span><br><span class="line">    白衣庵整一个就是妇女收容站。尼姑们收留形形色色的落难女子。她们中有不</span><br><span class="line">少是由于受到公婆、丈夫虐待，不堪忍受，离家出走。这些女子多数未生育，脸皮</span><br><span class="line">薄，不敢回娘家。</span><br><span class="line"></span><br><span class="line">    以前发生过这么一件事：女子的丈夫寻上门了，可女子自个不愿回去。尼姑们</span><br><span class="line">夹在中间也很难办。送她回去，等于让她活受罪；不送她回去，她丈夫又不干，在</span><br><span class="line">庵前庵后瞎闹，妨碍佛门清净。</span><br><span class="line"></span><br><span class="line">    小谢看上去很斯文，不至于虐待妇女，但会无理取闹。</span><br><span class="line"></span><br><span class="line">    施主，你能认出你夫人么？她愿意跟你走么？废话，我认不出她么？她不愿跟</span><br><span class="line">我走？小谢装作不耐烦的样子。她与我从小青梅竹马。我闭着眼用手摸就能将她认</span><br><span class="line">出。……</span><br><span class="line"></span><br><span class="line">    尼姑们有些为难。她们信得过十三行。十三行捐助的香火钱最多。眼前这少年</span><br><span class="line">无名无姓，不知来历，举止可疑，言辞闪烁，哪能轻信？周乐原话是，这女子是冷</span><br><span class="line">血杀手，中了迷药，请你们不要喝破她的底细，不要过问她的行踪。待她恢复武功，</span><br><span class="line">让她自行离去。切匆节外生枝。诸位大师，我能寻到这儿，自然是因为我与十三行</span><br><span class="line">的人相熟。他们肯帮我，说明我……。</span><br><span class="line"></span><br><span class="line">    他责怪自己：料不到周乐会有这么一手，早知如此，说实话就成了。他不想暴</span><br><span class="line">露身份。金陵谢家子弟固然不大会是坏蛋，但只怕也不大会娶这种出身的女孩。</span><br><span class="line"></span><br><span class="line">    那女子精神不是很好，力气尚未恢复。我们会告诉她你来过这儿，看她自个是</span><br><span class="line">否愿意与你一道离去。</span><br><span class="line"></span><br><span class="line">    小谢无可奈何。那女杀手并非笨蛋，自然不愿与他这个未曾拜堂成亲，只谋一</span><br><span class="line">面的“老公”私奔。看来只有抢亲这一条路了。</span><br><span class="line"></span><br><span class="line">    他悻悻离去，好不容易挨到天黑，摸回白衣庵。</span><br><span class="line"></span><br><span class="line">    金陵谢家的轻功冠绝天下。小谢曾夸过口，他浑身上下，言行举止，只有一样</span><br><span class="line">东西姓谢，那就是他的轻功。</span><br><span class="line"></span><br><span class="line">    他以“无形灭影，空虚入冥”翻墙，长驱直入。要寻找那女杀手所住的禅房，</span><br><span class="line">相当费事。夜色中的女子，乍一看，都差不多。花了大半天功夫，他见着了躺在床</span><br><span class="line">上未曾蒙面、素面朝天的女杀手，听到一声足以响彻云霄、绕梁三日、谋杀“亲夫”</span><br><span class="line">的尖叫。</span><br><span class="line"></span><br><span class="line">    小谢只顾掩住耳朵，忘记堵她的嘴带她上路。心中庆幸：如果上回她刺杀我时，</span><br><span class="line">也来这么一招，我死定了。</span><br><span class="line"></span><br><span class="line">    他马上发觉自己麻烦大了。急促的脚步声传来，尼姑们已在门口出现。逃命要</span><br><span class="line">紧，小谢使出轻功绝招“对影成三”，以“坠飞絮无影”的身法旋身飞出，撞向房</span><br><span class="line">门。男女授受不亲，尼姑又不好意思动手动脚。小谢我哪会让你们“捉奸捉双”？</span><br><span class="line"></span><br><span class="line">    然而事情有变，小谢硬生生地止步，跟着后跃。白衣庵中竟然有人能从指尖激</span><br><span class="line">射真气。杜蘅的“梅萼兰花指”显然没练到家。小谢哪敢硬闯。</span><br><span class="line"></span><br><span class="line">    小谢从小被女人盯惯了，此时却也不自在。幸好他不觉丢人，笑道：“你们呆</span><br><span class="line">在这儿干嘛？我正要追出去抓坏人呢。”</span><br><span class="line"></span><br><span class="line">    一灰衣老尼道：“施主，适才我以蟹爪兰、鹤折草、仙客来三招合攻才勉强留</span><br><span class="line">下你。依你的年龄、衣表、轻功，你只能是谢家子弟。”小谢面白无须，俊朗潇洒，</span><br><span class="line">应是世家子弟。</span><br><span class="line"></span><br><span class="line">    小谢微惊，如果暴露行藏，此事传出江湖，王臣便找到悔婚的借口。不能便宜</span><br><span class="line">这老小子。他摊手笑道：“大师真有眼光。在下略懂轻功，跟谢家也些关系。”</span><br><span class="line"></span><br><span class="line">    “我与他们，与杭州崔家都沾亲带故。在下姓周，单名一个礼。”礼乐，先礼</span><br><span class="line">后乐，我是周乐他哥。“我认识崔九叔的夫人。她姓杜来着，与你们有些渊源。”</span><br><span class="line"></span><br><span class="line">    尼姑们对视几眼，让他到客厅说话。那女杀手似乎昏睡过去了。“事到如今，</span><br><span class="line">我只好说实话。我俩尚未成亲。但我俩都有那个意思……。她自幼父母双亡，寄寓</span><br><span class="line">我家。”小谢轻声说着，双手下垂，两脚并拢。“可是，最近她出了事。”小谢看</span><br><span class="line">上去确实很悲伤，“她……她自以为没脸见我，便不理我了。……都怪那坏人。…</span><br><span class="line">…迷神引，他不是人。”尼姑们默不作声。“她脑子受到了太大的刺激，有些迷糊。</span><br><span class="line">所谓的冷血杀手是她自个编造出来的。她想杀死引，杀死自己……。我想带她上医</span><br><span class="line">林求治。林几道林大夫、古天真古大夫，我都认识。”小谢自以为，轻功不是他最</span><br><span class="line">拿手的本事。追马子、哄女人、编造谎话的功夫，他独步武林。</span><br><span class="line"></span><br><span class="line">    老尼合什道：“施主，谢家的轻功据说只传授给族中子侄。我们相信你是个正</span><br><span class="line">派人，只是担心你带走她后，她会对你不利。”这老尼对小谢的话语将信将疑。她</span><br><span class="line">看得出那小女子身具武功。</span><br><span class="line"></span><br><span class="line">    “她昏迷不醒时，口中嚷过一些话儿。她似乎确是杀手。施主，你到底有没有</span><br><span class="line">认错人呀？”</span><br><span class="line"></span><br><span class="line">    小谢笑道：“别看我眼睛老是眯着，我很有眼光的。纵使她真的成了杀手，她</span><br><span class="line">也舍不得杀我。”他说得有些肉麻了。</span><br><span class="line"></span><br><span class="line">    “她见着老鼠时，总是象刚才那样尖叫。她的鼻子小小的，牙齿白白。能娶她</span><br><span class="line">为妻，真是我上辈子修来的福。她还没告诉你们她的真名吧，她名叫章可贞。多好</span><br><span class="line">听的名字呀。”小谢说谎话溜着呢，脱口而出，一眼不眨。亏他立马想出“章可贞”</span><br><span class="line">这个名儿来。小谢心道：我对她的观察还蛮仔细的；她给我的印象似乎也不坏，所</span><br><span class="line">以我给她起了一个好听的名字？</span><br><span class="line"></span><br><span class="line">    但是，由于他夜闯尼姑庵，给尼姑们留下的印象实在太坏了。所以，尼姑们请</span><br><span class="line">他出门，说你不要再来刺激她了，……不必再多说了。</span><br><span class="line"></span><br><span class="line">    嘭……。</span><br><span class="line"></span><br><span class="line">    小谢只好在嘉兴城中住下，见着尼姑，逢赌便输。他不敢上赌场，身上的钱又</span><br><span class="line">不够享乐。待那女子恢复功力，肯定不会放过他。该怎么办呢？打退堂鼓，让周乐</span><br><span class="line">耻笑？不成！……她轻功不如我，打不过可以逃，冒险一试。</span><br><span class="line"></span><br><span class="line">    我得赶在中元节前回姑苏。次日小谢又来到白衣庵。这回，尼姑们二话没说，</span><br><span class="line">便应允了。小谢怔住了，随即想到：“轻扬落花风”的药效已过，她顺水推舟，将</span><br><span class="line">计就计，准备杀我。昨晚行动，表明自己并未带帮手来。一夜之间，芋头变得烫手。</span><br><span class="line"></span><br><span class="line">    小谢强笑道：“多谢大师。”不必客气，她说她愿意随你走。今天她的气色很</span><br><span class="line">好，内力恢复了三四成，头脑很清醒。老尼道。</span><br><span class="line"></span><br><span class="line">    偷来的马车走出里许，女杀手叫停。小谢双手抓着缰绳与汗水，小心戒备。纵</span><br><span class="line">使你武功已全部恢复，手中无剑，我仍然不怕你。</span><br><span class="line"></span><br><span class="line">    “唉，你、你……你以为我很坏么？”她的神情楚楚动人。</span><br><span class="line"></span><br><span class="line">    小谢冷笑，美人计？这应该由我付诸实施才是。“这几天下来，我想通了。年</span><br><span class="line">纪不小了，不能再这样下去了。栽在你手中，我觉得很幸运。我想退隐江湖、金盆</span><br><span class="line">洗手。”她低垂螓首，眼角瞟着小谢，轻咬嘴唇，样子娇羞可爱。不象是在说假话，</span><br><span class="line">语气真诚。小谢受宠若惊，睁大了双眼。</span><br><span class="line"></span><br><span class="line">    “你根本就不相信我。你瞧不起我。”她幽幽说道，“如果你担心我，防备我</span><br><span class="line">的话，索性就点了我的穴道。”</span><br><span class="line"></span><br><span class="line">    小谢依言做了。 他折了根粗树枝， 很小心地出招。左手虚扬，右手使了一式</span><br><span class="line">“汉白玉”剑法。这“汉白玉”剑法布局谨严，攻守兼备，点穴精妙。女杀手一动</span><br><span class="line">不动，束手就擒。她穿着一身黑色紧身服，双眼紧闭，脸色苍白。“我见犹怜”，</span><br><span class="line">小谢想。</span><br><span class="line"></span><br><span class="line">    她是否真的喜欢上我了？这似乎比杀了我好不到哪里去，虽说她长得也不算难</span><br><span class="line">看。……上回在清嘉馆，她手下留情了？留情？</span><br><span class="line"></span><br><span class="line">    这女杀手的眼神中没有忧伤、哀愁，而是无力的累、淡淡的苦。她气质很好，</span><br><span class="line">因为骄傲而不做作，因为聪明而显得可爱。</span><br><span class="line"></span><br><span class="line">    小谢有些后悔。这女孩的内力最多只恢复了一半。老尼的话得到了证实。她赶</span><br><span class="line">不上独孤寒的神勇，而且吸入的药量要更多。</span><br><span class="line"></span><br><span class="line">    “我想脱离借刀，你肯帮我么？”</span><br><span class="line"></span><br><span class="line">    “你得告诉我：一、是谁雇你杀我；二、有关借刀的秘密。”</span><br><span class="line"></span><br><span class="line">    “别打听借刀，好么？求你了。”“章可贞”皱眉，声音轻柔。</span><br><span class="line"></span><br><span class="line">    小谢想，如果她什么都依我，其中必定有诈。看来，她确实想“从良”。“我</span><br><span class="line">能帮你什么。”惜香怜玉是他引以为荣的美德。</span><br><span class="line"></span><br><span class="line">    你回到白衣庵，假称我已死了。先前我在姑苏失踪，借刀担心我泄密，必会追</span><br><span class="line">杀我。如果我死了，便少了很多麻烦。她笑起来相当妩媚，颇有魅力。</span><br><span class="line"></span><br><span class="line">    如果借刀追杀一个人，这人面前有两条路，一是死，二是杀死雇主。如果此人</span><br><span class="line">本身即是借刀杀手，他能整锅端掉雇主——借刀组织么？</span><br><span class="line"></span><br><span class="line">    王臣不会坦言自己与借刀杀手接触过。别的借刀杀手不知道她接了这桩买卖。</span><br><span class="line">清嘉馆的伙计不明真相。周乐、孤寒、小谢都好说。</span><br><span class="line"></span><br><span class="line">    这位女子的生死关键在于白衣庵的尼姑们。</span><br><span class="line"></span><br><span class="line">    “你跟她们说，我确是杀手，你将我从尼姑庵中骗出，仅是为了杀我。而你杀</span><br><span class="line">我是为了自保。我已经死在你手中。”她的功力只恢复了三四成，自然不是小谢的</span><br><span class="line">对手。</span><br><span class="line"></span><br><span class="line">    白衣庵不过问江湖恩怨，出家人不打诳语。借刀会相信尼姑们的话语。然而，</span><br><span class="line">借刀会怀疑：她主动随小谢出庵，与男子携手离去；她会傻到自寻死路么？——她</span><br><span class="line">哪里来的异性朋友？除了雇主，皆是敌人。所以，仅有一种可能：暗中另外有人逼</span><br><span class="line">迫她，为了保全组织秘密，她借小谢手“自杀”。——十三行哪会有那么好的心肠。</span><br><span class="line">他们在耍阴谋，欲擒故纵，放长线钓大鱼。为了摆脱十三行，女杀手“章可贞”萌</span><br><span class="line">生死志。</span><br><span class="line"></span><br><span class="line">    如此一来，小谢便无性命之忧，借刀不会找他兴师问罪。</span><br><span class="line"></span><br><span class="line">    借刀也没办法为难十三行。十三行并未掌握借刀组织的秘密。杀手的性命原本</span><br><span class="line">便随时可能结束，重要的是组织的秘密不可泄露。所以“章可贞”“死”后，借刀</span><br><span class="line">大概也不会较真。</span><br><span class="line"></span><br><span class="line">    此计甚妙！小谢义不容辞地回白衣庵，依计行事。尼姑们听说那女杀手死了，</span><br><span class="line">也不过念了声“阿弥陀佛”。</span><br><span class="line"></span><br><span class="line">    听到这儿，独孤寒依然不作声，董大笑道：“小谢，如此说来，你已把她搞到</span><br><span class="line">手了。为何你还装出一张苦瓜脸呢？莫非她厉害得紧，改不了母老虎的本性，把你</span><br><span class="line">治得服服贴贴。……老实说，你是不是舍不得王贞吉。”</span><br><span class="line"></span><br><span class="line">    周乐摇头道：“他当然舍不得。只不过此事没有这般简单，小谢的魅力哪有这</span><br><span class="line">么大。我瞧呀，他八成是给那个‘章可贞’耍了。”小谢风流成性，占了不少女子</span><br><span class="line">的便宜，却也不时栽在女子手中。</span><br><span class="line"></span><br><span class="line">    小谢终于坦言：周乐又猜对了。当日，两人无所不谈。小谢已不再将她当做杀</span><br><span class="line">手。她穴道自解后，也无异常举止。第二天，马车离嘉兴已远，“章可贞”突然惊</span><br><span class="line">呼。她落了一件玉佩。估计在禅房中。“决心自尽”的她应该将它击碎，不能丢失。</span><br><span class="line">这玉佩可是借刀杀手的信物。所以，两人当即调转车头，赶回嘉兴。夜间，轻功较</span><br><span class="line">高、“未死”的谢清发再次摸入白衣庵。他寻不着玉佩，又被老尼姑发现了。</span><br><span class="line"></span><br><span class="line">    老尼几招便将他制住，说庵里刚死了一位尼姑，以他嫌疑最大。小谢拼命解释</span><br><span class="line">无效，最后只得说“章可贞”可以为自己做证。老尼与他一同出庵，却寻不着马车。</span><br><span class="line">老尼坚信他便是凶手，因为昨日他还口口声声“章可贞”是个杀手，已被他杀了，</span><br><span class="line">如今怎会复活，成为他的证人呢？</span><br><span class="line"></span><br><span class="line">    如此反复无常的小人，前天说她是妻子，昨日说她是杀手，今晚又指她为证人，</span><br><span class="line">你的话哪一句是真的？你的话能信么？你有什么事做不出来？</span><br><span class="line"></span><br><span class="line">    小谢焉了，明白自己上了个大当。女杀手确实只恢复了三四成功力，但撒了个</span><br><span class="line">弥天大谎，欺骗了小谢的感情。是她，杀死尼姑，然后逃窜。如此，她便完成了王</span><br><span class="line">臣交给自己的任务：把谢清发搞臭。而且，她可以确定没有人在背后跟踪，十三行</span><br><span class="line">并没有耍花招。</span><br><span class="line"></span><br><span class="line">    “这是女杀手设下的圈套。你们快去抓她呀。我愿与她对质。”尼姑们谁也没</span><br><span class="line">理他。“章可贞”早已不知去向，不知死活，如何对质？你口中的证人，怎会又变</span><br><span class="line">成陷害你的杀人凶手？前后不过一眨眼的功夫，你的言语自相矛盾。……你能不能</span><br><span class="line">安静些。</span><br><span class="line"></span><br><span class="line">    小谢当时很委屈，大喊大叫，好象死去的尼姑是他娘。</span><br><span class="line"></span><br><span class="line">    董大听得目瞪口呆。周乐连呼“佩服、佩服、佩服得五体投地”。“所以，我</span><br><span class="line">赶不回来过中元节，还吃了几天免费的素菜。这小妮子真她妈的把我害惨了！”小</span><br><span class="line">谢狠声道。</span><br><span class="line"></span><br><span class="line">    “最后，尼姑们怎会放你走呢？养不起你？还是在扭送官府途中，让你小子溜</span><br><span class="line">了？”</span><br><span class="line"></span><br><span class="line">    “她良心发现，修书一封，讲明真相。”小谢沉默一会，说。</span><br><span class="line"></span><br><span class="line">    周乐与董大开怀大笑。董大朝小谢挤着眼睛，道：“看来一夜夫妻百日恩，她</span><br><span class="line">对你并非恩断义绝。藕断丝连，小谢，你还有希望与她重续旧好。……这罪没白受，</span><br><span class="line">她还知道心疼你……。”</span><br><span class="line"></span><br><span class="line">    周乐抚掌道，真想结识这位奇女子。</span><br><span class="line"></span><br><span class="line">                                四、秋分</span><br><span class="line"></span><br><span class="line">    八月二十二，秋分，碧云天，黄花地，北雁南飞。八月十五中秋甫过，施主夫</span><br><span class="line">妇将带着他们的女儿施湛露回九华山。为了查出迷神引的下落，五通神可能会去找</span><br><span class="line">施湛露。因为她是重要的当事人。周乐对孤寒如是说。</span><br><span class="line"></span><br><span class="line">    “东阳桢及其他弟子七月底先期回山。所以说，施氏一家势单力薄，根本不是</span><br><span class="line">五通神的对手。你应该一路跟随，暗中帮忙。”</span><br><span class="line"></span><br><span class="line">    小谢笑道：“英雄救美人，美人以身相许。这类故事早被演绎烂了。周乐你未</span><br><span class="line">免太老土了。如果五通神不肯配合，不去为难他们。孤寒，老实的孤寒岂不坐失良</span><br><span class="line">机？”</span><br><span class="line"></span><br><span class="line">    “照我看来，孤寒你就不该理她，欲擒故纵。小姑娘回九华，日子稍长，便觉</span><br><span class="line">闷不过。想着你的好处，自然会私自下山投怀送抱。”</span><br><span class="line"></span><br><span class="line">    最好的法子是打入“敌人”内部。董大一本正经说。孤寒，你应该上九华，要</span><br><span class="line">求成为“天台十八将”的弟子，好与她朝夕相处。</span><br><span class="line"></span><br><span class="line">    独狐寒不作声，却忍不住微笑。周乐又道，我们几个都脱不开身。明日墨家、</span><br><span class="line">雷堂的家长到齐后，剑池之畔又会上演一出好戏。十三行已经决定对城隍庙还以颜</span><br><span class="line">色。</span><br><span class="line"></span><br><span class="line">    “我会让三尸都变成死尸。”</span><br><span class="line"></span><br><span class="line">    “以后你还回姑苏么？”周乐问。孤寒四海为家，说不得会上武当，奔少林，</span><br><span class="line">挑战十三行领袖、无不居掌门郑中孚。“鬼帝沈魂曾在这儿出现。他的大道天遁剑</span><br><span class="line">法号称天下第一霸道，剑术排在‘刻周求剑’榜前列。”</span><br><span class="line"></span><br><span class="line">    “我可以帮你找到他，并在一旁看你们比剑。”周乐笑道，“别忘了，我还未</span><br><span class="line">及向你讨教呢。”</span><br><span class="line"></span><br><span class="line">    小谢则嚷着让孤寒联络尉迟杯与岑寂，大伙儿合开一间武馆或镖局。</span><br><span class="line"></span><br><span class="line">    “你得给我们带回一个老板娘……。”</span><br><span class="line"></span><br><span class="line">    这差使比盯梢追踪难为多了。打个比方说，孤寒的处境有如到烟花巷中化缘的</span><br><span class="line">和尚：年纪轻，血气方刚，口袋里还有不少碎银，欲望也不小，周遭没有人认识他</span><br><span class="line">……；只是这和尚很正经。</span><br><span class="line"></span><br><span class="line">    周乐已帮他想好两个借口：一、我也被五通神追杀；如果五通神未到，形迹已</span><br><span class="line">被施氏一家发觉，用第二个借口。二、真巧呀，在这儿碰到你们。</span><br><span class="line"></span><br><span class="line">    孤寒一个借口也没用上。因为在路上，他老是远远地躲着施氏一家所坐的马车，</span><br><span class="line">所住的客栈。而且，五通神并未“显灵”，根本就没有追上来。孤寒已在盘算折道</span><br><span class="line">去杭州。</span><br><span class="line"></span><br><span class="line">    一直到九华山下，太平无事。孤寒有些失望，有点后悔。他寻了个地儿，啜面</span><br><span class="line">汤。正这当儿，有个孩童兴冲冲奔入店中，叫道：“大哥哥，那边一位姐姐叫我将</span><br><span class="line">这张纸条递与你。”他做了个鬼脸，笑得居然很有深意。“姐姐说，她姓施，西施</span><br><span class="line">的施。”</span><br><span class="line"></span><br><span class="line">    她怎么可能发现我呢？她知道我会跟上来？糟糕！</span><br><span class="line"></span><br><span class="line">    秋天，天高气爽。施湛露心事重重，好象一堆堆的云絮都逃入心里，轻轻的，</span><br><span class="line">怪怪的，乱乱的。……秋上心头，是为愁。她并无忧愁，甚至有些兴奋。</span><br><span class="line"></span><br><span class="line">    她一向认为最完美的爱情应该拥有青梅竹马、两小无猜的经历。至少，相互间</span><br><span class="line">得有相当深的了解，得有共同的美好回忆。</span><br><span class="line"></span><br><span class="line">    她想到爹妈。爹妈一直相敬如宾，很和气，不吵架。但他们一天只在饭桌上和</span><br><span class="line">床上见面。他们仅有的对话几乎都与我及武功、门派有关，次数少于爹爹同师伯师</span><br><span class="line">叔们的过招。然而，如此的婚姻已经令人羡慕。</span><br><span class="line"></span><br><span class="line">    二十年都过来了，他们真的很幸福么？他们曾经幸福过么？施湛露不敢再想下</span><br><span class="line">去。她坚定了一个信念：我应该与他来往，应该与他谈谈。五、寒露</span><br><span class="line"></span><br><span class="line">    九月初七，寒露。匡宽、雷池的尸骨已经安葬十多天了，还不能确认凶手是谁。</span><br><span class="line">剑池下的墓室入口被堵上了。</span><br><span class="line"></span><br><span class="line">    董大哀叹道，煮熟的鸭子飞了，不知飞入谁的大嘴里。“周乐，你得赔偿我歇</span><br><span class="line">业五十天的损失。我总算明白过来了，你叫我来姑苏，是因为你看上了我的钱，想</span><br><span class="line">宰我，打我秋风……。”</span><br><span class="line"></span><br><span class="line">    几十天来， 小谢与周乐吃穿都靠他， 所以不敢顶嘴。小谢走出门，喃喃道：</span><br><span class="line">“不义之财，见者有份。”</span><br><span class="line"></span><br><span class="line">    周乐更干脆，只当没听见，笑道：“董大，咱们合力杀了三尸后，你的名声好</span><br><span class="line">了不少，名气大了不少。再随着周乐我多混几年，骗几位姑苏美人不成问题。这是</span><br><span class="line">在带你走正道，你应该感激我才是。”</span><br><span class="line"></span><br><span class="line">    董大气不打一处来，道：“当时若不是多喝了几杯雄黄酒，头脑发热，我才不</span><br><span class="line">会跟你俩去杀三尸。少了我，你们做梦也别想对付三尸。”</span><br><span class="line"></span><br><span class="line">    他武艺高强，内力与轻功皆不逊于周乐。所以，在杀三尸一役中出力甚大。他</span><br><span class="line">干过盗墓贼，多少有些法子对付各类毒物。喝雄黄酒怯毒的主意便是他提出来的。</span><br><span class="line"></span><br><span class="line">    周乐只是笑着。当日确是董大最后结果了白姑与血姑的性命。但那只能说明董</span><br><span class="line">大心肠硬、出手狠。</span><br><span class="line"></span><br><span class="line">    “当然，你想出来的点子蛮管用。你不干捕快，真是那些小毛贼的运气。”十</span><br><span class="line">三行探知三尸所在，小谢以绝顶轻功将她们引出，引入周乐布下的局中。三尸横行</span><br><span class="line">天下，不可一世，哪里会料到有人胆敢算计她们。</span><br><span class="line"></span><br><span class="line">    那天苏州有雨。周乐要的正是这个时机。三尸的毒粉几乎无法派上用场。粉雾</span><br><span class="line">怕水。周乐手上拿刀，董大与小谢使剑。小谢正面吸引，周乐侧面牵制，董大则是</span><br><span class="line">埋伏在暗处的奇兵。小谢逃入一条窄巷。细长的巷子里，三尸无法施展手脚、协同</span><br><span class="line">作战。她们披头散发，在雨中头发下垂，眼睛入水，视物不清。</span><br><span class="line"></span><br><span class="line">    一番恶斗在所难免。小谢的剑被白姑一把扭断。若非青石板遇水滑溜，三尸不</span><br><span class="line">太适应，小谢少不了挨上一掌。三尸总共打塌了一堵半的砖墙。而董大正是埋伏在</span><br><span class="line">墙后面。</span><br><span class="line"></span><br><span class="line">    董大拼了被毒掌扫中的危险，由背后偷袭白姑得手。三尸被个个击破。完事后，</span><br><span class="line">他们三人干的第一件事是呕吐，然后才处理三尸及中毒的刀、剑。</span><br><span class="line"></span><br><span class="line">    周乐搜了三尸在姑苏的住所，找着一卷牛皮纸，上面用朱砂画了十多个“正”</span><br><span class="line">字。每一笔划都是一个死人。屋里地上还有不少死虫子、死壁虎、死蜘蛛、死蟑螂。</span><br><span class="line">邻居说，三位娘子搬来住后，很少出门，很和善的，常逗我们家的小孩玩，还给他</span><br><span class="line">糖吃呢。……怎么没招呼一声就走了。</span><br><span class="line"></span><br><span class="line">    周乐突然觉得又想呕吐了，脸色难看。</span><br><span class="line"></span><br><span class="line">    十三行节节败退，周乐怀疑天下黑道绿林的人马已被城隍庙收编，所谓的正派</span><br><span class="line">人士多半也被收买了。明教与城隍庙有几次接火，均占上风。但周乐担心，长此以</span><br><span class="line">往，城隍庙便会发现明教的行踪，找到对付它的办法。</span><br><span class="line"></span><br><span class="line">    姑苏无战事。三尸死后居然默默无闻。董大要走了，三人在小酒店中饮酒饯行。</span><br><span class="line">董大笑道：“我有句话藏在心里，一直说不出口。你俩猜猜看，那是为什么？”</span><br><span class="line"></span><br><span class="line">    周乐只顾埋头倒酒。“那天围攻三尸，我发现周乐这小子会‘斩经堂刀法’。</span><br><span class="line">真不知他是打哪学来的。我一直没问他，因为既然他练了此项绝活，董大我恐怕就</span><br><span class="line">不是对手了。这太丢人了，我说不出口。”周乐一笑，道：“姜太公这老偷儿好象</span><br><span class="line">也投诚到十三行了。你有什么打算？”</span><br><span class="line"></span><br><span class="line">    “他跟你一样，还是云游和尚，没有正式挂单。我则不愿出家，这样才逍遥自</span><br><span class="line">在。小谢，你说，是不是这个理儿？”</span><br><span class="line"></span><br><span class="line">    董大又道：“今后如果你们想玩出点名堂，搞个象样的群体、机构，算我一份。</span><br><span class="line">我提议，它的名称可以叫‘跑不了庙’。此庙无神佛，而且和尚已经跑光了。”</span><br><span class="line"></span><br><span class="line">    三人大笑。小谢摇头晃脑想了一会，很深沉地说叫“无家”更绝。周乐则击节</span><br><span class="line">道，唤作“不伦不类”最贴切，咱们就是那类人，人数不多，与众不同，却又不是</span><br><span class="line">弱势群体。</span><br><span class="line"></span><br><span class="line">    独孤寒回来了，两人一块回来。施湛露的神情象个新娘子，又羞又喜。眼睛只</span><br><span class="line">望着孤寒，手脚却不知往哪里放。</span><br><span class="line"></span><br><span class="line">    聪明的周乐想破头也想不通老实、不明世事的孤寒怎会在二十几天内取得突破</span><br><span class="line">性进展。小谢只顾高兴，瞅着施湛露说不出话来。孤寒身着一袭新衣裳，稳重厚道</span><br><span class="line">外显得多了一些成熟。</span><br><span class="line"></span><br><span class="line">    小谢忍不住打听事情经过。独孤寒守口如瓶，逼得紧了，只说道，我跟她成亲</span><br><span class="line">了。如此说来，不是私奔？</span><br><span class="line"></span><br><span class="line">    在巨大的幸福面前，孤寒依然冷静。他并不觉得一切来得太快了，并没有手足</span><br><span class="line">无措的感觉。他的喜悦溢于言表。他令你觉得，同样觉得幸福是理所当然，是会被</span><br><span class="line">好好珍惜的。</span><br><span class="line"></span><br><span class="line">    孤寒觉得自己是那样地熟悉她，两个月前尚还陌生的她。这种体验从前从未有</span><br><span class="line">过。但我可以找个形象的、不甚恰当的比方：某天，你在镜子里（孤寒则说在小河</span><br><span class="line">边）看到一张脸，一张与你有着极为密切的联系、令你有些迷惑的脸。过了那么一</span><br><span class="line">会儿，也许只是眨眼的功夫，你便醒悟：这是我自个的脸，我的脸就是长得这样…</span><br><span class="line">…</span><br><span class="line"></span><br><span class="line">    小谢没能从独孤寒口中掏出情报，悻悻道：“我没听到你如何称呼她。是叫她</span><br><span class="line">小名，还是叫她‘湛露’？我估计你还没学会，不好意思叫出口。……不远的将来，</span><br><span class="line">你只能称她‘孩他娘’了。”小谢心里隐隐觉得：孤寒与湛露并非很般配，性子、</span><br><span class="line">经历相差甚远；如此着急结婚，会不会有些草率了？</span><br><span class="line"></span><br><span class="line">    周乐乐观其成。他认为男女间的事情原本就不好讲，更何况独孤寒与施湛露都</span><br><span class="line">是很聪明的人。他想象着这桩婚事在九华派中造成的轰动，施主夫妇前后的心境变</span><br><span class="line">化，忍不住微笑。</span><br><span class="line"></span><br><span class="line">    施湛露低着头回忆。她对爹妈撒谎了。撒谎不会令她脸红，但话中的内容令她</span><br><span class="line">抬不起头来。对于姑娘家来说，似乎没有比这更丢脸的事了。当时她说，那晚在玄</span><br><span class="line">妙观外，我跟他都中了引的迷药，第二天才回家。</span><br><span class="line"></span><br><span class="line">    我没敢声张，其实我……我已是他的人了。我把他从姑苏叫到这儿来，我不知</span><br><span class="line">道该怎么办。呜呜呜……。</span><br><span class="line"></span><br><span class="line">    这一招果然好使。为了脸面上的事，爹妈默许了。爸爸只想着如何令这一切显</span><br><span class="line">得自然，不会过于匆忙、突然。</span><br><span class="line"></span><br><span class="line">                                六、霜降</span><br><span class="line"></span><br><span class="line">    九月二十二，霜降。天气愈发凉快，夜间有些冷。星光下，周乐摸黑走路。他</span><br><span class="line">怎么看怎么想也看不出想不出那满天的星星斗如何会组成一块块割裂的图案，即所</span><br><span class="line">谓的星座。星星本质上是孤寂的，因而也是独立的。</span><br><span class="line"></span><br><span class="line">    不管落叶们如何密集地相互亲近，风吹水流就各奔东西了。世上万物皆是以个</span><br><span class="line">体存在的。自己的脚步象是来自背后的偷袭者。周乐在暗中微笑，移情使人心理脆</span><br><span class="line">弱；做为万物之灵，与其讲究天人合一，不如推崇“仁”或爱人。</span><br><span class="line"></span><br><span class="line">    他再一次来到虎丘剑池，见着了冉苒。她静立在池畔，夜幕遮不住她的神采丰</span><br><span class="line">姿。柔和、恬静的容色令周乐有如置身池水之中。他的心一阵紧缩、剧跳。</span><br><span class="line"></span><br><span class="line">    “你知道我要来么？你不担心鬼帝沈魂么？”周乐道。冉苒身上有太多疑问。</span><br><span class="line"></span><br><span class="line">    “知道你要来，我退避三舍。……你比沈魂好不到哪里去。”</span><br><span class="line"></span><br><span class="line">    周乐笑道：“你说我坏在哪里？现在我来了，你怎么不逃？”</span><br><span class="line"></span><br><span class="line">    冉苒索性不说话，铺了块手绢坐在地上。周乐也在她身边坐下，相距半个时辰。</span><br><span class="line">——因为半个时辰后，它将消失。周乐道：“冉苒，方才我梦见你了。醒来后就跑</span><br><span class="line">到这儿。”</span><br><span class="line"></span><br><span class="line">    “既然是夜半醒来，必是恶梦无疑。潜意识中你是不是有些怕我？我可是魔教</span><br><span class="line">妖女，心狠手辣。”</span><br><span class="line"></span><br><span class="line">    周乐笑道： “我梦见你掉入剑池， 柔弱无力，急需我的援手。……冉苒，象</span><br><span class="line">‘你怕我’这种话可不能多说，会怂恿我撕下伪装，露出本性。到那时，看究竟谁</span><br><span class="line">怕谁。”他的手脚开始不老实。</span><br><span class="line"></span><br><span class="line">    冉苒站起来，走开，道：“我有正事要与你商量。你说我们明教要不要帮助十</span><br><span class="line">三行对付城隍庙？”</span><br><span class="line"></span><br><span class="line">    借刀成功之处在于它比别的杀手组织更能守秘，更为神秘。而明教之所以能在</span><br><span class="line">中原艰难地生存下来，最大的法宝是信仰，是弟子们对明教信仰的虔诚。</span><br><span class="line"></span><br><span class="line">    目前明教的实力不逊于城隍庙，但担心它吞并十三行后坐大，再勾结官府，摇</span><br><span class="line">身一变改头换面，领导白道“铲除异教，勘乱除魔”。</span><br><span class="line"></span><br><span class="line">    如果郑中孚肯出面协调，明教可能避免两面作战、四面楚歌的尴尬。目前十三</span><br><span class="line">行的情形不太妙，遍布各地的生意陆续受损。明教若肯帮忙，城隍庙就不敢太嚣张。</span><br><span class="line"></span><br><span class="line">    周乐道：“这个想法很好。只是不易付诸实施。郑中孚凭什么相信明教？他如</span><br><span class="line">何与你们联系？连我都找不到你。老实说，你我都很清楚，十三行帮不了明教，明</span><br><span class="line">教也不需要外力帮助。那些混蛋其实是巴不得明教灭亡，不论它是否愿意和解。”</span><br><span class="line"></span><br><span class="line">    冉苒微微仰头，认真听着。周乐心中柔情泛滥，望着纤弱娇小，衣衫单薄的她，</span><br><span class="line">无限怜惜。“应该继续持低调，隐忍下去，避免与城隍庙接触，以保存实力，等待</span><br><span class="line">良机。目前十三行已开始反击。城隍庙要吞掉它，至少得费时一年，折损二分之一</span><br><span class="line">人手。到那时，明教便可以坐收渔翁之利。”</span><br><span class="line"></span><br><span class="line">    无不居弟子个个武艺高强，郑中孚的武功很可能在沈魂之上。十三行师爷孟夫</span><br><span class="line">子、主事张卒都不是省油的灯。</span><br><span class="line"></span><br><span class="line">    冉苒笑道：“你泄露了十三行的秘密，有吃里扒外之嫌。”</span><br><span class="line"></span><br><span class="line">    周乐看着她灿烂的笑容，只觉得必要时完全可以出卖自己。“没办法，我不习</span><br><span class="line">惯对你说谎。况且，我未正式加入十三行。由于你的关系，我更亲近明教。”</span><br><span class="line"></span><br><span class="line">    直至今日，周乐才彻底承认：我实在算不上是个好东西，谁敢骂我好色我就说</span><br><span class="line">他有眼光。</span><br><span class="line"></span><br><span class="line">    周乐轻声道：“为什么一到白天，你对我就没有好脸色？尤其是有旁人在场时，</span><br><span class="line">你装作不认识我。咱俩不是在偷情。冉苒，我未婚，我发誓。你呢？你已许了人家？”</span><br><span class="line"></span><br><span class="line">    “我许给明教了。教主不许谈婚嫁。……当然，那不是真的。否则我爹怎会有</span><br><span class="line">我这个女儿。现在，我整天都在想教中的事情，心思很乱。”“以前，我很想当教</span><br><span class="line">主的。……周乐，你说‘大道容乎众，大德容乎下’这句话有没有道理。”</span><br><span class="line"></span><br><span class="line">    周乐点头道：“有容乃大，对于纯粹的他人，与你无干的他人，只有宽容的权</span><br><span class="line">力。”</span><br><span class="line"></span><br><span class="line">    “现在是他人不肯宽容我们。当今朝廷腐败无能，百姓们却一直在宽容它。所</span><br><span class="line">谓的名门正派要么同流合污，要么奉行中庸。”</span><br><span class="line"></span><br><span class="line">    周乐道：“兼济天下力不从心，独善其身又于心不忍。为了解决这一两难选择，</span><br><span class="line">从‘士’的队伍中脱颖出‘清官’，从‘武人’中分化出‘游侠’。”</span><br><span class="line"></span><br><span class="line">    “冉苒，我以为个人没有为群体做出牺牲的必然义务。在合适的时候，你不当</span><br><span class="line">教主了，咱俩归隐山林。”</span><br><span class="line"></span><br><span class="line">    老百姓是可以“知之”的，应该使知之。民贵君轻，没错，但当民众尚未开窍</span><br><span class="line">时，贵不到哪里去。我们可以为民请命，但也可以悠着点，划不来轻易丧命。</span><br><span class="line"></span><br><span class="line">    周乐与冉苒在东方欲晓时依依惜别。银光中万物友好，棱角柔和。周乐有些困</span><br><span class="line">了，眼睛涩涩的。冉苒取出一个精致的红色的万事如意结，递到周乐手中，转身就</span><br><span class="line">走。</span><br><span class="line"></span><br><span class="line">    打结时必定费了极大的手工。周乐笑道：“我以为你不会女红呢？冉苒，冉苒，</span><br><span class="line">你为何不打个相思结？”</span><br><span class="line"></span><br><span class="line">    “投之以桃，报之以李。冉苒，我也送你一样东西。”冉苒闻言止步。</span><br><span class="line"></span><br><span class="line">    “把我整个人送给你，你要与不要？……我会充当说客，努力劝服郑中孚，令</span><br><span class="line">他丢弃对明教的成见。”</span><br><span class="line"></span><br><span class="line">    九月二十二，霜降，草叶上凝着薄薄的白霜，在为秋天带孝。落叶枯了，哭干</span><br><span class="line">了泪，哭去了颜色，哭诉在大地怀中。天气冷了。</span><br><span class="line"></span><br><span class="line">    周乐很想睡了，但心情极好，有着秋收的喜悦。他幸灾乐祸地看着地上的落叶，</span><br><span class="line">忍不住要多踩几脚。</span><br><span class="line"></span><br><span class="line">    从前，我偶然见到酒井法子的一张“美人照”。我呆住了。真的人恐怕不会如</span><br><span class="line">此之美，尤其是日本人。当时我对日本人有点成见。当时，说不上立即喜欢画中人。</span><br><span class="line">但我觉得，我的梦中情人最好长那个样子。我有些相信一见钟情了，并觉得以貌取</span><br><span class="line">人似乎没有错，虽然我很理性，且长相不好。</span><br><span class="line"></span><br><span class="line">    后来我特地留意了酒井法子的其它画像。它们没有对我产生太强的视觉冲击，</span><br><span class="line">幸好。幸好，我没撞见这样的人儿。</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  第七章 游击与围剿</span><br><span class="line"></span><br><span class="line">                              一、曾子杀人</span><br><span class="line"></span><br><span class="line">    郑中孚郑大侠的住所，亦即中原无不居，幽雅、古朴、舒适，既不华丽也非简</span><br><span class="line">陋，只是一座小小的山庄。郑中孚人称武圣人，果然有见识，懂得享受。他有钱，</span><br><span class="line">条件许可他不住茅屋，何必哗众取宠，沽名钓誉。郑中孚喜欢安静。但他的客人从</span><br><span class="line">不断流，不象庄前的小河，冬天就歇着。周乐没赶过这趟浑水，见过郑中孚本人几</span><br><span class="line">次，却不识得门房。</span><br><span class="line"></span><br><span class="line">    郑中孚一向懒得见客。周乐是不请自到、来意不明的客人，有些名气，没啥来</span><br><span class="line">头。门房带着职业笑容，婉拒替他入内通报。</span><br><span class="line"></span><br><span class="line">    郑大侠没空，请你改天再来。……要不，你留下一封简函。如果郑大侠想抽空</span><br><span class="line">见你，会与你约个时间。你明日此时过来瞧瞧。</span><br><span class="line"></span><br><span class="line">    在这深山老林中，方圆几里没有人家。周乐急了。门房摇头，叹道：“爱莫能</span><br><span class="line">助。客人多，没法子。下一个。”</span><br><span class="line"></span><br><span class="line">    周乐没辙。依他性子，真想掉头走人。只是大老远跑来，无功而返，心有不甘。</span><br><span class="line">瞧这架式，即便进了门，也不一定能见着郑中孚本人。侯门深似海，天下乌鸦一般</span><br><span class="line">黑，圣人的奴才亦是奴才相。有权势的人往往受到左右的蒙蔽，由门房制度可见一</span><br><span class="line">斑。所以，自周以后，圣人无权，如孔子？</span><br><span class="line"></span><br><span class="line">    岑寂不是唯一对郑中孚不感冒的人。“风行泽上，无所不周；信之被物，无所</span><br><span class="line">不至。”所有被拒之门外的人都会感慨，盛名之下，难符其实。</span><br><span class="line"></span><br><span class="line">    周乐理解郑中孚的苦衷。几年前，他曾与岑寂持相近看法，怀疑郑中孚的为人，</span><br><span class="line">觉得郑要么是个当代王莽，要么仅是个有贤名的老好人罢了。真正的读书人心里都</span><br><span class="line">清楚，关公关帝爷本人亦不过是一介武夫。加入十三行后，周乐开始敬服郑中孚的</span><br><span class="line">为人：比关羽强多了。</span><br><span class="line"></span><br><span class="line">    郑中孚读书很多，结交不少大儒。是他一手促成广州十三行的联合，是他管理</span><br><span class="line">有方，领导十三行迅猛扩张，是他将天下乞丐、奴婢、行脚、店家、茶酒博士、船</span><br><span class="line">工、渔家、梨园、杂耍、星卜、货郎等下九流行当几尽招入十三行旗下。他有容人</span><br><span class="line">雅量，有识人慧眼，有过人才智。凡事身体力行，以身作则，身先士卒。</span><br><span class="line"></span><br><span class="line">    更难得的是，他居然与世尘大师、冷苔道长一道并称天下武功第一，在黄金榜</span><br><span class="line">之“概观论定”中坐头把交椅。总之，内圣外王的郑中孚是俗人学不来的榜样。</span><br><span class="line"></span><br><span class="line">    想到这儿，周乐顺气多了。也许，郑大侠一直都认为应该公正地对待明教，用</span><br><span class="line">不着我这个说客。找他还有什么事？……我见到鬼帝沈魂了。周乐在留言本上写道：</span><br><span class="line">周乐，明教，沈魂，自苏州来。</span><br><span class="line"></span><br><span class="line">    晚上，只好凑合着野外过一宿，可能会冻得睡不着觉。周乐风餐露宿惯了，随</span><br><span class="line">遇而安。只是有这必要么？纵使郑中孚是神仙，我也不愿三顾茅庐，更不用说三跪</span><br><span class="line">九叩了。</span><br><span class="line"></span><br><span class="line">    他打定主意不打道回府，至少得蹭郑中孚一顿饭吃。别的客人都是有车阶级，</span><br><span class="line">可以整晚呆在马车上，可以驰车往返三十里。他们很有诚心。初冬，天黑得早。江</span><br><span class="line">湖古训，遇林莫入。周乐踩着落叶上山，步入林中。四下里静极。周乐略微紧张，</span><br><span class="line">提防着暗中的禽兽。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    每当黑暗吞没他，浸透肌肤时，童年的周乐总是睁着大眼睛，捏着小拳头，提</span><br><span class="line">心吊胆，胡思乱想。“我怯怯地、匆忙地亲近它；它紧紧地、阴阴地将我拥抱。”</span><br><span class="line">成年的周乐部分地保留了这个习惯，时常面对着黑暗东张西望。</span><br><span class="line"></span><br><span class="line">    周乐迷迷糊糊的，就是睡不着。漫漫长夜无法打发，此中滋味尤为难受。也不</span><br><span class="line">知熬过多少时辰，他听到周围有几个人在走动，似乎有意吵醒自己。周乐差点以为</span><br><span class="line">这是错觉。没有火把，没有灯笼，只有星空看着你。对方围着圈子逼近。他知道假</span><br><span class="line">寐没有用，索性起身。依稀有几条狗，一声不吭地蹲着。他忍不住道：“在下周乐，</span><br><span class="line">诸位找我么？”闪光的利刃算作回答。同样一声不吭的蒙面人光明正大地出手。</span><br><span class="line"></span><br><span class="line">    突如其来、莫名其妙的围攻，周乐并不陌生。但令他惊讶不已的是对方的武功，</span><br><span class="line">居然个个是一流高手。在游走佯攻中，他试探了七个持剑蒙面人的武功。三人会九</span><br><span class="line">华派“大悲十二段式”，另四人使开武当派的“须弥剑法”居然有板有眼。</span><br><span class="line"></span><br><span class="line">    然而，周乐本人便是“须弥剑法”的大行家，一眼便可看出这四人并未真正领</span><br><span class="line">会剑法真义。由于他们武功造诣高，故而颇能以假乱真。这套剑法对内力要求较严，</span><br><span class="line">不易偷师。</span><br><span class="line"></span><br><span class="line">    对方似乎无意下杀着。只有那三名“九华弟子”在与周乐缠斗。余下人等把住</span><br><span class="line">四方，伺伏在狗的旁边。</span><br><span class="line"></span><br><span class="line">    眼前这三人半途学剑，拥有共同的内功底子。周乐不习惯让人轻视他，所以以</span><br><span class="line">古琴曲“七十二滚沸流水”进行暴风骤雨般的反击，如影附形地贴在那三人身边。</span><br><span class="line"></span><br><span class="line">    这种类似街头小流氓斗殴时的冲锋非常管用。那三人被齐齐放倒。周乐只中了</span><br><span class="line">一剑，衣服划破了一道口子，有些鲜血渗出。</span><br><span class="line"></span><br><span class="line">    对于空手入白刃，周乐有自己的一套方法：勇敢甚至盲目地欺近，以双手护住</span><br><span class="line">上身要害；当利刃挨上手时，手上有感应，当即以内力弹开它，再顺势翻腕攻击敌</span><br><span class="line">人。主动地投怀送抱，以求速战速决。四肢的反应比躯干快，某些关节可以灵活的</span><br><span class="line">扭动，而且更好用力。因此，敌人本意在于伤你身躯的刀剑，奈何不了你的手。周</span><br><span class="line">乐的手便可以在瞬间避开尖锋，拍击剑身、刀面。</span><br><span class="line"></span><br><span class="line">    “武当天柱”的四位蒙面人替上。周乐微笑着，穿梭在剑缝间隙。江湖中有种</span><br><span class="line">传言，“须弥剑法”脱胎于少林的“达摩剑法”。江湖中还传言周乐是武当弟子。</span><br><span class="line">所以，周乐一直不甚服气。须弥是天竺神话中最高的山，位于世界中心。日月星辰</span><br><span class="line">围绕着它出没回旋，三界诸天也依傍它层层建立。武当派借用“须弥”二字，乃是</span><br><span class="line">为了求得一个响亮的剑法名称。碰巧，达摩是天竺人，仅此而已。</span><br><span class="line"></span><br><span class="line">    “达摩剑法以静制动，笨拙厚实。而须弥剑法讲究占敌先机，掌握主动，纵观</span><br><span class="line">全局，招式凝重，后劲无穷。二者根本就是风马牛不相及嘛。四位有何高见？”武</span><br><span class="line">当一度有心取代少林，成为武林泰斗。四人默然不答。周乐凭借古怪的招式、身法，</span><br><span class="line">以及对敌方剑路的熟悉，谈笑中尚可攻守兼备。</span><br><span class="line"></span><br><span class="line">    他怀疑这些蒙面人都是城隍庙的高手。这儿邻近无不居，欺到郑中孚头上，杀</span><br><span class="line">鸡给猴看？周乐自个笑了，这比喻用得殊为不妥。“你们知道么？”他的笑容很神</span><br><span class="line">秘，“须弥剑法唯我独尊，万万不可四人同使，自轻自贱。”</span><br><span class="line"></span><br><span class="line">    话音方落，“武当弟子”们也已趴在地上。“如意踏跺”蹬倒一人，“挥洒自</span><br><span class="line">如”击正两，“乱弹琴”点着了几下穴道。周乐以快打快，费力不费时，有些气喘</span><br><span class="line">吁吁。</span><br><span class="line"></span><br><span class="line">    他刷掉七名持剑敌人，打倒一整片，一损皆损，蔚为壮观。但心里却不太踏实，</span><br><span class="line">内力耗去，身上挂彩，对方似乎胸有成竹，不急不躁。前七子均未暴露真正的武功</span><br><span class="line">家数。他们意欲何为？</span><br><span class="line"></span><br><span class="line">    一蒙面人右手拇指与食指合扣，圈圆，中指弹出。真气破空，嗤嗤作响。周乐</span><br><span class="line">赶忙闪开，情不自禁叫道：“功德圆满燃灯一指。你是大理段氏子弟。”这回可是</span><br><span class="line">正宗的燃灯指，外人不可能学得来。周乐吃惊不小。大理段氏偏居西南一隅，极少</span><br><span class="line">涉足中原。最近一次露面是十年前，参与了对明教的攻击。</span><br><span class="line"></span><br><span class="line">    后边这些蒙面人都使出了自已的拿手好戏，武功相当精纯。一矮子专攻少林拈</span><br><span class="line">花指，一人会泰山派的“十八盘”，另一人捡起地上长剑，昆仑派的“五城十二楼”</span><br><span class="line">剑法源源而出。周乐大乱手脚，神情狼狈。他没功夫反省，来不及困惑，败得心服</span><br><span class="line">口服。当时，他拼着挨了记般若掌，以“九连蹬”跳出战团。东北角的蒙面人未料</span><br><span class="line">着他有空中借力、两番提纵上窜的神奇轻功，不及阻挡。周乐忍痛前奔，差点撞上</span><br><span class="line">另一人。那人也蒙面，鬼祟般由树后闪出。</span><br><span class="line"></span><br><span class="line">    周乐左肩井穴又中了一记燃灯指。他索性坐在地上，举手过顶，笑道：“我投</span><br><span class="line">降，我不跑了。”</span><br><span class="line"></span><br><span class="line">    眼前这蒙面人是只领头羊，武功深不可测。他的“七绝圣手”尚未使出，周乐</span><br><span class="line">已感到压力，打了个寒战，心中闪过敬畏、恐惧、绝望。江湖中会“七绝圣手”的</span><br><span class="line">人不计其数。但周乐从未听说除了五言长城郑中孚外，谁能够使出“心应手”。</span><br><span class="line"></span><br><span class="line">    “你发觉我躲在树后，且能逃出他们十三人的合围。后生可畏！冷苔的爱徒果</span><br><span class="line">然是个人物。”周乐项上架有两把利剑。前七子已重新站起。逃生的机会等价于黑</span><br><span class="line">夜里见到白云。</span><br><span class="line"></span><br><span class="line">    强笑与感伤昭示着不祥。周乐道：“这十三位兄台手下留情了。他们原本是一</span><br><span class="line">群单打独斗的老虎，却要硬凑成狼群。另外，他们似乎不习惯戴着面罩打架。”</span><br><span class="line"></span><br><span class="line">    “他们十三人分别是龙、凤、狮、天马、海马、狻猊、押鱼、斗牛、行什、獬</span><br><span class="line">豸、鸱、天禄、辟邪。其中只有天禄是双角的长毛虎。这些灵兽是友善的吉祥物，</span><br><span class="line">助我在武林中除妖灭魔。”首领道，“周乐，你很聪明，故意令我以为你已认定我</span><br><span class="line">是……郑中孚。”</span><br><span class="line"></span><br><span class="line">    周乐沉默。“为了隐瞒身份，前七子拿起长剑，不用‘七绝圣手’。你自知无</span><br><span class="line">处可逃，却又故意朝我撞来，想探我底细。当时我似乎是下意识地亮出‘心应手’。</span><br><span class="line">你立马装熊，束手就擒。”</span><br><span class="line"></span><br><span class="line">    “你不与我过招，害怕我露馅，装不出郑中孚的武学。我们为了嫁祸他，巴不</span><br><span class="line">得有个活口出来指证其凶行。如果我们认为你是合适的人选，你岂不可以保命偷生？”</span><br><span class="line"></span><br><span class="line">    周乐只有苦笑：“你比我还聪明。当你讲到十三异兽时，我心中一阵狂喜。江</span><br><span class="line">湖中没有这等人物，只有无不居主人才可能给部下如此命名。”</span><br><span class="line"></span><br><span class="line">    “那么，你对他有没有信心？你真的以为他是个圣人？曾参杀人，三人成虎，</span><br><span class="line">众口铄金，搞臭郑中孚的机会是存在的。”</span><br><span class="line"></span><br><span class="line">    周乐道：“老实说，我也拿不定主意。我猜不出你会是谁。如果你真是郑中孚，</span><br><span class="line">无论如何，我难免一死。因为他不需要嫁祸城隍庙，城隍庙的名声向来不好。他也</span><br><span class="line">不指望我会任他摆布，替他卖命。……伪君子更喜欢杀人灭口。我一向把人往好处</span><br><span class="line">想，宁可将恶人说成好人。”</span><br><span class="line"></span><br><span class="line">    首领笑道：“你说话很讨人喜欢。郑中孚本来便是个伪君子。他为了保住名声、</span><br><span class="line">地位、权势，无所不用其极。这，才是无不居的真正含意。”周乐的直觉告诉他眼</span><br><span class="line">前这人不是郑中孚。郑的言谈举止具有浓烈的领袖人格魅力。郑不屑于躲在树后观</span><br><span class="line">战。周乐在思索。六月，在杭州曾经见过十年前与明教火并中保得性命的崆峒派掌</span><br><span class="line">门师兄“栖乌飞绝”。他是城隍庙杭州分舵的城隍爷。眼前的“后六子”跟他有相</span><br><span class="line">似的经历，相近的背景。</span><br><span class="line"></span><br><span class="line">    十年前的恶战是场大清洗。武林发生严重的水土流失。当时的七派一帮伤亡惨</span><br><span class="line">重。周乐有理由认为：不少人侥幸未死，借机遁身，以便胡作非为。他们全部被城</span><br><span class="line">隍庙收买了？</span><br><span class="line"></span><br><span class="line">    “周乐，你认为城隍庙有可能知道你在这儿么？”</span><br><span class="line"></span><br><span class="line">    “也许拜访无不居的客人中有城隍庙的探子。他见着了我的留言。再不，我一</span><br><span class="line">直处于城隍庙监视追踪之下。”</span><br><span class="line"></span><br><span class="line">    首领在点头。周乐记忆中，郑中孚的身材跟他差不多。“周乐，你真是个人才，</span><br><span class="line">只惜与魔教勾反搭上了。……你名声不太好，由你出头诬陷郑中孚，份量远远不够。</span><br><span class="line">愚蠢盲从的江湖人听不进去。”言下之意，周乐没有利用价值。</span><br><span class="line"></span><br><span class="line">    “周乐，你是否愿意告诉我你所知道的有关明教的秘密。……你打算将这些情</span><br><span class="line">报献与郑中孚？……你不肯开口？”首领缓声道，“也许明教的催眠术会令你坦白</span><br><span class="line">交代。”</span><br><span class="line"></span><br><span class="line">    周乐注意到他改称“魔教”为“明教”。郑中孚一向不使用污蔑性言语。一蒙</span><br><span class="line">面人提剑走过来，在周乐面前立定。</span><br><span class="line"></span><br><span class="line">    周乐对死亡毫无准备。他也不知道催眠术是怎么一回事。喉咙干涩，呼吸加快，</span><br><span class="line">脑海在晃动颤抖。他被点了昏睡穴。</span><br><span class="line"></span><br><span class="line">    周乐浑身吃疼，却一阵狂喜。天啊，我还活着。是照在我眼上的阳光将我唤醒。</span><br><span class="line">……挂在树枝上，处于悬崖底下。我居然中了头彩，这种万分之一的机会让我赶上</span><br><span class="line">了？周乐是个保守的怀疑派。他摇头，淡淡地笑着。</span><br><span class="line"></span><br><span class="line">    如果我不幸死了，尸体被发现。明教是否会依着我身上的伤痕，找各大名门正</span><br><span class="line">派为我报仇？这亦只有万分之一的可能。</span><br><span class="line"></span><br><span class="line">    周乐小心、吃力地走出深谷，拣了个地儿恢复精神。蒙面人有无从自己口中掏</span><br><span class="line">出秘密？他们会催眠术么？——明教的这种法术号称武林四宝之一。</span><br><span class="line"></span><br><span class="line">    我可能招出什么？三干树，东阿拉米方言，老古董，糟糕！胡不归，我会不会</span><br><span class="line">出卖他？……其实我也不了解明教的核心秘密。他们居然舍得让我死，估计自己确</span><br><span class="line">实晚节不保了。老胡有麻烦了，如果城隍庙知道他的真实身份是明教的气神长老，</span><br><span class="line">……。</span><br><span class="line"></span><br><span class="line">    周乐想方设法填饱了肚皮，藏在石缝中打坐。洗把脸后，他很清醒地回顾了昨</span><br><span class="line">晚发生的事情。他无论如何也没法说服自己。从百丈危崖摔下，为何未死？树枝断</span><br><span class="line">了不少，树干有压痕，但这些会不会是人为伪装的？蒙面人故意放过我！</span><br><span class="line"></span><br><span class="line">    他对郑中孚有了三分认真、固执的怀疑。只要我坚信蒙面人不是郑中孚，郑便</span><br><span class="line">没有杀人灭口的需要，乐得留下我来对付城隍庙。</span><br><span class="line"></span><br><span class="line">    原来我和岑寂一样，都是个多疑的人，相信“人心惟危”。周乐决心闯入无不</span><br><span class="line">居，试探郑中孚的反应。这样做风险大，因为郑中孚可以不惊动任何人地、轻易地</span><br><span class="line">杀掉他。</span><br><span class="line"></span><br><span class="line">    “郑中孚可能以为我死了，也可能故意放过我，还可能根本不知道昨晚之事。</span><br><span class="line">我该如何试探他呢？”周乐自言自语，“他只有万分之一的可能是个王莽。”其实，</span><br><span class="line">王莽也没什么错，只是笨了一些，一心复古，操之过急，而且不会领兵打仗。</span><br><span class="line"></span><br><span class="line">    周乐忍不住去了无不居。怕死的他豁出去了。“一杯酒，问何似？身后名。人</span><br><span class="line">间万事，毫发常重泰山轻！”他感到好受一些，情绪有些激昂。</span><br><span class="line"></span><br><span class="line">    秃头的郑中孚有些发福，个儿不高，浓眉大耳。他的面容很严肃。据说，他经</span><br><span class="line">常悲伤叹气，哀民生之多艰。</span><br><span class="line"></span><br><span class="line">    这天午后，他信步走入书房。这儿的摆设很简单，书却极多。郑中孚一有闲时</span><br><span class="line">即读书，能在诗中用上极为冷僻的典故。书桌上有镇石、笔墨纸砚。纸上写着：</span><br><span class="line"></span><br><span class="line">    十三异兽。龙、凤、狮、天马、海马、狻猊、押鱼、行什、獬豸、鸱、天禄、</span><br><span class="line">辟邪。晚辈周乐拜上</span><br><span class="line"></span><br><span class="line">    周乐此时正屏息静气，一动也不敢动地躲在五丈之外的屋檐上，观察郑中孚脸</span><br><span class="line">上的神色变化。</span><br><span class="line"></span><br><span class="line">    他早就察看好逃走的路线。他的轻功虽然比不上谢清发，但已可以甩下许多高</span><br><span class="line">手。</span><br><span class="line"></span><br><span class="line">    郑中孚展开纸条，一脸茫然，自言自语：“这十三异兽大半见于屋檐之上。他</span><br><span class="line">有何深意？”</span><br><span class="line"></span><br><span class="line">    周乐额头见汗，仍不敢作声。郑中孚纳闷不已，道：“奇怪。”随即出门喊人</span><br><span class="line">传叫门房。门房说，今日周乐尚未来过。</span><br><span class="line"></span><br><span class="line">    周乐想：他有无在做戏？我瞒过他的耳目了么？我依然对他怀有疑心，不清楚</span><br><span class="line">他是否戴着面具做人。也许我不该试探他。如果他是个伪君子，也是个真的伪君子，</span><br><span class="line">是那种不可能露出马脚的伪君子。</span><br><span class="line"></span><br><span class="line">    无不居很清净，郑中孚的书房很有雅致，郑中孚随手拿起一本书认真地读了起</span><br><span class="line">来。周乐躲在檐上不敢动弹，直至天黑。</span><br><span class="line"></span><br><span class="line">    倒霉的两天过去了，周乐想。</span><br><span class="line"></span><br><span class="line">                              二、游击周乐</span><br><span class="line"></span><br><span class="line">    游击是武官官职的一种。周乐受之有愧。只是他发现这个词儿做为动词用时，</span><br><span class="line">表现力极为丰富。所以，当他受到不断的、游荡的、潜藏的、流动的、骚扰性的追</span><br><span class="line">击时，他自嘲：我的游击生涯开始了。</span><br><span class="line"></span><br><span class="line">    南下北上的两道新闻在淮河边上追上周乐。双风贯耳，钟鼓齐鸣，周乐负创逃</span><br><span class="line">窜。他来到河边，看着浑浊的流水及做反方向运动的大地，眩晕。他奇怪自己眼中</span><br><span class="line">居然没有一滴水。</span><br><span class="line"></span><br><span class="line">    冷苔道长过逝；郑中孚被人偷袭。死、伤，可信、不可信，悲痛、困惑，想到、</span><br><span class="line">没想到的意外， 亲近、 疏远，旧、新的记忆，两个“概观论定”排名首位的高手</span><br><span class="line">（“该死”的“黄种老男人”？）。周乐心情复杂，渴望得到进一步的消息。</span><br><span class="line"></span><br><span class="line">    周乐下意识地分析自己、郑中孚的处境。不利、有利，武当派可能会寻自己麻</span><br><span class="line">烦，他们等来了这一时机；鬼帝沈魂不至于趁人之危，前去无不居邀斗，再次与郑</span><br><span class="line">中孚比个高低。战、不战，时势出英雄，周乐明白自己将成为大名人或死人。总之，</span><br><span class="line">轻松悠闲的日子淹没了。</span><br><span class="line"></span><br><span class="line">    当前第一要紧事是赶往金陵点醒胡不归，以防不测。冷苔的葬礼不会立马进行。</span><br><span class="line">事实上，道士一般葬于山上崖间，薄葬，以碎石覆之，草草了事。给俗夫们做道场</span><br><span class="line">的“黄衣人”自己是参透生死的。</span><br><span class="line"></span><br><span class="line">    周乐一向对自个卓然不群的为人极为自豪。任何人要跟踪他都不是件难事：与</span><br><span class="line">众不同、鹤立鸡群，有个性。所以很快就有几个黄衣道士在道上将他截住，想押他</span><br><span class="line">回武当。</span><br><span class="line"></span><br><span class="line">    周乐无可奈何，不想辩解。他虚晃几招后，提气奔入集市。那儿人多，武当弟</span><br><span class="line">子无法组成剑阵。寻了大半天，失去了周乐踪影。此时，周乐从暗处偷袭，闪电般</span><br><span class="line">出手。</span><br><span class="line"></span><br><span class="line">    周乐轻易破去“烨烨震电真武剑”后，道：“你们是不是不服输？但周乐我是</span><br><span class="line">坏人，自然要使些卑下手段。得罪了。”</span><br><span class="line"></span><br><span class="line">    周乐自小上武当习剑，吃过很多苦头。那时的周乐被称为“神童”，天分高，</span><br><span class="line">自以为是、叛逆、倔强，容易冲动。长他一辈的武当人几乎都曾当过他的老师，然</span><br><span class="line">后又都弃他而去。聪明的周乐常常令他们下不了台。</span><br><span class="line"></span><br><span class="line">    一日为师，终生为父。周乐不知自个父亲是谁，所以也不太尊重倚老卖老、碌</span><br><span class="line">碌无为的师长。山上的生活很艰苦，习剑的模式又相当刻板，所以周乐常有不安份、</span><br><span class="line">犯上的举动，所以极不讨人喜欢。</span><br><span class="line"></span><br><span class="line">    周乐以为：真正的伟大的剑手不需要庸人的满意与拥戴。他没料到自己的武功</span><br><span class="line">进展那么快，居然在一次同门切磋中伤了位师叔。武当认为，纵使是无心之过，以</span><br><span class="line">下犯上的周乐也得弃剑不学、不使。但周乐并失去剑般锐气。</span><br><span class="line"></span><br><span class="line">    他被唤去侍候冷苔。武当弟子很尊敬冷苔，委实希望他长命百岁，却没有人愿</span><br><span class="line">意接近他。首先，冷苔已老，行动不便，教不了你任何新东西；其次，人一老了，</span><br><span class="line">毛病就多，脾气古怪，与年轻人没有共同语言；最后，平日里尽干些杂活，没空练</span><br><span class="line">剑。</span><br><span class="line"></span><br><span class="line">    周乐是抱着我不下地狱谁下地狱的悲壮去的。冷苔很欣赏他，但没法子调教他</span><br><span class="line">武功。江湖上有些人认为周乐是冷苔的关门弟子，实在是抬举冷苔了。周乐从老人</span><br><span class="line">身上只学到了包容与忍耐。</span><br><span class="line"></span><br><span class="line">    不少武当长辈对周乐已记下确凿的偏见。现任掌门冷洋的一位心爱弟子，偕同</span><br><span class="line">几个武当当红的弟子上天柱，打算折辱被他们及他们的师长所瞧不起的周乐。</span><br><span class="line"></span><br><span class="line">    周乐并未借此机会发泄不满。他们也适可而止，并未太过份。然而，在下天柱</span><br><span class="line">回紫霄宫途中，来了大暴雨，那位武当前途所系的“心爱弟子”失足摔死。天柱峰</span><br><span class="line">又高又险，路径陡而窄。这位不幸的弟子在与周乐交手中还受了点伤。</span><br><span class="line"></span><br><span class="line">    周乐再次受到了处罚。再后来，他被除出武当派。周乐心中很是坦然，甚至有</span><br><span class="line">些高兴。他早就想下山闯荡一番了。武林中人人羡慕的武当派可比冷苔，每况愈下，</span><br><span class="line">僵化衰老，……。</span><br><span class="line"></span><br><span class="line">    武当规矩：弃徒不得使剑；不得违背侠义道。现任掌门认为这样的处罚太轻，</span><br><span class="line">一直有意将周乐拿回武当，重新发落。其中一个重要原因是：这些年来，周乐的名</span><br><span class="line">气越来越大。</span><br><span class="line"></span><br><span class="line">    冷苔信奉“无欲、无为”，觉得周乐大可以享用平常人的淡泊。脑袋开始糊涂</span><br><span class="line">的冷苔错了。年轻的周乐在外面闯下了相当大的名堂，光芒四射。</span><br><span class="line"></span><br><span class="line">    现任武当掌门冷洋考虑开创后冷苔时代，清理门户，提高本派的声望。周乐扎</span><br><span class="line">着无数条小辫子进入他眼中。</span><br><span class="line"></span><br><span class="line">    周乐周围危机四伏。按照常理，那伙蒙面人没有放过他的可能。杀手已在途中，</span><br><span class="line">已是磨刀霍霍。周乐走入一家饭馆，随机、突然地。</span><br><span class="line"></span><br><span class="line">    小二正想上前招呼， 周乐一把抢过邻桌上摆放的饭菜， 胡乱扒了一通，道：</span><br><span class="line">“实在抱歉，我饿坏了。……请放心，我有钱，不会吃白食的。”</span><br><span class="line"></span><br><span class="line">    这是防止中毒的绝招。因为有不少药物是你尝不出来的，抵挡不了的，根本就</span><br><span class="line">不可能万无一失。</span><br><span class="line"></span><br><span class="line">    买单时，小二找给他几枚铜板。周乐觉得有些烫手，迅速将它们丢在桌上。一</span><br><span class="line">只小小的剧毒“幽灵珠”从方孔中爬出。周乐心中发毛，道：“你们店中哪来这种</span><br><span class="line">蜘蛛儿？”</span><br><span class="line"></span><br><span class="line">    小二手足无措，哑口无言。周乐转身就往门外跑。有位客人起身，道：“周乐，</span><br><span class="line">你不想要‘八毒赤丸子’的解药么？”</span><br><span class="line"></span><br><span class="line">    周乐笑道：“我已经用过饭了，谢谢你的好意。”那人他不识得，眼睛极为有</span><br><span class="line">神。信步走到一桌饭菜前，那人随手将几盘碟子倒扣桌上，拿过筷子拔动。然后夹</span><br><span class="line">了块肉，丢与门外的狗。狗吃过后，摇头摆尾，尚不知足。那人回头笑道：“周乐，</span><br><span class="line">你的内功比它高，来得及为它哭丧。”</span><br><span class="line"></span><br><span class="line">    周乐脸色微变，敢情这店中任一盘饭菜中都放有剧毒的“八毒赤丸子”。自己</span><br><span class="line">百般小心，还是中毒了？这沿街有十多家饭馆，难道都布有敌人？</span><br><span class="line"></span><br><span class="line">    周乐和身扑上，以小擒拿手将那人制住。这位食客早已知道他武功过人，仍然</span><br><span class="line">不及逃脱，只是笑道：“你在我身上找不到解药。我们头儿没那么傻。”狗已跑开</span><br><span class="line">了。</span><br><span class="line"></span><br><span class="line">    周乐搜身，一无所获，道：“方才我分明见着你张嘴吃饭。你自身也中了‘八</span><br><span class="line">毒赤丸子’之毒。……莫非你们预先服下了解药？”屋内其他客人也是如此？</span><br><span class="line"></span><br><span class="line">    那食客点头。周乐苦笑，敌人费了这么大的力气，图个啥？“八毒赤丸子”是</span><br><span class="line">慢性毒药，无色无味，极难解治，似乎贵重得很。如今它给当做卤盐一般扬撒。</span><br><span class="line"></span><br><span class="line">    “你还可以活半个时辰？”食客悲天悯人地瞧着周乐。</span><br><span class="line"></span><br><span class="line">    周乐在街头见到那只贪吃的狗。它已是奄奄一息了。周乐以迅雷不及掩耳之势</span><br><span class="line">连闯几家饭馆，未发现有何异常。没有人具备中毒的症状，大伙儿吃得正香。</span><br><span class="line"></span><br><span class="line">    冬天，长江以北的地儿风大且冷。饭馆虽然开着门，但少不了在门下装上一道</span><br><span class="line">棉褥帘子。进出的客人得用手掀开它。周乐挺烦这东西。</span><br><span class="line"></span><br><span class="line">    他回到原先的店中，对那位下毒的食客道：“你骗我，饭菜中根本没毒。”所</span><br><span class="line">有的食客都没有中毒的迹象。那条狗是个“托儿”。</span><br><span class="line"></span><br><span class="line">    那人很诡异地笑着，道：“但是现在你确实中毒了。……方才你将信将疑，待</span><br><span class="line">试出我武功平平后，几乎全信了。因为我看上去胸有成竹，胜券在握，纵使已落入</span><br><span class="line">你手中。所以，你急于找到我们头儿……。”</span><br><span class="line"></span><br><span class="line">    “我只是担心普通人的安全。否则，我懒得动弹。反正，你们头儿会自个寻到</span><br><span class="line">我。”如果确实中了剧毒，便没有什么万全之策，等死还是不错的选择。刚才周乐</span><br><span class="line">心中还存有侥幸，想到其它饭馆瞧瞧，证实自己是否真的中了毒。</span><br><span class="line"></span><br><span class="line">    “为什么你说我现在真的中了毒？”周乐纳闷。</span><br><span class="line"></span><br><span class="line">    敌人笑得很开心、很得意。他的性命正捏在周乐手中。</span><br><span class="line"></span><br><span class="line">    你知道么？“八毒赤丸子”如江湖中传言，是无色无味的慢性毒药。但它并非</span><br><span class="line">丸子，没有红的颜色，不是由八种毒物混制成的。它只是烟灰煤屑一般的东西。</span><br><span class="line"></span><br><span class="line">    我们知道你很小心，非常聪明，很难上当。所以就设下一个连环计。由我来哄</span><br><span class="line">你说饭菜中有毒。你相信之后，自然就少了戒备之心，——反正已中毒了，破罐破</span><br><span class="line">摔。这儿的饭馆的棉褥帘子原本无毒，但当你再次出现在大街上时，除了此店以外，</span><br><span class="line">所有的棉褥帘子都沾上“八毒赤丸子”，正等着你正投罗网。</span><br><span class="line"></span><br><span class="line">    掀帘之时，周乐中毒？</span><br><span class="line"></span><br><span class="line">    周乐笑道：“如果我不肯轻举妄动，呆在这儿，你们那绝妙的下毒手法岂不落</span><br><span class="line">空？看来我还是相当配合的……。”他似乎一点也不懊悔，神色自若。</span><br><span class="line"></span><br><span class="line">    “你是城隍庙的人么？这是临死之人的最后请求，请告诉我，好么？”却见那</span><br><span class="line">人脸色大变，牙关紧咬，似乎肚子里很难受。临死之人是他而非周乐？</span><br><span class="line"></span><br><span class="line">    “喂，你恐怕会比我早死一会。”那人已开始呕吐，瞳孔缩小。满屋的食客一</span><br><span class="line">哄而散。</span><br><span class="line"></span><br><span class="line">    周乐坐在地上打坐运功。帘外有个声音道：“周乐，你不必演戏了。我可能不</span><br><span class="line">及你聪明，但也不至于轻易上你的当。你试图装出中毒的样子，想诱我露面，抓我</span><br><span class="line">活口……。”</span><br><span class="line"></span><br><span class="line">    眨眼间周乐闪到门外大街上，但眨眼间那声音也消失在天外。迎面是一团白色</span><br><span class="line">的浆状物。“麻辣豆腐？”周乐赶紧以旱地拔葱闪开。地板滋滋冒烟，吐出一块块</span><br><span class="line">白沫。“麻辣豆腐”是川中唐门家常菜，盛于瓷器中，红泥封口。瓶子一破，魔鬼</span><br><span class="line">出没。内中液体沾身腐肉蚀骨，而且无法格挡。</span><br><span class="line"></span><br><span class="line">    周乐望着嵌入墙中的碎瓷片发愣。对方有本事令“麻辣豆腐”在空中炸炒，毒</span><br><span class="line">液被及一丈方圆，显然是个暗器名家。唐门也要来凑热闹么？周乐走回店中，仰头</span><br><span class="line">捏鼻喝下一大瓶老陈醋，再上厨房找来一大把蒜白，猛吃。那名倒霉的敌人已经骨</span><br><span class="line">软筋麻，躺在地上，口吐白沫。周乐苦笑道：“咱们两个同病相怜，就看我这土方</span><br><span class="line">管不管用了。”他也想呕吐。</span><br><span class="line"></span><br><span class="line">    事实上周乐也摸不准自个是否中毒了。凭借内力及老醋、大蒜，他曾经捡回自</span><br><span class="line">个与他人的几条性命。</span><br><span class="line"></span><br><span class="line">    四下里变得冷清。周乐试图救那个中毒的敌人，将蒜汁滴入他口中。然后背他</span><br><span class="line">找大夫。这人也许死不了，但少不了大病一场。</span><br><span class="line"></span><br><span class="line">    周乐心里极不乐意救人，目前没有助人为乐的心情。他正在遭受几方面的追杀，</span><br><span class="line">背上的病人是累赘。这不，没走多远，武当弟子们又赶来了。这回他们骑着马。</span><br><span class="line"></span><br><span class="line">    “你们为什么老跟着我？好，你们想要这个人，我给你们。”周乐将那位病人</span><br><span class="line">扔出。</span><br><span class="line"></span><br><span class="line">    “周乐，冷苔老掌门临终遗言让你回武当。只要你肯听从掌门的处置，便可以</span><br><span class="line">考虑让你重归本派。……和合二大仙太白金星、白胖子扬言要踏平展旗峰，破去武</span><br><span class="line">当九宫剑阵。”和合二大仙与武当派有过节，冷苔在世时他俩尚不敢过于放肆，如</span><br><span class="line">今机会来了。目前的武当派外强中干，人才凋零，若非以多攻少，几无胜算。</span><br><span class="line"></span><br><span class="line">    “我们还听说，沈魂也要在老掌门葬礼当日上武当，并邀战郑中孚。……如果</span><br><span class="line">你不马上回去，掌门有令，我们要清理门户。否则，外人可以由你处获取九宫剑阵</span><br><span class="line">的秘密。”</span><br><span class="line"></span><br><span class="line">    周乐沉思，道：“我有急事去金陵。估计五天内，可以上武当。”</span><br><span class="line"></span><br><span class="line">    “不行，老掌门‘一七’将至，我们没有时间了。”年迈的道长道，手中长剑</span><br><span class="line">在发光。</span><br><span class="line"></span><br><span class="line">    周乐又想了一会，点头。他在担心胡不归。如果那伙蒙面人知道老胡是明教长</span><br><span class="line">老，可能会将之公开，败坏老胡声誉，借大内高手丁卯等人除掉他。</span><br><span class="line"></span><br><span class="line">    小道士给周乐牵来一匹马。周乐抓缰绳，抬脚，摔在地上。老道长以“空谷足</span><br><span class="line">音”一脚踹他，再使“雪泥鸿爪”打穴。周乐痛苦地抬眼，脸上尽是不解之色。道</span><br><span class="line">长拉开马儿，以免踩伤他，道：“早些时候蒙你告之，你是坏人，一向使些卑下手</span><br><span class="line">段。我担心你故伎重演，所以……。”临下山时，冷洋交代：周乐很是狡猾，心术</span><br><span class="line">不正，如果他胆敢反抗，不妨施些辣手，只是别伤了他性命。</span><br><span class="line"></span><br><span class="line">    周乐打断老师叔的话语，道：“我料不到你有方才那一手。不过，我向你保证，</span><br><span class="line">今后我不会再犯同样的错误。”他十分清楚，被擒回武当后，要么被废去武功，要</span><br><span class="line">么被斩断手指。</span><br><span class="line"></span><br><span class="line">    在武当掌门冷洋眼中，周乐是个叛徒，而非仅仅是叛逆。对付叛徒，可以无所</span><br><span class="line">不用其极。</span><br><span class="line"></span><br><span class="line">    然而报应来得太快。周乐完全没有心理准备。无能为力的他目睹了屠杀的全部</span><br><span class="line">经过。在场的武当弟子无一幸免，尸横遍野。座骑被吓得不敢挪步。周乐苦于穴道</span><br><span class="line">未解，身上有伤。</span><br><span class="line"></span><br><span class="line">    他们上路不久便撞见一辆非常古怪的大马车拦在官道中央。“麻屋子，红帐子，</span><br><span class="line">里面躺着一个白胖子。”这本是道谜语，打一食物/植物。</span><br><span class="line"></span><br><span class="line">    谜底是花生，单仁的花生。在武林中，这句话常被挂在一个人身上。此人即是</span><br><span class="line">“和合二大仙”之一的白胖子。他又白又胖，肥头肥脑，眼睛小小的，眉毛细细的，</span><br><span class="line">肚子大大的。他经常出现在马车中。他的马车厢象座大号的麻屋子，挂着鲜红的丝</span><br><span class="line">帐。武林人士对他谈而色变。曾有极不可靠的小道消息传道，杏花花信有可能是白</span><br><span class="line">胖子的妹子，他俩都有可能姓花。</span><br><span class="line"></span><br><span class="line">    结果，你猜怎么着，独脚大盗销赃时，花信那一份总能最早最好地脱手。江南</span><br><span class="line">苏杭一带成了花信的“专属经济区”，势力范围。不少黑道高手都刻意避免到那儿</span><br><span class="line">觅食。“杏花烟雨江南”也是在那时叫开，公认她为江南风尘三“侠”之首。</span><br><span class="line"></span><br><span class="line">    周乐知道，纵使自己功力全在，遇上白胖子，也只能拔腿就跑。与师叔、师兄</span><br><span class="line">弟们联手，尚有机会保命。只惜，武当弟子们甚至来不及替他解穴，来不及摆出九</span><br><span class="line">宫剑阵，已被白胖子打趴了一半。白胖子空手，似乎很笨拙，行动不便，但内力惊</span><br><span class="line">人。就在周乐身边，他“熊掌”一拍，老师叔的“擎天一柱”只使出半招，长剑脱</span><br><span class="line">手。</span><br><span class="line"></span><br><span class="line">    短而圆，粗而弯的指头点起穴来非常灵巧，杀起人来十分利索。马群尚且未及</span><br><span class="line">受惊逃走，马上众人已摔落在地。</span><br><span class="line"></span><br><span class="line">    白胖子擦了擦手，收好手绢，笑道：“周乐，别来无恙。上回咱俩过招，你害</span><br><span class="line">得我大汗淋漓、气喘吁吁，就是摸不清你身形方位。想不到你也有今天，居然被定</span><br><span class="line">身法制住了。”他一笑，脸上“堆起千块肉”，鼻子只剩下一线两点。</span><br><span class="line"></span><br><span class="line">    “我这手‘一拍两散’如何？你们武当派九个人，只费了我呼吸九次的功夫。”</span><br><span class="line"></span><br><span class="line">    周乐道：“白胖子，你为何要取他们性命？”和合二仙中，太白金星较为残忍。</span><br><span class="line">白胖子一向和气，出手毒辣，但杀人不多。</span><br><span class="line"></span><br><span class="line">    “你说他们九人象是死于什么手法。……剑伤，好象是死在自个剑下。顺水推</span><br><span class="line">舟，因势利导，借力打力，这是你自创的‘回音壁’武功。”“不象。”周乐道，</span><br><span class="line">“我内力逊你太多，而且无法发动突然袭击，轻松得手。”</span><br><span class="line"></span><br><span class="line">    “但你太了解武当剑法了，完全可做得到以彼之道还治彼人之身。”白胖子很</span><br><span class="line">严肃地说，好象在谴责周乐。</span><br><span class="line"></span><br><span class="line">    想嫁祸给我！周乐冷笑不语。“周乐，我不杀你，而且救了你，帮你解开了穴</span><br><span class="line">道。你知道我怕热怕下雨，夏季不敢出门，平生罕至江南。所以希望以后你也不要</span><br><span class="line">北渡长江。……对了，周乐，听说你杀了三尸，害了唐图与迷神引，我跟太白都以</span><br><span class="line">为是大快人心的好事。真有你的。过得几年，大周正乐的名头只怕要在我等之上。”</span><br><span class="line"></span><br><span class="line">    和合二大仙与三尸五通神不和，由来已久。但白胖子为什么要放过我？为什么</span><br><span class="line">要嫁祸于我？白胖子乘车而去，留下周乐一人发呆。武当派中的顶尖高手合称“九</span><br><span class="line">霄三清，太和真人”。太和真人冷苔死后，“三清”冷洋、冷溪、冷川还可抵挡和</span><br><span class="line">合二仙，但他们年事已高，武功估计已在走下坡路。余下七八位“冷”字辈人物，</span><br><span class="line">在武学上缺少天份，如刚死去的两位老道。</span><br><span class="line"></span><br><span class="line">    “九霄”与周乐同辈，年龄跨度主要是三十五至四十五岁，乃是武当派的中坚。</span><br><span class="line">其中有一人早些年死了，死在太白金星手上。</span><br><span class="line"></span><br><span class="line">    周乐想不出白胖子今日露面的玄机。白胖子决不可能属于城隍庙。当年二仙战</span><br><span class="line">鬼帝，落荒而逃，丢尽了脸面。白胖子与太白金星皆非池中之物，不会真正顺从于</span><br><span class="line">哪一人、哪一组织。</span><br><span class="line"></span><br><span class="line">    周乐已能确认那晚在树林中比划“心应手”的蒙面人不是郑中孚。凭借过人的</span><br><span class="line">耳力，他能分辨两人语音、咬字之细小差异。那蒙面首领会不会是太白金星？太白</span><br><span class="line">也有那份功力。……白胖子伪装不了别人，他委实太胖了。</span><br><span class="line"></span><br><span class="line">    方才白胖子为何不杀我？</span><br><span class="line"></span><br><span class="line">    周乐终于想清了敌人阴谋所在。“我不可能由悬崖摔下侥幸余生。”敌人巧布</span><br><span class="line">迷阵，造成他“摔崖未死”的假相，令他怀疑自个可能泄密，匆忙跑回江南，通知</span><br><span class="line">明教小心防备。敌人可以趁机在后头跟踪，侦知明教的秘密。“他们，到目前为止，</span><br><span class="line">根本未从我口中掏出什么东西。他们也不能确认我是否知情。”周乐心中的阴影终</span><br><span class="line">于除去。他差点儿便上了当。</span><br><span class="line"></span><br><span class="line">    如果他不是伤未全愈便即刻南下，表现得有些焦虑，方才白胖子就不会放过他。</span><br><span class="line">因为既然周乐不担心自己在迷糊中泄密，依他之为人，只有一种可能：无秘密可言。</span><br><span class="line"></span><br><span class="line">    白胖子杀武当众人，嫁祸周乐，令他走投无路，更有可能去找寻明教。所以，</span><br><span class="line">什么“八毒赤丸子”、“麻辣豆腐”都伤不了周乐。甚至，白胖子还不允许武当派</span><br><span class="line">带他回山。此心昭然！</span><br><span class="line"></span><br><span class="line">    要让周乐误以为自己只是侥幸从蒙面人手中逃生，“首领”便派人一路“追杀”</span><br><span class="line">他，似乎要全力干掉漏网之鱼。这样一来，即使周乐发觉有人跟踪，也不会起疑。</span><br><span class="line">再者，一个人若时时处于危险之中，必然神经紧张，无暇多思。</span><br><span class="line"></span><br><span class="line">    这一整套计谋极为出色。“是谁如此聪明，差点儿令周乐我上当？”周乐暗自</span><br><span class="line">庆幸，尚未赶到胡不归处，尚未有空留意街头巷尾墙上涂鸦中有无明教联络标记。</span><br><span class="line"></span><br><span class="line">    “如果郑中孚与和合二仙勾结在一块，他们定然也很想对付明教，借城隍庙之</span><br><span class="line">手对付明教。郑中孚知晓我将去无不居试他，因为正是他们故意放了我一条生路。</span><br><span class="line">……他会是个伪君子么？如果是，我又上了一回当。”</span><br><span class="line"></span><br><span class="line">    如果连郑中孚也是个伪君子，那么整个武林的绝大多数人都上了个大当。许多</span><br><span class="line">人都说，这个世界如此肮脏，以至于我连自己都不敢相信了；幸好，“我还信得过</span><br><span class="line">郑中孚郑大侠”。武林的主流意识形态将因而摇摇欲坠。</span><br><span class="line"></span><br><span class="line">    也许，揭露比掩盖他的真面目更具备破坏性。有必要怀疑一切，但打倒一切还</span><br><span class="line">不如相信一切；前者象暴君，后者至少与天真的幼童相似。撼山易，撼郑中孚声名</span><br><span class="line">难，比灭去城隍庙还难。如果郑中孚真是个伪君子，只怕也没有多少人会接受它。</span><br><span class="line">更何况周乐没有什么证据，亦非一言九鼎的人物。</span><br><span class="line"></span><br><span class="line">    周乐知其不可而为之。他有信心干好任何一件事。“如果我能扳倒他，也许人</span><br><span class="line">们心中仍会有一座丰碑。因为在我身上将体现一种精神，能唤醒民众的主体意识。”</span><br><span class="line"></span><br><span class="line">    得利用沈魂与城隍庙。沈魂也许是世界上唯一可以击败郑中孚的人。郑中孚曾</span><br><span class="line">跟人说过，他没有多大把握胜沈魂。他总是这般坦荡无私。“上次与沈魂比试，胜</span><br><span class="line">得侥幸。沈长于剑，当时与我效量的却是拳脚。”郑中孚的“七绝圣手”诸招式曾</span><br><span class="line">公诸天下，任人研习。沈魂了解他的武功路子，这是沈的优势。然而，郑中孚坦言，</span><br><span class="line">沈魂正是败在此处。</span><br><span class="line"></span><br><span class="line">    沈魂先已想过如何对付“七绝圣手”，思想上放不开，有如加了道无形的桎梏，</span><br><span class="line">自缚手脚。“太了解对手，反而妨碍你创造力的发挥。招式、身形将略显呆板。”</span><br><span class="line"></span><br><span class="line">    两人都是高手中的高手，武功皆已高到不畏对手猜中己招的境界。随想随出，</span><br><span class="line">不想即出，亦是妙招。沈魂却无端多了些心理负担。</span><br><span class="line"></span><br><span class="line">    两人武功在仲伯之间。沈魂发挥出了针对郑中孚的武功水平。郑中孚却很好地</span><br><span class="line">发挥了自身的武功。“所以，我反而主动。”</span><br><span class="line"></span><br><span class="line">    沈魂疑神疑鬼，认为郑中孚在“七绝圣手”之外还藏有一手，否则不可能有恃</span><br><span class="line">无恐将武功公开。他越打下去，越是心烦意躁，越是畏缩谨慎。他心中很矛盾：知</span><br><span class="line">道郑中孚的武功路子，居然还赢不下，面子上过不去；着急要赢，却又没有把握，</span><br><span class="line">担心郑中孚有厉害的武功藏在后面。</span><br><span class="line"></span><br><span class="line">    沈魂中了空城计，输在心理上。——郑中孚道，但如今不同了。十年来，我耽</span><br><span class="line">于事业，武功没什么长进。况且我年龄比沈魂大。他正当盛年。</span><br><span class="line"></span><br><span class="line">    所以，周乐能理解郑中孚被袭击受伤的原由所在。郑中孚想拖些时日与沈魂比</span><br><span class="line">试。他根本就没有受伤。</span><br><span class="line"></span><br><span class="line">    如果郑中孚能利用周乐打听到明教主力的行踪，装作无意地泄露给城隍庙。城</span><br><span class="line">隍庙如获至宝，与明教进行决战，两败俱伤。到那时，郑中孚率白道收渔翁之利。</span><br><span class="line">武圣人、左玉皇再一次证明自己是一匡天下、力挽狂澜、扶社稷于将倾的完人。</span><br><span class="line"></span><br><span class="line">    一切尚只是假设。周乐很开心：肩上的担子很重，未来却很诱人。“为天地立</span><br><span class="line">心，为生民立命，为往圣继绝学，为万世开太平。”周乐不希望活着让人看轻。</span><br><span class="line"></span><br><span class="line">    他立马抄小道到襄樊，托当地十三行带口信。“告诉徽商帮帐房总管卞梁，有</span><br><span class="line">批货滞销，得挪个地方卖。”诈诈对方，以解口恶气。周乐知道十三行的伙计不可</span><br><span class="line">能死守秘密，便将计就计。</span><br><span class="line"></span><br><span class="line">    以卞梁之为人自然不会是明教中人，也不会是什么好人，可借刀杀之。</span><br><span class="line"></span><br><span class="line">    周乐西行赶往武当山。敌人果然上当了，在半路挡截。他们既已得知卞梁与明</span><br><span class="line">教有干系，大可杀掉周乐。因为他已没有利用价值了。</span><br><span class="line"></span><br><span class="line">    来的是只又白又胖的大蟒蛇。白胖子坐在马车中，笑道：“周乐，我救了你，</span><br><span class="line">你却想回武当出卖我领赏。你做得太不地道了。……你为什么不回江南呢？”事情</span><br><span class="line">很清楚地摆着：他一直在留意周乐行踪。</span><br><span class="line"></span><br><span class="line">    周乐也在笑，道：“我救了个服下八毒赤丸子的敌人。他说他不是城隍庙的人。</span><br><span class="line">他知晓我并未残杀同门。”</span><br><span class="line"></span><br><span class="line">    白胖子仰天大笑，短粗脖子上见不着喉结。“是么？我正想与你一块上山。如</span><br><span class="line">果武当派坚持认定你是凶手，我便帮你大打出手。”</span><br><span class="line"></span><br><span class="line">    “冷洋见到我跟你走在一块，想不怀疑我也不成了，定会将我当成武当仇人。</span><br><span class="line">……可惜太白金星不在。仅凭你我之力，上武当山讨不了好。”周乐道。</span><br><span class="line"></span><br><span class="line">    太白金星的剑法极高，善于应付群架。他的外号很有来头。人谓“长庚光怒，</span><br><span class="line">未当出而出，未当入而入，天下起兵，有至破国”，从中可见“太白金星”的威风。</span><br><span class="line"></span><br><span class="line">    周乐盯着白胖子，沉声道：“我见过太白了，在无不居。”</span><br><span class="line"></span><br><span class="line">    白胖子眨了眨小眼睛，四下里没人，道：“你自个找死。……你以为我轻功真</span><br><span class="line">的不如你么？”周乐的猜想似乎击正了要害，以至于白胖子决意杀人灭口。</span><br><span class="line"></span><br><span class="line">    周乐又开始逃了。 内力修为落后白胖子三四成，硬拼不是办法 。他跑在官道</span><br><span class="line">上，健步如飞，然而，他居然甩不了白胖子。</span><br><span class="line"></span><br><span class="line">    周乐绕了个大圈，奔回麻屋子马车前，止步。白胖子在一丈外，露出两个浅浅</span><br><span class="line">的酒窝，微笑。</span><br><span class="line"></span><br><span class="line">    “上回，你只从正面挡了我十一招，跟着就只有躲闪的份儿。”周乐点头，也</span><br><span class="line">在微笑。他倒纵跃上马车，闪入红帐子中。白胖子怒道：“周乐，你给我出来！”</span><br><span class="line"></span><br><span class="line">    周乐知道他舍不得出手毁车。白胖子懒，怕累。寻常马车载不动他。叫他走路，</span><br><span class="line">他走不出十里地。这儿正是荒郊。</span><br><span class="line"></span><br><span class="line">    赶车之人已摔下地来。周乐跷着二郎腿。</span><br><span class="line"></span><br><span class="line">    白胖子可以用“五丁开山”、“大摔碑手”之类的武功破开车辆。但他委实不</span><br><span class="line">愿放弃马车所提供的服务，只是站在车外骂娘。</span><br><span class="line"></span><br><span class="line">    周乐也不理他，赶车上路。白胖子急了，出手将车拉住，提纵跳上车厢前的踏</span><br><span class="line">板。“白胖子，咱俩捉迷藏吧。”周乐已由车后破壁而出。白胖子大是心疼，却又</span><br><span class="line">无可奈何。</span><br><span class="line"></span><br><span class="line">    几个回合下来，马车有点不成样子了。周乐兀自冷嘲热讽地逗他，鞋子踩上了</span><br><span class="line">干净柔软的床榻。白胖子大为光火，提掌平推，要把周乐连同马车一道粉碎。</span><br><span class="line"></span><br><span class="line">    木板纷飞，红帐子背后见不着人。白胖子知道周乐仍旧躲在车上，正待补上一</span><br><span class="line">掌。那领红纱帐子迎面飘来，他看见同样鲜红的血。“周乐，你……你使剑。”白</span><br><span class="line">胖子道。</span><br><span class="line"></span><br><span class="line">    周乐远远跳开，摊手道：“没有啊，我是不能使剑的，你别再冤枉我。”脸上</span><br><span class="line">尽是狡猾的笑容。</span><br><span class="line"></span><br><span class="line">    “不使剑，你根本没机会近身杀我。”白胖子靠在马车旁，喘着粗气，伤势似</span><br><span class="line">乎不重。</span><br><span class="line"></span><br><span class="line">    “我先耗你真气。你轻功虽然不错，但费内力。……见到我上马车时，你心浮</span><br><span class="line">气躁了。我先用半招‘落英缤纷’破你掌势，令你错愕，眼花缭乱。再以‘烨烨震</span><br><span class="line">电’长驱直入，刺开你的破体真气。”</span><br><span class="line"></span><br><span class="line">    “你确实使使……使剑了？你不是人。”白胖子将马车压垮了，重重摔在地上。</span><br><span class="line">“落英缤纷”、“烨烨震电”都是真武剑法中的绝招。周乐自下山，踏出江湖以来，</span><br><span class="line">从未使剑。</span><br><span class="line"></span><br><span class="line">                              三、 在路上</span><br><span class="line"></span><br><span class="line">    这回潜入无不居颇费了些手脚。郑中孚受伤后，庄上加强了戒备。周乐有预感，</span><br><span class="line">郑中孚必定做过几件见不得人的事。“也许，我是在妒忌他的成就。纵使是他指使</span><br><span class="line">十三异兽害我，是他打算利用我对付明教，我也无法指责他。”</span><br><span class="line"></span><br><span class="line">    为了高尚的目标，他可能会使些卑劣手段。这依旧不是什么大过错。与黑道中</span><br><span class="line">的和合二大仙勾搭在一块？ 没有证据。 周乐径直来到书房，挥笔写下十个大字，</span><br><span class="line">“为天地立心，为生民立命”。</span><br><span class="line"></span><br><span class="line">    郑中孚案头放着四书五经，放着张载的书，放着与二程的往来信函。周乐换了</span><br><span class="line">根毛笔，写：“周公、管仲、王莽。”</span><br><span class="line"></span><br><span class="line">    周公曾用武力征讨四方，管仲家建得象王宫，王莽曾获得上下交口称赞。郑中</span><br><span class="line">孚不知何时来到门边，见到案上的字，道：“经世致用最是难得。所以圣人孔子对</span><br><span class="line">春秋时的国是也无能为力。我觉得孔夫子对管子的评价是很恰当的。”</span><br><span class="line"></span><br><span class="line">    “郑大侠，不，郑先生，你如何看待王莽呢？”</span><br><span class="line"></span><br><span class="line">    “有当皇帝的野心并没有错，托古改制也没有错。……神宗变法失败了，如果</span><br><span class="line">王安石是皇帝，又会如何呢？想拯救，就无法逍遥；想成功地拯救，就得在个人品</span><br><span class="line">行上付出代价。时势使然。”人谓王安石之新法太严太苛，任用非人。</span><br><span class="line"></span><br><span class="line">    郑中孚又道：“周乐，我知道你的想法。十年前，我以为……我还抱有幻想。</span><br><span class="line">如今我觉得我们应该走出书斋，确实做些事情。仁义之师是挡不过虎狼之邦的骑射。</span><br><span class="line">我宁可德行有亏，也不愿事业无成。天下百姓正处于水深火热之中，这帮大儒却是</span><br><span class="line">在谈心说气。”</span><br><span class="line"></span><br><span class="line">    周乐没有搭腔。“我一直有着矛盾的心理，双重人格。野心、颜圣人，杨朱、</span><br><span class="line">君子不言利，黄老、汉学，势术、圣人之学。两年前，我想通了，所谓的内圣外王，</span><br><span class="line">实质就是心口不一，言行不一。周乐，你说，让我当王，我无法治理好国家么？”</span><br><span class="line"></span><br><span class="line">    周乐无言以对。“明着里，我对二商，对唐门，对官府无可奈何。要做些过激</span><br><span class="line">的事情，只能在十三行外另起炉灶。……我在想，如果退隐，我还算是个儒士么？</span><br><span class="line">孔夫子说，乱世不该发财。乱世也不该当个贞女烈妇！”所以郑中孚一手创建了个</span><br><span class="line">秘密组织，叫“帝虎”，暗地里、迂回地救世。十三行在明，它在暗，一正一邪，</span><br><span class="line">互补共生。</span><br><span class="line"></span><br><span class="line">    “这便叫做上下其手。”人的左右手力量不一。“帝虎”强过十三行？郑中孚</span><br><span class="line">的“帝虎”吸纳了一些走极端的精英，招进若干个大火拼的幸存者，请来了不甘寂</span><br><span class="line">寞的和合二大仙。和合二仙不想听命他人，却愿意为金钱与权势做事，并借“帝虎”</span><br><span class="line">之力对抗沈魂。</span><br><span class="line"></span><br><span class="line">    “鲁鱼帝虎”，帝虎是以讹传讹之意。周乐不肯加入这个组织。“周乐，你是</span><br><span class="line">个人才，但我不杀你，也不勉强你加入组织。……我愿意与明教合作。”</span><br><span class="line"></span><br><span class="line">    周乐觉得郑中孚虚伪，可仍旧是个正派人物。帝虎与明教有不少共通之处。</span><br><span class="line"></span><br><span class="line">    临行时，周乐问：“借刀主脑也是你？”郑中孚不答。</span><br><span class="line"></span><br><span class="line">    江湖沸沸扬扬。原来，刺伤郑中孚郑大侠的是和合二大仙之白胖子。白胖子业</span><br><span class="line">已死了。他哪里是郑大侠的对手。徽商帮的帐房总管卞梁日前给人杀了。杀他之人</span><br><span class="line">据说是太白金星。</span><br><span class="line"></span><br><span class="line">    周乐反了天，在冷苔仙逝之后。他一口气杀了九位前武当同门。听说，他投靠</span><br><span class="line">东岳帝君沈魂，想打回老家。最近，武当派终于公开承认了周乐是门下弃徒。难怪</span><br><span class="line">他被称作青年高手中的佼佼者。</span><br><span class="line"></span><br><span class="line">    周乐明白郑中孚的用心。他想逼得自己走投无路，要么加入帝虎，要么加入明</span><br><span class="line">教。总之，今后一段时间内，无法逍遥快活了。……不管怎么说，他都不会喜欢帝</span><br><span class="line">虎。</span><br><span class="line"></span><br><span class="line">    周乐记得两年前，胡不归说过，有不少贪官污吏离奇死亡，赃款赃物被洗劫一</span><br><span class="line">空。如今看来，可能是帝虎所为。北方一些专放印子钱的高利贷商人也曾莫名其妙</span><br><span class="line">地遭受集体打击。山贾会为之暴跳如雷。</span><br><span class="line"></span><br><span class="line">    周乐不喜欢这样。治标不治本，春风吹又生。坏人们会变本加利，并学乖了，</span><br><span class="line">也组织起他们的力量，反击。两年来，十三行威风不再。大内总管丁卯愈发受宠，</span><br><span class="line">网罗了不少江湖异士。</span><br><span class="line"></span><br><span class="line">    周乐担心郑中孚们会滑入这样一种心态：追求工具理性，过于看重武力，倡扬</span><br><span class="line">不择手段。结果，还是民众成了替罪羊。</span><br><span class="line"></span><br><span class="line">    程伊川谓“半日静坐，半日读书”。这对许多士子有吸引力。周乐没有定力静</span><br><span class="line">坐半日，也未读过太多的书。但他明白事理。他觉得郑中孚们可能放纵自己伤害部</span><br><span class="line">分好人，牺牲部分普通人，可能失去对自身的约束。为社会而牺牲若干个体，这是</span><br><span class="line">不公平的。郑中孚本人也许私欲较少，自制较强。但如果他死了，帝虎又会变成什</span><br><span class="line">么样？</span><br><span class="line"></span><br><span class="line">    明教有信仰，虽然也有过激倾向；帝虎没有信仰，组织中有不少反面人物。周</span><br><span class="line">乐打心眼里喜欢十三行：松散、自由、正义、独立、多元，而且能挣钱。</span><br><span class="line"></span><br><span class="line">    周乐乔装打扮逃回苏州。小谢、孤寒都不在。谢家长辈将小谢抓回金陵，说是</span><br><span class="line">不日内下聘书，春节前与王贞吉成亲。独孤寒与施湛露去了施氏江西乡下老家。</span><br><span class="line"></span><br><span class="line">    晚间周乐上虎丘剑池，没看到冉苒，却又撞上了沈魂。</span><br><span class="line"></span><br><span class="line">    沈魂一向独来独往，似乎连影子也不带。他望着周乐不说话。周乐也不理他，</span><br><span class="line">转身欲走。</span><br><span class="line"></span><br><span class="line">    “你相信白胖子会去行刺郑中孚么？……我知道你去找过他。”</span><br><span class="line"></span><br><span class="line">    “白胖子是我杀的，郑中孚并未受伤。”纵使如此，骄傲的沈魂也不可能找到</span><br><span class="line">无不居，趁人之危地挑战郑中孚。有时，周乐想不明白，个性如此鲜明、强烈的沈</span><br><span class="line">魂如何可以领导好城隍庙。</span><br><span class="line"></span><br><span class="line">    “那么，你是否真的杀了那九名武当弟子。”</span><br><span class="line"></span><br><span class="line">    “城隍庙干了么？”周乐问。沈魂摇头，寻了块石头坐下。周乐知道，如果自</span><br><span class="line">己拔腿就跑，利用高低不平的地形，有机会逃掉。</span><br><span class="line"></span><br><span class="line">    “周乐，你、我、郑中孚，甚至凌迟都有不少相似之处。你较为淡泊，郑较有</span><br><span class="line">谋略，凌迟偏激，我则过于狂傲。事实上，咱们四人都是名门正派的叛逆。……小</span><br><span class="line">时，我在南少林学艺。”</span><br><span class="line"></span><br><span class="line">    “后来曾在明教呆过一段时间。”福建很有不少明教弟子。“在我心中，最反</span><br><span class="line">感的还是官府与南北二商。但我不愿与明教、郑中孚和解。”“周乐，你陪我一块</span><br><span class="line">上武当。他们说我由你身上获取九宫剑阵阵法。为了辟谣，你得加入剑阵与我对敌。</span><br><span class="line">……你必须答应。因为如果你答应了，今后我就不主动为难明教。”</span><br><span class="line"></span><br><span class="line">    “周乐，这样的条件，你说冉教主会同意么？”</span><br><span class="line"></span><br><span class="line">    点头。“为什么？”沈魂挺好奇的，似乎心情不错，兴致很好。周乐摇头，冉</span><br><span class="line">苒为了她的宗教，有什么事做不出来？</span><br><span class="line"></span><br><span class="line">    “沈魂，我不认为你有必要上武当。冷苔已死，你胜之不武。”</span><br><span class="line"></span><br><span class="line">    沈魂点头，道：“近来读书，记下一句‘至人无己，神人无功，圣人无名’。</span><br><span class="line">我是至人、神人、圣人，行事何必有所顾虑，别人言语何必放在心上。……将来我</span><br><span class="line">胜了郑中孚，也是胜之不武。”他认为自己高人一等，不论与谁动手比招，都已是</span><br><span class="line">自降身份。</span><br><span class="line"></span><br><span class="line">    “由于认清了世间的虚无与荒谬，我心中无规矩，从心所欲。”沈魂冷笑道。</span><br><span class="line">他想了一会儿，又道：“周乐，任何人都说服不了我。城隍庙不会消失。它捍卫恶，</span><br><span class="line">揭示假。伦理道德都是虚的。我渴望弱肉强食。”</span><br><span class="line"></span><br><span class="line">    “叛出南少林后，我花了十年功夫研创出一套武功叫‘五瓣花佛手’。”沈魂</span><br><span class="line">右手下垂，左手当胸。</span><br><span class="line"></span><br><span class="line">    周乐听说过五瓣花佛手，据传不在郑中孚的七绝圣手之下。眼前这式叫“金莲</span><br><span class="line">台掌”。典出西方极乐世界教主、接引佛——阿弥陀佛掌中存有金莲台的立像。周</span><br><span class="line">乐瞧不出它有何特别之处。</span><br><span class="line"></span><br><span class="line">    “五瓣花佛手另有三招如来手，一招观音四十手，总共不过五招。如来手中有</span><br><span class="line">两招是练功培气之用，为盘腿打坐之势。”沈魂道，“郑中孚的七绝圣手以招式精</span><br><span class="line">妙著称，明教的大象无形掌纯以内力取胜，我这五瓣花佛手以意念见长，你要不要</span><br><span class="line">见识一下。”</span><br><span class="line"></span><br><span class="line">    周乐没功夫细听，转身欲逃，却随之气滞，瘫地不起。他看清了沈魂“金莲台</span><br><span class="line">掌”的手式，却未能觉察到掌力于何时发出。这“五瓣花佛手”似乎不会激起任何</span><br><span class="line">的劈空掌风，没有排山倒海之势。它无影无踪、无形无迹、无碍无滞、无声无响。</span><br><span class="line">周乐之所以受伤，似乎仅是沈魂心中意念的结果。</span><br><span class="line"></span><br><span class="line">    沈魂尚且坐在石上。周乐身后的池水波澜不惊。</span><br><span class="line"></span><br><span class="line">    “周乐，传说中我不喜欢杀死伤员，所以你自愿受伤。以你的武功，可以抵挡</span><br><span class="line">一阵。”沈魂道，“你的骨头倒不是很硬。……为了引诱明教露面，为了带你一块</span><br><span class="line">上武当，我暂时不会杀你。”</span><br><span class="line"></span><br><span class="line">    在路上，周乐见识了城隍庙组织之严密，纪律之严明。联络网四通八达、快捷</span><br><span class="line">可靠，成员遍布各地，声势极大。沈魂与郑中孚一样有才能。郑会收买人心，沈会</span><br><span class="line">驭人。“这是我多年心血的结晶。我要让世人听到黑道的声音，让他们明白我们亦</span><br><span class="line">是靠着力气活吃饭。我们只会令既得利益者——富人、官员、乡绅惊恐畏惧。”</span><br><span class="line"></span><br><span class="line">    “我们走出三山、五岳，走出绿林草莽，进入城市，接受香火供奉，生根发财。</span><br><span class="line">我们与官府是恶的双生子。我们有权分享家业。”</span><br><span class="line"></span><br><span class="line">    在路上，周乐显得疲惫。半月来，他一直东奔西走。待内伤好后，不时与沈魂</span><br><span class="line">拆招，从未接下那五招五瓣花佛手。沈魂是个精力过剩、喜怒无常的人。手下都怕</span><br><span class="line">他。所以难得有周乐做伴，沿途未曾惹事生非。这天，两人抵汉口。沈魂照例抓周</span><br><span class="line">乐一块去逛窑子。周乐独自在花厅喝茶，忽然听得后厢房有哀号之声。原来，鬼帝</span><br><span class="line">沈魂，堂堂城隍庙首脑居然与嫖客争风吃醋，挥拳打人。</span><br><span class="line"></span><br><span class="line">    周乐上前劝阻，被推倒在地，差点儿晕过去。被点了穴道后，他甚至无力对窑</span><br><span class="line">姐们用强。他挣扎着站起，道：“何必跟这种人一般见识呢？放过他罢。”</span><br><span class="line"></span><br><span class="line">    沈魂笑了笑，加重拳脚，将那人毙杀。他笑道：“听了你的话，我觉得最好是</span><br><span class="line">让他死。因为仅以口角杀人，这可不是一般见识。”</span><br><span class="line"></span><br><span class="line">    “我最讨厌别人对我说三道四，指手划脚。以后你要记住这个教训。”周乐不</span><br><span class="line">答。</span><br><span class="line"></span><br><span class="line">    沈魂忽然想起了什么，又道：“那姓冉的小妮子没有教你如何挪穴冲穴么？明</span><br><span class="line">教的‘飞焰横天’是一种古怪的内功心法。学成后，就不怕点穴了。……她藏私，</span><br><span class="line">你也不必为她守节。”</span><br><span class="line"></span><br><span class="line">    沈魂大笑，脸色好转。半仙凌迟人很聪明，一意消解人们所珍视的东西，拆毁</span><br><span class="line">所谓的权威。沈魂更是邪门。他有三分之一象凌迟，三分之一象嗜武冷血的哭夜郎，</span><br><span class="line">三分之一象疏狂放诞的谢清发。他的无名火来得快，去得也快。</span><br><span class="line"></span><br><span class="line">    周乐心里很清楚：表面上沈魂率性而为，变化不定，实际上却注重功利目的，</span><br><span class="line">三尸五通神的意志加在一块也强不过他。逆我者死，沈魂不容旁人反对他。</span><br><span class="line"></span><br><span class="line">    吃过晚饭，沈魂道：“告诉你一个最新消息。你的师叔，三清中的老三冷川带</span><br><span class="line">人到苏州拿你，却落到了我手中。”然后，也不理会周乐，练起了五瓣花佛手。</span><br><span class="line"></span><br><span class="line">    表面上看来，他这套武功也没有什么特别之处，只是在故弄玄虚。从任何一个</span><br><span class="line">和尚口中都可以打听到这些如来手、观音手的姿式。立式如来手，左手下垂满足众</span><br><span class="line">生愿望，右手屈臂上伸解脱众生苦相。坐式如来手有二：一是左手横脚示禅定，右</span><br><span class="line">手直伸下垂；二是左手横脚，右手上屈指作环形。</span><br><span class="line"></span><br><span class="line">    观音四十手中的拈花、捧莲、持珠、握瓶各式也是寻常佛院中可以见到的。</span><br><span class="line"></span><br><span class="line">    周乐心中狐疑。听说沈魂使“大道天遁剑法”，并以剑法见长，可列“刻周求</span><br><span class="line">剑”榜首位。“大道天遁剑法”乃是传说中的仙道吕洞宾所创。他骨子里头是否真</span><br><span class="line">的受到了佛、道两家的影响？</span><br><span class="line"></span><br><span class="line">    沈魂似乎进入了物我两忘的境界。周乐亦在沉思。</span><br><span class="line"></span><br><span class="line">                            四、攘外必先安内</span><br><span class="line"></span><br><span class="line">    为了信仰，我放弃了许多，这虽然是不合理的，却是可信的。为了你，我不再</span><br><span class="line">是明教教主，这虽然是不可能的，却是肯定的。冉苒在心中默默念道。</span><br><span class="line"></span><br><span class="line">    她的最大心愿一直是当上明教教主，令明教为世人接受。发号施令，受人拥戴</span><br><span class="line">敬畏的感觉非常诱人。此时，她担心自己会利用教主的职权营救周乐，从而有损明</span><br><span class="line">教利益。明教已接获线报，周乐落在沈魂手中。她立即动身前往武当，不明白此行</span><br><span class="line">能帮他什么忙，似乎只是为了看他。</span><br><span class="line"></span><br><span class="line">    沈魂与周乐来到武当山脚下。周乐旧地重游，大有“前度刘郎”的感慨。</span><br><span class="line"></span><br><span class="line">    “武当派一直是明哲保身，与道上的朋友相安无事。偏偏冷洋这个牛鼻子要搞</span><br><span class="line">什么中兴，想光大本门声威。真是自寻麻烦。周乐，你在想些什么，心情不好？”</span><br><span class="line"></span><br><span class="line">    周乐摇头苦笑。山道上不时可以见到劲装武人。沈魂道：“我想，郑中孚会带</span><br><span class="line">伤上山，在危难之际，为武当挽回颜面。他就好做这种事，沽名钓誉。”一路上无</span><br><span class="line">人阻挡，但越是邻近紫霄宫，敌视的目光越多。周乐耷拉着头。沈魂却是谈笑风声，</span><br><span class="line">左顾右盼。他吟道：“登九层霄阅太和，临武当山伏三清。周乐，你有没有注意到</span><br><span class="line">一个有意思的现象？……只有红白喜事才能使大家聚到一块。你看今天的场面多热</span><br><span class="line">闹呀。”</span><br><span class="line"></span><br><span class="line">    沈魂一本正经地与周乐一道在冷苔灵前行礼。冷洋面色不善，站在一旁。众多</span><br><span class="line">鄙视的目光将周乐淹没。周乐不想开口申辩，没有人会听他的。他不是第一回被冤</span><br><span class="line">枉。他一直抑制在心中的逆反天性正死灰复燃。这令他舒服一些。</span><br><span class="line"></span><br><span class="line">    沈魂开口道：“我这回上山，想见识见识九宫剑阵。冷苔生前，因年事太高，</span><br><span class="line">剑法方面的造诣已不如我。所以我也不想寻他麻烦。”</span><br><span class="line"></span><br><span class="line">    “后来我听说，武当的九宫剑阵比冷苔还要厉害。当下不由技痒，便前来一试。</span><br><span class="line">你们如果不敢赏脸的话，我只好个个击破，杀掉一些道士给冷苔送葬。”</span><br><span class="line"></span><br><span class="line">    “我知道你们凑不齐九位高手，特地带了周乐上山充数。不是我瞧不起你们，</span><br><span class="line">今日武当派中也只有一两个人可能战胜周乐了。”冷川未回山，冷溪七年前便怵周</span><br><span class="line">乐。</span><br><span class="line"></span><br><span class="line">    “为了证实我的判断，冷洋你可以先与周乐过过招。”他伸手抢过一柄长剑，</span><br><span class="line">递与周乐。</span><br><span class="line"></span><br><span class="line">    冷洋铁青着脸，盯着周乐。沈魂笑道：“冷洋，要我替你清理门户么？如果你</span><br><span class="line">自知不是周乐对手的话。”</span><br><span class="line"></span><br><span class="line">    冷洋上前，冲着周乐，拉开武当长拳的架子。周乐轻轻一笑，扔掉手中长剑，</span><br><span class="line">挂了记单鞭。他心下在想：很早以前，我便有个念头，要在天下人面前露露脸，以</span><br><span class="line">回敬折辱过我的武当派；现在是时候了！衣锦还乡不可能了，报仇雪耻没必要，出</span><br><span class="line">口恶气总是应该的。</span><br><span class="line"></span><br><span class="line">    前师叔侄斗在一块， 几百双目光望着他俩。 没几人注意到一顶软轿的到来。</span><br><span class="line">“小姐，如今他落到如此田地，必定更想加入……。”女子的声音极细。</span><br><span class="line"></span><br><span class="line">    “咱们一改往日作风，从城隍庙手中救了冷川。可他仍然有些怀疑周乐。……。”</span><br><span class="line"></span><br><span class="line">    沈魂见着了软轿，知道里面坐的是谁。既然她来了，就说明周乐在她心中是何</span><br><span class="line">等的重要，就可能上演加场的好戏。他巴不得明教因此灭去武当。</span><br><span class="line"></span><br><span class="line">    周乐不敢与冷洋硬拼，躲闪后退，偶而还招也是一触即收。内力相差不少，若</span><br><span class="line">非他熟悉武当拳法、轻功过人，早已败下阵来。冷洋的招式很舒展、庄重、流畅，</span><br><span class="line">似乎不含一丝霸道成分，如棉里藏针、如深潭潜流。在不知情者看来，他俩正在进</span><br><span class="line">行同门间友善的比试。</span><br><span class="line"></span><br><span class="line">    冷洋的拳法很是柔韧缠绵，没有进攻，也没有防守，只是自顾自地吐着“丝”，</span><br><span class="line">粘在绕在周乐身上。周乐压力渐大，手脚慢慢地被缚住了，身形趋缓。</span><br><span class="line"></span><br><span class="line">    他被迫硬接下一掌，借力后跃，道：“你说，以我的武功，可能一举毙杀九位</span><br><span class="line">武当弟子么？”冷洋一怔，觉得有些道理，他在自己手中走不过二百招。</span><br><span class="line"></span><br><span class="line">    周乐扭头环视四周，道：“有谁看见我杀人了？是你么？”他伸手指向冷洋背</span><br><span class="line">后，跟着用脚尖挑起先前丢弃地上的长剑。长剑直射冷洋。冷洋正待回头，遭此骤</span><br><span class="line">变，慌忙伸手打掉长剑。周乐趁机点足前扑，突出奇兵，以迅雷不及掩耳之势将他</span><br><span class="line">制住。</span><br><span class="line"></span><br><span class="line">    沈魂立马鼓掌，辅以大笑。周乐身手敏捷，应变灵活，轻功高明，比他武功强</span><br><span class="line">的人一不留神也会落败。冷洋年纪大了，反应较慢，自然躲不过周乐的突袭。</span><br><span class="line"></span><br><span class="line">    周乐此招唤作“瞬息万变”，幻化无常、迅猛如梭，对轻功、步法以及擒拿手</span><br><span class="line">要求极高，源自武当绝学，乃是一记剑招。冷洋只觉得好似有强光迎面打来，眼前</span><br><span class="line">一花，心神剧震，拱手受制。</span><br><span class="line"></span><br><span class="line">    四下一片哗然，群情激愤。谁都料不到周乐居然敢在众目睽睽之下使出奸计。</span><br><span class="line">当然，在场的一些较有眼光的高手都不敢否认周乐的真才实学。周乐这一招“瞬息</span><br><span class="line">万变”极见高明，乍然使出着实令人难于抵挡。高手们都在想：换作是我，我躲得</span><br><span class="line">过么？</span><br><span class="line"></span><br><span class="line">    周乐放开冷洋。武当派摆出了九宫剑阵。</span><br><span class="line"></span><br><span class="line">    沈魂笑道：“周乐，看来今日你才是场上真正的主角。扬眉吐气、衣锦还乡的</span><br><span class="line">感觉好不好？男子汉大丈夫要活得痛快些，哪个碍我牙眼，便要将他打个落花流水。</span><br><span class="line">这九宫剑阵我让与你了。”</span><br><span class="line"></span><br><span class="line">    周乐也不客气，道：“我从未进到九宫剑阵中，但我相信如果我破不了它，你</span><br><span class="line">也不成。”由他来破阵，可以少些伤亡。</span><br><span class="line"></span><br><span class="line">    “九层霄”随意地站着，并未将周乐围上。这九宫剑阵颇有特色。它有阵义无</span><br><span class="line">阵形，重防守轻反击，只求挡下敌人，令其知难而退，落荒而逃。周乐空手迎向利</span><br><span class="line">剑，进入三个品字形的三才剑阵中。</span><br><span class="line"></span><br><span class="line">    九宫剑阵的阵义很简单，九名剑手象潮水般轮进轮退，一触即收，一浪高过一</span><br><span class="line">浪。剑手们频频挪步，交错换位，极有层次、很有默契地轮番上前，再而闪身后退。</span><br><span class="line">它的好处在于：纵使被敌人打倒一两个，剑阵仍然未破；阵中弟子不必分心顾虑阵</span><br><span class="line">形变化，只须蓄劲而发，一击而退；防守是在进攻当中实现的，敌方眼前所有的空</span><br><span class="line">隙都已被己方的剑气填满。</span><br><span class="line"></span><br><span class="line">    归根结底，这九宫剑阵是一种车轮战法。“轮子”转得再快，轨迹依然简单，</span><br><span class="line">力气倒是省下不少。阵中弟子可以逸待劳，耗损敌方内力。每三人以“天地人”三</span><br><span class="line">才剑组成一个冲击波，轮番上攻。前后衔接，环环相扣，端是厉害。</span><br><span class="line"></span><br><span class="line">    寻常阵法着眼于协调，协调己方多个人之间的行动，体现合作、团结、组织的</span><br><span class="line">力量。九宫剑阵也是如此，但它甚至已将个体消解，正如海纳百川。无数的水滴构</span><br><span class="line">成整体的汹涌波浪，气势才会惊人。</span><br><span class="line"></span><br><span class="line">    沈魂看着看着，不住点头。阵中的周乐相当吃力，节节后退。“九层霄”以武</span><br><span class="line">当轻功中的“龙、虎、鹿三蹈”相互填上空门。阵中虽然是剑气冲天，剑光闪闪，</span><br><span class="line">却听不到一声剑击碰撞之声。那九名弟子的配合天衣无缝，绝无内耗。</span><br><span class="line"></span><br><span class="line">    软轿的帘子掀开一角。闻琴不敢再看场中情形，注意到冷川道长赶回来了。</span><br><span class="line"></span><br><span class="line">    周乐无计可施。 他以“十番锣鼓” 、“唐王破阵乐”暴风骤雨般突击，逼得</span><br><span class="line">“浪潮”稍缓。然后笑道：“大伙儿看到了，这九宫剑阵实质上极为简单，也因其</span><br><span class="line">简单，故而不存在什么破阵的妙法，却极是难缠。”言下之意，沈魂没向他打听出</span><br><span class="line">什么秘密。</span><br><span class="line"></span><br><span class="line">    周乐清啸一声，拔地跃起三丈。打出一条血路为“破”，他破不了此阵。他也</span><br><span class="line">没功夫耗下去，只是想越过它，在浪尖上踏歌而行。</span><br><span class="line"></span><br><span class="line">    三柄长剑冲天刺来。周乐使出“九连蹬”，空中借力，翻转拧身，先缓了下坠</span><br><span class="line">之势，然后硬生生地曲腿弹脚，在剑身上一点，斜斜飞出。武当弟子中又是三人踩</span><br><span class="line">肩上窜。不管周乐跃得多高，都在长剑攻击范围之内；不论他可能落身何处，周围</span><br><span class="line">必定早等着一个九宫剑阵。</span><br><span class="line"></span><br><span class="line">    九层霄多多少少也会空中逗留、二度上跃的“九连蹬”轻功。所以场面异常壮</span><br><span class="line">观，众弟子轮番上跃，身形曼妙。</span><br><span class="line"></span><br><span class="line">    闻琴听得四下里突然一阵死寂，议论的言语都不见了。耳边只有山风松涛之声。</span><br><span class="line">她忍不住抬眼观阵。 只见周乐神色轻松， 脚下躺着两名剑手。他拍手拂衣，道：</span><br><span class="line">“要出九宫剑阵，只能凭借武当派独步天下的轻功‘九连蹬’。我很幸运，因为对</span><br><span class="line">方有一人‘九连蹬’练不到家，而我的‘九连蹬’又着实出色。”他将剑阵引向不</span><br><span class="line">远处的参天古树，借着枝叶障眼枝干碍形，终于突击得手。</span><br><span class="line"></span><br><span class="line">    在空中，九宫剑阵连环冲击波的威力减小，周乐在剑尖上跳舞，开始掌握主动。</span><br><span class="line">古树乃是他置于波澜之中的船。借船即可御波。</span><br><span class="line"></span><br><span class="line">    周乐直面沈魂，道：“你可以下山了。”郑中孚还没有出现，武当派已败在周</span><br><span class="line">乐手中。沈魂叹道：“我本不指望你能将他们尽数打败。你却做到了。武当派似乎</span><br><span class="line">被折辱了一番，很是丢人。其实不然，武当派脸上依然十分光彩。因为，从周乐身</span><br><span class="line">上，大家可以看到武当派武功有过人之处，确实是博大精深。……唉，墙内开花，</span><br><span class="line">墙外香，家花不如野花香。”他内力充沛，这几句话谁都听得清清楚楚。</span><br><span class="line"></span><br><span class="line">    群情再次激愤，对周乐的声讨预告了即将一哄而上的围剿。冷溪依旧愁眉苦脸。</span><br><span class="line">冷洋脸拉得长长的，气得手指发抖。能下场的高手惟有刚刚回山的冷川了。</span><br><span class="line"></span><br><span class="line">    冷川按剑走向周乐。周乐收起了笑容，小心戒备。上回他被那记“空谷足音”</span><br><span class="line">踢闪了腰，五内皆焚般疼痛。一朝被蛇咬，三年怕草绳。</span><br><span class="line"></span><br><span class="line">    冷川道：“冷泥师弟他们一行九人是因为你才下山的。他们很象是死于你自创</span><br><span class="line">的‘回音壁’之下。当时你正在江北，曾在出事地点出现过。”他背对着沈魂，与</span><br><span class="line">周乐近在咫尺。</span><br><span class="line"></span><br><span class="line">    周乐不语。不能说出白胖子，因为无不居传出了白胖子因刺杀郑中孚而死的消</span><br><span class="line">息。而郑中孚受伤在江北惨案发生之前。</span><br><span class="line"></span><br><span class="line">    “当然，我想不出你有什么理由杀死他们，并托人运尸体回山。……我信得过</span><br><span class="line">你。”两人分开，冷川拔剑。</span><br><span class="line"></span><br><span class="line">    沈魂扭头望向软轿，闻琴、解佩两个丫头表情紧张，看不见轿中的冉苒。他不</span><br><span class="line">担心明教高手齐集武当。武功练到他那份上，可以从容地由高手围攻中脱身，可以</span><br><span class="line">在千军中取上将首级。他也不担心“光阴箭”，因为离软轿尚有几十丈远。他盘算</span><br><span class="line">着如何让正派众人知道明教教主便坐在那乘轿中，好引发一场纷争。</span><br><span class="line"></span><br><span class="line">    明教与不少江湖人有仇。如果冉苒的身份被公开，她很可能要被扣留在山上。</span><br><span class="line">倘若明教举巢出动，前来救主，城隍庙正可混水摸鱼，一箭双雕。当然，还得留心</span><br><span class="line">郑中孚动静，可不要让他黄雀在后。</span><br><span class="line"></span><br><span class="line">    沈魂正盘算着，突然发现周乐手中多了根细圆管，冷川已闪在一旁。笑容就此</span><br><span class="line">僵化，他的思想打住了。它正对着我呀，光阴箭！他来不及推敲周乐如何会有光阴</span><br><span class="line">箭。光阴如箭，他只有不足十五步的光阴，只剩下不盈一寸的光阴。光阴穿眼而过，</span><br><span class="line">人们看不见它。</span><br><span class="line"></span><br><span class="line">    周乐信奉人心惟危。所以当他接过光阴箭时相当感动。冷川信任他，居然敢倒</span><br><span class="line">持泰阿，授之把柄。在这个世界上，人们很容易轻信，所以更容易冤枉人。冷川对</span><br><span class="line">周乐的印象也不是很好。两人已经很久未碰面了。</span><br><span class="line"></span><br><span class="line">    冷川知道周乐不是坏人，却不敢肯定他不是凶手。当解佩暗中递与他光阴箭时，</span><br><span class="line">他明白了冉苒的意思。周乐制服沈魂，便足以表白心迹。冷川感激冉苒救命之恩，</span><br><span class="line">却不知她为人如何。只是，象他这么一个老道士也能看出她很喜欢周乐。如此足矣！</span><br><span class="line"></span><br><span class="line">    冷川坚定地认为热恋中的人儿多少有些“良心发现、爱屋及乌”。他不理解明</span><br><span class="line">教，甚至有些反感。他记忆中的“魔教徒”不象这些正当妙龄的俏丽的小姑娘。哪</span><br><span class="line">一个老头子不会喜欢她们呢？</span><br><span class="line"></span><br><span class="line">    他不想趁周乐见到光阴箭感动、惊愕时出手。他有剑，足于击伤周乐。然后冷</span><br><span class="line">不防地用光阴箭射杀沈魂。冷川不想。</span><br><span class="line"></span><br><span class="line">    冉苒吩咐解佩如何行事时，解佩吐了吐舌头。小姐疯了。光阴箭是教主信物之</span><br><span class="line">一，是防身的利器，哪能交给武当派的人呢？小姐为了他，什么事都想到了，许多</span><br><span class="line">事都做了。</span><br><span class="line"></span><br><span class="line">    解佩知道她还想辞去教主之职。但明教教主之职不是随便辞得的，除非她犯下</span><br><span class="line">极大过错。她可是教中的智神长老呀，前世决定了她当教主。</span><br><span class="line"></span><br><span class="line">    丫头们都劝阻过冉苒，别上武当。沈魂与武当派都是明教的敌人。太危险了！</span><br><span class="line">况且，她们几人帮不了周乐什么忙，反会让他多一条罪状：勾结魔教。</span><br><span class="line"></span><br><span class="line">    冉苒也认为自己一反常态，太不理智了。我相信大多数弟子的幸福大于我自个</span><br><span class="line">的幸福。然而，最近我发现我不知道教会与他哪个更重要。他说他第一眼就喜欢上</span><br><span class="line">我了。这是爱情么？我见了他好几回后，才喜欢上他。这不是爱情么？</span><br><span class="line"></span><br><span class="line">    冉苒坚信冷川会帮她。她不担心什么。他知道我来了，我在这儿，这就够了。</span><br><span class="line"></span><br><span class="line">    周乐看不见冉苒，那个他一闭眼就见到的人儿。但他精神大振，信心无限。</span><br><span class="line"></span><br><span class="line">    如果她不在，我打得过冷洋，破得了九宫阵么？</span><br><span class="line"></span><br><span class="line">    沈魂的出乎预料很自然。因为周乐、冷川、解佩、冉苒四人都感到意外。他们</span><br><span class="line">手中传递的其实不只是光阴箭。还有什么呢？……我只知道爱无往不胜。</span><br><span class="line"></span><br><span class="line">    无法抵抗、看不见的光阴箭在周乐手中。</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  第八章 万事只要杯在手</span><br><span class="line"></span><br><span class="line">    万事只要杯在手，人生几见月当头。</span><br><span class="line"></span><br><span class="line">                           一、落魄江湖载酒行</span><br><span class="line"></span><br><span class="line">    尉迟杯没见过面的老爸据说是个提腰刀、穿靴子的军官。在小镇上，这是老一</span><br><span class="line">辈人津津乐道的话题。小镇是尉迟杯娘亲的娘家，有山有水，有棍棒斧锤，有保甲</span><br><span class="line">团练。男人们好吃懒做，长于吹牛喝酒。幼年的尉迟光着脚丫子成天在外头疯，终</span><br><span class="line">于成就了一个街头小太保。他娘给人家洗衣服，洗着洗着就坐在小凳上死了。</span><br><span class="line"></span><br><span class="line">    少年任侠的尉迟杯不屑于读书，自然不知道周处这个人。他不在乎镇上的人们</span><br><span class="line">背地里如何议论他。他臂力过人，拳脚出众，干起仗来不要命。他爱喝酒，讲义气，</span><br><span class="line">结交了一帮兄弟，横行乡里。</span><br><span class="line"></span><br><span class="line">    他在河里放排，在集市杀牛卖肉，还曾背过几天煤。与外姓别村打群架时，总</span><br><span class="line">能见到他。流了几回血后，十里八乡无人不晓得他九命尉迟。他在家乡总的而言口</span><br><span class="line">碑不错。他懂得兔子不吃窝边草的道理。那会儿边民也不会瞧不起任侠儿。老辈人</span><br><span class="line">都说，尉迟这孩子其实挺不错的，可惜给那女人毁了。</span><br><span class="line"></span><br><span class="line">    那桩桃色旧闻具备了几项茶余饭后谈资的要素。讲的人兴奋、得意，仿佛是他</span><br><span class="line">玩了媳妇杀老公；听的人饶有兴致，不时出言寻根问底，却永远也搞不明白此案的</span><br><span class="line">几处疑点。总共有好几种说法。</span><br><span class="line"></span><br><span class="line">    但有一样很清楚，打那以后，尉迟杯便再也未回到镇上。野狗猛然间多了起来，</span><br><span class="line">整夜地嚎。三娘教子多了些反面教材。</span><br><span class="line"></span><br><span class="line">    事情经过很简单。尉迟有个兄弟杀了人，躲到外地去了。家里留有一个媳妇。</span><br><span class="line">这媳妇是逃荒的外乡人，不大会本地方言，轻易不开口。尉迟受托关照她，不时有</span><br><span class="line">些来往。</span><br><span class="line"></span><br><span class="line">    这小媳妇瘦小，脸蛋蛮俊的。尉迟多帮她挑了几担水，镇上便有了闲话。由于</span><br><span class="line">谁都怕招惹尉迟，绝不敢无端污蔑他，所以不少边民相信确有一些男女间的事。</span><br><span class="line"></span><br><span class="line">    如此过了两年，人们注意到了尉迟的变化。他老实了不少，收山不干那些不要</span><br><span class="line">本钱的营生，依旧获得小辈的尊敬。</span><br><span class="line"></span><br><span class="line">    后来，小媳妇的汉子回家了。再后来的相当长的一段时间里，倒也没有发生什</span><br><span class="line">么事，日子依旧平静。</span><br><span class="line"></span><br><span class="line">    凶案发生时，小镇惊呆了。汉子给人用杀牛刀一刀捅死。衣上尽是鲜血的尉迟</span><br><span class="line">抓上地保，到县城自首，被打入死牢，待秋后处斩。他认供很爽快，也不找讼师。</span><br><span class="line">人们有些怀疑那外乡女子，会不会是她杀了自个汉子，让尉迟抵罪。</span><br><span class="line"></span><br><span class="line">    人们开始议论时，女人离家出走，不知逃到哪了。议论尚未平息时，尉迟赶上</span><br><span class="line">皇上大赦天下，捡了一条命，跟着也就不知所踪了。</span><br><span class="line"></span><br><span class="line">    镇上唯一一个算命瞎子曾受过尉迟杯恩惠。瞎子说，尉迟的命，古怪，足有七</span><br><span class="line">两重。我早就说过，他呀，该死的死不了。这不，给我算准了。咱没有金牙，却长</span><br><span class="line">了金口。……</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    镇上的人认为，纵使人是尉迟杀的，过错也在女人身上。他可能是喝醉后失手。</span><br><span class="line"></span><br><span class="line">    过了许多年，有人翻案，发现至少有三个疑凶。</span><br><span class="line"></span><br><span class="line">    其一，汉子本人。他亦有血性，不会甘心戴绿帽子。但他打不过尉迟。如果他</span><br><span class="line">自尽，尉迟必定难脱干系，会被镇子上的人指为凶手。纵使尉迟不会因此吃官司，</span><br><span class="line">也会大丢脸面。</span><br><span class="line"></span><br><span class="line">    问题在于，汉子并未故意制造与尉迟的争端，暴露不和。汉子似乎没有存心报</span><br><span class="line">复他人。也许正因为如此，尉迟过意不去，便顶案自首。</span><br><span class="line"></span><br><span class="line">    其二，那外乡媳妇。她没有上公堂为尉迟做证，案发后匆忙逃窜，不象是与尉</span><br><span class="line">迟好上了的样子。她会不会是畏罪潜逃？</span><br><span class="line"></span><br><span class="line">    其三，尉迟杯，酒后误杀。汉子拿刀杀他，在搏斗中死去。</span><br><span class="line"></span><br><span class="line">    尉迟知道自己留下了不少是非，引发了争论。他不想翻案。究竟谁是真正的杀</span><br><span class="line">人凶手，他心中亦有不明之处。当晚，他醉了，忘记了所作所为，所见所闻。</span><br><span class="line"></span><br><span class="line">    尉迟摇头苦笑，他想起自己少年荒唐事。撒谎、做作、虚伪、莽撞、放纵，一</span><br><span class="line">旦开了个头，就不可收拾。恶的激流曾拥着我，势不可挡地将我冲入罪的深渊。</span><br><span class="line"></span><br><span class="line">    我相信自己有过杀他的冲动，潜意识里曾如此盘算过。我痛恨自己出于肉欲占</span><br><span class="line">了她的身体，然后变着法子奉劝自己不该喜欢她，说服自己相信不可能喜欢她。</span><br><span class="line"></span><br><span class="line">    我的流氓习气由来已久。她必然认定我也是一路货色，毛病太多。她必然失望</span><br><span class="line">了。其实我也想过改邪归正，可总觉得老实巴交的太丢份儿，没有大老爷们应该具</span><br><span class="line">备的豪气。我不能让兄弟们瞧不起呀。尉迟灌了口酒，忍不住再次摇头。</span><br><span class="line"></span><br><span class="line">    很小的时候，尉迟便偷过。当时他胆子小，只偷摘果子。慢慢地也就无法无天</span><br><span class="line">了。第一次杀人时，他紧张极了。那人很无辜很不幸。九命尉迟有几天茶饭不思，</span><br><span class="line">梦寝难安。在几十里外的富室偷盗财物时，他被发觉了，那人也很惊慌，不由自主</span><br><span class="line">地叫喊。尉迟急了，想到自己已经被他见着脸，今后麻烦大了，慌乱之下，掏出短</span><br><span class="line">刀。</span><br><span class="line"></span><br><span class="line">    杀人时，他自觉比受害者更痛苦。手脚软了，眼睛闭上了，鲜血烫人。耳朵内</span><br><span class="line">不住嗡鸣，脑海中一片惊涛骇浪。那人扭曲着脸倒下了，嘴里不再叫喊，还能动弹。</span><br><span class="line">尉迟逃出几步，又抢回，在他身上扎了致命的四刀。</span><br><span class="line"></span><br><span class="line">    当晚尉迟原本无意偷盗。只是赌钱输了，手头紧。奔出大老远，进了山林，他</span><br><span class="line">开始呕吐、哭泣。他没忘记带上包钱财的口袋。次日，装作没事人的样子跑回富人</span><br><span class="line">家看死人，瞧热闹。在那儿，他跟弟兄们说：“唉，凶手也真是的，为了几十贯铜</span><br><span class="line">板就杀人，下手真狠。”</span><br><span class="line"></span><br><span class="line">    他腋下流着冷汗，手里捏着热汗。“我老是如此身不由己地滑入习惯的心态，</span><br><span class="line">做出傻事。我的两大习惯是偷懒与死要面子活受罪。”尉迟深有感慨。</span><br><span class="line"></span><br><span class="line">                          二、 匹夫而为百世师</span><br><span class="line"></span><br><span class="line">    彼岸未到非可到。</span><br><span class="line"></span><br><span class="line">    让我们反抗着死去吧，如果留给我们的是虚无，那我们不要使之成为正义。</span><br><span class="line"></span><br><span class="line">    死是亲在的最本己的可能性。</span><br><span class="line"></span><br><span class="line">    我更喜欢能令我产生悲壮感的作品。悲剧与悲壮是两回事。金庸的武侠小说很</span><br><span class="line">少悲剧成份。他乐观自信，喜欢中国式的喜剧结局（我也喜欢）。《雪山飞狐》的</span><br><span class="line">结尾，萧峰的下场，都算不上悲壮。</span><br><span class="line"></span><br><span class="line">    悲壮，何谓悲壮？它并非令人感到可悲或忧伤。它令人心潮澎湃、热血沸腾。</span><br><span class="line">它包括以下要素：知其不可而为之，为之因而受损失。由于牺牲，可以产生崇高感</span><br><span class="line">或悲壮感。后者令人感到意外，意外感动，令人觉察不出此中无奈。</span><br><span class="line"></span><br><span class="line">    萧峰是个大侠，我们早已知道。所以看到他自尽退辽兵，我没有悲壮感。我非</span><br><span class="line">常在意之后阿紫与游坦之的举动。我几乎掉泪，不忍卒读。残忍、非正义、死得不</span><br><span class="line">值，我顾不了这些东西。</span><br><span class="line"></span><br><span class="line">    人大有过学生跳楼自尽。我见过一女生的尸体。当我凭空想象她的死因时，我</span><br><span class="line">感到惋惜与悲壮。</span><br><span class="line"></span><br><span class="line">    毕竟，死亡不是一件易事。</span><br><span class="line"></span><br><span class="line">    尉迟杯押着镖车行进在官道上。没读过书，却行了万里路，尉迟忍不住微笑。</span><br><span class="line">老祖宗太英明了，将这两样天底下最烦人的事儿摆在一块，极力褒扬。有时，镖师</span><br><span class="line">渴望着遇见几个拦路抢劫的小强盗，以免闷不过，搞过病来。所以他们喜欢住店。</span><br><span class="line">“宾至如归”，小店提供家中所有的服务。</span><br><span class="line"></span><br><span class="line">    这天，镖车刚从小店出发不久。“本质上，强盗与野妓没啥区别，都向你要钱，</span><br><span class="line">都害你丢命。”趟子手的兴奋与激情早已辗入轮下，飞扬出尘土，落在酒里肚中。</span><br><span class="line"></span><br><span class="line">    天下有无数个乱石岗。本地的乱石岗就在路边，一会儿便到。那儿也是强盗出</span><br><span class="line">没的地方。——死尸却比强盗多。</span><br><span class="line"></span><br><span class="line">    深山老林，乱石岗遥遥在望，只有镖局一行人在明处。常想不常见的事情发生</span><br><span class="line">了。</span><br><span class="line"></span><br><span class="line">    ……凌迟笑道：“你便是祭酒尉迟？”尉迟却也猜出眼前这两人是五通神人物。</span><br><span class="line">有鸟有鸟丁令威以衣试手，哭丧着脸。趟子手与脚夫逃了大半，死了若干。</span><br><span class="line"></span><br><span class="line">    只剩下尉迟一人了。尉迟喝了口酒，握刀。“你还打算替大淮扬镖局卖命么？</span><br><span class="line">你可以走了。”</span><br><span class="line"></span><br><span class="line">    尉迟一声不吭，出刀。</span><br><span class="line"></span><br><span class="line">    尉迟杯的师父中有一位曾领尉迟观云、雨、泉、瀑、花、草、竹、木、山、石</span><br><span class="line">等等自然之物，问他有何心得体会。尉迟正看得出神，待了很长时间，才道：“我</span><br><span class="line">看不出形意拟生的妙处。它们是死的，鸟兽亦是死的。人比它们都厉害。”</span><br><span class="line"></span><br><span class="line">    他对某位宗师观龟蛇互斗创内家拳的传说嗤之于鼻。“武功的义理我都懂，根</span><br><span class="line">本不需要顿悟。我很小很笨，正当街头霸王、打烂架的时候，便已明白以柔克刚、</span><br><span class="line">以静制动、后发先至的好处。……一人得道，鸡犬升天！”</span><br><span class="line"></span><br><span class="line">    那位师父说，尉迟杯你的武功很难有质的提高，缺少大局观，沉稳不足，轻盈</span><br><span class="line">不足，灵活不足。勇者无惧，你长于拼命。应该寻求与对手正面较劲，大胆抢攻，</span><br><span class="line">在招式上寸土不让、焦土必争。如此，你成不了一个绝世高手，却可拥有极富个性</span><br><span class="line">的武功。</span><br><span class="line"></span><br><span class="line">    尉迟迎上凌迟，这叫挑刺儿、叫板。一刀“斩钉截铁”，凌迟凛然，使出最拿</span><br><span class="line">手的“灵犀指”。第二刀“抽刀断水”，凌迟的潇洒已有些做作。混战开始了，尉</span><br><span class="line">迟金戈铁马、大刀阔斧地进攻。</span><br><span class="line"></span><br><span class="line">    阵脚已乱，两人出手均已失控，仅凭着经验与感觉。凌迟场面上占有六分优势。</span><br><span class="line">但他发觉自个的打法正在受到尉迟杯的感染，气势上已被压倒，指法的性灵尽失。</span><br><span class="line">对手居然比他还肆无忌惮。</span><br><span class="line"></span><br><span class="line">    凌迟觉得自己完全低估了对手。尉迟杯的武功不如他，却更善长于打斗。这有</span><br><span class="line">如鸟儿不会轻功，却会飞行的道理。</span><br><span class="line"></span><br><span class="line">    正当凌迟困惑时，一声惨叫，三人齐齐变色。尉迟再退，背靠镖车。</span><br><span class="line"></span><br><span class="line">    丁令威跳开老远，摇摇欲坠。凌迟如临大敌。“以你天下正一品的轻功，居然</span><br><span class="line">躲不开我这记事先招呼过的‘冷剑’。”太白金星道。</span><br><span class="line"></span><br><span class="line">    “你跟凌迟都事先发现了我，却不及反应。……我的剑并不快，因为它重。也</span><br><span class="line">因为它重，故而势不可挡.”滴血的利剑很轻很薄。</span><br><span class="line"></span><br><span class="line">    “你居然也偷袭比你弱的敌人。”凌迟道，“太白金星，你如此缺少自信？”</span><br><span class="line">他发觉了太白金星在挨近，却不及示警。那一剑的威力太大了，在十步外发动，仍</span><br><span class="line">伤了有鸟！</span><br><span class="line"></span><br><span class="line">    太白金星的剑法列“黄金榜”之“刻周求剑”天下第四，武功也在“概观论定”</span><br><span class="line">榜前十名。凌迟很清楚，纵使丁令威不受伤，己方亦只能力求保命、拔腿就跑。</span><br><span class="line"></span><br><span class="line">    太白金星的身材不高，穿红衣，不怒自威。他道：“尉迟杯，你可知五通神何</span><br><span class="line">以会瞧上这丁点货？”尉迟从未保过红货，本笔镖也不甚值钱，不过六万两现银。</span><br><span class="line"></span><br><span class="line">    “因为这批白银的货主是城隍庙、五通神。大淮扬上下都只是替徽商帮跑腿。</span><br><span class="line">为了巴结城隍庙，他们让你运来现钱。五通神再将这些钱分与绿林中的各路诸侯。</span><br><span class="line">强盗们得了甜头，自然肯为城隍庙卖命。”</span><br><span class="line"></span><br><span class="line">    “我刚由姑苏来。我在那儿杀了徽商帮帐房总管卞梁，听到了这个消息。”</span><br><span class="line"></span><br><span class="line">    尉迟感到意外，为强盗保镖！太多的现钱未免显眼，借镖局的幌子遮人耳目。</span><br><span class="line">强盗多处僻地，银票不好使，而且烫手。“徽商帮出手真阔绰，很懂得孝敬道上的</span><br><span class="line">朋友。”春节快到了。</span><br><span class="line"></span><br><span class="line">    太白金星盯着凌迟，道：“徽商帮想收买你们对付十三行、山贾会、明教，是</span><br><span class="line">么？或者，你们在胁迫他们。”</span><br><span class="line"></span><br><span class="line">    尉迟苦笑，给镖局卖了，送羊入虎口。大淮扬只需宣称货已追回，名声不减。</span><br><span class="line">各地货主闻听此事，惊叹治安恶化，少不了寻上门去。镖局生意依旧兴隆。</span><br><span class="line"></span><br><span class="line">    他走出几丈，牵马。太白金星不想出手挡他，徒增一名敌人，让凌迟有机会逃</span><br><span class="line">脱。尉迟上马。“打不过，逃。”江湖中人人都明白这个道理。尉迟虽然打架拼命，</span><br><span class="line">勇猛好强，却也不想平白送命。</span><br><span class="line"></span><br><span class="line">    凌迟脸色微变。丁令威受伤后不便奔走，只怕自己难于带他一块逃去。</span><br><span class="line"></span><br><span class="line">    以凌迟的轻功，只要丢下包袱——受伤的丁令威，只要太白金星稍一分心，逃</span><br><span class="line">命的机会还是存在的。</span><br><span class="line"></span><br><span class="line">    马走出几步。凌迟嘴唇动了动，却没有开口叫尉迟杯回身帮忙。太白金星以剑</span><br><span class="line">柱地，板着脸观察一切，似乎正宽容地等待他们交待后事。他知道以凌、丁二人之</span><br><span class="line">力无法运走镖银，待会儿会有小伙强盗赶来，却一点儿也不着急。</span><br><span class="line"></span><br><span class="line">    尉迟勒马道：“你们为何不请我帮忙？或者托我将伤者带走。”如果尉迟带丁</span><br><span class="line">令威一道走，自身可能会受连累。</span><br><span class="line"></span><br><span class="line">    丁令威笑道：“我们五通神从不求人，更不向人乞命。……凌迟，如果你现在</span><br><span class="line">拔腿就跑，他会先追你，还是先杀我？”</span><br><span class="line"></span><br><span class="line">    凌迟明白他的意思，笑道：“你想让别人看我的笑话？如果他先杀你，给我逃</span><br><span class="line">了，今后我这张脸往哪搁。……有鸟，老子今日被你害惨了。你可不能跟这酒鬼一</span><br><span class="line">道走，丢下我不管。”</span><br><span class="line"></span><br><span class="line">    丁令威更是大笑，道：“好，痛快，有种。今日咱哥俩就会会这只大红公鸡。”</span><br><span class="line"></span><br><span class="line">    两人再不瞧尉迟一眼。尉迟也笑了，翻身下马，走上前来。</span><br><span class="line"></span><br><span class="line">    丁令威脸上有惊异之色。太白金星却只淡淡说道：“很好。”四人都很清楚。</span><br><span class="line">“二迟”加上“折翅的有鸟”依旧不是太白金星的对手。尉迟只怕也难免一死。</span><br><span class="line"></span><br><span class="line">    尉迟一向认为男人就要爽，要有豪气。他胸中正澎湃着拼命的冲动。此时，他</span><br><span class="line">瞧着凌、丁二人，觉得顺眼。</span><br><span class="line"></span><br><span class="line">    直到与凌迟并肩作战时，尉迟杯才发觉太白金星武功之高实在出乎意料之外。</span><br><span class="line">显然，己方几乎没有一丝机会。但他没有后悔的念头，斗志愈发旺盛。</span><br><span class="line"></span><br><span class="line">    太白金星的剑法势大力沉，姿式曼妙，身形舒缓，好似黄钟大吕，恢宏而有神</span><br><span class="line">致。十几招下来，尉迟杯单刀已断。凌迟却在劣势中现出真正实力。他满场游走，</span><br><span class="line">正面吸引了大部分的攻击力。镖车帮了他不少忙。</span><br><span class="line"></span><br><span class="line">    太白金星道：“好教你们得知，我从小学过剑舞。因为唯美而杀人，实在有趣。”</span><br><span class="line">一辆辆镖车被利剑剥析，马匹尽为砍杀。地上，雪花银在血泊中泛光。</span><br><span class="line"></span><br><span class="line">    太白金星舞剑吟歌，迫使“二迟”近身不得。情形凶险，凌迟被削去了一截衣</span><br><span class="line">袖，“灵犀指”中的“五指山”、“食指”等等绝招已尽数使出。</span><br><span class="line"></span><br><span class="line">    丁令威提着捡来的刀加入战团，以关外“海东青刀法”凌空下击。他胸口的剑</span><br><span class="line">伤口子不大，似乎很脏，比他的脸色难看。</span><br><span class="line"></span><br><span class="line">    尉迟杯仿佛又回到了西北边防的疆场，又回到了少年时打街头烂架的时代。他</span><br><span class="line">似乎忘记了五通神是敌非友。他头脑发热。</span><br><span class="line"></span><br><span class="line">    所以，当他扬断刃杀来时，太白金星也忍不住摇头。手起剑落，寒光旋动，丁</span><br><span class="line">令威已倒地身亡。</span><br><span class="line"></span><br><span class="line">    凌迟正以一招“指天划地”欺近。他将一具死尸掷出，自己却躲在那飘散的血</span><br><span class="line">珠后面。和合二大仙各有弱点，白胖子必须“出有车”，太白金星爱洁，怕见血。</span><br><span class="line"></span><br><span class="line">    所以太白皱眉，斜斜跳开以避尸体与血水。嗜杀的他从不踏上血泊，从不碰死</span><br><span class="line">人，从不与旁人肢体接触。</span><br><span class="line"></span><br><span class="line">    凌迟脚挑银子作为暗器，道：“尉迟杯，咱俩实在划不来死在一块。……这样</span><br><span class="line">吧，你先挡着，我往外逃。”闪身跳出圈外。</span><br><span class="line"></span><br><span class="line">    太白金星提剑追凌迟。凌迟也不回头，不躲不闪不挡刺来的长剑。他的话语，</span><br><span class="line">听起来象是要出卖尉迟，实际上却是怕尉迟不肯逃命而是使出的变通法子。否则他</span><br><span class="line">不必先出言打招呼。</span><br><span class="line"></span><br><span class="line">    凌迟抽身跳出战团后，只要太白金星前去追杀，尉迟杯便有了逃生良机。</span><br><span class="line"></span><br><span class="line">    尉迟明白。他受不了这个！</span><br><span class="line"></span><br><span class="line">    他深吸一口气，奔向太白金星。他曾在大街上练拳卖药，故而爱好喝叫。此刻</span><br><span class="line">他很兴奋，每一刀都伴着一声“押——嗨”，居然还有回音余韵。他的刀法需要使</span><br><span class="line">出性子，往死里猛抡猛杀。</span><br><span class="line"></span><br><span class="line">    凌迟故意弄破指头，将血滴弹出。太白金星一时之间也奈何不了他，剑舞的节</span><br><span class="line">拍慢下。但凌迟决心拼命了，尉迟杯看到了拼命的机会了。他不相信对手的强大，</span><br><span class="line">他要——“横刀夺爱”！</span><br><span class="line"></span><br><span class="line">    凌迟临死前使出“指鹿为马”，幻化出最有力的“拇指”。尉迟手捂左肋，喷</span><br><span class="line">血大叫，一招“孟德捉刀”反客为主，在血雾中将断刃插入太白金星的身体。</span><br><span class="line"></span><br><span class="line">    太白金星掏出手帕抹去脸上鲜血，再将它扔在地上。他看着自己胸口的两处剧</span><br><span class="line">创，仰天长啸道：“夫抚剑疾视曰：彼恶敢当我哉！彼恶敢当我……。”声音微弱</span><br><span class="line">了。</span><br><span class="line"></span><br><span class="line">    他喘口气，道：“这是我平生第三次失败。……其实我没有洁癖，只是我不相</span><br><span class="line">信你们杀得了我。”他一屁股坐在血迹上。</span><br><span class="line"></span><br><span class="line">    凌迟望着尉迟杯，说不出话来。尉迟杯的神情便如喝醉了酒。他靠在镖车上，</span><br><span class="line">捂着伤口，冲着凌迟笑。</span><br><span class="line"></span><br><span class="line">    太白金星与凌迟皆已合眼。“他料不到咱俩会同时寻死。”凌迟喉间令剑锋逗</span><br><span class="line">留的一瞬间，足以让尉迟挨近太白金星。“他想不到我尉迟有九命，小时八岁便已</span><br><span class="line">知晓自个长了颗歪心。他无法将我一招毙命。”尉迟身上的血不再象小河一样哗哗</span><br><span class="line">地流。如果他有力气进一步止血，如果有人替他放上金创药，如果……，他命不该</span><br><span class="line">绝？</span><br><span class="line"></span><br><span class="line">    不远处有脚步声，一群强盗要来运走一车车的镖银。他们见到了尸体与鲜血点</span><br><span class="line">缀下的雪花银，见到了重伤的尉迟杯。尉迟双眼瞪天，心中失望之至，这班匪徒会</span><br><span class="line">救我么？</span><br><span class="line"></span><br><span class="line">    他说不出话来，握刀之手已无力，眼皮下垂。</span><br><span class="line"></span><br><span class="line">    这当儿，早已“死去”的凌迟突然睁眼，抓了一强盗的衣角，指着尉迟杯，吐</span><br><span class="line">出三个字：“救他，……救……。”微弱的声音断了，他垂头死去。</span><br><span class="line"></span><br><span class="line">    凌迟受伤极重，喉咙被利剑洞穿，却念着这事，强聚了一口气。那三个字是他</span><br><span class="line">回光返照的遗言。</span><br><span class="line"></span><br><span class="line">    乱石岗松涛阵阵。红白之物摊在地上，远处有马儿长嘶之声。</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> 第九章 功名不信由天</span><br><span class="line"></span><br><span class="line">    为造化的游戏，生命必须有一个神圣的肯定，于是精神意愿自己的意志，失去</span><br><span class="line">世界者复得自己的世界。</span><br><span class="line"></span><br><span class="line">                                                                ——尼采</span><br><span class="line"></span><br><span class="line">                               一、 幸会</span><br><span class="line"></span><br><span class="line">    沈魂发现光阴箭并未在体内等待自己的反应：吃惊、后悔、疼痛，再而失去知</span><br><span class="line">觉。那根细圆管仍然对着自己，十几步的光阴，走了这么久？他额头出汗。相距太</span><br><span class="line">近，方才又毫无防备，纵使是武林中数一数二的绝顶高手，亦没有多大把握躲开它。</span><br><span class="line"></span><br><span class="line">    这便是死神之独眼罢！</span><br><span class="line"></span><br><span class="line">    周乐道：“沈魂，你抓住我后，未下杀手。所以我还你个人情。”他转身走出，</span><br><span class="line">又道：“你们怎么都赶来了？”冉苒的软轿后面不远处，一团树荫下，几叠山石，</span><br><span class="line">三个长衫少年。</span><br><span class="line"></span><br><span class="line">    谢清发眯着眼，笑道：“我们都来晚了，好戏已经谢幕。恭喜你，大周正乐。”</span><br><span class="line">恭喜周乐打回武当，技压同门。他们三人由江南赶来助拳，却不料周乐居然完胜。</span><br><span class="line"></span><br><span class="line">    独孤寒盯着沈魂，肃穆冷静。聪明的岑寂点头微笑，内心却在盘算当前形势。</span><br><span class="line">己方不怕沈魂反扑。他很爱惜面子，不至于恼羞成怒，揭破冉苒的底细。武当派敌</span><br><span class="line">意未减。但有光阴箭在手，足于威慑武当。更何况，冷川对周乐颇具善意。</span><br><span class="line"></span><br><span class="line">    冷川在与冷洋交谈。冷溪皱眉，瘦长枯干的苦瓜脸上阡陌纵横。他只低声道：</span><br><span class="line">“大敌当前，周乐之事暂且放在一边。”</span><br><span class="line"></span><br><span class="line">    沈魂神色逐渐正常，笑道：“周乐，你倒是很会故作大方。其实我有机会躲过</span><br><span class="line">光阴箭。……待我击败郑中孚，了却心愿后，再来领教天工与鬼工的绝世之作。”</span><br><span class="line">他想下山了，因为武当派已折在周乐手中，他再出手，意味不大，提不起兴致。不</span><br><span class="line">如将场面留与周乐去收拾。失去了共同的敌人，武当派才有可能围攻周乐。</span><br><span class="line"></span><br><span class="line">    沈魂低估了周乐。他的主角之位给周乐篡夺了。</span><br><span class="line"></span><br><span class="line">    人群中欢呼声雷动，眼睛都望向了同一个人。沈魂冷笑不止。十三行领袖、无</span><br><span class="line">不居掌门，“风行泽上，无所不闻；信之被物，无所不至”，左玉皇武圣人，“五</span><br><span class="line">言长城、七绝圣手”——郑中孚郑大侠，抱病到武当山来了。</span><br><span class="line"></span><br><span class="line">    郑中孚神色轻松，看不出有伤。他先吊唁了冷苔道长的灵位，然后对冷洋说，</span><br><span class="line">周乐是无辜的，杀人凶手乃是和合二大仙之白胖子。后来白胖子也死在了周乐手中。</span><br><span class="line">他特地赶来说明真相，以免误会。他还说，想与鬼帝沈魂再次较量武功。</span><br><span class="line"></span><br><span class="line">    郑中孚朗声道：“我的伤已不碍事。”</span><br><span class="line"></span><br><span class="line">    谁都想不到周乐有能力杀死白胖子，但谁都不会怀疑郑中孚的话。所以，有人</span><br><span class="line">过来向周乐致歉。周乐由叛徒摇身变成英雄。但他反而因此沉默，远远地与沈魂对</span><br><span class="line">视。</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    “他帮我洗脱罪名，对我赞赏有加。今后，我好意思说他坏话么？即便说了，</span><br><span class="line">会有人相信这忘恩负义、以怨报德的小人周乐么？……假使有一两个人相信了，他</span><br><span class="line">们也会如此想：郑中孚保你是好人，你又说郑是坏人，那么郑保你的话可信么？你</span><br><span class="line">会不会真的杀了武当派九名弟子。”周乐低声道。</span><br><span class="line"></span><br><span class="line">    小谢道：“问题在于，我们不知道该不该揭露他的真面目。纵使他暗中组织了</span><br><span class="line">‘帝虎’，有一统江湖的野心，似乎也说不上是大过失。更何况有了‘帝虎’组织，</span><br><span class="line">正可牵制城隍庙的力量。”</span><br><span class="line"></span><br><span class="line">    岑寂很干脆：“不上劝进表，不能不当‘清流’。咱们应该着手调查，揭他的</span><br><span class="line">老底。”</span><br><span class="line"></span><br><span class="line">    “想开点，自称仁义、以正派自居的伪君子我见多了。他们其实也不太坏。比</span><br><span class="line">如王堂……。脸皮太厚之人更令人讨厌。……哦，周乐，孤寒将哭夜郎杀了。”</span><br><span class="line"></span><br><span class="line">    周乐听他们谈话，不时看看软轿帘子。</span><br><span class="line"></span><br><span class="line">    独孤寒与施湛露去了施家在乡下的老宅。如果不是哭夜郎的到来，生活宁静、</span><br><span class="line">温馨。每天劳作、谈天、散步、爬山，养花养草，看鸡看鸭，一块儿下厨做饭炒菜。</span><br><span class="line">身边总有令人高兴的新鲜事儿。天气冷了，两人却如沐春风，孩童般地数着距离春</span><br><span class="line">节的日子。一切如此美好，如果没有哭夜郎的到来。</span><br><span class="line"></span><br><span class="line">    独孤寒认为自己的武功落下了许多，当他面对着五通神中武功最高的哭夜郎时。</span><br><span class="line">哭夜郎大大方方地登门拜访，不失礼数。寒暄之后，即要求与他比武。</span><br><span class="line"></span><br><span class="line">    哭夜郎曾化名疯子白痴，意为武疯武痴，四处寻人打架，在少林寺前大肆撒野。</span><br><span class="line">可以说，在当今武林，知道疯子的人比听说过哭夜郎的人还多。他行为古怪，不时</span><br><span class="line">故意招惹比自己武功高的人，如少林“尘”字辈高僧。</span><br><span class="line"></span><br><span class="line">    施湛露帮孤寒找来长剑。两个男人走到野外。她倚门目送丈夫远去。她自以为</span><br><span class="line">非常宽心，却害怕会碍丈夫手脚，令他分神。</span><br><span class="line"></span><br><span class="line">    哭夜郎空手，道：“你内心中不愿与我过招。”</span><br><span class="line"></span><br><span class="line">    独孤寒点头。“你已尽失锐气，武功退步不少，害怕失手。”哭夜郎在摇头。</span><br><span class="line"></span><br><span class="line">    独孤寒内力犹在，剑术也未生疏。“你很奇怪我能找到这儿来吧？城隍庙的势</span><br><span class="line">力无孔不入。”</span><br><span class="line"></span><br><span class="line">    独孤寒立马想：会不会在耍调虎离山之计，湛露……！他声音微变，道：“你，</span><br><span class="line">就你一人来么？”</span><br><span class="line"></span><br><span class="line">    哭夜郎很有风度地点头，道：“尚未婚娶，自然无伴。”独孤寒已飞奔而去。</span><br><span class="line">哭夜郎追上，道：“且慢。”孤寒住步。“你害怕与我过招？”孤寒哭笑不得，转</span><br><span class="line">身迈步，穿过树林，远远地见到施湛露站在门边翘首等候，这才放心回头。</span><br><span class="line"></span><br><span class="line">    哭夜郎笑道：“原来你在担心尊夫人。哈，你把我当成什么人了。我要伤她，</span><br><span class="line">机会多得是。你总不可能与她寸步不离吧。”</span><br><span class="line"></span><br><span class="line">    哭夜郎的武功很疯狂，诡异，口中怪叫如鬼哭狼嚎。独孤寒只是防守。他不料</span><br><span class="line">哭夜郎竟敢抱头撞来，前胸尽是空门，却刺不出致命一剑。此时他的心境认为杀人</span><br><span class="line">不妥，也不想落得两败俱伤的下场。他后退，封剑。</span><br><span class="line"></span><br><span class="line">    哭夜郎立马趋近，手臂碰到剑锋，衣裳浸血。他好象已经发疯，无法以常理度</span><br><span class="line">之。独孤寒觉得不该与他一般见识，内心中居然有些害怕。这会儿，他哪里是在防</span><br><span class="line">守，完全是在退让。</span><br><span class="line"></span><br><span class="line">    他不再是往日醉心剑道的无名少年了。他仅认为“应该胜”，而不是“可以胜”。</span><br><span class="line">独孤寒心里想了许多，老觉得不在状态。</span><br><span class="line"></span><br><span class="line">    哭夜郎不仅在拼命，而且在送命。他只顾打自己的，却让人瞧不出招式。也许</span><br><span class="line">他真的疯了，宛如巫师、神汉，在颠狂中获得通灵的力量。激斗中，哭夜郎突然一</span><br><span class="line">个急冲。独孤寒挪身滑步，挽起几个剑花。“砰”一声，他摔在地上，长剑脱手。</span><br><span class="line">哭夜郎含笑道：“你败了。”孤寒挣扎着站起。施湛露惊叫，朝这边跑来。</span><br><span class="line"></span><br><span class="line">    “以前你不是这样的。负了重伤，仍可战胜卞梁。当时我都傻眼了。……你心</span><br><span class="line">中牵挂着她，出剑不是很专心。”获胜的哭夜郎已不再疯狂，脸上是冷静的智慧。</span><br><span class="line"></span><br><span class="line">    孤寒嘴角渗出血来。哭夜郎不敢背朝着他，不敢冒进，还是很担心那天下第一</span><br><span class="line">的防守功夫。施湛露奔近了。</span><br><span class="line"></span><br><span class="line">    孤寒俯身拾剑。哭夜郎上步推掌，飞脚踢出，跟着却哀嚎、捂胸、瞪眼。“你、</span><br><span class="line">你……。”</span><br><span class="line"></span><br><span class="line">    “我败了，但有能力杀你。”孤寒沉声道，“……是你逼我的。”正所谓，水</span><br><span class="line">可载舟亦可覆舟，为了湛露，孤寒无法再做到“外物非所虞”，却也可以为了保护</span><br><span class="line">所爱的人将生命潜力瞬间爆发。</span><br><span class="line"></span><br><span class="line">    疯子快断气了。“痊愈”的疯子很冷静，但也最脆弱。当他不疯不狂时，也就</span><br><span class="line">不在最佳状态。</span><br><span class="line"></span><br><span class="line">                              二、舍我其谁</span><br><span class="line"></span><br><span class="line">    “周乐，咱俩切磋武功的日子几次延期，如今是时候了。”孤寒微笑道。</span><br><span class="line"></span><br><span class="line">    周乐道：“郑中孚与沈魂明日比试。也许今晚你去找沈魂更合适。”</span><br><span class="line"></span><br><span class="line">    见到鬼帝一面的机会非常难得。曹之其、冷苔先后死去，如今沈魂是天下第一</span><br><span class="line">剑。</span><br><span class="line"></span><br><span class="line">    岑寂道：“正是。如果沈魂败给郑中孚，他必会再次退隐。”</span><br><span class="line"></span><br><span class="line">    周乐道：“为了力量均衡，制约帝虎，沈魂不能败。我不担心他与你比剑后，</span><br><span class="line">内力减退。相反，他会因而热身，调整到最好的状态。”</span><br><span class="line"></span><br><span class="line">    今日，武当山上非常热闹。周乐等人远离人群。郑中孚正享受着优厚的招待。</span><br><span class="line">“下笑世上士”的沈魂孤身一人。岑寂有些佩服他。与人民为敌，这需要多大的勇</span><br><span class="line">气啊。</span><br><span class="line"></span><br><span class="line">    他更是艳羡周乐，虽然冉苒已先期下山。连谢清发亦是一脸喜气。小谢已跟王</span><br><span class="line">贞吉订婚，不日成亲。只剩下岑寂一人前途茫茫。春节前，他得回家，崔九家的小</span><br><span class="line">姐要出阁了。</span><br><span class="line"></span><br><span class="line">    岑寂在杭城书画界有了些许名气后，大讲“变法求新”，首倡“文人画”，推</span><br><span class="line">崇“背叛古人， 师法自然” ，被多数画匠视为怪物，大力排斥。岑寂治一印，曰</span><br><span class="line">“离经叛道者，狂妄自大人”。</span><br><span class="line"></span><br><span class="line">    他觉得武林中较为公允。谁胜谁负，清清楚楚。你说你强，那好，以性命做为</span><br><span class="line">赌注，咱们刀剑拳脚上见功夫。固步自封，倚老卖老，当然只有死路一条。在画坛，</span><br><span class="line">却非如此。名气比实力更重要。文人相轻，死后成名，自古如此。</span><br><span class="line"></span><br><span class="line">    “纵能娶她为妻，我亦无法想象与她婚后的生活。也许根本就无法相处，还得</span><br><span class="line">再分手。因为我很可能是个毫无情趣的丈夫。”岑寂想。</span><br><span class="line"></span><br><span class="line">    “我蔑视天下，却渴望被人认可。我需要一个情人，愿意为她献身。然而，在</span><br><span class="line">确认了人选之后，我又疑虑重重。我宁可避免失去，也不愿追求得到？”不安份的</span><br><span class="line">人是痛苦的。</span><br><span class="line"></span><br><span class="line">    “人生原本空幻，名利于我如浮云，情人也只在我虚拟的梦中。那么，我为何</span><br><span class="line">抗争，为何自我折磨？——人生的真谛在于放肆的悲壮，在于克制的潇洒，在于对</span><br><span class="line">自我、对生命的肯定。”</span><br><span class="line"></span><br><span class="line">    沈魂来了。入夜，他主动找到周乐等人，道：“你们想见我？我知道你们在想</span><br><span class="line">些什么……。我被他们视作败类，冉教主则归入异类，你们四人可算是另类。总之，</span><br><span class="line">咱们都不是名门正派，都厌恶那帮人刻板、势利、伪善、做作的嘴脸。”</span><br><span class="line"></span><br><span class="line">    “老实说，我也烦帮会教派里的生活。但放眼天下，能把黑道组织起来成立城</span><br><span class="line">隍庙称雄武林的人，舍我其谁？”沈魂道，“目前城隍庙吞不下十三行。但明日比</span><br><span class="line">试，我却有绝对把握。”</span><br><span class="line"></span><br><span class="line">    周乐等人略为动容。</span><br><span class="line"></span><br><span class="line">    “你们打算帮我，能帮我什么呢？……笑话！我不需要任何人帮忙。郑中孚不</span><br><span class="line">是我的对手。”周乐等人神情尴尬。</span><br><span class="line"></span><br><span class="line">    沈魂负手望天，道：“大家都是聪明人，所以都喜欢自以为是。我不爱听别人</span><br><span class="line">的教训。什么‘非危不战’、‘兵者，以恬淡为上’都是屁话。老子更是胡说八道，</span><br><span class="line">‘祸莫大于轻敌，……故抗兵相加，哀者胜矣’。我就不信这个邪。”</span><br><span class="line"></span><br><span class="line">    “也许我跟你们讲了这么多话，恰恰说明我状态不佳、信心不足。也许，不吐</span><br><span class="line">不快，我已来了激情。晚上，我会兴奋得彻底失眠。”</span><br><span class="line"></span><br><span class="line">    独孤寒发觉自己说不出话来，失去了比剑的兴致。他有斗志，并未畏缩。只是</span><br><span class="line">他在想，应该等到沈魂击败郑中孚后。</span><br><span class="line"></span><br><span class="line">    直觉告诉岑寂，胸有成竹的沈魂必胜郑中孚。沈魂需要大量敌对的观众，需要</span><br><span class="line">武当山这个竞技场。对于他这种狂妄放诞之人，压力便是动力。</span><br><span class="line"></span><br><span class="line">    谢清发也道：“我不会未卜先知。但我不用等到明日便已知道比试结果。方才</span><br><span class="line">我一见他的神情，便感受到剑当百万师的豪气。”</span><br><span class="line"></span><br><span class="line">    “他令我产生不观看明日比试的念头。”失去了胜负的悬念，小谢同情郑中孚，</span><br><span class="line">不想看到沈魂得意的样子。</span><br><span class="line"></span><br><span class="line">    “正是，咱们明日都不要观战，现在下山。”周乐道。天下数一数二的绝顶高</span><br><span class="line">手过招，一决雌雄。这可是桩武林盛事，难得一见。习武之人无不渴望着有此眼福。</span><br><span class="line"></span><br><span class="line">    “咱们下山后，掩袭‘帝虎’爪牙，有出其不意的效果。也许，可以抓到几个</span><br><span class="line">活口，探听到一些‘帝虎’组织的秘密。”为了在外围对付城隍庙，郑中孚肯定在</span><br><span class="line">山下安排了不少“帝虎”成员。它们埋伏在暗中，必要时跳出来攻击。其中想必就</span><br><span class="line">有十三异兽。</span><br><span class="line"></span><br><span class="line">    郑中孚必定想过自己战败的结果。他有伤在身，主动到武当应战，自然不惧声</span><br><span class="line">名受损。他落败之时，人们夸大了来自沈魂与城隍庙的威胁，担忧加剧。这非常有</span><br><span class="line">利于他高举正义大旗，联合白道各方力量，一呼天下应，共同对抗城隍庙。</span><br><span class="line"></span><br><span class="line">    周乐道：“这些年来，沈魂一心要胜过郑中孚，较少心理上的包袱。我敢说，</span><br><span class="line">上回沈魂落败，主要原因是他不肯持剑对付空手的郑中孚。明天，他会使‘大道天</span><br><span class="line">遁剑法’。”</span><br><span class="line"></span><br><span class="line">    相传由仙道吕洞宾创下的“大道天遁剑法”！</span><br><span class="line"></span><br><span class="line">    “郑中孚做人上下其手，武功上却不可能藏一手。纵使有，也起不到奇兵突出、</span><br><span class="line">力挽狂澜的效果。那七式‘七绝圣手’无法再令处于巅峰状态、无惧无忧的沈魂上</span><br><span class="line">当了。”</span><br><span class="line"></span><br><span class="line">    沈魂是天下有数的鬼才。早年他的武功带有妖气，玄妙古怪。后年据说又有长</span><br><span class="line">进，超越了大罗金仙，令评者无所适从，只有叹为观止的份儿。人们已不懂他的武</span><br><span class="line">学。</span><br><span class="line"></span><br><span class="line">    郑中孚不长于使剑，沈魂的剑法天下第一。大道天遁剑法相传为八仙中的吕洞</span><br><span class="line">宾所创，招式不为人知，极是神秘，据说全无章法。</span><br><span class="line"></span><br><span class="line">    岑寂突然说道：“沈魂由佛门出身，再而修道。郑中孚以鸿儒自许，骨子里尊</span><br><span class="line">法家。他们两人文化背景各异，代表着不同阶层。这一战当真是意味深远。”</span><br><span class="line"></span><br><span class="line">    沈、郑均对现实不满，分别是市井与士大夫中的叛逆。所以，如若郑中孚败了，</span><br><span class="line">便可认为是世俗社会的胜利？城隍庙主要由城市流氓无产阶级组成。帝虎志向远大，</span><br><span class="line">企图推翻现政府。</span><br><span class="line"></span><br><span class="line">    岑寂又道：“七绝圣手分别是拿云手、传杯手、经纶手、红酥手、小梅花缚虎</span><br><span class="line">手、推手含情还却手、心应手。乍一看便知郑中孚以士子自居，有文人味，很熟悉</span><br><span class="line">历代诗词。周乐，你知道大道天遁剑法的招式名称么？我估计它们也是沈魂自个想</span><br><span class="line">出来的。”</span><br><span class="line"></span><br><span class="line">    “大道天遁剑法共六式，我也从未见过。第一式，圣人抱一为天下。第二式，</span><br><span class="line">果为洪炉大冶何患顽金纯铁不可陶熔；果为巨海长江何患横流污渎不能容纳。第三</span><br><span class="line">式，不动声色而措天下于泰山之安。第四式，夫唯不争者而莫能与之争。第五式，</span><br><span class="line">天下英雄本无主。第六式，涵融万有而天和。”周乐道。</span><br><span class="line"></span><br><span class="line">    “这些剑招的名称都较为古怪，气势恢宏，有黄钟、大吕、弦歌、干扬的味道，</span><br><span class="line">隐约有些老庄与魏晋新道家的影子。”周乐道，“偶尔念念几句话，可令人精神一</span><br><span class="line">长。”</span><br><span class="line"></span><br><span class="line">    “从沈魂自创的剑法招式名称，可看出他这个人很矛盾。——事实上，我们个</span><br><span class="line">个都有些人格分裂。在沈魂身上，矛盾更为激化。他反复无常、躁动不安、渴望渲</span><br><span class="line">泄，富于创造力，追求个性的张扬。所以，哀老、僵化、呆滞、保守的郑中孚必败</span><br><span class="line">无疑。”</span><br><span class="line"></span><br><span class="line">    岑寂等人下山。冬季的黑夜有些冷，静极。下山令人有收不住脚的冲动，使命</span><br><span class="line">感在升华。</span><br><span class="line"></span><br><span class="line">                          三、乐者，天地之和也</span><br><span class="line"></span><br><span class="line">    “乐者，心之动也。”周乐着实动心了。他终究没有加入明教。冉苒仍然当她</span><br><span class="line">的明教教主。两人见面的机会依然不多。周乐起了归隐的念头。——在医林之畔开</span><br><span class="line">家饭店客栈，生意想必不错，因为医林不让健者留宿。</span><br><span class="line"></span><br><span class="line">    岑寂急着赶回家过年，看望父母兄弟。他上崔府跟姨父姨妈辞别，顺便归还几</span><br><span class="line">本书，收拾一些旧画作。藏书楼里非常空寂，只有日光透窗铺地。岑寂有个毛病，</span><br><span class="line">见到书册典集便得抽出来翻翻，逗留多时，流连忘返。待他惊觉有人拾阶，抬头见</span><br><span class="line">着又是杜蘅。</span><br><span class="line"></span><br><span class="line">    杜蘅冲他做了个鬼脸，将手中的小册子放好，转身欲走。岑寂道：“你不想找</span><br><span class="line">本书带回么？”这话问得冒昧，他的脸发烧。</span><br><span class="line"></span><br><span class="line">    “快过年了，小姐没功夫读书了。”待她下楼，岑寂看清她所还的书居然是唐</span><br><span class="line">代诗人李义山的诗集。他忍不住抽出诗集，打开，一眼看到那首传诵极广的七言律</span><br><span class="line">诗《锦瑟》。“此情可待成追忆，只是当时已惘然。”似乎有种别样的幽香，岑寂</span><br><span class="line">竟已痴了。</span><br><span class="line"></span><br><span class="line">    李义山的七律水平很高。其中有不少无题诗较为隐晦，似是描写闺情。虽说岑</span><br><span class="line">寂自小便已熟读吟背，此时直有触目惊心的感觉。他一路翻下。“身无彩凤双飞翼，</span><br><span class="line">心有灵犀一点通”。“贾氏窥帘韩椽少，宓妃留枕魏王才。春心莫共花争发，一寸</span><br><span class="line">相思一寸灰”。“神女生涯原是梦，小姑居处本无郎”。</span><br><span class="line"></span><br><span class="line">    待看到“直道相思了无益，未妨惆怅是清狂”时，岑寂捧书呆立，心中只剩了</span><br><span class="line">几个偏执的念头：她为什么偏爱李义山的七律，难道她亦在为情所苦，她在思念哪</span><br><span class="line">位幸运的男子？他寻不见夹过书签及笔墨批注的痕迹。也许自己太过敏了，她不一</span><br><span class="line">定另有深意。他深知自己一向耽于幻想。</span><br><span class="line"></span><br><span class="line">    他傻劲上来，想由书页上寻觅渗开的泪珠。他闭眼，仿佛看到一个遥远而模糊、</span><br><span class="line">青春可爱却又思虑重重的女孩。她白玉般秀气的手指轻拈书页。香气弥漫的闺房中，</span><br><span class="line">有两点流光溢彩的晶莹在眼波里，在书册上，在律诗的韵脚之外。</span><br><span class="line"></span><br><span class="line">    岑寂出崔府门，这才想起将旧日画作落在书楼了。失魂落魄的他脑海中一片混</span><br><span class="line">乱。——他隐约觉得自己还掉了些什么。他没有回头捡画，也许杜蘅有机会见到它</span><br><span class="line">们。</span><br><span class="line"></span><br><span class="line">    金陵来信。纸上仅有几个龙飞凤舞的大字。“我老婆变心了啦！我闭门不出。”</span><br><span class="line">周乐吓了一大跳。小谢刚与王贞吉新婚不久，难道会这么快地出现裂痕？夫妻不和</span><br><span class="line">乃是常事。王贞吉读书多，有主见；小谢心直口快，风流放诞，一静一动，性格相</span><br><span class="line">差颇大。更何况，他俩成亲完全是为了应付差使，没有多少感情基础。王贞吉瞧不</span><br><span class="line">上小谢，小谢亦有些厌烦她。</span><br><span class="line"></span><br><span class="line">    但是，无论怎样，王贞吉也不该立马变心呀。她自觉误上贼船，小谢比她想象</span><br><span class="line">中还坏，想回姑苏老家？小谢为何要闭门不出？依他脾气，应该离家出走才是。</span><br><span class="line"></span><br><span class="line">    次日，谢清发又托人带来一信。“周乐，‘乐著太始’，‘大乐与天地同和’，</span><br><span class="line">‘乐者，天地之和也’，你明白它们的意思么？另，何谓周公之礼，典出何处？”</span><br><span class="line"></span><br><span class="line">    “近来，我若有所悟。老祖宗的话就这几句有些道理。”</span><br><span class="line"></span><br><span class="line">    “王贞吉确实变心了。婚后，小两口天天在一块儿，居然相处不错。她挖掘出</span><br><span class="line">我的好处，居然开始喜欢上我这浪子了。以前，她说她要与我当对挂名夫妻，互不</span><br><span class="line">干涉，不通声气。如今，嘿，她言而无信……。”“她说她命苦，跟了小谢我，也</span><br><span class="line">只好认了。我们如胶似漆。喂，周乐，什么时候喝你的喜酒？”</span><br><span class="line"></span><br><span class="line">    “如今我滴酒不沾，她甚至不让我出门。所以只好冷落老朋友了。当然，我心</span><br><span class="line">里不太情愿，总以为是在消磨志气。不过，哄哄老婆，也只得如此。”</span><br><span class="line"></span><br><span class="line">    “我喜欢过不少女人。只要漂亮些，可爱些，见一个，爱一个。当时我想，他</span><br><span class="line">们选中王贞吉当我妻子，我偏偏不要。哪知，如今我竟会与她如此亲近。这种感觉</span><br><span class="line">太强烈了。睡在一块，吃在一块，玩在一块，在别人口中也牵在一块。她说她感到</span><br><span class="line">我的脾气出乎意料的好，才情还过得去。有人说，不奸不坏，女人不爱，实在有道</span><br><span class="line">理。我被她一捧，又喜欢她既慧且美，自然便缴械投降。”</span><br><span class="line"></span><br><span class="line">    “也许，她命中注定是我的冤家。”周乐与冉苒看到此处，忍不住相视一笑，</span><br><span class="line">心里洋溢着幸福。</span><br><span class="line"></span><br><span class="line">    两人迫不及待地往下看。“所以你该明白我为什么会说我若有所悟了吧？‘乐</span><br><span class="line">著太始’，太始时是指婴儿出生或珠胎暗种。‘大乐与天地同和’，天地为乾坤，</span><br><span class="line">为男女阴阳。家和万事兴，夫妻恩爱则是人间至乐。”</span><br><span class="line"></span><br><span class="line">    “冉小姐，你想必也已明白。”冉苒俏脸晕红。谢清发居然料到她正与周乐在</span><br><span class="line">一块。</span><br><span class="line"></span><br><span class="line">                          四、 吾之同道三五子</span><br><span class="line"></span><br><span class="line">    周乐、岑寂、独孤寒、谢清发又已聚在一块。武当一战，四人下山后，借对付</span><br><span class="line">“城隍庙”的名义，突袭躲在暗处的帝虎，大有斩获。此役完胜，四人名扬天下。</span><br><span class="line">开始有人称他们作“客家、新游侠、不伦不类”，认为这是江湖中新崛起的力量。</span><br><span class="line"></span><br><span class="line">    岑寂干杯后，道：“吾之同道，三五子足矣。你们三人，加上尉迟、我正好五</span><br><span class="line">人，再加上古董、胡不归、姜太公、董大……。对了，有些时日没见着尉迟杯，这</span><br><span class="line">小子躲到哪里了？”他有些醉了。</span><br><span class="line"></span><br><span class="line">    “如果与几个好朋友一道出去护镖，旅途不觉寂寞劳累，一路欢歌笑语，倒也</span><br><span class="line">好玩。……咱们开家镖局，如何？”只是，谢清发与独孤寒已有家室。好朋友也没</span><br><span class="line">法天天见面。</span><br><span class="line"></span><br><span class="line">    物以类聚，人以群居。松散的联系，宽泛的理念，亦足以搞出个象样的群体。</span><br><span class="line">以孤寒之“自闭”性格，亦已为之心折。他念念不忘与周乐过招比武。他说：“周</span><br><span class="line">乐，咱俩之战，定于何时？”</span><br><span class="line"></span><br><span class="line">    周乐笑道：“终有一天你会破开‘大道天遁剑法’，击败沈魂。到那时，你高</span><br><span class="line">处不胜寒，寂寞高手苦求一败。我周乐的武功，你又早已看不上眼，所以……。”</span><br><span class="line"></span><br><span class="line">    孤寒大喜，道：“走。咱们出去。”他从小狞猎，知道应先吃肉再啃骨头。老</span><br><span class="line">实不客气地说，周乐不如沈魂多矣。</span><br><span class="line"></span><br><span class="line">    不料，周乐眼珠一转，又道：“不使剑，我不是你的对手。但我又有禁制在身。</span><br><span class="line">……希望有一天，我能持剑与你过招。”</span><br><span class="line"></span><br><span class="line">    他起身，仰头将杯中酒一干而尽，正待离座。天下第一神偷姜太公闯进门来。</span><br><span class="line">他不入座，也不抢酒喝，脸色黯然，低声道：“我在十三行得到消息，尉迟那笔镖</span><br><span class="line">出事了。镖银都被抢走，死了几个伙计。……现场有尉迟长刀刀头。他下落不明。”</span><br><span class="line"></span><br><span class="line">    连消息一向灵通的十三行也没了尉迟的消息！</span><br><span class="line"></span><br><span class="line">    大伙儿猛然间都沉默了。周乐怔怔站着。小谢手中的酒杯一歪，酒水洒了一桌。</span><br><span class="line">独孤寒松开了握剑之手。</span><br><span class="line"></span><br><span class="line">    岑寂强笑着，正待说句话，眼泪却先流了下来。</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> 补记</span><br><span class="line"></span><br><span class="line">                             一、 帝虎本纪</span><br><span class="line"></span><br><span class="line">    [本纪]中国历代帝王的传记，在纪传体史书中，因其备见一代史事概要，为全</span><br><span class="line">书纲领。</span><br><span class="line"></span><br><span class="line">    [帝虎]马总《意林》卷四引《抱朴子》：“谚云：‘书三写，鲁成鱼，帝成虎。’”</span><br><span class="line">按，今本《抱朴子·遐览》作“虚成虎”。后因称书籍传写谬误为“鲁鱼帝虎”。</span><br><span class="line"></span><br><span class="line">    我怀疑是否马总也抄错了？“鲁”和“鱼”篆文字形相似，容易写错。而“虎”</span><br><span class="line">字，从今文字形看，似乎更似“虚”字。所以这也是“鲁鱼帝虎”，马总至使学者</span><br><span class="line">讹以承讹，谬以袭谬？</span><br><span class="line"></span><br><span class="line">    本书中的“帝虎”是一个极为神秘，相当强大的组织。它的成立出于美好的愿</span><br><span class="line">望，基于善良的本心。为了达到目的，它倾向于不择手段。为了脸面，它宁可抛弃</span><br><span class="line">原则。</span><br><span class="line"></span><br><span class="line">    “帝虎”比不过“十三行”。十三行人多势众，财大气粗，在武林中享有极高</span><br><span class="line">的声望。然而只有“帝虎”配得上“本纪”。因为十三行成就不了霸业，小修小补、</span><br><span class="line">小恩小惠无济于“世”。</span><br><span class="line"></span><br><span class="line">    帝虎寄生在十三行。一唱白脸，一唱红脸。所以帝虎君临天下，不可一世。</span><br><span class="line"></span><br><span class="line">    它这个组织很怪，认真地讲只有一个成员，即其元首、领袖。手下皆只是听话</span><br><span class="line">的工具。绝对的集权独裁是君主制的特征。</span><br><span class="line"></span><br><span class="line">    [太史公曰]某大儒云：为君乃以一人奉天下，非为天下奉一人，民贵君轻。太</span><br><span class="line">史公地下有知，应曰：虽为一人奉天下，依然不当。试想，以君之轻，如何分身奉</span><br><span class="line">天下？忙得过来么？会不会反而误了众生？以民之贵，君赔得起么？凭借什么负担</span><br><span class="line">相应的责任？所以，这位老穷酸并未说到点子上啊。</span><br><span class="line"></span><br><span class="line">                             二、 武林世家</span><br><span class="line"></span><br><span class="line">    [世家]传记一体，主要叙述世袭封国的诸侯事迹。</span><br><span class="line"></span><br><span class="line">    [明教]由摩尼教发展而成的秘密宗教组织。混合有道教、佛教成份。教徒服色</span><br><span class="line">尚白，提倡素食，戒酒、裸葬；讲究团结互助，称为一家。教义认为，世界上光明</span><br><span class="line">力量必然战胜黑暗。宋时流传于江南、华东。</span><br><span class="line"></span><br><span class="line">    [城隍庙]有水之城堑为“池”，无水为“隍”。祭祀城隍爷的地方即为城隍庙。</span><br><span class="line">唐代以来，各郡县皆有。</span><br><span class="line"></span><br><span class="line">    城隍是守护城池的神。民间传说中他还有相当于县令郡守的职责，管当地鬼民。</span><br><span class="line"></span><br><span class="line">    [借刀]并非动宾结构，与“杀人”连系在一块，也是个组织。</span><br><span class="line"></span><br><span class="line">    [十三行]明未清初，广州曾有十三商行，做西洋贸易，盛极一时。</span><br><span class="line"></span><br><span class="line">    [二商、三家、四术、五大门派]略</span><br><span class="line"></span><br><span class="line">    [黑白讲]在我看来，黑白道的说法不够恰当，把“道”滥用了。“黑白讲”常</span><br><span class="line">见于闽南话，意为“胡说”。正邪“机构”可比围棋中的黑白子。物竞天择，适者</span><br><span class="line">生存。黑白皆不过保护色罢了，变色则是保护色发展的极致。</span><br><span class="line"></span><br><span class="line">                              三、 新左传</span><br><span class="line"></span><br><span class="line">    [尉迟杯]词牌名，双调一百零五字，仄韵；又一体一百零六字，平韵。</span><br><span class="line"></span><br><span class="line">    [独孤寒]独孤是复姓。孤寒，在广东话中有“清寒、节俭、较为内向”的意思。</span><br><span class="line"></span><br><span class="line">    [书剑]书、剑为古代文人随身携带之物，因以指文人生涯。向来有种观点，剑</span><br><span class="line">为士子佩带，有贵族气，刀才是普及流行的利器。古龙曾引此说。然而，在先秦，</span><br><span class="line">楚地成年男子几乎都佩剑。此后，威胁中原政权的异族几乎都不使剑。再后来，统</span><br><span class="line">治者怕人民造反，收缴民间兵器。寻常人连长刀都搞不到了。元代禁止汉人持兵械。</span><br><span class="line"></span><br><span class="line">    [新左传] 由“新左派” 来。我略知文化大革命与法国“五月风暴”的历史。</span><br><span class="line">“新左派”中不少人对文化有过贡献。</span><br><span class="line"></span><br><span class="line">    [童话]有人说武侠小说是“成人童话”。我想，这不仅指它情节离奇，武打夸</span><br><span class="line">张，想象丰富，而且因为它所提倡的“侠义精神”存世不多，无处寻觅，现代人以</span><br><span class="line">为如同花精树神一般不可信。</span><br><span class="line"></span><br><span class="line">    童话的作用之一据说是教育孩子。它们中有不少是以动物为角的，或指向未来，</span><br><span class="line">或者干脆不作时间交待。</span><br><span class="line"></span><br><span class="line">    武侠小说指向过去，一开始便不打算做为精神食粮。</span><br><span class="line"></span><br><span class="line">                               四、 八书</span><br><span class="line"></span><br><span class="line">    [八书]记制度沿革。</span><br><span class="line"></span><br><span class="line">    [盖观论定]由“盖棺论定”改来的。可望文生义。</span><br><span class="line"></span><br><span class="line">    [刻周求剑]由“刻舟求剑”改来的。“刻周”意为“详细、全面”。</span><br><span class="line"></span><br><span class="line">                               五、 十表</span><br><span class="line"></span><br><span class="line">    [十表]以通史事脉络。</span><br><span class="line"></span><br><span class="line">    为什么现代新派武侠小说的时代几乎都在唐以后，特别是宋季以后？</span><br><span class="line"></span><br><span class="line">    古龙小说不写历史，但我们亦有推定其作品时代应在宋之后的办法。</span><br><span class="line"></span><br><span class="line">    其一，唐传奇、宋话本出现，作家们可以从中获取不少素材。</span><br><span class="line"></span><br><span class="line">    其二，宋以后，文官治国。主流意识形态反对民间尚武。反者道之动也。这给</span><br><span class="line">写作留下了空间。</span><br><span class="line"></span><br><span class="line">    其三，钱票是宋以后才出现的。银票在南宋之后。庄票更是明清以后的事。只</span><br><span class="line">在那时，银两才盛行中国。</span><br><span class="line"></span><br><span class="line">    火药在小说中不时出现。它于公元七世纪发明，大概是初唐。</span><br><span class="line"></span><br><span class="line">    其四，小说人物必须走上江湖，需要商业氛围，市民社会。唐代有“旗亭酒楼，</span><br><span class="line">杨柳章台”。宋朝大城市里，“市”（即娱乐场所，交易场所）不再局限于某个区</span><br><span class="line">域，某些街道。“瓦肆”很热闹。</span><br><span class="line"></span><br><span class="line">    其五， 越到明清越好进行武功描写。少林寺建于公元495年，北魏孝文帝时。</span><br><span class="line">隋唐以后僧众习武。</span><br><span class="line"></span><br><span class="line">    武当派若曾存在，亦当不早于明季。（有人曰，历史上有两个张三丰，一个在</span><br><span class="line">宋，一个生于元末明初。据我所知，《拳经捷要》的作者是明初人物。）</span><br><span class="line"></span><br><span class="line">    武侠小说中，女子颇为开放，频频抛头露面。所以，若说发生在南宋之后，恐</span><br><span class="line">也牵强。</span><br><span class="line"></span><br><span class="line">    自然害怕真空，武侠害怕枪弹。我个人不喜欢现代背景中的武侠。</span><br><span class="line"></span><br><span class="line">                                        1997年5月2日下午写毕于人大学八楼</span><br><span class="line"></span><br><span class="line">                                         1998年7月15日改毕于福建漳州芗城</span><br><span class="line"></span><br><span class="line">                                                          陈阵（陈毅聪）</span><br><span class="line"></span><br><span class="line">                                                EMAIL：chin.chen@263.net</span><br><span class="line"></span><br><span class="line">     ******</span><br><span class="line">     风云阁</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>old time</tag>
      </tags>
  </entry>
</search>
